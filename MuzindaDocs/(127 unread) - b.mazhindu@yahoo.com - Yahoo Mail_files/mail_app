require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./config/asset_config.json":[function(require,module,exports){
module.exports={assetHost:"/public/"};
},{}],"./config/binary_assets.json":[function(require,module,exports){
module.exports={"/img/account_sources.png":"/img/account_sources_InICNZIeHeGjr_LRciiThNqpU4NEr0LGyyutQTk7qlM.png","/img/accounts.png":"/img/accounts_s23ETeafScZ6oYccZIEggu75OTS_Bm6qvJSaqucuIrM.png","/img/banner_bg.jpg":"/img/banner_bg_1BrbO1OZZZk003OVCMDNIjd4K5RerViUUTtv2PidecI.jpg","/img/browser_icons.png":"/img/browser_icons_JGlKq6fqVFehBFrii4ajqMeuZ0jWogFh4hPxA3jWQks.png","/img/compose_thumbnail.png":"/img/compose_thumbnail_FZMKpABuOcSvFd8v3vK8722hIVChLJi6J2cdPKkFV68.png","/img/coupon_clipper_onboarding.png":"/img/coupon_clipper_onboarding_LwTK8bs-Ec5xNZleiJZnap5K3jUzsnJijXD93hfhTas.png","/img/email_organize.jpg":"/img/email_organize_FU8SrIiyhRIrjgQtduldVFiN7pg_MihIwMo3w_IGIF0.jpg","/img/emoji_cue_bg.png":"/img/emoji_cue_bg_LtVaR-59Xn6EB3q9tfF0atMObRwl5coqDd2v709xxfE.png","/img/favicon.ico":"/img/favicon_LFWFGUw4cMt2cbVGy0T6xBqoJ4BBr2VKY56xSLK4IX0.ico","/img/fbbot_cue.png":"/img/fbbot_cue_Dvznpoeq7vXwmgE6NQ3pX6bQpbPxn4Ifv9SLyhnT_3I.png","/img/filters.png":"/img/filters_0u6CYHHJmwnZMIQx9NoiHc3vxErAuFClP76R9_qyo-U.png","/img/gemini_pencil_play.png":"/img/gemini_pencil_play_UP73rL08R5TD8Z3Yu_ZEdX8M4shWBtjbS9PGaIeVRsQ.png","/img/icon_alert.png":"/img/icon_alert_E5klZRTEMRkrdl0A7toExqAV0iFqtCjfkjGV6L4TjyU.png","/img/imapin_providers.png":"/img/imapin_providers_MPg5bCUtIAWVjxNS9KtTmO1AdJQcaggezCx7btcX7-w.png","/img/logo_yahoo_192x192.png":"/img/logo_yahoo_192x192_Qm1SBjPquUd2X7JMNVY29FMH6UadxDFn3eHnReNzvAg.png","/img/logo_yahoo.png":"/img/logo_yahoo_AJRB1GXcHOIDKrn0wtXWBOnMGsi2ZX7BNupiOyABDvc.png","/img/mail_onboarding.jpg":"/img/mail_onboarding_uVKc-UitLLRlshdCCF0lO3FXl8NnS3mL4Lbg9NZ1fQU.jpg","/img/mail_pro_badge.png":"/img/mail_pro_badge_VhW3_TIG1gZ-PB9Y0Osajg5IgKOqvHy13GF4qmaKyQE.png","/img/mail_pro_nomoreads.png":"/img/mail_pro_nomoreads_eXP7lfEPgcPOCYunSnHkorcyL3q5xrt9tuXwvF-pDgg.png","/img/mail_pro_support.png":"/img/mail_pro_support_DfV6Ck_jjMAJe6KVK6HyYcGUCZKJTa7LAkQR6oHq5TU.png","/img/notification.gif":"/img/notification_pOWVzY321boQcw4nzccTe8RXo__CPkQ-ZsoZT1ENSmc.gif","/img/onboarding_cue_imap_2x.png":"/img/onboarding_cue_imap_2x_2G6BRLkapkmI7oQqDHPFWdgV1B6l1eMMhrYHgtsvMjQ.png","/img/onboarding_cue_imap.png":"/img/onboarding_cue_imap_e74ef96YCOHMGQ9xsSYVqYmIJVViWIHEVyd5Op_iEMA.png","/img/onboarding_cue_notification_2x.png":"/img/onboarding_cue_notification_2x_SZ_WMk7hGzHou752pw9e1w26WixTOAXA31Ghh4dER-E.png","/img/onboarding_cue_notification.png":"/img/onboarding_cue_notification_RztqMC_KilNV6XXVVAw1WfOwK9TfM1NHisK7eCLtYyE.png","/img/onboarding_cue_themes_2x.png":"/img/onboarding_cue_themes_2x_zmaSn3YgfOqjfmU7GjWB7p23T9vDfs6BgpoaTPjjUEc.png","/img/onboarding_cue_themes.png":"/img/onboarding_cue_themes_nMlg-lEOt2iP1NFaqXWqNCdcGeobHXuNu54Z0h9bl9E.png","/img/onboarding_cue_top_2x.png":"/img/onboarding_cue_top_2x_8mKJdjAMnJ0ebN6mi-ixUSdrdgJ__k1Jm46pdKp8uJE.png","/img/onboarding_cue_top.png":"/img/onboarding_cue_top_eGmJbJgssf-yc1pCfQzDjnkRz0ap56WYfhgwHFEVJVM.png","/img/personalize_inbox.jpg":"/img/personalize_inbox_2EEeOv8ITUDlR93U1CsIK2NDWGgoSHxrXCVTbC4P9EM.jpg","/img/search_onboarding.jpg":"/img/search_onboarding_rFm8JmV6a4IsyVlne2eZJPzMjQ6cl5X6KynwNZLpb2w.jpg","/img/sent_airplane.png":"/img/sent_airplane_1p3xNqUuPs3YNvhvhelGRdEW1s6HLHk0laFrnO-DoFM.png","/img/social_accounts.png":"/img/social_accounts_tj3Bs3dUTMGWP7XaPpYU-IBoQwDJW7u6dvBX2TlfZiw.png","/img/tenor.png":"/img/tenor_oxJhYeiAd8fUcrdVfozpyGSSYmgt7DKIkdiYMrOUFmI.png","/img/themes_cue_v2_bar.jpg":"/img/themes_cue_v2_bar_HZ_6eIpcGDColGe6oGVKRDfNl2kFG-7VhL7t-A-M0Gg.jpg","/img/themes_cue_v2_bottom.jpg":"/img/themes_cue_v2_bottom_4tmkW3ozPVBa6wbU_kOiH_8fCyPJHCno5ZC-9ZxJZ48.jpg","/img/vacation_response.png":"/img/vacation_response_qwVL91OMzF7xQz7f9w9IRIWOhTYXJ0Xm_HAvhWgc9cA.png","/img/viewing_email.png":"/img/viewing_email_ND9JGlmiyTk-4K1rjA_WwMqoD1rhvjIVWJzH_84F_-I.png","/img/yahoo_badge.png":"/img/yahoo_badge_B3B7LTJt8jznlhwFBzxW8zCdR6TutERrxFAOTSa4zeU.png","/html/status.html":"/html/status_NsIMApfRFdB9nTk9uhk8xFAt08_hm8m9QjmR2g0Vl9Y.html","/json/mobile_manifest.json":"/json/mobile_manifest_eFqmqjjBdzmlkWDhbKCSKuIlXxSMZoArAcfvoXonfWE.json","/json/web_manifest.json":"/json/web_manifest_zdmVWTe8Hdp05CX3yPbgNMfiiGr4DFZJOp0JdEBS8DM.json"};
},{}],1:[function(require,module,exports){
module.exports=[{sequence:"mail",order:["themesCueV2","ssaBreachSecurityAlert","aptSecurityCue","newUserOnboardingCue","photosCue","starredCue","settingsCue","searchCue","stationeryCue","updateWiderMailCue","emojiCue"]}];
},{}],"./action_creators/calendar":[function(require,module,exports){
"use strict";function e(e){var r=e.messageId,t=e.params;return{type:i.mail.GET_INVITE_INFO_REQUESTED,messageId:r,params:t}}function r(e){var r=e.messageId,t=e.inviteInfo;return{type:i.mail.GET_INVITE_INFO_SUCCEEDED,messageId:r,inviteInfo:t}}function t(e){var r=e.messageId,t=e.error;return{type:i.mail.GET_INVITE_INFO_FAILED,messageId:r,error:t}}function n(e){return a({type:i.mail.RESPOND_TO_INVITE},e)}function s(e){var r=e.uid,t=e.response;return{type:i.mail.RESPOND_TO_INVITE_SUCCEEDED,uid:r,response:t}}function o(e){var r=e.uid,t=e.response;return{type:i.mail.RESPOND_TO_INVITE_FAILED,uid:r,response:t}}exports.__esModule=!0;var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};exports.getInviteInfo=e,exports.getInviteInfoSuccess=r,exports.getInviteInfoFailed=t,exports.respondToInvite=n,exports.respondToInviteSuccess=s,exports.respondToInviteFailed=o;var i=require("../platform/react_action_constants");
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./action_creators/check_mail":[function(require,module,exports){
"use strict";function t(){return{type:s.mail.V3_CHECK_MAIL_REQUESTED}}function e(t){var e=t.folders,r=t.messageGroupList,c=t.accountAlerts,o=t.count,i=t.listId;return{type:s.mail.V3_CHECK_MAIL_RECEIVED,folders:e,messageGroupList:r,accountAlerts:c,count:o,listId:i}}function r(t){var e=t.error,r=t.listId;return{type:s.mail.V3_CHECK_MAIL_FAILED,error:e,listId:r}}exports.__esModule=!0,exports.checkMail=t,exports.checkMailSuccess=e,exports.checkMailFailure=r;var s=require("../platform/react_action_constants");
},{"../platform/react_action_constants":"./platform/react_action_constants"}],2:[function(require,module,exports){
"use strict";function e(e){return p({},e,{type:S.mail.V3_MESSAGE_SAVE_REQUESTED})}function t(e){return p({},e,{type:S.mail.V3_MESSAGE_SAVE_SUCCEEDED})}function r(e){return p({},e,{type:S.mail.V3_MESSAGE_SAVE_FAILED})}function n(e){return p({},e,{type:S.mail.V3_MESSAGE_SEND_REQUESTED})}function s(e){return p({},e,{type:S.mail.V3_MESSAGE_SEND_SUCCEEDED})}function c(e){return p({},e,{type:S.mail.V3_MESSAGE_SEND_FAILED})}function E(e){return{to:[e.value],csid:e.csid,type:S.mail.V3_TO_UPDATED}}function o(e){return{cc:[e.value],csid:e.csid,type:S.mail.V3_CC_UPDATED}}function i(e){return{bcc:[e.value],csid:e.csid,type:S.mail.V3_BCC_UPDATED}}function a(e){return{csid:e.csid,subject:e.subject,type:S.mail.V3_SUBJECT_UPDATED}}function u(e){return p({},e,{type:S.mail.RTE_MORE_MENU_SHOWN})}function _(e){return p({},e,{type:S.mail.HANDLE_RTE_TOOLBAR_ACTIONS})}exports.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};exports.saveMessage=e,exports.saveSuccess=t,exports.saveFailure=r,exports.sendMessage=n,exports.sendSuccess=s,exports.sendFailure=c,exports.toUpdated=E,exports.ccUpdated=o,exports.bccUpdated=i,exports.subjectUpdated=a,exports.showRTEMoreMenu=u,exports.handleToolbarActions=_;var S=require("../platform/react_action_constants");
},{"../platform/react_action_constants":"./platform/react_action_constants"}],3:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.fetchContactsFailed=exports.requestContactsFetch=exports.fetchContactsSuccess=void 0;var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},e=require("../platform/react_action_constants"),r=exports.fetchContactsSuccess=function r(c){return t({type:e.mail.IMPORTANT_CONTACTS_FETCH_SUCCEEDED},c)},c=exports.requestContactsFetch=function r(c){return t({type:e.mail.IMPORTANT_CONTACTS_FETCH_REQUESTED},c)},o=exports.fetchContactsFailed=function r(c){return t({type:e.mail.IMPORTANT_CONTACTS_FETCH_FAILED},c)};
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./action_creators/load_more_items":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.loadMoreSearchItemsFail=exports.loadMoreSearchItemsSuccess=exports.loadMoreMessageItemsFail=exports.loadMoreMessageItemsSuccess=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},t=require("../platform/react_action_constants"),r=exports.loadMoreMessageItemsSuccess=function r(o){return e({type:t.mail.MORE_MESSAGES_REQUEST_SUCCESS},o)},o=exports.loadMoreMessageItemsFail=function r(o){return e({type:t.mail.MORE_MESSAGES_REQUEST_FAILED},o)},s=exports.loadMoreSearchItemsSuccess=function r(o){return e({type:t.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED},o)},a=exports.loadMoreSearchItemsFail=function r(o){return e({type:t.mail.MORE_SEARCH_LIST_ITEMS_FAILED},o)},E=function r(o){return e({type:t.mail.MORE_ITEMS_REQUESTED},o)};exports.default=E;
},{"../platform/react_action_constants":"./platform/react_action_constants"}],4:[function(require,module,exports){
"use strict";function e(e){return t({type:o.mail.MESSAGE_BODIES_REQUESTED},e)}function s(e){return t({type:o.mail.MESSAGE_BODIES_RECEIVED},e)}function r(e){return t({type:o.mail.MESSAGE_BODIES_FAILED},e)}exports.__esModule=!0,exports.v2MoveCursorPreviewMessage=exports.previewMessage=void 0;var t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e};exports.messageBodiesRequested=e,exports.messageBodiesReceived=s,exports.messageBodiesFailed=r;var o=require("../platform/react_action_constants"),i=require("../reducers_selectors"),n=exports.previewMessage=function e(s){return function(e,r){var n=(0,i.selectors)(r()),a=n.getMessageGroupsSelectors,u=n.doesMessageBodyExist,E=s.itemId,c=a().getMessageIdsFromMessageGroupId(E)||[],p=c.filter(function(e){return!u(e)});return e(t({type:o.mail.V3_PREVIEW_MESSAGE_REQUESTED},s,{messageIds:p}))}},a=exports.v2MoveCursorPreviewMessage=function e(s){return function(e,r){var n=(0,i.selectors)(r()),a=n.doesMessageBodyExist,u=s.items,E=void 0===u?[]:u,c=E.messages.map(function(e){return e.id}).filter(function(e){return!a(e)});return e(t({type:o.mail.V3_MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED},s,{messageIds:c}))}};
},{"../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],"./action_creators/move_items":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.moveItemsFail=exports.moveItemsSuccess=exports.spam=exports.archive=exports.moveToTrash=exports.moveToInbox=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},t=require("../platform/react_action_constants"),o=require("../platform/mail_constants"),r=function o(r){return e({type:t.mail.MOVE_ITEMS_REQUESTED},r)},s=exports.moveToInbox=function t(s){return r(e({},s,{destinationFolderType:o.FolderTypes.INBOX}))},n=exports.moveToTrash=function t(s){return r(e({},s,{destinationFolderType:o.FolderTypes.TRASH}))},p=exports.archive=function t(s){return r(e({},s,{destinationFolderType:o.FolderTypes.ARCHIVE}))},i=exports.spam=function t(s){return r(e({},s,{destinationFolderType:o.FolderTypes.BULK}))},a=exports.moveItemsSuccess=function e(){return{type:t.mail.MOVE_ITEMS_SUCCEEDED}},u=exports.moveItemsFail=function e(){return{type:t.mail.MOVE_ITEMS_FAILED}};exports.default=r;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants"}],5:[function(require,module,exports){
"use strict";function e(e){var a=e.name,r=e.value;return{type:t.mail.MARK_ONBOARDING_AS_SEEN_SUCCEEDED,name:a,value:r}}function a(e){var a=e.name,r=e.value;return{type:t.mail.MARK_ONBOARDING_AS_SEEN_FAILED,name:a,value:r}}exports.__esModule=!0,exports.markOnboardingStatusSucceeded=e,exports.markOnboardingStatusFailed=a;var t=require("../platform/react_action_constants");
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./action_creators/read_change":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.readChangeFail=exports.readChangeSuccess=void 0;var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=require("../platform/react_action_constants"),t=require("../reducers_selectors"),s=function s(a){return function(s,n){var o=a.streamItem,c=(0,t.selectors)(n()),u=c.getMessageGroupsSelectors,i=c.getMessagesSelectors,l=u().getMessageIdsFromMessageGroupId(o.id),g=l.every(function(e){return i().getFlags(e).read});return s(e({type:r.mail.READ_CHANGE_REQUESTED},a,{isRead:g}))}},a=exports.readChangeSuccess=function e(){return{type:r.mail.READ_CHANGE_SUCCEEDED}},n=exports.readChangeFail=function e(){return{type:r.mail.READ_CHANGE_FAILED}};exports.default=s;
},{"../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],6:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.searchListReceived=exports.searchBlockReceived=exports.failSearch=exports.focusSearch=void 0;var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},r=require("../platform/react_action_constants"),t=exports.focusSearch=function t(c){return e({type:r.mail.SEARCH_INPUT_FOCUSED},c)},c=exports.failSearch=function t(c){return e({type:r.mail.SEARCH_LIST_ITEMS_FAILED},c)},o=exports.searchBlockReceived=function t(c){return e({type:r.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED},c)},a=exports.searchListReceived=function t(c){return e({type:r.mail.SEARCH_LIST_ITEMS_RECEIVED},c)};
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./action_creators/star_change":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.starChangeFail=exports.starChangeSuccess=void 0;var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=require("../platform/react_action_constants"),t=require("../reducers_selectors"),s=function s(a){return function(s,o){var n=a.streamItem,c=(0,t.selectors)(o()),u=c.getMessageGroupsSelectors,i=c.getMessagesSelectors,g=u().getMessageIdsFromMessageGroupId(n.id),l=g.some(function(e){return i().getFlags(e).flagged});return s(e({type:r.mail.STAR_CHANGE_REQUESTED},a,{isStarred:l}))}},a=exports.starChangeSuccess=function e(){return{type:r.mail.STAR_CHANGE_SUCCEEDED}},o=exports.starChangeFail=function e(){return{type:r.mail.STAR_CHANGE_FAILED}};exports.default=s;
},{"../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],7:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.searchSuggestionsFailure=exports.searchSuggestionsSuccess=exports.requestSearchSuggestions=void 0;var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=require("../platform/react_action_constants"),t=require("../reducers_selectors"),s=require("../platform/rapid_client/constants"),o=exports.requestSearchSuggestions=function o(n){return function(o,u){var c=(0,t.selectors)(u()),i=c.getSearchSuggestions,a=n.query,S=i(a),g={isBeaconEvent:!0,eventName:s.BEACON_EVENTS.SEARCH_SUGGESTION,etrg:"change",outcome:"search_suggestion_dropdown"};return o(e({type:r.mail.SUGGESTIONS_REQUESTED},n,{suggestions:S?S:void 0,i13nModel:g}))}},n=exports.searchSuggestionsSuccess=function t(s){return e({type:r.mail.SUGGESTIONS_RECEIVED},s)},u=exports.searchSuggestionsFailure=function t(s){return e({type:r.mail.SUGGESTIONS_FAILED},s)};
},{"../platform/rapid_client/constants":"./platform/rapid_client/constants","../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],8:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},t=require("../reducers_selectors"),s=require("../platform/mail_constants");exports.default=function(r,a){var o=a.unsavedData,n=void 0===o?[]:o,u=(0,t.selectors)(r),i=u.getComposeSessionsSelectors,l=i(),p=l.isComposeSessionDirty,c=l.isSaving;return e({},a,{actionTimestamp:Date.now(),unsavedData:n.filter(function(e){return e.type!==s.UnsavedDataTypes.COMPOSE||p(e.userInputtedValues)&&!c(e.userInputtedValues)})})},module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../reducers_selectors":"./reducers_selectors"}],9:[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},r=require("../platform/react_action_constants"),e=function e(n){var a=n.internal,o=void 0!==a&&a;return function(e,n){switch(n.type){case r.mail.INITIAL_STATE:return t({},n,{internal:o});default:return n}}};exports.default=e,module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants"}],10:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},t=require("../platform/react_action_constants"),r=require("../reducers_selectors"),s=function s(a,o){var c=o.type,l=o.listId;switch(c){case t.mail.CLEAR_FOLDER_REQUESTED:case t.mail.ARCHIVE_FOLDER_REQUESTED:case t.mail.MARK_READ_FOLDER_REQUESTED:return e({},o,{itemIds:(0,(0,(0,r.selectors)(a).getListsSelectors)().getItemIdsSelectors)(l).getItemIds()});default:return o}};exports.default=s,module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],11:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},o=require("../platform/react_action_constants"),s=require("../platform/mail_constants"),t=s.Compose.Modes,r=function s(r,a){switch(a.type){case o.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return e({},a,{inReplyToMessageId:a.composeMode===t.REPLY?a.message.id:null,inReplyAllToMessageId:a.composeMode===t.REPLY_ALL?a.message.id:null,inForwardToMessageId:a.composeMode===t.FORWARD?a.message.id:null});default:return a}};exports.default=r,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants"}],12:[function(require,module,exports){
"use strict";function E(E,S){var e={};for(var _ in E)S.indexOf(_)>=0||Object.prototype.hasOwnProperty.call(E,_)&&(e[_]=E[_]);return e}exports.__esModule=!0;var S=Object.assign||function(E){for(var S=1;S<arguments.length;S++){var e=arguments[S];for(var _ in e)Object.prototype.hasOwnProperty.call(e,_)&&(E[_]=e[_])}return E},e=require("../platform/react_action_constants"),_=require("../platform/rapid_client/constants.js"),a=require("../platform/utils/action"),r=require("../reducers_selectors"),s=function s(t,M){var R=M.streamId,A=M.streamItem,c=void 0===A?{}:A;if(!R)return M;var l=(0,r.selectors)(t),o=l.getStreamsSelectors,i=o(),m=i.doesStreamExist,T=i.getCursorSelectors,D=m(R)?T(R).getCursor():{};switch(M.type){case e.mail.MESSAGES_FROM_MESSAGE_LIST_SELECT_CURSOR_MOVED:case e.mail.STREAM_CURSOR_MOVED:var n=M.movement;return S({},E(M,["movement"]),{cursorPayload:{movement:n},selectionPayload:{oldCursor:D}});case e.mail.STREAM_ITEM_TOGGLED:return S({},M,{cursorPayload:{streamItem:c}});case e.mail.MESSAGES_FROM_MESSAGE_LIST_RANGE_SELECTED:return S({},M,{cursorPayload:{streamItem:c},selectionPayload:{oldCursor:D}});case e.mail.OPEN_PAGE_REQUESTED:var G=[_.MKEYS.OPEN_MSG,_.MKEYS.DOC_READ_MSG,_.MKEYS.PHOTO_READ_MSG],O=(0,a.getUIContextFromAction)(M)||{};return G.indexOf(O.mKey)!==-1?S({},M,{cursorPayload:{streamItem:c}}):M;case e.mail.ALL_STREAM_ITEMS_SELECTED:case e.mail.STREAM_ITEMS_SELECTION_CLEARED:case e.mail.MESSAGES_MARK_UNSTARRED_REQUESTED:case e.mail.STAR_CHANGE_REQUESTED:case e.mail.MESSAGES_MARK_STARRED_REQUESTED:case e.mail.MESSAGES_MARK_UNREAD_REQUESTED:case e.mail.MESSAGES_MARK_READ_REQUESTED:case e.mail.READ_CHANGE_REQUESTED:case e.mail.MESSAGES_ARCHIVE_REQUESTED:case e.mail.MESSAGES_RESTORE_REQUESTED:case e.mail.MOVE_ITEMS_REQUESTED:case e.mail.MESSAGES_DELETE_REQUESTED:case e.mail.MESSAGES_MOVE_REQUESTED:case e.mail.MESSAGES_MARK_SPAM_REQUESTED:case e.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case e.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.DELETE_DRAFT_REQUESTED:case e.mail.SEND_SUCCESS:case e.mail.V3_MESSAGE_SEND_SUCCEEDED:return S({},M,{cursorPayload:{}})}return M};exports.default=s,module.exports=exports.default;
},{"../platform/rapid_client/constants.js":"./platform/rapid_client/constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/action":"./platform/utils/action","../reducers_selectors":"./reducers_selectors"}],13:[function(require,module,exports){
"use strict";function t(t,e){var E={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(E[i]=t[i]);return E}exports.__esModule=!0;var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var E=arguments[e];for(var i in E)Object.prototype.hasOwnProperty.call(E,i)&&(t[i]=E[i])}return t},E=require("../platform/react_action_constants"),i=require("../reducers_selectors"),r=require("../platform/mail_constants"),S=function t(){var e,E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return null===i?E[e]:(E[e]||{})[i]};return Object.keys(E).length?(e={},e[r.Settings.THEME]=i(r.MailboxAttributes.THEME),e[r.Settings.THEME_MODE]=i(r.MailboxAttributes.THEME_MODE),e[r.Settings.MSG_LIST_DENSITY]=i(r.MailboxAttributes.MSG_LIST_DENSITY),e[r.Settings.PREVIEW_PANE]=i(r.MailboxAttributes.PREVIEW_PANE),e[r.Settings.SNIPPETS]=i(r.MailboxAttributes.SNIPPETS),e[r.Settings.COMPOSE_FONT_FAMILY]=i(r.MailboxAttributes.COMPOSE_FONT_FAMILY),e[r.Settings.COMPOSE_FONT_SIZE]=i(r.MailboxAttributes.COMPOSE_FONT_SIZE),e[r.Settings.SECURE_MODE]=i(r.MailboxAttributes.SECURE_MODE),e[r.Settings.DESKTOP_NOTIFICATION]=i(r.MailboxAttributes.DESKTOP_NOTIFICATION),e[r.Settings.MARK_AS_READ_INTERVAL]=i(r.MailboxAttributes.MARK_AS_READ_INTERVAL),e[r.Settings.DELIVERY_BLOCKED_SENDERS]=i(r.MailboxAttributes.DELIVERY_BLOCKED_SENDERS,"senders"),e[r.Settings.SHOW_IMAGES]=E[r.MailboxAttributes.BLOCK_IMAGES]?!E[r.MailboxAttributes.BLOCK_IMAGES].value:void 0,e[r.Settings.LINK_ENHANCR]=i(r.MailboxAttributes.LINK_ENHANCER),e[r.Settings.VACATION_PREFERENCES]=i(r.MailboxAttributes.VACATION_PREFERENCES,null),e[r.Settings.DEA_BASE_NAME]=i(r.MailboxAttributes.DEA_BASE_NAME,null),e[r.Settings.MAGIC_TRIAGE_USER_VISITS]=i(r.MailboxAttributes.MAGIC_TRIAGE_USER_VISITS),e[r.Settings.MAGIC_TRIAGE_TIMESTAMP]=i(r.MailboxAttributes.MAGIC_TRIAGE_TIMESTAMP),e[r.Settings.MESSAGE_FILTERS]=i(r.MailboxAttributes.MESSAGE_FILTERS,"filters"),e[r.Settings.ACTION_AFTER_MSG_MOVE]=i(r.MailboxAttributes.ACTION_AFTER_MSG_MOVE),e[r.Settings.SHOW_CUSTOM_FOLDERS]=i(r.MailboxAttributes.SHOW_CUSTOM_FOLDERS),e[r.Settings.MAIL_TABS]=i(r.MailboxAttributes.MAIL_TABS),e[r.Settings.HIDE_AD]=i(r.MailboxAttributes.HIDE_AD),e[r.Settings.EXPANDED_FOLDERS]=i(r.MailboxAttributes.EXPANDED_FOLDERS),e[r.Settings.STATIONERY_DEFAULT_THEME]=i(r.MailboxAttributes.STATIONERY_DEFAULT_THEME),e[r.Settings.UNSUBSCRIBE_NOTIFICATION]=i(r.MailboxAttributes.UNSUBSCRIBE_NOTIFICATION),e[r.Settings.UNSUBSCRIBE_TIMESTAMP]=i(r.MailboxAttributes.UNSUBSCRIBE_TIMESTAMP),e[r.Settings.NUM_UNSUBSCRIBED_ITEMS]=i(r.MailboxAttributes.NUM_UNSUBSCRIBED_ITEMS),e[r.Settings.RECENTLY_USED_EMOJIS]=i(r.MailboxAttributes.RECENTLY_USED_EMOJIS),e[r.Settings.SYSTEM_TABS]=i(r.MailboxAttributes.SYSTEM_TABS),e):{}},s=function r(s){var _=s.__initializeFeatures__,A=s.featureSequence,a=void 0===A?{}:A,n=s.config,u=void 0===n?{}:n,M=s.queryStringOverrides,o=void 0===M?{}:M;return function(r,s){var A=s.type,n=s.name,M=s.fromFeature,T=s.mailboxAttributes,I=t(s,["type","name","fromFeature","mailboxAttributes"]),l=a[A]||[];switch(A){case E.mail.INITIAL_STATE:var b=l[0],O=T||{},N=O.responses,R=S(N);return o!=={}&&Object.assign(R,o),e({},s,{features:Object.assign({},Object.keys(_).reduce(function(t,E){var i;return e({},t,(i={},i[E]=E===b||!!_[E].enabled,i))},{}),Object.keys(u).filter(function(t){return"boolean"!=typeof u[t]&&!(t in R)}).reduce(function(t,E){var i;return e({},t,(i={},i[E]=u[E],i))},R))});case E.mail.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return{type:A,features:S(s)};case E.mail.FEATURE_TRY_NOW_REQUESTED:case E.mail.FEATURE_DISABLED:case E.mail.FEATURE_CLOSED:case E.mail.FEATURE_CUE_NOTIFICATION_CLOSED:if(!M&&!n)return s;var C=_[M||n].nextFeatureCues;return e({},I,{type:A,nextFeatureCues:[(void 0===C?{}:C)[A]]},M?{fromFeature:M}:{name:n});default:var c=(0,i.selectors)(r).getFeatureCueSelectors().shownFeatures().filter((0,i.selectors)(r).getFeaturesSelectors().isEnabled),D=c[0],g=D?[]:l.filter((0,i.selectors)(r).getFeatureCueSelectors().isNotSeenBefore),x=g[0];return x?e({},s,{nextFeature:x}):s}}};exports.default=s,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],14:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=Object.assign||function(e){for(var E=1;E<arguments.length;E++){var r=arguments[E];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},E=require("../platform/react_action_constants"),r=require("../platform/utils/folder"),a=function a(t,l){var _,o=l.type,s=l.folders,i=void 0===s?[]:s;switch(o){case E.mail.INITIAL_STATE:case E.mail.UNDO_MOVE_SUCCEEDED:case E.mail.V3_CHECK_MAIL_RECEIVED:case E.mail.AUTO_CHECK_MAIL_RECEIVED:case E.mail.CHANGE_FOLDER_SUCCEEDED:case E.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case E.mail.SEARCH_LIST_ITEMS_RECEIVED:return i.length?e({},l,{folderMap:(0,r.flattenFolderTree)(i)}):l;case E.mail.CREATE_FOLDER_SUCCEEDED:case E.mail.RENAME_FOLDER_SUCCEEDED:return e({},l,{folderMap:(_={},_[l.folder.id]=l.folder,_)});default:return l}};exports.default=a,module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/folder":"./platform/utils/folder"}],15:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=require("../platform/react_action_constants"),t=require("../reducers_selectors"),s=require("../platform/utils/gemini_categories"),o=require("../platform/utils/object"),a=require("../platform/mail_constants");exports.default=function(u,i){switch(i.type){case r.mail.OPEN_PAGE_REQUESTED:if(i.route.name!==a.RouteNames.MESSAGE_FROM_FOLDER_LIST&&i.route.name!==a.RouteNames.MESSAGE_FROM_SEARCH_LIST)return i;var n=(0,t.selectors)(u),l=n.getMessageGroupsSelectors,c=n.getMessageFromAddress,g=n.doesMessageIdExist,m=n.getFeaturesSelectors,_=m(),p=_.isEnabled,E=(0,o.getIn)(i,"route.params.groupId",null);if(E&&p(a.Features.GEMINI_CONTEXTUAL_ADS)){var d=l().getMessageIdsFromMessageGroupId(E),f=d&&d[0],S=g(f)&&c(f);return e({},i,{geminiCategories:S&&(0,s.getCategoriesFromSenders)(S)})}}return i},module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/gemini_categories":383,"../platform/utils/object":"./platform/utils/object","../reducers_selectors":"./reducers_selectors"}],16:[function(require,module,exports){
"use strict";function e(e,d){var u=d.folder,a=d.destinationFolder,T=(0,n.getPrimaryFolderType)(a),i=(0,n.getPrimaryFolderType)(u),F=r(e);if(F||(F=l),!t(u,a))return!1;if(u.id===a.id&&T!==o.FolderTypes.TRASH)return!1;switch(F){case o.FolderTypes.INBOX:case o.FolderTypes.USER:case o.FolderTypes.ARCHIVE:return!s(i)&&!s(T);case o.FolderTypes.SENT:return i!==o.FolderTypes.DRAFT&&T!==o.FolderTypes.DRAFT;case o.FolderTypes.DRAFT:return i===o.FolderTypes.DRAFT&&T===o.FolderTypes.TRASH;case o.FolderTypes.TRASH:case o.FolderTypes.BULK:return!s(T);case l:return s(i)?T===o.FolderTypes.TRASH:!s(T);default:return!1}}function r(e){var r,s=100,t=(r={},r[o.FolderTypes.INBOX]=1,r[o.FolderTypes.USER]=1,r[o.FolderTypes.ARCHIVE]=1,r[o.FolderTypes.BULK]=2,r[o.FolderTypes.TRASH]=2,r[o.FolderTypes.SENT]=3,r[o.FolderTypes.DRAFT]=4,r);return e.reduce(function(e,r){var o=t[e]||s;return o<(t[r]||s)?o:r},"")}function s(e){return e===o.FolderTypes.DRAFT||e===o.FolderTypes.SENT}function t(e,r){return e.accountId===r.accountId}exports.__esModule=!0;var o=require("../../platform/mail_constants"),n=require("../../platform/utils/folder"),d={isReadMessage:function e(r){return r.flags.read},isUnreadMessage:function e(r){return!r.flags.read},isStarredMessage:function e(r){return r.flags.flagged},isUnstarredMessage:function e(r){return!r.flags.flagged},isMoveableMessage:function r(s){return function(r){return e(s,r)}},default:function e(){return!1}},l="KEYWORD";exports.default=d,module.exports=exports.default;
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/folder":"./platform/utils/folder"}],17:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("./action"),u=e(r),t=require("./route"),a=e(t),d=require("./list"),i=e(d),l=require("./folder"),o=e(l),f=require("./cursor"),s=e(f),q=require("./features"),_=e(q),n=require("./items_to_update"),c=e(n),p=require("./message_body"),m=e(p),g=require("./compose"),x=e(g),b=require("./bulk_action"),M=e(b),k=require("./app"),v=e(k),y=require("./message_read_ad_rotation"),h=e(y),j=require("./gemini_categories"),w=e(j),z=function e(r){return[(0,v.default)(r),u.default,a.default,i.default,s.default,o.default,x.default,M.default,c.default,(0,_.default)(r),m.default,h.default,w.default]};exports.default=z,module.exports=exports.default;
},{"./action":8,"./app":9,"./bulk_action":10,"./compose":11,"./cursor":12,"./features":13,"./folder":14,"./gemini_categories":15,"./items_to_update":18,"./list":19,"./message_body":20,"./message_read_ad_rotation":21,"./route":22}],18:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=arguments[1],t=e.folder,s=e.destinationFolder,S=E(t.id),a=s?E(s.id):void 0;return!((0,i.getListContentTypeFromListId)(e.listId)!==r.ListContentTypes.MESSAGES||!e.isAffected||S===A&&a!==M||[M,A,T].indexOf(S)===-1)}function t(e,E,t){return{id:e,types:[E],accountId:t}}function s(e,E){var t=E.type,s=E.itemToUpdate,S=(0,l.selectors)(e),r=S.getFoldersSelectors,o=r(),_=o.doesFolderIdExist,R=o.getPrimaryFolderTypeByFolderId,c=o.getFolderIdsByName;switch(t){case a.mail.CLEAR_FOLDER_REQUESTED:case a.mail.MESSAGES_DELETE_REQUESTED:case a.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_ARCHIVE_REQUESTED:case a.mail.MESSAGES_RESTORE_REQUESTED:case a.mail.MOVE_ITEMS_REQUESTED:case a.mail.MESSAGES_MOVE_REQUESTED:case a.mail.MESSAGES_MARK_SPAM_REQUESTED:case a.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case a.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.ARCHIVE_FOLDER_REQUESTED:var M=(0,i.getFolderIdNamesFromListId)(s.listId),A=M.folderIds,T=void 0===A?[]:A,u=M.folderNames,m=void 0===u?[]:u,D=m.reduce(function(e,E){return e.concat(c(E))},[]).concat(T).filter(_),I=D.map(R);return n.default.isMoveableMessage(I);case a.mail.MESSAGES_MARK_READ_REQUESTED:case a.mail.MARK_READ_FOLDER_REQUESTED:return n.default.isUnreadMessage;case a.mail.READ_CHANGE_REQUESTED:return(0,d.default)("boolean"==typeof E.isRead,"Action "+t+" does not have isRead prop."),E.isRead?n.default.isReadMessage:n.default.isUnreadMessage;case a.mail.MESSAGES_MARK_UNREAD_REQUESTED:return n.default.isReadMessage;case a.mail.MESSAGES_MARK_STARRED_REQUESTED:return n.default.isUnstarredMessage;case a.mail.STAR_CHANGE_REQUESTED:return(0,d.default)("boolean"==typeof E.isStarred,"Action "+t+" does not have isStarred prop."),E.isStarred?n.default.isStarredMessage:n.default.isUnstarredMessage;case a.mail.MESSAGES_MARK_UNSTARRED_REQUESTED:return n.default.isStarredMessage;default:(0,d.default)(!1,"Action "+t+" does not have an associated rule with it.")}}exports.__esModule=!0;var S=Object.assign||function(e){for(var E=1;E<arguments.length;E++){var t=arguments[E];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},a=require("../platform/react_action_constants"),r=require("../platform/mail_constants"),i=require("../platform/utils/list"),o=require("../platform/invariant"),d=e(o),l=require("../reducers_selectors"),_=require("./helpers/update_rules.js"),n=e(_),R=require("lodash/omit"),c=e(R),M=r.FolderTypes.TRASH,A=r.FolderTypes.BULK,T=r.FolderTypes.DRAFT,u=function e(E,s){return function(e){var a=s.destinationFolderType,o=(0,l.selectors)(E),d=o.getFoldersSelectors,_=o.getMessageGroupsSelectors,n=o.getMessagesSelectors,R=o.getFeaturesSelectors,c=d(),M=c.getAccountIdByFolderId,A=c.getFolderIdsFromFolderType,T=c.getPrimaryFolderTypeByFolderId,u=_(),m=u.doesMessageGroupIdExist,D=u.getMessageIdsFromMessageGroupId,I=n(),f=I.getConversationId,F=I.getFlags,U=I.getFolderId,G=R(),p=G.isEnabled;return e.filter(function(e){return(0,i.getListContentTypeFromListId)(e.listId)===r.ListContentTypes.MESSAGES&&m(e.id)}).map(function(e){return D(e.id).map(function(E){var i=U(E),o=M(i),d=a?A(a,o)[0]:s.destinationFolderId,l=d?t(d,T(d),M(d)):void 0;return S({},e,{messageId:E,groupId:p(r.Features.CONVERSATIONS)?f(E):E,folder:t(i,T(i),o),destinationFolder:l,flags:F(E)})})}).reduce(function(e,E){return e.concat(E)},[])}},m=function e(E,t){var s=t.streamId,S=t.streamItem,a=(0,l.selectors)(E),o=a.getStreamsSelectors,d=o(),_=d.doesStreamExist,n=d.getCursorSelectors,R=d.getSelectedItemsSelectors,c=_(s)?n(s).getCursorItem():void 0,M=_(s)?R(s).getSelectedItems():[],A=[];S?A=[S]:M.length?A=M:c&&(A=[c]);var T=u(E,t);return[].concat(A.filter(function(e){return(0,i.getListContentTypeFromListId)(e.listId)!==r.ListContentTypes.MESSAGES}),T(A))},D=function e(E){var t=(0,l.selectors)(E),s=t.getFoldersSelectors,S=t.getListsSelectors,a=s(),o=a.getFolderIdsByName,d=a.doesFolderIdExist;return(0,S().getListIdsByContentType)(r.ListContentTypes.MESSAGES).map(function(e){var E=(0,i.getFolderIdNamesFromListId)(e),t=E.folderIds,s=void 0===t?[]:t,S=E.folderNames;return{listId:e,folderIds:(void 0===S?[]:S).reduce(function(e,E){return e.concat(o(E))},[]).concat(s).filter(d)}})},I=function e(t,o){var d=o.type,_=o.streamId,n=[];if(!_)return o;switch(d){case a.mail.CLEAR_FOLDER_REQUESTED:case a.mail.MESSAGES_DELETE_REQUESTED:case a.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:o.destinationFolderType=r.FolderTypes.TRASH;case a.mail.MESSAGES_ARCHIVE_REQUESTED:case a.mail.MESSAGES_RESTORE_REQUESTED:case a.mail.MOVE_ITEMS_REQUESTED:case a.mail.MESSAGES_MOVE_REQUESTED:case a.mail.MESSAGES_MARK_SPAM_REQUESTED:case a.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case a.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.READ_CHANGE_REQUESTED:case a.mail.MESSAGES_MARK_READ_REQUESTED:case a.mail.MESSAGES_MARK_UNREAD_REQUESTED:case a.mail.STAR_CHANGE_REQUESTED:case a.mail.MESSAGES_MARK_STARRED_REQUESTED:case a.mail.MESSAGES_MARK_UNSTARRED_REQUESTED:case a.mail.MARK_READ_FOLDER_REQUESTED:case a.mail.ARCHIVE_FOLDER_REQUESTED:var R=(0,l.selectors)(t),M=R.getFoldersSelectors,A=M(),T=A.getPrimaryFolderTypeByFolderId;n=m(t,o).map(function(e){var a=s(t,S({},o,{itemToUpdate:e})),d=S({},e,{isAffected:(0,i.getListContentTypeFromListId)(e.listId)===r.ListContentTypes.MESSAGES&&a(e)});return d.destinationFolder&&!E(d,T)||(d=(0,c.default)(d,"destinationFolder")),d})}return n.length?S({},o,{itemsToUpdate:n,listsToUpdate:D(t,o)}):o};exports.default=I,module.exports=exports.default;
},{"../platform/invariant":"./platform/invariant","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/list":"./platform/utils/list","../reducers_selectors":"./reducers_selectors","./helpers/update_rules.js":16,"lodash/omit":"./node_modules/lodash/omit.js"}],19:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},s=require("../platform/react_action_constants"),n=require("../platform/mail_constants"),r=require("../platform/utils/list"),i=require("lodash/omit"),a=e(i),o=require("../reducers_selectors"),c=require("../platform/utils/index"),u=function e(t,s,i,a,o,c){var u,E,d;switch((0,r.getListContentTypeFromListId)(t)){case n.ListContentTypes.MESSAGES:case n.ListContentTypes.TRAVEL_CARDS:case n.ListContentTypes.COUPON_CARDS:return u={},u[t]={itemIds:s.map(function(e){return e.id}),nextItemsUrl:i,offset:a,totalHits:o,hasMoreItems:!!(c||i||a)},u;case n.ListContentTypes.DOCUMENTS:case n.ListContentTypes.IMAGES:return E={},E[t]={itemIds:s.map(function(e){return e.attachment.id}),nextItemsUrl:i,offset:a,totalHits:o,hasMoreItems:!!(c||i||a)},E;case n.ListContentTypes.GIFS:return d={},d[t]={itemIds:s.map(function(e){return e.id}),nextItemsUrl:i,offset:a,hasMoreItems:!!(c||i||a)},d}return{}},E=function e(s,i){switch((0,r.getListContentTypeFromListId)(s)){case n.ListContentTypes.GIFS:return i.reduce(function(e,s){var n;return t({},e,(n={},n[s.id]=s,n))},{})}return{}},d=function e(s,i){switch((0,r.getListContentTypeFromListId)(s)){case n.ListContentTypes.MESSAGES:case n.ListContentTypes.TRAVEL_CARDS:case n.ListContentTypes.COUPON_CARDS:return i.reduce(function(e,s){var n;return t({},e,(n={},n[s.id]=s.messages.map(function(e){return e.id}),n))},{});case n.ListContentTypes.DOCUMENTS:case n.ListContentTypes.IMAGES:return i.reduce(function(e,s){var n,r=s.message,i=s.attachment,a=i.conversationId;return e[a]?(e[a].indexOf(r.id)===-1&&e[a].push(r.id),e):t({},e,(n={},n[a]=[r.id],n))},{})}return{}},C=function e(s,i,o){var u=(0,r.getListContentTypeFromListId)(i),E=s.doesMessageIdExist,d=s.getMessageCsid;switch(u){case n.ListContentTypes.MESSAGES:case n.ListContentTypes.TRAVEL_CARDS:case n.ListContentTypes.COUPON_CARDS:return o.reduce(function(e,s){return t({},e,s.messages.reduce(function(e,s){var n,r=null;return r=!r&&E(s.id)?d(s.id):s.csid?s.csid:(0,c.generateUID)(),t({},e,(n={},n[s.id]=t({},(0,a.default)(s,["snippet","attachments","headers","schemaCards"]),{headers:(0,a.default)(s.headers,["subject"])},r?{csid:r}:{}),n))},{}))},{})}return{}},m=function e(s,i){switch((0,r.getListContentTypeFromListId)(s)){case n.ListContentTypes.MESSAGES:return i.reduce(function(e,s){return t({},e,s.messages.reduce(function(e,s){return t({},e,(s.attachments||[]).reduce(function(e,n){var r;return t({},e,(r={},r[n.id]=t({},n,{conversationId:n.conversationId||s.conversationId}),r))},{}))},{}))},{});case n.ListContentTypes.DOCUMENTS:case n.ListContentTypes.IMAGES:return i.reduce(function(e,s){var n,r=s.attachment;return t({},e,(n={},n[r.id]=r,n))},{})}return{}},p=function e(s,i){switch((0,r.getListContentTypeFromListId)(s)){case n.ListContentTypes.MESSAGES:return i.reduce(function(e,s){return t({},e,s.messages.reduce(function(e,s){var n;return t({},e,(n={},n[s.id]=(s.attachments||[]).map(function(e){return e.id}),n))},{}))},{});case n.ListContentTypes.DOCUMENTS:case n.ListContentTypes.IMAGES:return i.reduce(function(e,s){var n,r=s.attachment,i=s.message;return t({},e,(n={},n[i.id]=[].concat(e[i.id]||[],[r.id]),n))},{})}return{}},S=function e(s,i){switch((0,r.getListContentTypeFromListId)(s)){case n.ListContentTypes.TRAVEL_CARDS:case n.ListContentTypes.COUPON_CARDS:return i.reduce(function(e,s){return t({},e,s.messages.reduce(function(e,s){var n;return t({},e,(n={},n[s.id]=(s.schemaCards||[]).map(function(e){return{id:e.id,type:e.type}}),n))},{}))},{})}return{}},I=function e(s,i){switch((0,r.getListContentTypeFromListId)(s)){case n.ListContentTypes.MESSAGES:case n.ListContentTypes.TRAVEL_CARDS:case n.ListContentTypes.COUPON_CARDS:return i.reduce(function(e,n){return t({},e,n.messages.reduce(function(e,n){var r,i,a=n.id,o=n.headers,c=void 0===o?{}:o;return t({},e,(i={},i[a]=(r={},r[s]=c.subject,r),i))},{}))},{});case n.ListContentTypes.DOCUMENTS:case n.ListContentTypes.IMAGES:return i.reduce(function(e,n){var r,i;return t({},e,(i={},i[n.message.id]=(r={},r[s]=n.message.subject,r),i))},{})}return{}},f=function e(s,i){switch((0,r.getListContentTypeFromListId)(s)){case n.ListContentTypes.MESSAGES:case n.ListContentTypes.TRAVEL_CARDS:return i.reduce(function(e,n){return t({},e,n.messages.reduce(function(e,n){var r,i;return t({},e,(i={},i[n.id]=(r={},r[s]=n.snippet,r),i))},{}))},{})}return{}},T=function e(s,i){switch((0,r.getListContentTypeFromListId)(s)){case n.ListContentTypes.TRAVEL_CARDS:case n.ListContentTypes.COUPON_CARDS:return i.reduce(function(e,s){return t({},e,s.messages.reduce(function(e,s){return t({},e,(s.schemaCards||[]).reduce(function(e,s){var n;return t({},e,(n={},n[s.id]=t({},s),n))},{}))},{}))},{})}return{}},L=function e(t,s,n,r,i,a,o){return{lists:u(s,n,r,i,a,o),groupIdToMessageIdsMap:d(s,n),messages:C(t,s,n),attachments:m(s,n),messageIdToAttachmentIdsMap:p(s,n),subjects:I(s,n),snippets:f(s,n),gifItems:E(s,n),schemaCards:T(s,n),messageIdToSchemaIdsMap:S(s,n)}},l=function e(s){return s.reduce(function(e,s){return Object.keys(s).reduce(function(e,n){var r;return t({},e,(r={},r[n]=t({},e[n],s[n]),r))},e)},{})},_=function e(i,a){var c=(0,o.selectors)(i),u=[];switch(a.type){case s.mail.OPEN_PAGE_REQUESTED:return t({},a,{listId:(0,r.getListIdFromRoute)(a.route)});case s.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case s.mail.MESSAGE_SAVE_SUCCEEDED:var E=a.groupId,d=a.message,C=a.listId;E&&d&&C&&u.push(L(c,a.listId,[{id:E,messages:[d]}]));break;case s.mail.INITIAL_STATE:case s.mail.UNDO_MOVE_SUCCEEDED:case s.mail.AUTO_CHECK_MAIL_RECEIVED:case s.mail.V3_CHECK_MAIL_RECEIVED:case s.mail.CHANGE_FOLDER_SUCCEEDED:case s.mail.MORE_MESSAGES_REQUEST_SUCCESS:case s.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case s.mail.V3_MESSAGE_SAVE_SUCCEEDED:a.messageGroupList&&u.push(L(c,a.listId,a.messageGroupList,a.nextItemsUrl,a.offset,a.count,a.hasMoreItems)),a.messageGroup&&u.push(L(c,(0,r.recreateListId)(a.listId,{listContentType:n.ListContentTypes.MESSAGES}),[a.messageGroup],a.nextItemsUrl,a.offset,a.count,a.hasMoreItems)),a.messageGroups&&u.push(L(c,(0,r.recreateListId)(a.listId,{listContentType:n.ListContentTypes.MESSAGES}),a.messageGroups,a.nextItemsUrl,a.offset,a.count,a.hasMoreItems)),a.draftMessage&&u.push(L(c,a.listId,a.draftMessage,a.nextItemsUrl,a.offset,a.count,a.hasMoreItems));break;case s.mail.COUPONS_LIST_SUCCEEDED:case s.mail.TRAVEL_LIST_SUCCEEDED:u.push(L(c,a.listId,a.cardGroupList,a.nextItemsUrl,a.offset,a.count,a.hasMoreItems));break;case s.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:var m=a.listId,p=a.listContentBlock,S=void 0===p?{}:p;m&&S&&u.push(L(c,m,S.items,S.nextItemsUrl,S.offset,S.totalHits,S.hasMoreItems));break;case s.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_RECEIVED:case s.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case s.mail.GIF_FETCH_SUCCEEDED:Object.keys(a.response||{}).forEach(function(e){Object.keys(a.response[e]).forEach(function(t){var s=(0,r.recreateListId)(a.listId,{listContentType:e,listFilter:t}),n=a.response[e][t];n&&u.push(L(c,s,n.items,n.nextItemsUrl,n.offset,n.totalHits,n.hasMoreItems))})});break;default:return a}return t({},a,{listData:l(u)})};exports.default=_,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/index":"./platform/utils","../platform/utils/list":"./platform/utils/list","../reducers_selectors":"./reducers_selectors","lodash/omit":"./node_modules/lodash/omit.js"}],20:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var E=arguments[a];for(var s in E)Object.prototype.hasOwnProperty.call(E,s)&&(e[s]=E[s])}return e},a=require("../platform/react_action_constants"),E=function E(){var s,r,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments[1],o=_.type,S=_.simpleBody,c=_.messageIds,d=void 0===c?[]:c,n=_.messageBodiesMap,l=void 0===n?{}:n,u=_.messageMetadataMap,M=void 0===u?{}:u;switch(o){case a.mail.INITIAL_STATE:case a.mail.MESSAGE_BODIES_RECEIVED:case a.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case a.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:var D=Object.keys(l);return D.length?e({},_,{v3MessageBodiesMap:D.reduce(function(a,E){var s,r,t=M[E]||{},i=t.csid;return e({},a,(s={},s[E]={body:l[E]},s),i?(r={},r[i]={body:l[E]},r):{})},{})}):_;case a.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case a.mail.MESSAGE_SAVE_SUCCEEDED:case a.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case a.mail.V3_MESSAGE_SAVE_SUCCEEDED:return e({},_,{v3MessageBodiesMap:e((s={},s[_.message.id]={body:S},s),_.csid?(r={},r[_.csid]={body:S},r):{})});case a.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return e({},_,{v3MessageBodiesMap:e({},_.csid?(t={},t[_.csid]={body:_.message.body},t):{})});case a.mail.MESSAGE_GROUP_OPENED:case a.mail.MESSAGE_BODIES_FAILED:return d.length?e({},_,{v3MessageBodiesMap:d.reduce(function(a,E){var s;return e({},a,(s={},s[E]={},s))},{})}):_;default:return _}};exports.default=E,module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants"}],21:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=Object.assign||function(e){for(var E=1;E<arguments.length;E++){var a=arguments[E];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},E=require("../platform/react_action_constants"),a=require("../reducers_selectors");exports.default=function(t,s){switch(s.type){case E.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case E.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case E.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case E.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case E.mail.MESSAGE_CARD_EXPANSION_CHANGED:case E.mail.MESSAGE_CARD_FOCUSED:case E.mail.APPLICATION_VISIBILITY_DID_CHANGE:case E.mail.OPEN_PAGE_REQUESTED:var _=(0,a.selectors)(t),r=_.getAdsSelectors,S=r();return e({},s,{messageReadAdRotationTimestamp:S.getMessageReadAdRotationTimestamp(),messageReadAdRotationActive:S.getMessageReadAdRotationActive()});default:return s}},module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],22:[function(require,module,exports){
"use strict";function r(r){return r&&r.__esModule?r:{default:r}}exports.__esModule=!0;var e=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},t=require("../platform/react_action_constants"),a=require("../platform/mail_constants"),o=require("lodash/omit"),s=r(o),u=require("../platform/utils/object"),i=function r(o,i){var d=i.type,r=i.route;switch(d){case t.mail.INITIAL_STATE:var n=(0,s.default)(i.draftData||{},"csid");return e({},i,{mrdParams:(0,u.values)(n).some(Boolean)?i.draftData:void 0});case t.mail.OPEN_PAGE_REQUESTED:switch(r.name){case a.RouteNames.NEW_DRAFT:var l=r.params,c=void 0===l?{}:l,f=r.query,m=void 0===f?{}:f;return e({},i,{csid:c.csid,forwardCreativeId:m.forwardCreativeId});default:return i}default:return i}};exports.default=i,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/object":"./platform/utils/object","lodash/omit":"./node_modules/lodash/omit.js"}],23:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.respondToInvite=exports.getInviteInfo=void 0;var e=require("../action_creators/calendar"),n=exports.getInviteInfo=function n(t,r,o){var s=t.dispatch,i=r.messageId,d=r.params;return o.calendarClient.getInviteInfo(d).then(function(n){return s((0,e.getInviteInfoSuccess)({messageId:i,inviteInfo:n}))}).catch(function(n){return s((0,e.getInviteInfoFailed)({messageId:i,error:n}))})},t=exports.respondToInvite=function n(t,r,o){var s=t.dispatch,i=r.uid,d=r.response,a=r.oldResponse,c=r.folder,u=c.id,I=c.name,p={folderId:u,folderName:I,numGuests:0,partStat:d,reminders:{},xComment:""};return o.calendarClient.sendReply(i,p).then(function(){return s((0,e.respondToInviteSuccess)({uid:i,response:d}))}).catch(function(){return s((0,e.respondToInviteFailed)({uid:i,response:a}))})};
},{"../action_creators/calendar":"./action_creators/calendar"}],24:[function(require,module,exports){
"use strict";function e(e,i,c){var l=e.dispatch,a=e.getState,u=(0,o.selectors)(a()),d=u.getSelectedMailboxId,n=u.getCurrentListId,I=u.getActiveAccountId,f=u.getFeaturesSelectors,S=n(),g=(0,r.getFolderIdFromListId)(S),m=I(),h=d(),M=(0,r.getSortOrderFromListId)(S),p=(0,r.getListFilterFromListId)(S),_=t.CHECK_MAIL_MESSAGES_COUNT,A=0,F={folderId:g,mailboxId:h,sortOrder:M,filter:p,count:_,offset:A,conversationsMode:f().isEnabled(t.Features.CONVERSATIONS),accountId:m,highestModSeq:0,resetUnseenCount:!1,alertStoreHighestModSeq:0};return c.mailAPIClient.request("checkMail",F).then(function(e){var t=e.folders,r=e.messageGroupList,o=e.accountAlerts;l((0,s.checkMailSuccess)({folders:t,messageGroupList:r,accountAlerts:o,count:_,listId:S}))}).catch(function(e){l((0,s.checkMailFailure)({error:e,listId:S}))})}exports.__esModule=!0;var t=require("../platform/mail_constants"),r=require("../platform/utils/list"),s=require("../action_creators/check_mail"),o=require("../reducers_selectors");exports.default=e,module.exports=exports.default;
},{"../action_creators/check_mail":"./action_creators/check_mail","../platform/mail_constants":"./platform/mail_constants","../platform/utils/list":"./platform/utils/list","../reducers_selectors":"./reducers_selectors"}],25:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.sendMessage=exports.saveMessage=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},s=require("../reducers_selectors"),a=require("../action_creators/compose"),n=require("../platform/utils/list"),r=require("../platform/mail_constants"),c=require("../platform/mail_api_client"),i=e(c),o=require("../platform/utils/object"),d={strategy:i.default.STRATEGIES.BROWSER_TO_JEDI,timeout:0},l=function e(a,n){var r=a.getState,c=(0,s.selectors)(r()),i=c.getSelectedMailboxId,o=c.getAccountIdByAccountEmail,d=c.getDraftFolderIdByAccountId,l=c.getAttachmentMessageReferenceByContentId,m=c.isReplyMessage,u=c.isReplyAllMessage,g=c.isForwardMessage,p=c.getReplyingToMessageId,f=n.to,I=n.cc,h=n.bcc,v=n.from,A=n.csid,S=n.subject,y=n.html,M=n.attachmentsInfo,C=void 0===M?[]:M,E=n.files,T=void 0===E?[]:E,R=n.captchaAnswer,_=n.newContentIds,b=void 0===_?[]:_,w=i(),F=o(v.email),q=d(F),B=C.filter(function(e){var t=b.some(function(t){return t===e.contentId}),s=l(e.contentId);return t||s}).map(function(e){var s=l(e.contentId);return s?t({},e,{messageReference:s,file:void 0}):e}),P=[{name:v.sendingName||v.email,email:v.email}],x=v.replyToAddress?[{name:v.sendingName||v.replyToAddress,email:v.replyToAddress}]:[],O={csid:A,mailboxId:encodeURIComponent(w),subject:S,captchaAnswer:R,from:P,replyTo:x,to:f,cc:I,bcc:h,html:y,folderId:q,attachments:B,files:T},j=p(A),D=m(A),G=u(A),N=g(A);return j?(O.newMessage=!1,O.inReplyTo={messageReference:{id:j},replied:D||G,forwarded:N}):O.newMessage=!0,O},m=exports.saveMessage=function e(r,c,i){var o=r.dispatch,m=r.getState,u=(0,s.selectors)(m()),g=u.getAccountIdByAccountEmail,p=u.getDraftFolderIdByAccountId,f=c.from,I=c.csid,h=c.files,v=void 0===h?[]:h,A=c.lastEditedTimeStamp,S=l(r,c),y=g(f.email),M=p(y),C=(0,n.getListIdFromFolderId)(M);return i.mailAPIClient.request("messages.saveV3",S,d,v).then(function(e){return o((0,a.saveSuccess)(t({},e,{lastEditedTimeStamp:A,csid:I,listId:C})))}).catch(function(){return o((0,a.saveFailure)({lastEditedTimeStamp:A,csid:I,listId:C}))})},u=exports.sendMessage=function e(n,c,i){var m=n.dispatch,u=n.getState,g=(0,s.selectors)(u()),p=g.getAccountIdByAccountEmail,f=g.getSendFolderIdByAccountId,I=g.getFeaturesSelectors,h=g.getComposeSessionsSelectors,v=g.getDraftMessageId,A=g.getCaptcha,S=c.csid,y=c.from,M=c.files,C=void 0===M?[]:M,E=c.lastEditedTimeStamp,T=v(S),R=h().isComposeSessionDirty(c),_=l(n,c),b=p(y.email);_.sentFolderId=f(b),_.secure=!I().isEnabled(r.Settings.SHOW_IMAGES),R||(_.messageId=T);var w=!E||R?"messages.saveAndSend":"messages.send";return(_.messageId&&!R?i.captchaClient.processCaptcha((0,o.getIn)(A(_.messageId),"captchaPayload.createResponse.Content",{})):Promise.resolve()).then(function(e){return i.mailAPIClient.request(w,t({},_,{captchaAnswer:e}),d,C)}).then(function(e){var s=(0,o.getIn)(e,"message.captcha");return s?i.captchaClient.processCaptcha((0,o.getIn)(s,"captchaPayload.createResponse.Content",{})).then(function(s){return i.mailAPIClient.request("messages.send",t({},_,{captchaAnswer:s,messageId:(0,o.getIn)(e,"message.id")}),d,C)}):Promise.resolve(e)}).then(function(e){return m((0,a.sendSuccess)(t({},e,{csid:S,lastEditedTimeStamp:E})))}).catch(function(){return m((0,a.sendFailure)({csid:S,lastEditedTimeStamp:E}))})};
},{"../action_creators/compose":2,"../platform/mail_api_client":"./platform/mail_api_client","../platform/mail_constants":"./platform/mail_constants","../platform/utils/list":"./platform/utils/list","../platform/utils/object":"./platform/utils/object","../reducers_selectors":"./reducers_selectors"}],26:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var E,a=require("../platform/react_action_constants"),_=require("./move_items"),r=e(_),i=require("./load_more_items"),t=e(i),s=require("./star_change.js"),S=e(s),u=require("./read_change.js"),l=e(u),n=require("./check_mail"),o=e(n),d=require("./request_important_contacts"),m=e(d),T=require("./request_suggestions"),I=require("./compose"),D=require("./calendar"),R=require("./unsaved_data_sync"),A=require("./open_page"),M=e(A),g=require("./message"),q=require("./onboarding");exports.default=(E={},E[a.mail.MOVE_ITEMS_REQUESTED]=r.default,E[a.mail.MORE_ITEMS_REQUESTED]=t.default,E[a.mail.V3_CHECK_MAIL_REQUESTED]=o.default,E[a.mail.STAR_CHANGE_REQUESTED]=S.default,E[a.mail.READ_CHANGE_REQUESTED]=l.default,E[a.mail.SEARCH_INPUT_FOCUSED]=m.default,E[a.mail.SUGGESTIONS_REQUESTED]=T.requestSuggestions,E[a.mail.V3_MESSAGE_SAVE_REQUESTED]=I.saveMessage,E[a.mail.GET_INVITE_INFO_REQUESTED]=D.getInviteInfo,E[a.mail.RESPOND_TO_INVITE]=D.respondToInvite,E[a.mail.OPEN_PAGE_REQUESTED]=M.default,E[a.mail.V3_MESSAGE_SEND_REQUESTED]=I.sendMessage,E[a.mail.APPLICATION_VISIBILITY_DID_CHANGE]=R.unsavedDataSync,E[a.mail.ONLINE_STATUS_CHANGED]=R.unsavedDataSync,E[a.mail.V3_PREVIEW_MESSAGE_REQUESTED]=g.getMessageBodies,E[a.mail.V3_MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED]=g.getMessageBodies,E[a.mail.LAUNCH_COMPLETED]=q.updateOnboardingStatus,E),module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants","./calendar":23,"./check_mail":24,"./compose":25,"./load_more_items":27,"./message":28,"./move_items":29,"./onboarding":30,"./open_page":31,"./read_change.js":32,"./request_important_contacts":33,"./request_suggestions":35,"./star_change.js":36,"./unsaved_data_sync":37}],27:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../platform/mail_constants"),t=require("../reducers_selectors"),s=require("../platform/utils/list"),r=require("../action_creators/load_more_items"),o=function o(i,l,a){var c=i.dispatch,n=i.getState,u=l.listId,d=l.count,I=void 0===d?e.DEFAULT_MESSAGES_TO_FETCH:d,m=a.mailAPIClient,g=(0,t.selectors)(n()),S=g.getFeaturesSelectors,p=g.getSelectedMailboxId,f=g.getListsSelectors,L=p(),h=S().isEnabled(e.Features.CONVERSATIONS),M=f(),F=M.getItemIdsSelectors,_=F(u).getItemIds().length,C={folderId:(0,s.getFolderIdFromListId)(u),mailboxId:L,sortOrder:(0,s.getSortOrderFromListId)(u),filter:(0,s.getListFilterFromListId)(u),count:I,offset:_,conversationsMode:h};return m.request("messageGroups.getList",C).then(function(e){var t=e.messageGroupList,s=e.hasMoreItems;return c((0,r.loadMoreMessageItemsSuccess)({listId:u,messageGroupList:t,hasMoreItems:s}))}).catch(function(e){c((0,r.loadMoreMessageItemsFail)({listId:u,error:e}))})},i=function o(i,l,a){var c=i.dispatch,n=i.getState,u=l.listId,d=a.bootcampClient,I=(0,t.selectors)(n()),m=I.getListsSelectors,g=m(),S=g.getItemIdsSelectors,p=g.getListNextItemsUrl,f=S(u).getItemIds().length,L=(0,s.getListContentTypeFromListId)(u),h=p(u);return L===e.ListContentTypes.MESSAGES&&(h=h.replace(/&cursor=[0-9]*/,"&cursor="+f)),d.request("searchItems",{url:h,listContentType:L}).then(function(e){c((0,r.loadMoreSearchItemsSuccess)({listId:u,listContentBlock:e}))}).catch(function(){return c((0,r.loadMoreSearchItemsFail)({listId:u}))})};exports.default=function(s,r,l){return(0,(0,t.selectors)(s.getState()).getRouterSelectors)().getRouteName()===e.RouteNames.SEARCH?i(s,r,l):o(s,r,l)},module.exports=exports.default;
},{"../action_creators/load_more_items":"./action_creators/load_more_items","../platform/mail_constants":"./platform/mail_constants","../platform/utils/list":"./platform/utils/list","../reducers_selectors":"./reducers_selectors"}],28:[function(require,module,exports){
"use strict";function e(e){var s=e.shouldFetchFullBody,a=e.cardConversationIds,t=void 0===a?[]:a,r=s?"messages.getBodiesFull":"messages.getBodies";if(t.length>0)switch(r){case"messages.getBodies":r="messages.getExtractedBodies";break;case"messages.getBodiesFull":r="messages.getExtractedBodiesFull";break;case"messages.prefetchBodies":r="messages.prefetchExtractedBodies";break;case"messages.prefetchBodiesFull":r="messages.prefetchExtractedBodiesFull"}return r}function s(s,o,i){var g=s.dispatch,l=s.getState,c=(0,t.selectors)(l()),u=c.getFeaturesSelectors,n=c.getSelectedMailboxId,m=c.getMessagesSelectors,I=c.getMessageBodiesSelectors,f=c.isDraftMessage,B=n(),h=u(),M=o.listId,p=o.messageIds,F=o.secure,v=void 0===F||F,C=o.full,E=void 0!==C&&C,S=I(),_=S.hasFullBody,b=S.isSecureMessage,O=h.isEnabled("fetchFullBody"),x=!h.isEnabled(r.Settings.SHOW_IMAGES),D=h.isEnabled(r.Features.CONVERSATIONS),R=h.isEnabled(r.Features.COUPON_CARD_EXTRACTIONS),T=h.isEnabled(r.Features.FLIGHT_CARD_EXTRACTIONS),A=!D||E||O,q=v&&x,y=p.reduce(function(e,s){var a=e.messageIds,t=e.draftMessageIds,o=e.cardConversationIds,i=m().getDecos(s),g=m().getCardConversationId(s);return f(s)?t.push(s):!b(s)&&_(s)||a.push(s),g&&(R&&(0,d.isDecoOfType)(i,r.MessageDecorators.CPN)||T&&(0,d.isDecoOfType)(i,r.MessageDecorators.FLR))&&o.push(g),{messageIds:a,draftMessageIds:t,cardConversationIds:o}},{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),N=y.messageIds,P=y.draftMessageIds,k=y.cardConversationIds;if(!N.length&&!P.length)return Promise.resolve();var G=e({shouldFetchFullBody:A,cardConversationIds:k});return g((0,a.messageBodiesRequested)({listId:M,messageIds:p})),i.mailAPIClient.request(G,{mailboxId:B,messageIds:N,draftMessageIds:P,cardConversationIds:k,full:A,secure:q}).then(function(e){e.error&&e.error.messageIds&&e.error.messageIds.length&&g((0,a.messageBodiesFailed)({listId:M,messageIds:e.error.messageIds})),g((0,a.messageBodiesReceived)({listId:M,full:A,secure:q,messageBodiesMap:e.result.messageBodiesMap,messageMetadataMap:e.result.messageMetadataMap}))}).catch(function(e){g((0,a.messageBodiesFailed)({listId:M,messageIds:p,error:e}))})}exports.__esModule=!0,exports.getMessageBodies=s;var a=require("../action_creators/message"),t=require("../reducers_selectors"),r=require("../platform/mail_constants"),d=require("../platform/mail_api_client/utils");
},{"../action_creators/message":4,"../platform/mail_api_client/utils":"./platform/mail_api_client/utils","../platform/mail_constants":"./platform/mail_constants","../reducers_selectors":"./reducers_selectors"}],29:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../reducers_selectors"),t=require("../action_creators/move_items"),s=function s(r,o,a){var i=r.dispatch,u=r.getState,c=(0,e.selectors)(u()),n=c.getSelectedMailboxId,l=o.itemsToUpdate.filter(function(e){return e.isAffected});if(l.length){var m={mailboxId:n(),messageItems:l,async:!1};return a.mailAPIClient.request("messages.updateV3",m).then(function(){return i((0,t.moveItemsSuccess)())}).catch(function(){return i((0,t.moveItemsFail)())})}};exports.default=s,module.exports=exports.default;
},{"../action_creators/move_items":"./action_creators/move_items","../reducers_selectors":"./reducers_selectors"}],30:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.updateOnboardingStatus=void 0;var e=require("../action_creators/onboarding"),t=require("../platform/udb_client/constants"),r=require("../reducers_selectors"),a=exports.updateOnboardingStatus=function a(n,s,o){var u,i,d=n.dispatch,c=n.getState,l=(0,r.selectors)(c()),b=l.getFeaturesSelectors,S=b(),_=S.isEnabled("hasSeenOnboarding"),g=S.isEnabled("disableOnboarding"),O=t.UDBSubKeys[t.UDBKeys.YM_MAIL_SCOUT].SEEN_DISABLED,p=Math.round(Date.now()/1e3);return!g||_?Promise.resolve():o.udbClient.write((i={},i[t.UDBKeys.YM_MAIL_SCOUT]=(u={},u[O]=p,u),i)).then(function(){return d((0,e.markOnboardingStatusSucceeded)({name:O,value:p}))}).catch(function(){return d((0,e.markOnboardingStatusFailed)({name:O,value:p}))})};
},{"../action_creators/onboarding":5,"../platform/udb_client/constants":"./platform/udb_client/constants","../reducers_selectors":"./reducers_selectors"}],31:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../platform/mail_constants"),r=require("./request_search"),t=require("./unsaved_data_sync"),s=require("../reducers_selectors");exports.default=function(a,u,o){var c=(0,s.selectors)(a.getState()),l=c.getRouterSelectors,i=l(),n=i.isMobileRoute,d=[(0,t.unsavedDataSync)(a,u,o)];if(!n())return Promise.all(d);switch(u.route.name){case e.RouteNames.SEARCH:return Promise.all(d.concat((0,r.requestSearch)(a,u,o)))}},module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../reducers_selectors":"./reducers_selectors","./request_search":34,"./unsaved_data_sync":37}],32:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../reducers_selectors"),t=require("../action_creators/read_change"),r=function r(a,s,n){var u=a.dispatch,i=a.getState,c=s.isRead,d=(0,e.selectors)(i()),o=d.getSelectedMailboxId,l=s.itemsToUpdate.filter(function(e){return e.isAffected}).map(function(e){return e.messageId}),f={read:!c};if(l.length){var g={mailboxId:o(),messageIds:l,flags:f};return n.mailAPIClient.request("messages.update",[g]).then(function(){return u((0,t.readChangeSuccess)())}).catch(function(){return u((0,t.readChangeFail)())})}};exports.default=r,module.exports=exports.default;
},{"../action_creators/read_change":"./action_creators/read_change","../reducers_selectors":"./reducers_selectors"}],33:[function(require,module,exports){
"use strict";function t(t,r,s){var o=t.dispatch,n=t.getState,u=(0,a.selectors)(n()),i=u.getEmailOfActiveAccount,l=i();o((0,e.requestContactsFetch)({}));var C=c.mail.IMPORTANT_CONTACTS_FETCH_SUCCEEDED;return s.autoSuggestClient.importantContacts(l).then(function(t){var c=t.contacts;o((0,e.fetchContactsSuccess)({contacts:c,type:C}))}).catch(function(){o((0,e.fetchContactsFailed)({}))})}exports.__esModule=!0;var e=require("../action_creators/contacts_mail"),c=require("../platform/react_action_constants"),a=require("../reducers_selectors");exports.default=t,module.exports=exports.default;
},{"../action_creators/contacts_mail":3,"../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],34:[function(require,module,exports){
"use strict";function e(e,i,c){var n=e.dispatch,l=e.getState,u=(0,a.selectors)(l()),m=u.getRouterSelectors,p=u.getEmailOfActiveAccount,d=u.getFeaturesSelectors,v=d(),f=v.getSetting,g=v.isEnabled;if(m().isMobileRoute()){var S=(0,r.getListIdFromRoute)(i.route),h=p(),_=null;return _=c.bootcampClient.createStream("searchStream",t({},(0,r.getBootcampApiQueryParams)(S),{limit:50,threads:g("conversations"),accountemail:"smtp:"+h,sourceTag:f(o.Settings.SEARCH_SOURCE_TAG)})),_.on("data",function(e){if(200!==e.status&&e.error&&"BootcampApiClient.SearchError"===e.error.name)n((0,s.failSearch)({listId:S}));else{var t={listId:S,response:e};n((0,s.searchBlockReceived)(t))}}),_.on("end",function(){var e={listId:S};n((0,s.searchListReceived)(e))}),_}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};exports.requestSearch=e;var r=require("../platform/utils/list"),a=require("../reducers_selectors"),s=require("../action_creators/search_mail"),o=require("../platform/mail_constants");
},{"../action_creators/search_mail":6,"../platform/mail_constants":"./platform/mail_constants","../platform/utils/list":"./platform/utils/list","../reducers_selectors":"./reducers_selectors"}],35:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function s(e,s,r){var u=e.dispatch,n=e.getState,i=(0,o.selectors)(n()),g=i.getFeaturesSelectors,c=s.query,a=g().isEnabled("showTextualSuggestions"),l=Object.assign({query:c},a?{textualSuggest:1}:null);if(!s.suggestions){var d=s.i13nModel;return Promise.resolve(r.bootcampClient.request("searchSuggestions",l)).then(function(e){u((0,t.searchSuggestionsSuccess)({query:c,suggestions:e,i13nModel:d}))}).catch(function(e){return u((0,t.searchSuggestionsFailure)(e))})}}exports.__esModule=!0,exports.requestSuggestions=void 0,exports.requestSearchSuggestions=s;var t=require("../action_creators/suggestions_search"),r=require("lodash/debounce"),u=e(r),o=require("../reducers_selectors"),n=exports.requestSuggestions=(0,u.default)(s,300);
},{"../action_creators/suggestions_search":7,"../reducers_selectors":"./reducers_selectors","lodash/debounce":"./node_modules/lodash/debounce.js"}],36:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../reducers_selectors"),t=require("../action_creators/star_change"),r=function r(s,a,n){var u=s.dispatch,i=s.getState,c=a.isStarred,o=(0,e.selectors)(i()),d=o.getSelectedMailboxId,l=a.itemsToUpdate.filter(function(e){return e.isAffected}).map(function(e){return e.messageId}),f={flagged:!c};if(l.length){var g={mailboxId:d(),messageIds:l,flags:f};return n.mailAPIClient.request("messages.update",[g]).then(function(){return u((0,t.starChangeSuccess)())}).catch(function(){return u((0,t.starChangeFail)())})}};exports.default=r,module.exports=exports.default;
},{"../action_creators/star_change":"./action_creators/star_change","../reducers_selectors":"./reducers_selectors"}],37:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.unsavedDataSync=void 0;var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=require("../platform/mail_constants"),t=require("../reducers_selectors"),s=require("./compose"),a=exports.unsavedDataSync=function a(n,o,u){if(!(0,(0,(0,t.selectors)(n.getState()).getFeaturesSelectors)().isEnabled)(r.Features.COMPOSE_V3))return Promise.resolve();var i=o.unsavedData,l=void 0===i?[]:i,c=l.filter(function(e){return e.type===r.UnsavedDataTypes.COMPOSE});return c.length?Promise.all(c.map(function(r){return(0,s.saveMessage)(n,e({},o,r.userInputtedValues),u)})):Promise.resolve()};
},{"../platform/mail_constants":"./platform/mail_constants","../reducers_selectors":"./reducers_selectors","./compose":25}],"./actions/ads":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var i=t.fallbacks,a=t.spaceid,s=(0,S.getListIdFromRoute)(e.getStore(D.default).getActivePageRoute());if(!(0,S.getSearchAdKeywordFromListId)(s)&&!(0,S.isPeopleSearch)(s)){var r=(0,x.selectors)(e.store.getState()),o=r.getFeaturesSelectors,n=r.getAdsSelectors,c=o(),l=n().getGeminiCategories();e.dispatch(m.mail.GEMINI_AD_REQUESTED,{fallbacks:i});var d=e.config.geminiForceFilter,E={adCount:e.config.geminiRequestParams.adCount,sectionId:e.config.geminiRequestParams.sectionId,publisherInfo:"||"+a+"|STRM|"};d&&(E.forceFilter=d),c.isEnabled(p.Features.GEMINI_SPONSORED_VIDEO)&&(E.creativeCode="STRM,STRM_VIDEO",E.contentType="video/mp4"),l&&l.length&&(E.adCategories=l.join(",")),e.geminiAPIClient.request(E,{adPosition:"messagelist"}).then(function(t){return e.dispatch(m.mail.GEMINI_AD_RECEIVED,{geminiAd:t&&t[0]})}).catch(function(t){return e.dispatch(m.mail.GEMINI_AD_FAILED,{error:t})})}}function i(e){e.dispatch(m.mail.AD_FALLBACK_CLICKED)}function a(e){e.dispatch(m.mail.AD_GEMINI_CLICKED)}function s(e){e.dispatch(m.mail.AD_FEEDBACK_STARTED)}function r(e){e.dispatch(m.mail.AD_FEEDBACK_SUBMITTED)}function o(e){e.dispatch(m.mail.AD_FEEDBACK_CLOSED)}function n(e,t){t.error?e.dispatch(m.mail.DARLA_ADS_FAILED,t):e.dispatch(m.mail.DARLA_ADS_RECEIVED,t)}function c(e){var t=(0,x.selectors)(e.store.getState()).getAdsSelectors(),i=t.getNativeAdData,a=t.getGeminiAdData,s=i(),r=a();e.dispatch(m.mail.GEMINI_SPONSORED_AD_OPENED,{sponsoredAd:r});var o=N.default.feature("gemini_sponsored_asset_call");if(s.url&&!s.geminiSponsoredAsset){var n=new O.default("GET",s.url,{timeout:1e3});n.setHeader("Accept","text/html");var c=n.send();c.then(o.logSuccessAndLatency,o.logFailure),c.then(function(t){e.dispatch(m.mail.GEMINI_SPONSORED_ASSET_RECEIVED,{creativeId:r.creativeId,asset:t.text})}).catch(function(t){e.dispatch(m.mail.GEMINI_SPONSORED_ASSET_FAILED,{error:t,url:s.url})})}}function l(e){e.dispatch(m.mail.MESSAGE_READ_AD_ROTATION_TIMER)}function d(e){var t=(0,x.selectors)(e.store.getState()).getAdsSelectors(),i=t.getGeminiAdData,a=e.getStore(R.default).getMailboxes()[0].id,s=e.getStore(f.default),r=s.getActiveAccount(),o=s.getActiveAccountId(),n=s.getFolderIdForAccount(p.FolderTypes.INBOX,o),c=(0,v.generateUID)(),l=i(),d=l.nativeAd,E=l.pencilAd,u={csid:c,mailboxId:a,subject:E.adHeadline,html:d.geminiSponsoredAsset,from:[r],folderId:n};e.mailAPIClient.request("messages.save",u,{strategy:F.default.STRATEGIES.BROWSER_TO_JEDI,timeout:P.SAVE_REQUEST_TIMEOUT_BASE}).then(function(t){var i=t.message;e.dispatch(m.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED,{message:i,simpleBody:{html:u.html,htmlAnnotations:[]}})}).catch(function(){e.dispatch(m.mail.SPONSORED_SAVE_TO_INBOX_FAILED)})}function E(e){e.dispatch(m.mail.FEATURE_DISABLED,{name:p.Features.IS_WIDER_MAIL_EXTN_ENABLED})}function u(e,t){e.dispatch(m.mail.AD_ROTATION_SKIPPED,t)}function A(e,t){e.dispatch(m.mail.PREMIUM_AD_STARTED,t)}function _(e,t){e.dispatch(m.mail.PREMIUM_AD_STOPPED,t)}exports.__esModule=!0,exports.getPencilAd=t,exports.fallbackClicked=i,exports.geminiClicked=a,exports.startAdFeedback=s,exports.submitAdFeedback=r,exports.closeAdFeedback=o,exports.darlaAdHandler=n,exports.getGeminiSponsoredAsset=c,exports.messageReadAdRotationTimer=l,exports.saveSponsoredMessage=d,exports.disableWiderMailExtension=E,exports.adRotationSkipped=u,exports.premiumAdStarted=A,exports.premiumAdStopped=_;var m=require("../platform/react_action_constants"),p=require("../platform/mail_constants"),S=require("../platform/utils/list"),I=require("../stores/pages"),D=e(I),g=require("../stores/mail"),f=e(g),h=require("../stores/user_preferences"),R=e(h),T=require("../platform/http_transport"),O=e(T),M=require("../platform/mail_api_client"),F=e(M),C=require("../platform/logger"),N=e(C),v=require("../platform/utils"),P=require("../molecules/compose/actions.js"),x=require("../reducers_selectors");
},{"../molecules/compose/actions.js":"./molecules/compose/actions","../platform/http_transport":"./platform/http_transport","../platform/logger":"./platform/logger","../platform/mail_api_client":"./platform/mail_api_client","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils":"./platform/utils","../platform/utils/list":"./platform/utils/list","../reducers_selectors":"./reducers_selectors","../stores/mail":"./stores/mail","../stores/pages":"./stores/pages","../stores/user_preferences":"./stores/user_preferences"}],"./actions/all_selected":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r=e.getStore(g.default),n=r.getActiveAccountId();return r.getFolderIdForAccount(t,n)}function r(e,t,r,n,o){var s=e.getStore(g.default),a=s.getActiveAccountId(),i=e.getStore(I.default).getMailboxes()[0].id,l=t.listId,u=t.destinationFolderId,d=t.allItemsCount,c=(0,F.getFolderIdFromListId)(l),f=s.getLmv3Query(l),m=JSON.parse(f),_=s.getFolder(u),A=m?m.base:null;if(!A&&c&&(A=(0,R.getFolderListUpdateQuery)(o,{folderId:c})),A){m&&m.token&&(A+=" querytoken:"+m.token);var v=p({},t,{mailboxId:i,accountId:a,folder:_,flags:r,async:!0,conversations:!1,count:d,actionType:o,successActionType:n.success,failureActionType:n.failure});e.dispatch(n.request,v);var y=p({mailboxId:i,query:A,async:!0,isConversation:!1},u&&{destinationFolderId:u},r&&{flags:r});return e.mailAPIClient.request("folderList.update",[y]).then(function(t){e.dispatch(E.mail.BULK_PROGRESS_RECEIVED,{task:t.task})}).catch(function(t){e.dispatch(E.mail.BULK_PROGRESS_FAILED,Object.assign({},v,{error:t}))})}}function n(e,t){return r(e,t,null,v,y)}function o(e,n){return r(e,p({},n,{destinationFolderId:t(e,A.FolderTypes.TRASH)}),null,v,y)}function s(e,n){return r(e,p({},n,{destinationFolderId:t(e,A.FolderTypes.ARCHIVE)}),null,v,y)}function a(e,n){return r(e,p({},n,{destinationFolderId:t(e,A.FolderTypes.INBOX)}),null,v,y)}function i(e,n){var o=t(e,A.FolderTypes.BULK),s={spam:!0};return r(e,p({},n,{destinationFolderId:o}),s,v,y)}function l(e,n){var o=t(e,A.FolderTypes.INBOX),s={ham:!0};return r(e,p({},n,{destinationFolderId:o}),s,v,y)}function u(e,t){return r(e,t,{read:!0},U,S)}function d(e,t){return r(e,t,{read:!1},U,S)}function c(e,t){return r(e,t,{flagged:!0},U,S)}function f(e,t){return r(e,t,{flagged:!1},U,S)}exports.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};exports.move=n,exports.deleteMessages=o,exports.archive=s,exports.restore=a,exports.markAsSpam=i,exports.markAsNotSpam=l,exports.markAsRead=u,exports.markAsUnread=d,exports.markAsFlagged=c,exports.markAsUnflagged=f;var E=require("../platform/react_action_constants"),m=require("../stores/user_preferences"),I=e(m),_=require("../stores/mail"),g=e(_),A=require("../platform/mail_constants"),F=require("../platform/utils/list"),R=require("./folder"),v={request:E.mail.MOVE_QUERY_REQUESTED,success:E.mail.MOVE_QUERY_SUCCEEDED,failure:E.mail.MOVE_QUERY_FAILED},y=A.BulkActionTypes.MOVE_QUERY,U={request:E.mail.MARK_QUERY_REQUESTED,success:E.mail.MARK_QUERY_SUCCEEDED,failure:E.mail.MARK_QUERY_FAILED},S=A.BulkActionTypes.MARK_QUERY;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/list":"./platform/utils/list","../stores/mail":"./stores/mail","../stores/user_preferences":"./stores/user_preferences","./folder":"./actions/folder"}],"./actions/application":[function(require,module,exports){
"use strict";function e(e,t){var o=t.route,r=(0,i.selectors)(e.store.getState()),a=r.getFeaturesSelectors,c=a(),n=c.isEnabled("hero");e.dispatch(s.mail.CLOSE_PAGE_REQUESTED,{route:o,hero:n})}function t(e){e.dispatch(s.mail.SHOW_APP_RELOAD)}function o(e){e.dispatch(s.mail.CANCEL_APP_RELOAD)}function r(e){e.dispatch(s.mail.CONFIRM_APP_RELOAD),window.location.reload()}function a(e){e.dispatch(s.mail.RESOLUTION_CHANGE)}exports.__esModule=!0,exports.closePage=e,exports.showReload=t,exports.cancelReload=o,exports.reloadApp=r,exports.discardResolutionChangeWarning=a;var s=require("../platform/react_action_constants"),i=require("../reducers_selectors");
},{"../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],"./actions/attachment":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var n=t.attachmentId,r=(0,C.selectors)(e.store.getState()),o=r.getDocumentSelectors,d=o(),i=e.getStore(p.default),s=i.getAttachment(n),u=s||{},E=u.documentId,m=s.type,_=void 0===m?"":m,T=s.subtype,A=void 0===T?"":T,D=_+"/"+A;if(E&&_!==P.Attachments.Types.IMAGE&&!d.isDocumentLoaded(E)){if(!(0,f.isPreviewable)(s))return e.dispatch(l.mail.DOCUMENT_PREVIEW_FAILED,{documentId:E,error:{data:{info:{documentError:a({type:_,subtype:A})}}}});var g=P.AttachmentPreview.PAGES_CHUNK_SIZE;return c(e,{success:l.mail.DOCUMENT_FETCH_SUCCEEDED,failure:l.mail.DOCUMENT_FETCH_FAILED},{documentId:E,startPage:1,endPage:g,mimeType:D})}}function a(e){var t=e.type,a=e.subtype;switch((0,f.getAttachmentType)(t,a)){case P.Attachments.SimplifiedTypes.COMPRESSED:return{code:625,isRetryable:!1};default:return{code:813,isRetryable:!1}}}function n(e){e.dispatch(l.mail.ATTACHMENT_ZOOMED)}function r(e){e.dispatch(l.mail.ATTACHMENT_OPENED)}function o(e,t){var a=t.documentId,n=t.pageNumber,r=(0,C.selectors)(e.store.getState()),o=r.getDocumentSelectors,d=o();if(!d.isPageLoading(a,n)&&!d.isPageLoaded(a,n)){var i=d.getNumberOfPages(a),s=(0,f.getPageRangeForDocument)(n,i,P.AttachmentPreview.PAGES_CHUNK_SIZE),u=s.startPage,E=s.endPage;return e.dispatch(l.mail.DOCUMENT_PAGE_FETCH_REQUESTED,{documentId:a,startPage:u,endPage:E}),c(e,{success:l.mail.DOCUMENT_PAGE_FETCH_SUCCEEDED,failure:l.mail.DOCUMENT_PAGE_FETCH_FAILED},{documentId:a,startPage:u,endPage:E})}}function d(e,t){var a=t.documentId,n=t.pageNumber;return e.dispatch(l.mail.DOCUMENT_PAGE_FETCH_REQUESTED,{documentId:a,startPage:n,endPage:n}),c(e,{success:l.mail.DOCUMENT_PAGE_FETCH_SUCCEEDED,failure:l.mail.DOCUMENT_PAGE_FETCH_FAILED},{documentId:a,startPage:n,endPage:n})}function i(e,t){var a=t.documentId;e.dispatch(l.mail.DOCUMENT_FETCH_REQUESTED,{documentId:a});var n=P.AttachmentPreview.PAGES_CHUNK_SIZE;return c(e,{success:l.mail.DOCUMENT_FETCH_SUCCEEDED,failure:l.mail.DOCUMENT_FETCH_FAILED},{documentId:a,startPage:1,endPage:n})}function c(e,t,a){var n=t.success,r=t.failure,o=a.documentId,d=a.startPage,i=a.endPage,c=a.mimeType,s=void 0===c?"":c;return e.mailAPIClient.request("document.fetch",{documentId:o,startPage:d,endPage:i,mimeType:s},{strategy:T.default.STRATEGIES.BROWSER_TO_JEDI}).then(function(t){return 815===(0,D.getIn)(t,"data.info.documentError.code",null)?e.dispatch(r,{documentId:o,error:t,startPage:d,endPage:i}):void e.dispatch(n,{response:t,documentId:o})}).catch(function(t){e.dispatch(r,{documentId:o,error:t,startPage:d,endPage:i})})}function s(e,t){var a=t.attachmentId,n=t.uiState;e.dispatch(l.mail.ATTACHMENT_PREVIEW_STATE_SAVE_REQUESTED,{attachmentId:a,uiState:n})}function u(e){e.dispatch(l.mail.ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN)}function E(e){var t=e.attachment,a=e.i13nModel,n=t.downloadUrl,r=t.id,o=t.filename;return{attachment:t,type:l.mail.ATTACHMENT_DOWNLOADED,download:{downloadId:r,downloadUrl:n,filename:o,fileCount:1},i13nModel:a}}function m(e){var t=e.attachments,a=e.downloadUrl,n=e.downloadId,r=e.filename,o=e.i13nModel;return{attachments:t,type:l.mail.ALL_ATTACHMENTS_DOWNLOADED,download:{downloadId:n,downloadUrl:a,filename:r,fileCount:t.length},i13nModel:o}}exports.__esModule=!0,exports.loadAttachmentIfNotPresent=t,exports.zoomAttachment=n,exports.openAttachmentLink=r,exports.fetchDocumentPages=o,exports.refreshDocumentPage=d,exports.retryFetchDocument=i,exports.saveAttachmentPreviewUiState=s,exports.switchAttachmentPreviewToFullScreen=u,exports.downloadAttachment=E,exports.downloadAllAttachments=m;var l=require("../platform/react_action_constants"),_=require("../platform/mail_api_client"),T=e(_),P=require("../platform/mail_constants"),A=require("../stores/mail"),p=e(A),f=require("../platform/utils/attachments"),C=require("../reducers_selectors"),D=require("../platform/utils/object");
},{"../platform/mail_api_client":"./platform/mail_api_client","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/attachments":"./platform/utils/attachments","../platform/utils/object":"./platform/utils/object","../reducers_selectors":"./reducers_selectors","../stores/mail":"./stores/mail"}],"./actions/folder":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){return t>=(0,(0,L.selectors)(e.store.getState()).getFeaturesSelectors)().getSetting("bulkActionDialogThreshold")}function r(e,t){var r=t.folderId,a="folderId:"+r+" count:"+S;return e===I.BulkActionTypes.MARK_READ&&(a+=" is:unread"),a}function a(e,t){var r=e.getStore(R.default).getMailboxes()[0].id,a=t.accountId,i=t.folderName;return e.dispatch(A.mail.CREATE_FOLDER_REQUESTED,t),e.mailAPIClient.request("folders.create",{mailboxId:r,folderName:i,accountId:a}).then(function(t){e.dispatch(A.mail.CREATE_FOLDER_SUCCEEDED,{folder:t.folder})}).then(function(){return(0,g.messageCheckMail)(e)}).catch(function(t){e.dispatch(A.mail.CREATE_FOLDER_FAILED,{folder:{name:i},error:t})})}function i(e,t){var r=e.getStore(R.default).getMailboxes()[0].id,a=t.folder;return e.mailAPIClient.request("folders.delete",{mailboxId:r,folderId:a.id}).then(function(){e.dispatch(A.mail.DELETE_FOLDER_SUCCEEDED,t)}).catch(function(r){e.dispatch(A.mail.DELETE_FOLDER_FAILED,Object.assign({},t,{error:r}))})}function o(e,t){var r=t.folderId,a=t.folderName,i=e.getStore(R.default).getMailboxes()[0].id,o=e.getStore(D.default).getFolder(r).name,n=a.substr(a.lastIndexOf("/")+1),s=(0,L.selectors)(e.store.getState()).getFeaturesSelectors(),d=s.getSetting(I.Settings.MESSAGE_FILTERS),E=d.map(function(e){return l(e,o,n)});return e.dispatch(A.mail.RENAME_FOLDER_REQUESTED,{folderId:r,folderName:a,name:I.Settings.MESSAGE_FILTERS,value:E}),e.mailAPIClient.request("folders.rename",{mailboxId:i,folderId:r,folderName:a,filters:E}).then(function(t){var r=t.folder;e.dispatch(A.mail.RENAME_FOLDER_SUCCEEDED,{newFolderName:n,folderId:r.id,originalFolderName:o,folder:r})}).catch(function(t){e.dispatch(A.mail.RENAME_FOLDER_FAILED,{newFolderName:n,originalFolderName:o,filters:E,error:t})})}function l(e,t,r){return f({},e,{actions:e.actions.map(function(e){if(e.value.folderActionValueBean.folder.name!==t)return e;var a=f({},e);return a.value.folderActionValueBean.folder.name=r,a})})}function n(e,a){var i=e.getStore(R.default).getMailboxes()[0].id,o=a.folder,l=o.id,n=o.unread,s=(0,p.getListIdFromFolderId)(l),d=Math.min(n,S),E=t(e,d),c=Object.assign({},a,{mailboxId:i,listId:s,async:E,count:d,actionType:I.BulkActionTypes.MARK_READ,successActionType:A.mail.MARK_READ_FOLDER_SUCCEEDED,failureActionType:A.mail.MARK_READ_FOLDER_FAILED});return e.dispatch(A.mail.MARK_READ_FOLDER_REQUESTED,c),e.mailAPIClient.request("folderList.update",[{mailboxId:i,query:r(I.BulkActionTypes.MARK_READ,{folderId:l}),flags:{read:!0},async:E}]).then(function(t){E?e.dispatch(A.mail.BULK_PROGRESS_RECEIVED,{task:t.task}):e.dispatch(A.mail.MARK_READ_FOLDER_SUCCEEDED,c)}).catch(function(t){E?e.dispatch(A.mail.BULK_PROGRESS_FAILED,Object.assign({},c,{error:t})):e.dispatch(A.mail.MARK_READ_FOLDER_FAILED,Object.assign({},c,{error:t}))})}function s(e,a){var i=e.getStore(R.default).getMailboxes()[0].id,o=e.getStore(D.default),l=a.folder,n=l.id,s=l.accountId,d=l.total,E=(0,p.getListIdFromFolderId)(n),c=I.FolderTypes.ARCHIVE,u=Math.min(d,S),f=t(e,u),_=Object.assign({},a,{mailboxId:i,listId:E,destinationFolderType:c,async:f,count:u,actionType:I.BulkActionTypes.ARCHIVE,successActionType:A.mail.ARCHIVE_FOLDER_SUCCEEDED,failureActionType:A.mail.ARCHIVE_FOLDER_FAILED}),m={mailboxId:i,query:r(I.BulkActionTypes.ARCHIVE,{folderId:n}),destinationFolderId:o.getFolderIdForAccount(c,s),async:f};return e.dispatch(A.mail.ARCHIVE_FOLDER_REQUESTED,_),e.mailAPIClient.request("folderList.update",[m]).then(function(t){f?e.dispatch(A.mail.BULK_PROGRESS_RECEIVED,{task:t.task}):e.dispatch(A.mail.ARCHIVE_FOLDER_SUCCEEDED,_)}).catch(function(t){f?e.dispatch(A.mail.BULK_PROGRESS_FAILED,Object.assign({},_,{error:t})):e.dispatch(A.mail.ARCHIVE_FOLDER_FAILED,Object.assign({},_,{error:t}))})}function d(e,a){var i=e.getStore(R.default).getMailboxes()[0].id,o=e.getStore(D.default),l=a.folder,n=l.id,s=l.accountId,d=l.total,E=(0,p.getListIdFromFolderId)(n),c=(0,F.getPrimaryFolderType)(l),u=(0,F.isPermDeleteFolderType)(c),f=Math.min(d,S),_=t(e,f),m=Object.assign({},a,{mailboxId:i,listId:E,permanent:u,async:_,count:f,actionType:I.BulkActionTypes.DELETE,successActionType:A.mail.CLEAR_FOLDER_SUCCEEDED,failureActionType:A.mail.CLEAR_FOLDER_FAILED}),L={mailboxId:i,folderId:n,async:_,isConversation:!1},g=void 0;return u?g="folderList.delete":(g="folderList.update",L.query=r(I.BulkActionTypes.DELETE,{folderId:n}),L.destinationFolderId=o.getFolderIdForAccount(I.FolderTypes.TRASH,s)),e.dispatch(A.mail.CLEAR_FOLDER_REQUESTED,m),e.mailAPIClient.request(g,[L]).then(function(t){_?e.dispatch(A.mail.BULK_PROGRESS_RECEIVED,{task:t.task}):e.dispatch(A.mail.CLEAR_FOLDER_SUCCEEDED,m)}).catch(function(t){_?e.dispatch(A.mail.BULK_PROGRESS_FAILED,Object.assign({},m,{error:t})):e.dispatch(A.mail.CLEAR_FOLDER_FAILED,Object.assign({},m,{error:t}))})}function E(e){e.dispatch(A.mail.FOLDER_CONTEXT_MENU_REQUESTED)}function c(e){e.dispatch(A.mail.EXPAND_ACCOUNT_LIST)}function u(e,t){e.dispatch(A.mail.DELETE_NON_EMPTY_FOLDER_REQUESTED,t)}exports.__esModule=!0,exports.BULK_LIMIT=void 0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};exports.getFolderListUpdateQuery=r,exports.createFolder=a,exports.deleteFolder=i,exports.renameFolder=o,exports.markFolderAsRead=n,exports.archiveAllMessages=s,exports.deleteAllMessages=d,exports.showFolderMenu=E,exports.toggleAccountsList=c,exports.deleteNonEmptyFolder=u;var _=require("../stores/user_preferences"),R=e(_),m=require("../stores/mail"),D=e(m),A=require("../platform/react_action_constants"),p=require("../platform/utils/list"),I=require("../platform/mail_constants"),F=require("../platform/utils/folder"),L=require("../reducers_selectors"),g=require("../apps/mail/actions"),S=exports.BULK_LIMIT=1e4;
},{"../apps/mail/actions":"./apps/mail/actions","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/folder":"./platform/utils/folder","../platform/utils/list":"./platform/utils/list","../reducers_selectors":"./reducers_selectors","../stores/mail":"./stores/mail","../stores/user_preferences":"./stores/user_preferences"}],"./actions/folder_message_list":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s.default=e,s}exports.__esModule=!0,exports.ListActions=void 0;var s=require("./message_group"),r=e(s),a=require("../molecules/message_list/actions"),o=e(a),t=exports.ListActions={retryLoading:o.retryLoading,archiveMessageGroups:r.archiveMessageGroups,restoreMessageGroups:r.restoreMessageGroups,deleteMessageGroups:r.deleteMessageGroups,moveMessageGroups:r.moveMessageGroups,markMessageGroupsAsSpam:r.markMessageGroupsAsSpam,markMessageGroupsAsNotSpam:r.markMessageGroupsAsNotSpam,markMessageGroupsAsRead:r.markMessageGroupsAsRead,markMessageGroupsAsUnread:r.markMessageGroupsAsUnread,markMessageGroupsAsFlagged:r.markMessageGroupsAsFlagged,markMessageGroupsAsUnflagged:r.markMessageGroupsAsUnflagged,changeSortOrder:o.changeSortOrder,loadMoreMessagesAfterScroll:o.loadMoreMessagesAfterScroll,toggleSelection:o.toggleSelection,selectAll:o.selectAll,selectRange:o.selectRange,selectNone:o.selectNone,selectRead:o.selectRead,selectUnread:o.selectUnread,selectStarred:o.selectStarred,selectUnstarred:o.selectUnstarred,moveCursor:o.moveCursor,selectMove:o.selectMove,itemDragStart:o.itemDragStart};
},{"../molecules/message_list/actions":"./molecules/message_list/actions","./message_group":"./actions/message_group"}],"./actions/message":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function s(e,s){var t=(0,re.selectors)(e.store.getState()),a=t.getFeaturesSelectors,r=a();return s.length>=r.getSetting("bulkActionDialogThreshold")}function t(e,s){var t=s.listId,a=s.currentGroupId,r=s.allItemsSelected,o=(0,re.selectors)(e.store.getState()),i=o.getFeaturesSelectors,n=i(),d=n.getSetting("messageScrollLoadThreshold"),l=e.getStore(j.default),u=l.getCurrentItemIndex(a,t),E=l.getItemListIdsForList(t),c=l.hasMoreItems(t),g=E.length-u,S=e.getStore(z.default).getActivePageRoute().name,m=S===k.RouteNames.MESSAGE_FROM_SEARCH_LIST;if(c&&g<=d)return m?ae.ListActions.loadMoreMessagesAfterScroll(e,{listId:t,offset:E.length,allItemsSelected:r}):te.ListActions.loadMoreMessagesAfterScroll(e,{listId:t,offset:E.length,count:k.DEFAULT_MESSAGES_TO_FETCH,allItemsSelected:r})}function a(e,t,a){var r=t.sourceListId,o=t.fromMessageGroupView,i=t.destinationFolderId,n=t.messageIds,d=t.messageGroupIds,l=t.nextGroupId,E=a.pendingActionType,c=a.successActionType,g=a.failureActionType,S=e.getStore(Z.default),m=S.getMailboxes()[0].id,p=e.getStore(j.default),I=d.length,A=p.getFolder(i),_=s(e,d),M=(0,re.selectors)(e.store.getState()),T=M.getFeaturesSelectors,R=T(),y=R.isEnabled(k.Features.CONVERSATIONS);if(n=u(e,r,i,n,o),0!==n.length){var F={undoMap:p.groupMessagesByFolder(n),destinationFolderType:(0,W.getPrimaryFolderType)(A),actionCreator:f};return e.dispatch(E,{messageIds:n,destinationFolderId:i,undoPayload:F,async:_,count:I,folder:A,conversations:y,nextGroupId:l,listId:r,successActionType:c,failureActionType:g}),e.mailAPIClient.request("messages.update",[{mailboxId:m,destinationFolderId:i,messageIds:n,async:_}]).then(function(s){var t=s.results;_?t.forEach(function(s){e.dispatch(K.mail.BULK_PROGRESS_RECEIVED,{task:s.task})}):e.dispatch(c,{listId:r,messageGroupIds:d,folder:A,count:I,conversations:y,undoPayload:F})}).catch(function(s){return e.dispatch(g,{error:s,folder:A,count:I,conversations:y})})}}function r(e,s){var t=s.messageIds,a=s.sourceListId,r=s.fromMessageGroupView,o=s.destinationFolderType,i=s.flags,n=s.async,d=e.getStore(Z.default),l=e.getStore(j.default),E=d.getMailboxes()[0].id,c=l.getFolderIdMapFromFolderType(t,o);return Object.keys(c).map(function(s){var t=c[s];return t=u(e,a,s,t,r),Object.assign({mailboxId:E,destinationFolderId:s,messageIds:t,async:n},i&&{flags:i})})}function o(e,t,a){var o=t.sourceListId,i=t.fromMessageGroupView,n=t.destinationFolderType,d=t.messageIds,l=t.messageGroupIds,u=t.flags,E=t.nextGroupId,c=a.pendingActionType,g=a.successActionType,S=a.failureActionType,m=s(e,l),p=r(e,{sourceListId:o,destinationFolderType:n,messageIds:d,fromMessageGroupView:i,flags:u,async:m});if(d=p.reduce(function(e,s){return e.concat(s.messageIds)},[]),0!==d.length){var I=e.getStore(j.default),A={undoMap:I.groupMessagesByFolder(d),destinationFolderType:n,actionCreator:f},_=l.length,M=(0,re.selectors)(e.store.getState()),T=M.getFeaturesSelectors,R=T(),y=R.isEnabled(k.Features.CONVERSATIONS);return e.dispatch(c,{messageIds:d,destinationFolderType:n,async:m,successActionType:g,failureActionType:S,undoPayload:A,count:_,conversations:y,listId:o}),e.mailAPIClient.request("messages.update",p).then(function(s){var t=s.results;m?t.forEach(function(s){e.dispatch(K.mail.BULK_PROGRESS_RECEIVED,{task:s.task})}):e.dispatch(g,{count:_,listId:o,messageGroupIds:l,undoPayload:A,conversations:y})}).catch(function(s){return e.dispatch(S,{error:s,count:_,conversations:y})})}}function i(e){return(0,H.filterMessagesByFolderType)(e,function(e){return e!==k.FolderTypes.SENT})}function n(e,s,t){if(s&&t){var a,r=(0,W.getPrimaryFolderType)(s),o=(a={},a[k.FolderTypes.TRASH]=!0,a[k.FolderTypes.BULK]=!0,a);return o[r]?(0,H.filterMessagesByFolderType)(e,function(e){return e===r}):(0,H.filterMessagesByFolderType)(e,function(e){return!o[e]})}return e}function d(e,s){return s&&(0,W.getPrimaryFolderType)(s)===k.FolderTypes.SENT||!s?e:i(e)}function l(e,s){return e.filter(function(e){var t=(0,W.getPrimaryFolderType)(e.folder),a=!0;return ie.some(function(e){var r=!1;return e.hasOwnProperty("moveFrom")&&e.moveFrom===t?(a=e.allow,r=!0):e.hasOwnProperty("moveTo")&&e.moveTo===s&&(a=e.allow,r=!0),r}),a})}function u(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments[2],a=arguments[3],r=arguments[4],o=e.getStore(j.default),i=(0,W.getPrimaryFolderType)(o.getFolder(t)),u=a.map(function(e){return o.getMessageById(e)}),E=(0,Q.getFolderIdFromListId)(s),c=E&&o.getFolder(E),g=(0,re.selectors)(e.store.getState()),S=g.getFeaturesSelectors,m=S(),p=m.isEnabled(k.Features.CONVERSATIONS);return r?i!==k.FolderTypes.TRASH&&(u=d(u,c)):(u=n(u,c,p),u=d(u,c)),l(u,i).map(function(e){return e.id})}function E(e,s){var t=s.listId,a=s.messageIds,r=void 0===a?[]:a,o=s.full,i=void 0!==o&&o,n=s.secure,d=void 0===n||n,l=s.apiMethod,u=void 0===l?"messages.getBodies":l,E=(0,re.selectors)(e.store.getState()),c=E.getFeaturesSelectors,g=E.getMessageBodiesSelectors,S=c(),m=S.isEnabled(k.Features.CONVERSATIONS),p=S.isEnabled(k.Features.COUPON_CARD_EXTRACTIONS),I=S.isEnabled(k.Features.FLIGHT_CARD_EXTRACTIONS),A=e.getStore(j.default),_=e.getStore(Z.default),M=_.getMailboxes()[0].id,f=S.isEnabled("fetchFullBody"),T=!S.isEnabled(k.Settings.SHOW_IMAGES),R=g(),y=R.hasFullBody,F=R.isSecureMessage,G=R.getState,D=!m||i||f,h=r.filter(function(e){return(!A.isDraftMessage(e)||G(e)!==k.RecordStates.LOADED)&&G(e)!==k.RecordStates.LOADING}).reduce(function(e,s){var t=e.messageIds,a=e.draftMessageIds,r=e.cardConversationIds,o=A.getMessageById(s),i=o.cardConversationId,n=o.decos;return A.isDraftMessage(s)?a.push(s):!F(s)&&y(s)||t.push(s),i&&(p&&(0,oe.isDecoOfType)(n,k.MessageDecorators.CPN)||I&&(0,oe.isDecoOfType)(n,k.MessageDecorators.FLR))&&r.push(i),{messageIds:t,draftMessageIds:a,cardConversationIds:r}},{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),C=h.messageIds,O=h.draftMessageIds,v=h.cardConversationIds;if(!C.length&&!O.length)return Promise.resolve();if(e.dispatch(K.mail.MESSAGE_BODIES_REQUESTED,{listId:t,messageIds:r}),"messages.getBodies"===u&&(u=D?"messages.getBodiesFull":u),v.length>0)switch(u){case"messages.getBodies":u="messages.getExtractedBodies";break;case"messages.getBodiesFull":u="messages.getExtractedBodiesFull";break;case"messages.prefetchBodies":u="messages.prefetchExtractedBodies";break;case"messages.prefetchBodiesFull":u="messages.prefetchExtractedBodiesFull"}return e.mailAPIClient.request(u,{mailboxId:M,messageIds:C,draftMessageIds:O,cardConversationIds:v,full:D,secure:d&&T}).then(function(s){s.error&&s.error.messageIds&&s.error.messageIds.length&&e.dispatch(K.mail.MESSAGE_BODIES_FAILED,{listId:t,messageIds:s.error.messageIds}),e.dispatch(K.mail.MESSAGE_BODIES_RECEIVED,{listId:t,full:D,secure:d&&T,messageBodiesMap:s.result.messageBodiesMap,messageMetadataMap:s.result.messageMetadataMap})}).catch(function(s){e.dispatch(K.mail.MESSAGE_BODIES_FAILED,{listId:t,messageIds:r,error:s})})}function c(e,s,t){var a=s.messageIds,r=s.flags,o=s.itemId,i=t.pendingActionType,n=t.successActionType,d=t.failureActionType,l=e.getStore(Z.default),u=l.getMailboxes()[0].id,E=e.getStore(z.default).getActivePageRoute(),c=(0,Q.getListIdFromRoute)(E);if(e.dispatch(i,{messageIds:a,itemId:o,listId:c}),0!==a.length)return e.mailAPIClient.request("messages.update",[{mailboxId:u,messageIds:a,flags:r}]).then(function(){return e.dispatch(n)}).catch(function(s){return e.dispatch(d,{error:s})})}function g(e,s){return a(e,{sourceListId:s.listId,destinationFolderId:s.destinationFolderId,messageIds:s.messageIds,messageGroupIds:s.messageGroupIds},{pendingActionType:K.mail.MESSAGES_MOVE_REQUESTED,successActionType:K.mail.MESSAGES_MOVE_SUCCEEDED,failureActionType:K.mail.MESSAGES_MOVE_FAILED})}function S(e,s){return a(e,{sourceListId:s.listId,fromMessageGroupView:!0,destinationFolderId:s.destinationFolderId,messageIds:s.messageIds,messageGroupIds:s.messageGroupIds},{pendingActionType:K.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED,successActionType:K.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_SUCCEEDED,failureActionType:K.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_FAILED})}function m(e,s){var t=s.listId,a=s.messageIds,r=s.messageGroupIds;return o(e,{destinationFolderType:k.FolderTypes.ARCHIVE,sourceListId:t,messageIds:a,messageGroupIds:r},{pendingActionType:K.mail.MESSAGES_ARCHIVE_REQUESTED,successActionType:K.mail.MESSAGES_ARCHIVE_SUCCEEDED,failureActionType:K.mail.MESSAGES_ARCHIVE_FAILED})}function p(e,s){var t=s.listId,a=s.messageIds,r=s.messageGroupIds;return o(e,{fromMessageGroupView:!0,destinationFolderType:k.FolderTypes.ARCHIVE,messageIds:a,messageGroupIds:r,sourceListId:t},{pendingActionType:K.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED,successActionType:K.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_SUCCEEDED,failureActionType:K.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_FAILED})}function I(e,s){var t=s.listId,a=s.messageIds,r=s.messageGroupIds;return o(e,{destinationFolderType:k.FolderTypes.INBOX,sourceListId:t,messageIds:a,messageGroupIds:r},{pendingActionType:K.mail.MESSAGES_RESTORE_REQUESTED,successActionType:K.mail.MESSAGES_RESTORE_SUCCEEDED,failureActionType:K.mail.MESSAGES_RESTORE_FAILED})}function A(e,s){var t=s.listId,a=s.messageIds,r=s.messageGroupIds;return o(e,{destinationFolderType:k.FolderTypes.INBOX,fromMessageGroupView:!0,messageIds:a,messageGroupIds:r,sourceListId:t},{pendingActionType:K.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED,successActionType:K.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_SUCCEEDED,failureActionType:K.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_FAILED})}function _(e,t,a){var o=a.pendingActionType,i=a.successActionType,n=a.failureActionType,d=e.getStore(j.default),l=t.messageGroupIds,u=t.permanent,E=t.listId,c=t.fromMessageGroupView,g=(0,re.selectors)(e.store.getState()),S=g.getFeaturesSelectors,m=S(),p=m.isEnabled(k.Features.CONVERSATIONS),I=s(e,l),A=t.messageIds,_=void 0,M=void 0,T=e.getStore(z.default).getActivePageRoute(),R=T.name===k.RouteNames.SEARCH,y=void 0;if(R){var F=null,G=null,D=(0,H.filterMessagesByFolderType)(A.map(function(e){return d.getMessageById(e)}),W.isPermDeleteFolderType).map(function(e){return e.id}),h=(0,H.filterMessagesByFolderType)(A.map(function(e){return d.getMessageById(e)}),function(e){return!(0,W.isPermDeleteFolderType)(e)}).map(function(e){return e.id});h.length&&(F=r(e,{destinationFolderType:k.FolderTypes.TRASH,sourceListId:E,fromMessageGroupView:c,messageIds:h,async:I}),y={undoMap:d.groupMessagesByFolder(h),destinationFolderType:k.FolderTypes.TRASH,actionCreator:f}),D.length&&(G={mailboxId:e.getStore(Z.default).getMailboxes()[0].id,messageIds:D,async:I}),_="messages.trashAndDelete",M={trashPayload:F,deletePayload:G}}else u?(M={mailboxId:e.getStore(Z.default).getMailboxes()[0].id,messageIds:A,async:I},_="messages.delete"):(M=r(e,{destinationFolderType:k.FolderTypes.TRASH,sourceListId:E,fromMessageGroupView:c,messageIds:A,async:I}),_="messages.update",A=M.reduce(function(e,s){var t=s.messageIds;return e.concat(t)},[])),y={undoMap:d.groupMessagesByFolder(A),destinationFolderType:k.FolderTypes.TRASH,actionCreator:f};var C=l.length;if(0!==A.length)return e.dispatch(o,Object.assign({},t,{messageIds:A,successActionType:i,failureActionType:n,count:C,undoPayload:y,conversations:p,async:I})),e.mailAPIClient.request(_,M).then(function(s){var t=s.results;if(I)t.forEach(function(s){s.task&&e.dispatch(K.mail.BULK_PROGRESS_RECEIVED,{task:s.task})});else if(m.isEnabled("unsubscribe")&&1===Object.keys(d.getAllAccounts()).length&&!u&&C>=2){var a=m.isEnabled(k.Settings.UNSUBSCRIBE_NOTIFICATION),r=m.getSetting(k.Settings.UNSUBSCRIBE_TIMESTAMP),o=m.getSetting(k.Settings.NUM_UNSUBSCRIBED_ITEMS),n=Date.now()-r,c=m.getSetting("unsubInterval");if(a&&n&&n>c){var g=l.map(function(e){return d.getOriginalMessageGroupSender(e)}).filter(Boolean);e.dispatch(K.mail.MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED),e.athenaClient.request("unSubscribeItems",{originalSendersInfo:g}).then(function(s){s&&s.length>0?e.dispatch(K.mail.MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED,{unSubscribeList:s,undoPayload:{undoMap:y.undoMap,destinationFolderType:k.FolderTypes.TRASH,actionCreatorIdentifier:"undoMove"},deleteItemCount:C,numListsPreviouslyCleaned:o||0}):e.dispatch(i,{listId:E,messageGroupIds:l,undoPayload:y,permanent:u,count:C,conversations:p})}).catch(function(){e.dispatch(i,{listId:E,messageGroupIds:l,undoPayload:y,permanent:u,count:C,conversations:p})})}else e.dispatch(i,{listId:E,messageGroupIds:l,undoPayload:y,permanent:u,count:C,conversations:p})}else e.dispatch(i,{listId:E,messageGroupIds:l,undoPayload:y,permanent:u,count:C,conversations:p})}).catch(function(s){return e.dispatch(n,{error:s,count:C,conversations:p,permanent:u})})}function M(e,s){var t=s.listId;return _(e,{messageIds:s.messageIds,fromMessageGroupView:!0,messageGroupIds:s.messageGroupIds,listId:t,permanent:s.permanent,async:s.async},{pendingActionType:K.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED,successActionType:K.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_SUCCEEDED,failureActionType:K.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_FAILED})}function f(e,s){var t=s.undoMap,a=e.getStore(Z.default),r=e.getStore(ee.default),o=e.getStore(z.default).getActivePageRoute(),i=(0,Q.getListIdFromRoute)(o),n=(0,Q.getFolderIdFromListId)(i),d=(0,Q.getSortOrderFromListId)(i),l=a.getMailboxes()[0].id,u=(0,re.selectors)(e.store.getState()),E=u.getFeaturesSelectors,c=E(),g=c.isEnabled(k.Features.CONVERSATIONS),S=200;return e.dispatch(K.mail.UNDO_MOVE_REQUESTED,{undoMap:t}),e.mailAPIClient.request("messages.undo",{mailboxId:l,undoMap:t}).then(function(){return o.name===k.RouteNames.SEARCH?e.mailAPIClient.request("folders.get",{mailboxId:l}).then(function(s){var t=s.folders;return e.dispatch(K.mail.UNDO_MOVE_SUCCEEDED,{conversationsMode:g}),(0,q.openSearchFromList)(e,{listId:i,folders:t})}):o.name!==k.RouteNames.FOLDER||e.mailAPIClient.request("undo.list",{mailboxId:l,count:S,sortOrder:d,folderId:n,conversationsMode:g}).then(function(s){var t=s.folders,a=s.messageGroupList,o=r.getStaleFolderIds(t);e.dispatch(K.mail.UNDO_MOVE_SUCCEEDED,{folders:t,messageGroupList:a,listId:i,count:S,staleFolderIds:o,conversationsMode:g})})}).catch(function(){e.dispatch(K.mail.UNDO_MOVE_FAILED)})}function T(e,s){var t=s.listId,a=s.messageIds,r=s.messageGroupIds;return o(e,{destinationFolderType:k.FolderTypes.BULK,messageIds:a,messageGroupIds:r,sourceListId:t,flags:{spam:!0}},{pendingActionType:K.mail.MESSAGES_MARK_SPAM_REQUESTED,successActionType:K.mail.MESSAGES_MARK_SPAM_SUCCEEDED,failureActionType:K.mail.MESSAGES_MARK_SPAM_FAILED})}function R(e,s){var t=s.listId,a=s.messageIds,r=s.messageGroupIds;return o(e,{destinationFolderType:k.FolderTypes.INBOX,messageIds:a,messageGroupIds:r,sourceListId:t,flags:{ham:!0}},{pendingActionType:K.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED,successActionType:K.mail.MESSAGES_MARK_NOT_SPAM_SUCCEEDED,failureActionType:K.mail.MESSAGES_MARK_NOT_SPAM_FAILED})}function y(e,s){var t=s.listId,a=s.messageIds,r=s.messageGroupIds;return o(e,{destinationFolderType:k.FolderTypes.BULK,fromMessageGroupView:!0,messageIds:a,messageGroupIds:r,sourceListId:t,flags:{spam:!0,read:!0}},{pendingActionType:K.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED,successActionType:K.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_SUCCEEDED,failureActionType:K.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_FAILED})}function F(e,s){var t=s.listId,a=s.messageIds,r=s.messageGroupIds;return o(e,{destinationFolderType:k.FolderTypes.INBOX,fromMessageGroupView:!0,messageIds:a,messageGroupIds:r,sourceListId:t,flags:{ham:!0}},{pendingActionType:K.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED,successActionType:K.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_SUCCEEDED,failureActionType:K.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_FAILED})}function G(e,s){return c(e,{messageIds:s.messageIds,itemId:s.itemId,flags:{read:!0}},{pendingActionType:K.mail.MESSAGES_MARK_READ_REQUESTED,successActionType:K.mail.MESSAGES_MARK_READ_SUCCEEDED,failureActionType:K.mail.MESSAGES_MARK_READ_FAILED})}function D(e,s){return c(e,{messageIds:s.messageIds,itemId:s.itemId,flags:{read:!1}},{pendingActionType:K.mail.MESSAGES_MARK_UNREAD_REQUESTED,successActionType:K.mail.MESSAGES_MARK_UNREAD_SUCCEEDED,failureActionType:K.mail.MESSAGES_MARK_UNREAD_FAILED})}function h(e,s){return c(e,{messageIds:s.messageIds,itemId:s.itemId,flags:{flagged:!0}},{pendingActionType:K.mail.MESSAGES_MARK_STARRED_REQUESTED,successActionType:K.mail.MESSAGES_MARK_STARRED_SUCCEEDED,failureActionType:K.mail.MESSAGES_MARK_STARRED_FAILED})}function C(e,s){return c(e,{messageIds:s.messageIds,itemId:s.itemId,flags:{flagged:!1}},{pendingActionType:K.mail.MESSAGES_MARK_UNSTARRED_REQUESTED,successActionType:K.mail.MESSAGES_MARK_UNSTARRED_SUCCEEDED,failureActionType:K.mail.MESSAGES_MARK_UNSTARRED_FAILED})}function O(e,s,t,a){var r=e.getStore(z.default).getActivePageRoute(),o=(0,Q.getListIdFromRoute)(r),i=e.getStore(j.default),n=e.getStore(Z.default),d=n.getMailboxes()[0].id,l=(0,re.selectors)(e.store.getState()),u=l.getFeaturesSelectors,E=u(),c=E.isEnabled(k.Features.CONVERSATIONS),g=i.getComposeDataMatchingInReplyTo(t.headers.messageIdRfc822),S=c?g.filter(function(e){return s===e.groupId})[0]:g[0],m=c&&S?S.csid:(0,se.generateUID)(),p=(0,re.selectors)(e.store.getState()),I=p.getMessageBodiesSelectors,A=I(),_=A.hasFullBody,M=A.isSecureMessage,f=A.get;return M(t.id)||!_(t.id)?e.mailAPIClient.request("messages.getBodiesFull",{mailboxId:d,messageIds:[t.id],full:!0,secure:!1}).then(function(r){var i=r.result,n=r.error,d=void 0===n?{}:n;if(d.messageIds&&d.messageIds.length)throw new Error("Unable to fetch message "+t.id);t=Object.assign({},t,{body:i.messageBodiesMap[t.id],attachments:i.messageMetadataMap[t.id].attachments}),e.dispatch(K.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,{listId:o,groupId:s,messageGroupId:s,composeMode:a,message:t,csid:m,conversationsMode:c})}).catch(function(){e.dispatch(K.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED,{messageGroupId:s,message:t,composeMode:a})}):e.dispatch(K.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,{csid:m,listId:o,composeMode:a,messageGroupId:s,conversationsMode:c,groupId:s,message:Object.assign({},t,{body:f(t.id)})})}function v(e,s){return O(e,s.messageGroupId,s.message,ne.REPLY)}function L(e,s){return O(e,s.messageGroupId,s.message,ne.REPLY_ALL)}function U(e,s){return O(e,s.messageGroupId,s.message,ne.FORWARD)}function P(e,s){return O(e,s.messageGroupId,s.message,s.composeMode)}function N(e,s){var t=s.mailtoAttr,a=s.message,r=(0,se.generateUID)();e.dispatch(K.mail.MAILTO_ACTION_REQUESTED,{csid:r,mailtoAttr:t,message:a})}function V(e,s){var t=s.messageGroupId,a=s.message,r=a.id,o=e.getStore(z.default).getActivePageRoute(),i=(0,Q.getListIdFromRoute)(o),n=(0,re.selectors)(e.store.getState()),d=n.getMessageBodiesSelectors,l=d(),u=l.hasFullBody,E=l.isSecureMessage,c=!u(a.id),g=e.getStore(Z.default),S=g.getMailboxes()[0].id;if(!c)return e.dispatch(K.mail.MESSAGE_PRINT_REQUESTED,{messageGroupId:t,mId:r,listId:i});var m=(0,re.selectors)(e.store.getState()),p=m.getFeaturesSelectors,I=p(),A=!I.isEnabled(k.Settings.SHOW_IMAGES),_=E(r)&&A;return e.mailAPIClient.request("messages.getBodiesFull",{mailboxId:S,messageIds:[r],full:!0,secure:_}).then(function(s){var a=s.result,o=s.error,n=void 0===o?{}:o;if(n.messageIds&&n.messageIds.length)throw new Error("Unable to fetch message "+r);e.dispatch(K.mail.MESSAGE_BODIES_RECEIVED,{listId:i,full:!0,secure:_,messageBodiesMap:a.messageBodiesMap,messageMetadataMap:a.messageMetadataMap}),e.dispatch(K.mail.MESSAGE_PRINT_REQUESTED,{messageGroupId:t,mId:r,listId:i})}).catch(function(){e.dispatch(K.mail.MESSAGE_PRINT_FAILED,{messageGroupId:t,mId:r,listId:i})})}function B(e,s){var t=s.messageId,a=e.mailAPIClient,r=a.wssid,o=a.appId,i=a.ymreqidGenerator.generate(),n=e.getStore(Z.default),d=n.getMailboxes()[0].id,l="https://apis.mail.yahoo.com/ws/v3/mailboxes/@.id=="+d+"/messages/@.id=="+t+"/content/rawplaintext?appId="+o+"&ymreqid="+i+"&wssid="+r;window.open(l,"_blank")}function x(e,s){var t=s.printId;e.dispatch(K.mail.MESSAGE_PRINT_SUCCEEDED,{printId:t})}function b(e,s){var t=s.printId;e.dispatch(K.mail.MESSAGE_PRINT_CANCELED,{printId:t})}function w(e,s){var t=s.hrefLink,a=s.message;e.dispatch(K.mail.MESSAGE_BODY_LINK_CLICKED,{hrefLink:t,message:a})}exports.__esModule=!0,exports.loadMoreMessagesIfNeeded=t,exports.getMessageBodies=E,exports.moveMessages=g,exports.moveMessagesFromView=S,exports.archiveMessages=m,exports.archiveMessagesFromView=p,exports.restoreMessages=I,exports.restoreMessagesFromView=A,exports.helperRequestDelete=_,exports.deleteMessagesFromView=M,exports.undoMove=f,exports.markAsSpam=T,exports.markAsNotSpam=R,exports.markAsSpamFromView=y,exports.markAsNotSpamFromView=F,exports.markAsRead=G,exports.markAsUnread=D,exports.markAsFlagged=h,exports.markAsUnflagged=C,exports.reply=v,exports.replyAll=L,exports.forward=U,exports.retryComposeAction=P,exports.openComposeWithMailtoFields=N,exports.printMessage=V,exports.openRawMessage=B,exports.printMessageSuccess=x,exports.printMessageCancel=b,exports.clickMessageBodyLink=w;var K=require("../platform/react_action_constants"),q=require("../apps/mail/actions"),k=require("../platform/mail_constants"),W=require("../platform/utils/folder"),Q=require("../platform/utils/list"),H=require("../platform/utils/message"),Y=require("../stores/mail"),j=e(Y),X=require("../stores/pages"),z=e(X),J=require("../stores/user_preferences"),Z=e(J),$=require("../stores/checkmail"),ee=e($),se=require("../platform/utils"),te=require("./folder_message_list"),ae=require("./search_message_list"),re=require("../reducers_selectors"),oe=require("../platform/mail_api_client/utils"),ie=[{moveFrom:k.FolderTypes.DRAFT,allow:!1},{moveTo:k.FolderTypes.DRAFT,allow:!1},{moveTo:k.FolderTypes.SENT,allow:!1}],ne=k.Compose.Modes;
},{"../apps/mail/actions":"./apps/mail/actions","../platform/mail_api_client/utils":"./platform/mail_api_client/utils","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils":"./platform/utils","../platform/utils/folder":"./platform/utils/folder","../platform/utils/list":"./platform/utils/list","../platform/utils/message":"./platform/utils/message","../reducers_selectors":"./reducers_selectors","../stores/checkmail":"./stores/checkmail","../stores/mail":"./stores/mail","../stores/pages":"./stores/pages","../stores/user_preferences":"./stores/user_preferences","./folder_message_list":"./actions/folder_message_list","./search_message_list":"./actions/search_message_list"}],"./actions/message_group":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s.default=e,s}function r(e,s){var r=e.getStore(N.default),t=r.getActivePageRoute();if((0,(0,O.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled("hero"))return(0,q.heroListId)(t,s)}function t(e,s){var r,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},a=e.getStore(k.default),o=s.map(function(e){return a.getMessageGroupById(e).messages.filter(t).map(function(e){return e.id})});return(r=[]).concat.apply(r,o)}function a(e,s){var r=s.listId,t=s.messageGroupId,a=s.newState;e.dispatch(R.mail.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED,{listId:r,messageGroupId:t,newState:a})}function o(e,s){var r=s.listId,t=s.messageGroupId,a=s.cardIds,o=s.newState,d=(0,U.buildStreamIdFromStreamItem)(r,t),i=D.ListContentTypes.MESSAGE,n=(0,q.recreateListId)(r,{listContentType:i}),u={id:a[a.length-1],listId:n};e.dispatch(R.mail.MESSAGE_CARD_EXPANSION_CHANGED,{listId:r,messageGroupId:t,cardIds:a,newState:o,streamId:d,streamItem:u})}function d(e,s){var r=s.destinationFolderId,a=s.listId,o=s.messageGroupIds;L.moveMessages(e,{destinationFolderId:r,listId:a,messageIds:t(e,o),messageGroupIds:o})}function i(e,s){var r=s.destinationFolderId,a=s.listId,o=s.messageGroupIds;L.moveMessagesFromView(e,{listId:a,destinationFolderId:r,messageIds:t(e,o),messageGroupIds:o})}function n(e,s){var r=s.listId,a=s.messageGroupIds;L.archiveMessages(e,{listId:r,messageIds:t(e,a),messageGroupIds:a})}function u(e,s){var r=s.messageGroupIds,a=s.listId;L.archiveMessagesFromView(e,{messageIds:t(e,r),messageGroupIds:r,listId:a})}function m(e,s){var r=s.listId,a=s.messageGroupIds;L.restoreMessages(e,{listId:r,messageIds:t(e,a),messageGroupIds:a})}function g(e,s){var r=s.listId,a=s.messageGroupIds;L.restoreMessagesFromView(e,{listId:r,messageIds:t(e,a),messageGroupIds:a})}function p(e,s){var a=s.listId,o=s.messageGroupIds,d=s.permanent,i=r(e,a),n=t(e,o);if(d){var u=e.getStore(k.default);n=(0,V.filterMessagesByFolderType)(n.map(function(e){return u.getMessageById(e)}),function(e){return e===D.FolderTypes.TRASH||e===D.FolderTypes.DRAFT||e===D.FolderTypes.BULK}).map(function(e){return e.id})}return L.helperRequestDelete(e,{listId:a,cursorId:i,messageIds:n,messageGroupIds:o,permanent:d},{pendingActionType:R.mail.MESSAGES_DELETE_REQUESTED,successActionType:R.mail.MESSAGES_DELETE_SUCCEEDED,failureActionType:R.mail.MESSAGES_DELETE_FAILED})}function I(e,s){var r=s.listId,a=s.permanent,o=s.messageGroupIds;L.deleteMessagesFromView(e,{messageGroupIds:o,messageIds:t(e,o),permanent:a,listId:r})}function l(e,s){var r=s.listId,a=s.messageGroupIds;L.markAsSpam(e,{listId:r,messageIds:t(e,a),messageGroupIds:a})}function c(e,s){var r=s.listId,a=s.messageGroupIds;L.markAsNotSpam(e,{listId:r,messageIds:t(e,a),messageGroupIds:a})}function f(e,s){var r=s.listId,a=s.messageGroupIds;L.markAsSpamFromView(e,{listId:r,messageIds:t(e,a),messageGroupIds:a})}function G(e,s){var r=s.listId,a=s.messageGroupIds;L.markAsNotSpamFromView(e,{listId:r,messageIds:t(e,a),messageGroupIds:a})}function S(e,s){var r=s.messageGroupIds;L.markAsRead(e,{itemId:r[0],messageIds:t(e,r,function(e){return!e.flags.read})})}function M(e,s){var r=s.messageGroupIds;L.markAsUnread(e,{itemId:r[0],messageIds:t(e,r,function(e){return e.flags.read})})}function A(e,s){var r=s.messageGroupIds;L.markAsFlagged(e,{itemId:r[0],messageIds:t(e,r,function(e){return!e.flags.flagged})})}function E(e,s){var r=s.messageGroupIds;L.markAsUnflagged(e,{itemId:r[0],messageIds:t(e,r,function(e){return e.flags.flagged})})}function v(e,s){var r=s.messageGroupIds,t=r[0],a=e.getStore(k.default);L.openRawMessage(e,{messageId:a.getLastNonDraftMessageByGroupId(t).id})}function F(e,s){var r=s.messageGroupId,t=e.getStore(k.default),a=t.getLastNonDraftMessageByGroupId(r);L.reply(e,{messageGroupId:r,message:a})}function x(e,s){var r=s.messageGroupId,t=e.getStore(k.default),a=t.getLastNonDraftMessageByGroupId(r);L.replyAll(e,{messageGroupId:r,message:a})}function _(e,s){var r=s.messageGroupId,t=e.getStore(k.default),a=t.getLastNonDraftMessageByGroupId(r);L.forward(e,{messageGroupId:r,message:a})}function y(e,s){var r=s.listId,t=s.card,a=(0,B.getIn)(t,"message.id",[]),o=e.getStore(k.default),d=o.getMessageGroupIdByMessageId(r,a),i=(0,U.buildStreamIdFromStreamItem)(r,d),n=D.ListContentTypes.MESSAGE,u=(0,q.recreateListId)(r,{listContentType:n}),m={id:a,listId:u};e.dispatch(R.mail.MESSAGE_CARD_FOCUSED,{streamId:i,streamItem:m,card:t})}function w(e,s){var r=s.downloadUrl;e.dispatch(R.mail.ATTACHMENT_PREVIEW_FAILED,{downloadUrl:r})}exports.__esModule=!0,exports.changeAllCardExpansions=a,exports.changeMessageGroupCardExpansions=o,exports.moveMessageGroups=d,exports.moveMessageGroupsFromView=i,exports.archiveMessageGroups=n,exports.archiveMessageGroupsFromView=u,exports.restoreMessageGroups=m,exports.restoreMessageGroupsFromView=g,exports.deleteMessageGroups=p,exports.deleteMessageGroupsFromView=I,exports.markMessageGroupsAsSpam=l,exports.markMessageGroupsAsNotSpam=c,exports.markMessageGroupsAsSpamFromView=f,exports.markMessageGroupsAsNotSpamFromView=G,exports.markMessageGroupsAsRead=S,exports.markMessageGroupsAsUnread=M,exports.markMessageGroupsAsFlagged=A,exports.markMessageGroupsAsUnflagged=E,exports.viewRawMessage=v,exports.replyToLastMessage=F,exports.replyAllToLastMessage=x,exports.forwardLastMessage=_,exports.focusMessageCard=y,exports.previewAttachmentAlert=w;var T=require("./message.js"),L=s(T),D=require("../platform/mail_constants"),h=require("../stores/mail"),k=e(h),C=require("../stores/pages"),N=e(C),R=require("../platform/react_action_constants"),V=require("../platform/utils/message"),q=require("../platform/utils/list"),U=require("../platform/utils/stream"),B=require("../platform/utils/object"),O=require("../reducers_selectors");
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/list":"./platform/utils/list","../platform/utils/message":"./platform/utils/message","../platform/utils/object":"./platform/utils/object","../platform/utils/stream":"./platform/utils/stream","../reducers_selectors":"./reducers_selectors","../stores/mail":"./stores/mail","../stores/pages":"./stores/pages","./message.js":"./actions/message"}],"./actions/search_message_list":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r=e.getStore(n.default),s=r.getActivePageRoute();if((0,(0,c.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled("hero"))return(0,o.heroListId)(s,t)}exports.__esModule=!0,exports.ListActions=void 0;var r=require("./folder_message_list"),s=require("../platform/react_action_constants"),i=require("../platform/mail_constants"),o=require("../platform/utils/list"),l=require("../apps/mail/actions"),a=require("../stores/pages"),n=e(a),c=require("../reducers_selectors"),u=exports.ListActions=Object.assign({},r.ListActions,{retryLoading:l.openSearchFromList,loadMoreMessagesAfterScroll:function(){var e=void 0;return function r(l,a){var n=a.listId,c=a.offset,d=a.allItemsSelected,S=l.getStore("MailStore");if(clearTimeout(e),S.isAsyncTaskPending())return void(e=setTimeout(function(){return u.loadMoreMessagesAfterScroll(l,{listId:n,offset:c,allItemsSelected:d})},1e3));var _=(0,o.getListContentTypeFromListId)(n),f=S.getNextItemsUrl(n),I=t(l,n);l.dispatch(s.mail.MORE_SEARCH_LIST_ITEMS_REQUESTED,{listId:n});var m=f;return _===i.ListContentTypes.MESSAGES&&(m=f.replace(/&cursor=[0-9]*/,"&cursor="+c)),l.bootcampClient.request("searchItems",{url:m,listContentType:_}).then(function(e){l.dispatch(s.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED,{listId:n,cursorId:I,listContentBlock:e,allItemsSelected:d})}).catch(function(){return l.dispatch(s.mail.MORE_SEARCH_LIST_ITEMS_FAILED,{listId:n})})}}()});
},{"../apps/mail/actions":"./apps/mail/actions","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/list":"./platform/utils/list","../reducers_selectors":"./reducers_selectors","../stores/pages":"./stores/pages","./folder_message_list":"./actions/folder_message_list"}],"./actions/settings":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i="",a=e.split(".");return i=a.length>1?e.substring(0,e.lastIndexOf(".")):a[0],t.some(function(e){return e.folderPrefix===i})?i+"_x":i}function i(e,t){var i=(0,X.getProvider)(t),a=j.IMAP_SETTINGS[i];if(a){var E=a.oauthDomain;return e.credstoreClient.removeOAuthToken({domain:E,email:t}).then(function(t){return e.dispatch(w.mail.ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED,t)}).catch(function(t){return e.dispatch(w.mail.ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED,t)})}return Promise.reject(new Error("No provider found for "+t))}function a(e,t){var i=t.id,a=t.name,E=t.value,n=t.actions,r=e.getStore(Y.default).getMailboxes()[0].id;return e.dispatch(n.requested,{name:a,value:E}),e.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:r,attributes:[{id:i,value:a===j.Settings.SHOW_IMAGES?!E:E}]}).then(function(){e.dispatch(n.succeeded,{name:a,value:E}),a===j.Settings.SHOW_IMAGES&&window.location.reload()}).catch(function(t){return e.dispatch(n.failed,{name:a,err:t})})}function E(e,t){var i=t.value;return a(e,{id:j.MailboxAttributes.PREVIEW_PANE,value:i,actions:{requested:w.mail.PREVIEW_PANE_PREF_CHANGE_REQUESTED,succeeded:w.mail.PREVIEW_PANE_PREF_CHANGE_SUCCEEDED,failed:w.mail.PREVIEW_PANE_PREF_CHANGE_FAILED}})}function n(e,t){var i=t.name,E=t.value,n={requested:w.mail.SETTINGS_CHANGE_REQUESTED,succeeded:w.mail.SETTINGS_CHANGE_SUCCEEDED,failed:w.mail.SETTINGS_CHANGE_FAILED},r=void 0;switch(i){case j.Settings.THEME:r=j.MailboxAttributes.THEME;break;case j.Settings.THEME_MODE:r=j.MailboxAttributes.THEME_MODE;break;case j.Settings.PREVIEW_PANE:r=j.MailboxAttributes.PREVIEW_PANE;break;case j.Settings.MSG_LIST_DENSITY:r=j.MailboxAttributes.MSG_LIST_DENSITY;break;case j.Settings.SNIPPETS:r=j.MailboxAttributes.SNIPPETS;break;case j.Settings.COMPOSE_FONT_FAMILY:r=j.MailboxAttributes.COMPOSE_FONT_FAMILY;break;case j.Settings.COMPOSE_FONT_SIZE:r=j.MailboxAttributes.COMPOSE_FONT_SIZE;break;case j.Settings.SECURE_MODE:r=j.MailboxAttributes.SECURE_MODE;break;case j.Settings.DESKTOP_NOTIFICATION:r=j.MailboxAttributes.DESKTOP_NOTIFICATION;break;case j.Settings.MARK_AS_READ_INTERVAL:r=j.MailboxAttributes.MARK_AS_READ_INTERVAL;break;case j.Settings.SHOW_IMAGES:r=j.MailboxAttributes.BLOCK_IMAGES;break;case j.Settings.LINK_ENHANCR:r=j.MailboxAttributes.LINK_ENHANCER;break;case j.Settings.MAGIC_TRIAGE_USER_VISITS:r=j.MailboxAttributes.MAGIC_TRIAGE_USER_VISITS;break;case j.Settings.MAGIC_TRIAGE_TIMESTAMP:r=j.MailboxAttributes.MAGIC_TRIAGE_TIMESTAMP;break;case j.Settings.ACTION_AFTER_MSG_MOVE:r=j.MailboxAttributes.ACTION_AFTER_MSG_MOVE;break;case j.Settings.SHOW_CUSTOM_FOLDERS:r=j.MailboxAttributes.SHOW_CUSTOM_FOLDERS;break;case j.Settings.MAIL_TABS:r=j.MailboxAttributes.MAIL_TABS;break;case j.Settings.HIDE_AD:r=j.MailboxAttributes.HIDE_AD;break;case j.Settings.SHOW_ALL_SYSTEM_FOLDERS:r=j.MailboxAttributes.SHOW_ALL_SYSTEM_FOLDERS;break;case j.Settings.EXPANDED_FOLDERS:r=j.MailboxAttributes.EXPANDED_FOLDERS;var s=e.getStore(Q.default),u=s.getAllAccounts(),c=[];u.forEach(function(e){s.getAllFoldersForAccount(e.id).forEach(function(e){e.children.length>0&&E.indexOf(e.folder.id)!==-1&&(c=(0,J.append)(c,e.folder.id))})}),E=c;break;case j.Settings.STATIONERY_DEFAULT_THEME:r=j.MailboxAttributes.STATIONERY_DEFAULT_THEME;break;case j.Settings.UNSUBSCRIBE_NOTIFICATION:r=j.MailboxAttributes.UNSUBSCRIBE_NOTIFICATION;break;case j.Settings.UNSUBSCRIBE_TIMESTAMP:r=j.MailboxAttributes.UNSUBSCRIBE_TIMESTAMP;break;case j.Settings.NUM_UNSUBSCRIBED_ITEMS:r=j.MailboxAttributes.NUM_UNSUBSCRIBED_ITEMS;break;case j.Settings.RECENTLY_USED_EMOJIS:r=j.MailboxAttributes.RECENTLY_USED_EMOJIS;break;case j.Settings.SYSTEM_TABS:r=j.MailboxAttributes.SYSTEM_TABS}return a(e,{id:r,name:i,value:E,actions:n})}function r(e,t){var i=t.id,a=t.settings,E=a.map(function(e){var t=e.name,a=e.value;switch(t){case j.Settings.THEME:i=j.MailboxAttributes.THEME;break;case j.Settings.THEME_MODE:i=j.MailboxAttributes.THEME_MODE}return{id:i,value:a}}),n=e.getStore(Y.default).getMailboxes()[0].id;return e.dispatch(w.mail.SETTINGS_CHANGE_REQUESTED),e.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:n,attributes:E}).then(function(){e.dispatch(w.mail.SETTINGS_CHANGE_SUCCEEDED)}).catch(function(t){return e.dispatch(w.mail.SETTINGS_CHANGE_FAILED,{err:t})})}function s(e,t){var i=t.value;return a(e,{id:j.MailboxAttributes.MAIL_TABS,value:i,actions:{requested:w.mail.MULTI_TASKING_PREF_CHANGE_REQUESTED,succeeded:w.mail.MULTI_TASKING_PREF_CHANGE_SUCCEEDED,failed:w.mail.MULTI_TASKING_PREF_CHANGE_FAILED}})}function u(e,t){var i=t.value;return a(e,{id:j.MailboxAttributes.SNIPPETS,value:i,actions:{requested:w.mail.SNIPPETS_PREF_CHANGE_REQUESTED,succeeded:w.mail.SNIPPETS_PREF_CHANGE_SUCCEEDED,failed:w.mail.SNIPPETS_PREF_CHANGE_FAILED}})}function c(e,t){var i=t.value;return a(e,{id:j.MailboxAttributes.MSG_LIST_DENSITY,value:i,actions:{requested:w.mail.MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED,succeeded:w.mail.MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED,failed:w.mail.MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED}})}function o(e,t){var i=t.value;return a(e,{id:j.MailboxAttributes.DESKTOP_NOTIFICATION,value:+i,actions:{requested:w.mail.BROWSER_NOTIFICATIONS_PREF_CHANGE_REQUESTED,succeeded:w.mail.BROWSER_NOTIFICATIONS_PREF_CHANGE_SUCCEEDED,failed:w.mail.BROWSER_NOTIFICATIONS_PREF_CHANGE_FAILED}})}function A(e,t){var i,a=t.value,E=(0,ie.selectors)(e.store.getState()),n=E.getFeaturesSelectors,r=n().getSetting(j.Settings.TOGGLE_CONV_RELOAD_DELAY);return e.dispatch(w.mail.CONVERSATIONS_CHANGE_REQUESTED,{value:a}),a=a?z.UDBValues[z.UDBKeys.YM_MAIL_CONV].ON:z.UDBValues[z.UDBKeys.YM_MAIL_CONV].OFF,e.udbClient.write((i={},i[z.UDBKeys.YM_MAIL_CONV]=a,i)).then(function(){e.dispatch(w.mail.CONVERSATIONS_CHANGE_SUCCEEDED,{value:a}),window.setTimeout(function(){return window.location.reload()},r)}).catch(function(t){return e.dispatch(w.mail.CONVERSATIONS_CHANGE_FAILED,t)})}function _(e,t,i,a){var E=(0,te.default)(i,["id","email","type"]),n=e.getStore(Y.default).getMailboxes()[0].id,r=(0,ie.selectors)(e.store.getState()),s=r.getAliasAccounts,u=e.getStore(Q.default).getAccountById(t)||s().find(function(e){return e.id===t}),c=Object.assign({},u,E);return e.dispatch(a.requested,{updatedAccount:c}),e.mailAPIClient.request("settings.updateAccount",{account:u,mailboxId:n,data:E}).then(function(t){return e.dispatch(a.succeeded,{updatedAccount:t})}).catch(function(t){return e.dispatch(a.failed,t)})}function S(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},E=t.email,n=e.getStore(Q.default).getAccountByEmail(E),r=e.getStore(Y.default).getMailboxes()[0].id,s=e.getStore(Q.default),u=s.getActiveAccountId(),c=s.getFolderIdForAccount(j.FolderTypes.INBOX,u);return n?e.dispatch(i.failed,{updatedAccount:t}):e.mailAPIClient.request("settings.addAccount",{account:t,mailboxId:r},a).then(function(t){var a=t.find(function(e){return e.email===E});return a?e.dispatch(i.succeeded,{accounts:t,updatedAccount:a,inboxFID:c}):e.dispatch(i.failed,"New account was not found in the accounts object!")}).catch(function(t){return e.dispatch(i.failed,t)})}function l(e,i){var a=i.email,E=i.provider,n=i.type,r=i.sendingName,s=void 0===r?"":r,u=i.description,c=void 0===u?"":u,o=i.wssid,A=void 0===o?"":o,_=i.crumb,l=void 0===_?"":_,d=i.linkedAccounts,T={email:a,type:n,sendingName:s,description:c},I={requested:w.mail.ACCOUNT_ADD_REQUESTED,succeeded:w.mail.ACCOUNT_ADD_SUCCEEDED,failed:w.mail.ACCOUNT_ADD_FAILED},N={};if(A&&(N.wssid=A),l&&(N.crumb=l),n===j.AccountTypes.IMAPIN){var C=a,D=j.IMAP_SETTINGS[E].imapServer,m=e.getStore(Q.default).getAllAccounts();Object.assign(T,{serverUri:D,status:"ENABLED",authType:"OAUTH2",email:C,replyToAddress:C,folderPrefix:t(a,m)})}else n===j.AccountTypes.SENDAS&&d.length>0&&Object.assign(T,{linkedAccounts:d});return S(e,T,I,N)}function d(e,t){var a=t.accountId,E=e.getStore(Y.default).getMailboxes()[0].id,n=(0,ie.selectors)(e.store.getState()),r=n.getAliasAccounts,s=e.getStore(Q.default).getAccountById(a)||r().find(function(e){return e.id===a}),u=Object.assign({},s,{status:j.AccountStatus.DELETE_IN_PROGRESS});e.dispatch(w.mail.ACCOUNT_DELETE_REQUESTED,{updatedAccount:u});var c=e.mailAPIClient.request("settings.deleteAccount",{accountId:a,mailboxId:E}).then(function(){return e.dispatch(w.mail.ACCOUNT_DELETE_SUCCEEDED,{updatedAccount:u})}).catch(function(t){return e.dispatch(w.mail.ACCOUNT_DELETE_FAILED,{err:t})});return u.type===j.AccountTypes.IMAPIN&&c.then(function(){return i(e,u.email)}),c}function T(e,t){return _(e,t.accountId,{isSending:t.isSending},{requested:w.mail.DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED,succeeded:w.mail.DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED,failed:w.mail.DEFAULT_SENDING_ADDRESS_CHANGE_FAILED})}function I(e,t){return _(e,t.accountId,{signatureActive:t.signatureActive},{requested:w.mail.SIGNATURE_STATUS_CHANGE_REQUESTED,succeeded:w.mail.SIGNATURE_STATUS_CHANGE_SUCCEEDED,failed:w.mail.SIGNATURE_STATUS_CHANGE_FAILED})}function N(e,t){return _(e,t.accountId,{signature:t.signature},{requested:w.mail.SIGNATURE_TEXT_CHANGE_REQUESTED,succeeded:w.mail.SIGNATURE_TEXT_CHANGE_SUCCEEDED,failed:w.mail.SIGNATURE_TEXT_CHANGE_FAILED})}function C(e,t){var i,a=t.location;e.dispatch(w.mail.SETTINGS_LOCATION_CHANGE_REQUESTED,{location:a});var E=$.default.determine(),n=E&&E.name();e.udbClient.write((i={},i[z.UDBKeys.YM_TZ]=JSON.stringify({city:a.city,state:a.state,country:a.country,timezone:{name:a.timezone.name}}),i[z.UDBKeys.YM_LAST_OBSERVED_TZ]=JSON.stringify({client:n,server:a.timezone.name}),i)).then(function(){return window.location.reload()},function(t){return e.dispatch(w.mail.SETTINGS_LOCATION_CHANGE_FAILED,{err:t})})}function D(e){return e.dispatch(w.mail.OPT_OUT_OF_NORRIN)}function m(e){e.dispatch(w.mail.OPT_OUT_SUBMIT_FEEDBACK)}function O(e){e.dispatch(w.mail.OPT_OUT_CANCEL_FEEDBACK)}function M(e){return e.dispatch(w.mail.GO_TO_PRIVACY_TERMS)}function p(e){return e.dispatch(w.mail.GO_TO_HELP_PAGE)}function f(e){return e.dispatch(w.mail.GIVE_FEEDBACK)}function b(e){return e.dispatch(w.mail.GO_TO_ABOUT_YAHOO_MAIL)}function g(e){return e.dispatch(w.mail.GO_TO_ABOUT_OUR_ADS)}function R(e){return e.dispatch(w.mail.GO_TO_AD_FREE_MAIL)}function U(e,t){return _(e,t.accountId,t.data,{requested:w.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED,succeeded:w.mail.ACCOUNT_DETAILS_CHANGE_SUCCEEDED,failed:w.mail.ACCOUNT_DETAILS_CHANGE_FAILED})}function L(e,t){return S(e,{email:t.email,sendingName:t.sendingName,type:t.type,description:t.description},{requested:w.mail.ACCOUNT_ADD_REQUESTED,succeeded:w.mail.ACCOUNT_ADD_SUCCEEDED,failed:w.mail.ACCOUNT_ADD_FAILED})}function h(e,t){var i=t.baseName,a=t.domain,E=e.getStore(Y.default).getMailboxes()[0].id,n=(0,ie.selectors)(e.store.getState()),r=n.getFeaturesSelectors,s=r(),u=s.isEnabled("deaSuggestionJWS");return e.dispatch(w.mail.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED,{baseName:i,domain:a}),e.mailAPIClient.request(u?"settings.setBaseNameJWS":"settings.setBaseName",{baseName:i,domain:a,mailboxId:E}).then(function(t){var E=t.suggestions;E&&E.length?e.dispatch(w.mail.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED,{suggestions:E}):e.dispatch(w.mail.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED,{baseName:i,domain:a})}).catch(function(t){return e.dispatch(w.mail.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED,{err:t})})}function G(e,t){var i=t.wssid,a=t.accountId,E=t.error,n=void 0===E?{}:E,r={},s=n.status,u=void 0===s?null:s,c=n.provider,o=void 0===c?"":c,A=n.email,_=void 0===A?"":A;if(u)return e.dispatch(w.mail.ACCOUNT_REAUTH_FAILED,{status:u,provider:o,email:_});i&&(r.wssid=i);var S=e.getStore(Y.default).getMailboxes()[0].id,l=e.getStore(Q.default).getAccountAlertByAccountId(a),d=l.id;return e.mailAPIClient.request("account.updateAlerts",{mailboxId:S,alertId:d},r).then(function(t){var i=t.accountAlerts;i&&i.length>0?e.dispatch(w.mail.ACCOUNT_REAUTH_SUCCEEDED,{accountAlerts:i}):e.dispatch(w.mail.ACCOUNT_REAUTH_FAILED,{status:u,provider:o,email:_})}).catch(function(){e.dispatch(w.mail.ACCOUNT_REAUTH_FAILED,{status:u,provider:o,email:_})})}function x(e){return e.dispatch(w.mail.ACCOUNT_ADD_FINISHED)}function F(e){return e.dispatch(w.mail.ACCOUNT_SETTINGS_CANCEL)}function P(e){return e.dispatch(w.mail.ACCOUNT_ADD_WIZARD_OPENED)}function v(e){return e.dispatch(w.mail.ACCOUNT_ADD_SELECT_PROVIDER)}function H(e){return e.dispatch(w.mail.ACCOUNT_DELETE_OPEN_CONFIRMATION)}function B(e){return e.dispatch(w.mail.ACCOUNT_ADD_AUTHORIZE)}function k(e,t){var i=t.account;return e.dispatch(w.mail.CONFIRM_EMAIL_RESEND_REQUESTED),e.mailAPIClient.request("settings.resendConfirmEmail",{account:i}).then(function(t){e.dispatch(w.mail.CONFIRM_EMAIL_RESEND_SUCCEEDED,{account:t})}).catch(function(t){e.dispatch(w.mail.CONFIRM_EMAIL_RESEND_FAILED,{err:t})})}function q(e,t){var i=t.value;return a(e,{id:j.MailboxAttributes.LINK_ENHANCER,value:i,actions:{requested:w.mail.LINK_ENHANCER_CHANGE_REQUESTED,succeeded:w.mail.LINK_ENHANCER_CHANGE_SUCCEEDED,failed:w.mail.LINK_ENHANCER_CHANGE_FAILED}})}function y(e,t){e.dispatch(w.mail.SETTINGS_POPOVER_AUTOOPEN_CHANGED,t)}function V(e,t){var i=t.email,a=e.getStore(Y.default).getMailboxes()[0].id;return e.dispatch(w.mail.ALIAS_EMAIL_CREATE_REQUESTED,{email:i}),e.mailAPIClient.request("settings.createAlias",{email:i,mailboxId:a}).then(function(t){var a=t.suggestions,E=t.newAccount;a&&a.length?e.dispatch(w.mail.ALIAS_EMAIL_CREATE_FAILED,{email:i,suggestions:a}):a||E?e.dispatch(w.mail.ALIAS_EMAIL_CREATE_SUCCEEDED,{newAccount:E}):e.dispatch(w.mail.ALIAS_EMAIL_CREATE_FAILED,{email:i})}).catch(function(){return e.dispatch(w.mail.ALIAS_EMAIL_CREATE_FAILED,{email:i})})}exports.__esModule=!0,exports.updatePreviewPane=E,exports.updateSetting=n,exports.updateThemeAndThemeMode=r,exports.updateMultiTasking=s,exports.updateSnippetsSetting=u,exports.updateMessageListDensity=c,exports.updateBrowserNotificationSetting=o,exports.updateConversationMode=A,exports.createNewAccount=l,exports.deleteAccount=d,exports.updateDefaultSendingAccount=T,exports.updateSignatureStatus=I,exports.updateSignatureText=N,exports.updateLocationSetting=C,exports.optOut=D,exports.optOutSubmitFeedback=m,exports.optOutCancelFeedback=O,exports.goToPrivacyTerms=M,exports.goToHelpPage=p,exports.giveFeedback=f,exports.goToAboutYahooMail=b,exports.goToAboutOurAds=g,exports.goToAdFreeMail=R,exports.updateAccountDetails=U,exports.addDisposableEmailAddress=L,exports.createBaseName=h,exports.reauthAccount=G,exports.newAccountAddFinished=x,exports.cancelAccountSettings=F,exports.openAddAccountWizard=P,exports.addAccountSelectProvider=v,exports.deleteAccountConfirmation=H,exports.authorizeNewAccount=B,exports.resendConfirmEmail=k,exports.updateLinkEnhancerMode=q,exports.autoOpenSettingsPopover=y,exports.createAlias=V;var w=require("../platform/react_action_constants"),K=require("../stores/user_preferences"),Y=e(K),W=require("../stores/mail"),Q=e(W),j=require("../platform/mail_constants"),z=require("../platform/udb_client/constants"),J=require("../platform/utils/array"),X=require("../platform/utils/account"),Z=require("jstz"),$=e(Z),ee=require("lodash/omit"),te=e(ee),ie=require("../reducers_selectors");
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/udb_client/constants":"./platform/udb_client/constants","../platform/utils/account":"./platform/utils/account","../platform/utils/array":"./platform/utils/array","../reducers_selectors":"./reducers_selectors","../stores/mail":"./stores/mail","../stores/user_preferences":"./stores/user_preferences","jstz":"./node_modules/jstz/index.js","lodash/omit":"./node_modules/lodash/omit.js"}],"./apps/mail/actions":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var s=(0,me.selectors)(e.store.getState()).getFeaturesSelectors(),a=e.getStore(ce.default).getCurrentSpaceId(),r=e.config.geminiForceFilter,i={adCount:e.config.geminiRequestParams.adCount,sectionId:e.config.geminiRequestParams.sectionId,publisherInfo:"||"+a+"|STRM|"};r&&(i.forceFilter=r),s.isEnabled(k.Features.GEMINI_SPONSORED_VIDEO)&&(i.creativeCode="STRM,STRM_VIDEO",i.contentType="video/mp4"),e.geminiAPIClient.request(i,{adPosition:"messagelist"}).then(t)}function s(e,t,s){if(e.getStore(ee.default).hasSuccessfullyInitialized()){var a=t.params.creativeId;(0,Ie.getGeminiSponsoredAsset)(e,{creativeId:a})}s()}function a(e){return e.autoSuggestClient.formatted({appId:k.appId},k.SocialAccountSPIDs).then(function(t){e.dispatch(z.mail.SOCIAL_ACCOUNTS_STATUS_RECEIVED,{response:t})})}function r(e){var t=(0,me.selectors)(e.store.getState()),s=t.getFeaturesSelectors,a=s(),r=a.isEnabled("mailProSetting"),i=e.config.ads?"getSubscriptionQuotes":"retrieveSubscription";if(r)return e.paymentClient.request(i).then(function(t){e.dispatch(z.mail.PAYMENTS_FETCH_RECEIVED,{payload:t.body,status:t.status})}).catch(function(t){e.dispatch(z.mail.PAYMENTS_FETCH_FAILED,{payload:t})})}function i(e,t,s){var i=e.getStore(se.default);return e.getStore(ee.default).hasSuccessfullyInitialized()?e.mailAPIClient.request("settings.get",{mailboxId:i.getMailboxes()[0].id}).then(function(t){e.dispatch(z.mail.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED,t)}).then(function(){return a(e)}).then(function(){return r(e)}).then(s,s):e.mailAPIClient.request("launch.skeleton").then(function(t){var s=t.mailboxes,a=t.userPreferences,r=t.accounts,i=t.folders,o=t.mailboxAttributes,n=t.userMetaData,l=t.accountAlerts;e.dispatch(z.mail.INITIAL_STATE,{mailboxes:s,userPreferences:a,accounts:r,folders:i,mailboxAttributes:o,userMetaData:n,accountAlerts:l})}).then(s,s)}function o(e,t){var s=t.getStore(re.default),a=(0,me.selectors)(t.store.getState()),r=a.getMessageCsid,i=r(e);if(i&&s.isDraftMessage(e)){var o=s.getComposeDataState(i);return o===k.RecordStates.DOES_NOT_EXIST||o===k.RecordStates.ERROR}var n=(0,me.selectors)(t.store.getState()),l=n.getMessageBodiesSelectors,d=l(),c=d.getState(e);return c===k.RecordStates.DOES_NOT_EXIST||c===k.RecordStates.ERROR}function n(e,t,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0;if(t.length){var i=Object.assign({request:z.mail.MESSAGE_BODIES_REQUESTED,success:z.mail.MESSAGE_BODIES_RECEIVED,failure:z.mail.MESSAGE_BODIES_FAILED},a),o=s.getStore(re.default),n=s.getStore(se.default),l=n.getMailboxes()[0].id,d=(0,me.selectors)(s.store.getState()),c=d.getFeaturesSelectors,u=d.getMessageBodiesSelectors,I=u(),E=I.hasFullBody,S=I.isSecureMessage,g=I.getState,m=c(),f=!m.isEnabled(k.Settings.SHOW_IMAGES),A=m.isEnabled("fetchFullBody"),_=m.isEnabled(k.Features.CONVERSATIONS),p=m.isEnabled(k.Features.COUPON_CARD_EXTRACTIONS),T=m.isEnabled(k.Features.FLIGHT_CARD_EXTRACTIONS),C=!_||A,h=t.filter(function(e){return(!o.isDraftMessage(e)||g(e)!==k.RecordStates.LOADED)&&g(e)!==k.RecordStates.LOADING}).reduce(function(e,t){var s=e.messageIds,a=e.draftMessageIds,r=e.cardConversationIds,i=o.getMessageById(t),n=i.cardConversationId,l=i.decos;return o.isDraftMessage(t)?a.push(t):!S(t)&&E(t)||s.push(t),n&&""!==n&&(p&&(0,Ae.isDecoOfType)(l,k.MessageDecorators.CPN)||T&&(0,Ae.isDecoOfType)(l,k.MessageDecorators.FLR))&&r.push(n),{messageIds:s,draftMessageIds:a,cardConversationIds:r}},{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),M=h.messageIds,L=h.draftMessageIds,D=h.cardConversationIds;return r=D.length>0?C?"messages.getExtractedBodiesFull":"messages.getExtractedBodies":C?"messages.getBodiesFull":"messages.getBodies",s.mailAPIClient.request(r,{mailboxId:l,messageIds:M,draftMessageIds:L,cardConversationIds:D,full:C,secure:f}).then(function(t){t.error.messageIds.length&&s.dispatch(i.failure,{listId:e,messageIds:t.error.messageIds}),s.dispatch(i.success,{listId:e,full:C,secure:f,messageBodiesMap:t.result.messageBodiesMap,messageMetadataMap:t.result.messageMetadataMap})}).catch(function(a){s.dispatch(i.failure,{listId:e,messageIds:t,error:a})})}return Promise.resolve()}function l(e,t,s){var a=s.getStore(re.default),r=t.reduce(function(e,t){var r=a.getMessageGroupById(t.id);if(r){var i,n=(0,Y.getIdsOfMessagesToExpand)(r).filter(function(e){return o(e,s)});(i=e.messageIds).push.apply(i,n)}else e.messageGroupIds.push(t.id);return e},{messageGroupIds:[],messageIds:[]});return Promise.all([n(e,r.messageIds,s)].concat(r.messageGroupIds.map(function(t){return d(e,t,s)})))}function d(e,t,s){var a=(0,me.selectors)(s.store.getState()),r=a.getFeaturesSelectors,i=r(),o=i.isEnabled("fetchFullBody"),n=i.isEnabled(k.Features.CONVERSATIONS),l=!n||o,d=s.getStore(se.default),c=d.getMailboxes()[0].id,u=!i.isEnabled(k.Settings.SHOW_IMAGES);return s.mailAPIClient.request("messageGroups.get",{mailboxId:c,messageGroupId:t,secure:u,full:l,isConversation:n}).then(function(t){s.dispatch(z.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED,{listId:e,secure:u,full:l,messageGroup:t.messageGroup,messageBodiesMap:t.messageBodiesMap})}).catch(function(a){s.dispatch(z.mail.MESSAGE_GROUP_WITH_BODIES_FAILED,{listId:e,messageGroupId:t,error:a})})}function c(e,t){var s=t.route,a=s.params,r=(0,j.getListIdFromRoute)(s),i=decodeURIComponent(a.groupId),l=e.getStore(re.default),c=l.getMessageGroupById(i),u=(0,W.buildStreamIdFromStreamItem)(r,i),I=k.ListContentTypes.MESSAGE,E=(0,j.recreateListId)(r,{listContentType:I});if(!c){var S=d(r,i,e);return e.dispatch(z.mail.MESSAGE_GROUP_WITH_BODIES_OPENED,{listId:r,messageGroupId:i}),S}var g=(0,Y.getIdsOfMessagesToExpand)(c).filter(function(t){return o(t,e)}),m=n(r,g,e,{success:z.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED}),f={id:g.length?g[0]:"",listId:E};return e.dispatch(z.mail.MESSAGE_GROUP_OPENED,{listId:r,messageGroupId:i,messageIds:g,messageBodiesToFetchCount:g.length,streamId:u,streamItem:f}),m}function u(e,t,s){var a=e.getStore(ee.default),r=t.params,i=(0,j.getListIdFromRoute)(t),o=decodeURIComponent(r.groupId),n=(0,j.getFolderIdFromListId)(i),l=(0,j.getSortOrderFromListId)(i),d=(0,j.getListFilterFromListId)(i),c=(0,me.selectors)(e.store.getState()),u=c.getFeaturesSelectors,E=u(),S=E.getSetting(k.Settings.MESSAGE_FETCH_COUNT);return a.hasSuccessfullyInitialized()?Promise.resolve().then(s,s):e.mailAPIClient.request("launch.messageGroup",{isConversation:e.config.conversations,messageGroupId:o,folderId:n,sortOrder:l,filter:d,count:S,offset:0}).then(function(s){var a=s.mailboxes,r=s.folders,o=s.userPreferences,n=s.userMetaData,l=s.messageGroups,d=s.messageBodiesMap,c=s.messageMetadataMap,u=s.accounts,E=s.mailboxAttributes,S=s.accountAlerts,g=s.messageGroupList,m=s.hasMoreItems,f=s.folderId,A=s.error;e.dispatch(z.mail.INITIAL_STATE,Q({mailboxes:a,folders:r,userPreferences:o,userMetaData:n,accounts:u,mailboxAttributes:E,accountAlerts:S},A?{listId:(0,j.getListIdFromFolderId)(f),messageGroupList:g,hasMoreItems:m,launchOverrideUrl:I(t,f),launchError:k.LaunchError.MESSAGE_ACCESS_FAILED}:{listId:i,messageGroups:l,messageBodiesMap:d,messageMetadataMap:c}))}).then(s,s)}function I(e,t){var s=e.url.split("?"),a=s[1];return"/d/folders/"+t+(a?"?"+a:"")}function E(e,t){var s=t.listId,a=t.folders,r=e.getStore(se.default).getMailboxes()[0].id,i=e.getStore(re.default),o=i.isListStale(s),n=i.getActiveAccount(),l=n.email,d=i.doesListExist(s),c=null,u=(0,me.selectors)(e.store.getState()),I=u.getFeaturesSelectors,E=I(),S=E.isEnabled(k.Features.CONVERSATIONS),g=E.getSetting(k.Settings.SEARCH_SOURCE_TAG);return o&&(c=e.bootcampClient.createStream("searchStream",Object.assign((0,j.getBootcampApiQueryParams)(s),{mailboxid:r,limit:50,threads:!!S,accountemail:"smtp:"+l,sourceTag:g})),c.on("data",function(t){if(200!==t.status&&t.error&&"BootcampApiClient.SearchError"===t.error.name)e.dispatch(z.mail.SEARCH_LIST_ITEMS_FAILED,{listId:s});else{var r={listId:s,doesListExist:d,response:t};a&&(r.folders=a),e.dispatch(z.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED,r)}}),c.on("end",function(){var t=e.getStore(re.default),a=t.itemListCollection.getState(s);if(a!==k.RecordStates.LOADED)e.dispatch(z.mail.SEARCH_LIST_ITEMS_FAILED,{listId:s,error:new Se.default("BootcampApiClient.SearchError","main chunk is not loaded")});else{var r={listId:s,doesListExist:d};a===k.RecordStates.LOADED&&0===t.itemListCollection.getListItemCount(s)&&(r.i13nModel={isBeaconEvent:!0,eventName:ge.BEACON_EVENTS.SEARCH_ZERO_RESULTS,etrg:"change",outcome:"search_zero_results"}),e.dispatch(z.mail.SEARCH_LIST_ITEMS_RECEIVED,r)}}),c.on("error",function(t){return e.dispatch(z.mail.SEARCH_LIST_ITEMS_FAILED,{listId:s,error:t})})),o&&e.dispatch(z.mail.SEARCH_LIST_ITEMS_REQUESTED,{listId:s,isListStale:o}),c}function S(e,t,s){if(e.getStore(ee.default).hasSuccessfullyInitialized())return Promise.resolve().then(s,s);var a=(0,j.getListIdFromRoute)(t),r=(0,j.getListFilterFromListId)(a),i=e.mailAPIClient.request("launch.skeleton").then(function(t){var s=t.mailboxes,r=t.userMetaData,i=t.userPreferences,o=t.mailboxAttributes,n=t.accounts,l=t.folders,d=t.accountAlerts;e.dispatch(z.mail.INITIAL_STATE,{listId:a,mailboxes:s,accounts:n,folders:l,userMetaData:r,userPreferences:i,mailboxAttributes:o,accountAlerts:d})});return i.then(function(){return r===k.ListFilters.MAGIC_TRIAGE?T(e,a):E(e,{listId:a})}).then(s,s),i}function g(e,t){var s=t.route,a=(0,j.getListIdFromRoute)(s);return(0,j.getListFilterFromListId)(a)===k.ListFilters.MAGIC_TRIAGE?T(e,a):E(e,{listId:a})}function m(e,t,s){return e.getStore(ee.default).hasSuccessfullyInitialized()?Promise.resolve().then(s,s):e.mailAPIClient.request("launch.skeleton").then(function(t){var s=t.mailboxes,a=t.userPreferences,r=t.accounts,i=t.folders,o=t.mailboxAttributes,n=t.userMetaData,l=t.accountAlerts;e.dispatch(z.mail.INITIAL_STATE,{mailboxes:s,userPreferences:a,accounts:r,folders:i,mailboxAttributes:o,userMetaData:n,accountAlerts:l})}).then(s,s)}function f(e){return(e+5)%7}function A(e,t){var s=Date.now(),a=f(new Date(s).getDay()),r=f(new Date(t).getDay()),i=e.slice();return a>=r&&(s-t)/864e5<7?i[a]=!0:(i=[!1,!1,!1,!1,!1,!1,!1],i[a]=!0),{userVisits:i,currentDate:s}}function _(e,t){var s=e.getStore(se.default).getMailboxes()[0].id;t.forEach(function(t){var a=t.name,r=t.setting,i=t.value;e.dispatch(z.mail.SETTINGS_CHANGE_REQUESTED,{name:a,value:i}),e.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:s,attributes:[{id:r,value:i}]}).then(function(){e.dispatch(z.mail.SETTINGS_CHANGE_SUCCEEDED,{name:a,value:i})}).catch(function(t){e.dispatch(z.mail.SETTINGS_CHANGE_FAILED,{name:a,err:t})})})}function p(e){e.dispatch(z.mail.LAUNCH_COMPLETED)}function T(e,t){var s=e.getStore(re.default),a=s.getActiveAccount().id,r=e.getStore(se.default).getMailboxes()[0].id,i=s.isListStale(t);if(i){e.dispatch(z.mail.MAGIC_TRIAGE_ITEMS_REQUESTED,{listId:t,isListStale:i});var o=(0,me.selectors)(e.store.getState()),n=o.getFeaturesSelectors,l=n(),d=l.getSetting(k.Settings.MAGIC_TRIAGE_HOST),c=l.isEnabled(k.Settings.MAGIC_TRIAGE_BAR);return e.autoSuggestClient.getMagicTriageMessages({url:d}).then(function(s){if(c){var i=(0,me.selectors)(e.store.getState()),o=i.getFeaturesSelectors,n=o().getSetting(k.Settings.MAGIC_TRIAGE_USER_VISITS),d=o().getSetting(k.Settings.MAGIC_TRIAGE_TIMESTAMP);if(n&&d>=0){var u=A(n,d),I=u.userVisits,E=u.currentDate;(0,K.default)(I,n)||_(e,[{name:k.Settings.MAGIC_TRIAGE_USER_VISITS,setting:k.LaunchMailboxAttributes.MAGIC_TRIAGE_USER_VISITS,value:I},{name:k.Settings.MAGIC_TRIAGE_TIMESTAMP,setting:k.LaunchMailboxAttributes.MAGIC_TRIAGE_TIMESTAMP,value:E}])}}var S=s.triage_msgIds.map(function(e){return e});if(e.dispatch(z.mail.MAGIC_TRIAGE_CALL_SUCCESS,{i13nModel:{mKey:ge.MKEYS.MAGIC_TRIAGE_CALL_SUCCESS,sec:ge.SEC_VALUES.MAGIC_TRIAGE_LIST,actionData:{mids:S}}}),s.triage_convIds.length<1||s.triage_msgIds.length<1)return s={MESSAGES:{MAGIC_TRIAGE:{items:[],hasMoreItems:!1,totalHits:0}}},e.dispatch(z.mail.MAGIC_TRIAGE_ITEMS_RECEIVED,{listId:t,response:s,i13nModel:{mKey:ge.MKEYS.MAGIC_TRIAGE_DISPLAYED_NULL,sec:ge.SEC_VALUES.MAGIC_TRIAGE_LIST}}),null;var g=l.isEnabled(k.Features.CONVERSATIONS),m={accountId:a,mailboxId:r,count:20,offset:0,conversationsMode:g,sortOrder:k.SortOrder.UNREAD,excludeFolderTypes:["TRASH"],ids:g?s.triage_convIds:s.triage_msgIds};return e.mailAPIClient.request("magicTriage.getList",m).then(function(s){var a=s.messageGroupList.filter(function(e){return e.messages.some(function(e){return!e.flags.read})}),r={MESSAGES:{MAGIC_TRIAGE:{items:a.length>10?a.splice(10):a,hasMoreItems:!1,totalHits:a.length}}},i=ge.MKEYS.MAGIC_TRIAGE_DISPLAYED;a.length<1&&(i=ge.MKEYS.MAGIC_TRIAGE_DISPLAYED_NULL),e.dispatch(z.mail.MAGIC_TRIAGE_ITEMS_RECEIVED,{listId:t,response:r,i13nModel:{mKey:i,sec:ge.SEC_VALUES.MAGIC_TRIAGE_LIST}})}).catch(function(s){e.dispatch(z.mail.MAGIC_TRIAGE_ITEMS_FAILED,{error:s,listId:t})})}).catch(function(s){e.dispatch(z.mail.MAGIC_TRIAGE_ITEMS_FAILED,{error:s,listId:t})})}return null}function C(e,t,s){var a=t.params,r=decodeURIComponent(a.attachmentId);return u(e,t,s).then(function(){return(0,ue.loadAttachmentIfNotPresent)(e,{attachmentId:r})}).then(s,s)}function h(e,t,s){var a=decodeURIComponent(t.params.groupId),r=e.getStore(ee.default),i=void 0;if(r.hasSuccessfullyInitialized()){var o=e.getStore(re.default),n=e.getStore(se.default).getMailboxes()[0].id,l=(0,me.selectors)(e.store.getState()),d=l.getMessageBodiesSelectors,c=d(),u=c.getState(a);if(i=(0,j.getListIdFromFolderId)(o.getFolderIdForMessage(a)),u===k.RecordStates.LOADING)return void s();if(u!==k.RecordStates.LOADED)e.mailAPIClient.request("messages.getBodiesFull",{mailboxId:n,full:!0,secure:!1,messageIds:[a]}).then(function(t){if((0,me.selectors)(e.store.getState()).getMessageBodiesSelectors().getState(a)!==k.RecordStates.LOADED){if(t.error.messageIds.length)return e.dispatch(z.mail.MESSAGE_BODIES_FAILED,{listId:i,messageIds:t.error.messageIds});e.dispatch(z.mail.MESSAGE_BODIES_RECEIVED,{listId:i,full:!0,secure:!1,messageBodiesMap:t.result.messageBodiesMap,messageMetadataMap:t.result.messageMetadataMap});var s=(0,me.selectors)(e.store.getState()),r=s.getMessageBodiesSelectors,n=s.getMessageCsid,l=r(),d=l.get(a),c=Object.assign({},o.getMessageById(a),{body:d}),u=n(a);(0,J.default)(u,"'csid', should be present in the message here"),e.dispatch(z.mail.COMPOSE_OPENED,{composeMode:k.Compose.Modes.EDIT,listId:i,csid:u,message:c})}}).catch(function(t){e.dispatch(z.mail.MESSAGE_BODIES_FAILED,{listId:i,messageIds:[a],error:t})}).then(s,s);else{var I=(0,me.selectors)(e.store.getState()),E=I.getMessageBodiesSelectors,S=I.getMessageCsid,g=E(),m=g.get(a),f=Object.assign({},o.getMessageById(a),{body:m}),A=S(a);(0,J.default)(A,"'csid', should be present in the message here"),e.dispatch(z.mail.COMPOSE_OPENED,{composeMode:k.Compose.Modes.EDIT,listId:i,csid:A,message:f}),s()}}else e.mailAPIClient.request("launch.message",{messageId:a}).then(function(t){var s=t.mailboxes,a=t.folders,r=t.userPreferences,o=t.userMetaData,n=t.messageGroups,l=t.messageBodiesMap,d=t.messageMetadataMap,c=t.accounts,u=t.mailboxAttributes,I=t.message,E=t.accountAlerts,S=void 0,g=(0,me.selectors)(e.store.getState()).getFeaturesSelectors(),m=g.isEnabled(k.Features.CONVERSATIONS);n||(S=[{id:m?I.conversationId:I.id,messages:[I]}]),i=(0,j.getListIdFromFolderId)(I.folder.id),e.dispatch(z.mail.INITIAL_STATE,{listId:i,mailboxes:s,folders:a,userPreferences:r,userMetaData:o,draftMessage:S,messageGroups:n,messageBodiesMap:l,messageMetadataMap:d,accounts:c,mailboxAttributes:u,message:I,accountAlerts:E})}).then(s,s)}function M(e,t,s){var a=e.getStore(ee.default),r=decodeURIComponent(t.params.csid),i=(0,me.selectors)(e.store.getState()),o=i.getRouterSelectors;if(a.hasSuccessfullyInitialized()){if(o().isMobileRoute())return;var n=e.getStore(se.default);(0,J.default)(r,"csid is required and should be in the url"),e.dispatch(z.mail.COMPOSE_OPENED,{composeMode:k.Compose.Modes.NEW,csid:r,preferences:n.getPreferences()}),s()}else e.mailAPIClient.request("launch.compose",{csid:r}).then(function(s){var a=s.mailboxes,i=s.message,o=s.messageMetadataMap,n=s.mailboxAttributes,l=s.messageBodiesMap,d=s.accounts,c=s.folders,u=s.accountAlerts,I=void 0,E=e.encryptedQueryParams,S=E.initialTo,g=void 0===S?"":S,m=E.initialCc,f=void 0===m?"":m,A=E.initialBcc,_=void 0===A?"":A,p=E.initialSubject,T=E.initialBody,C=E.initialStationeryCategory,h=E.initialStationeryTheme,M={csid:r,initialTo:g,initialCc:f,initialBcc:_,initialSubject:p,initialBody:T,initialStationeryCategory:C,initialStationeryTheme:h};if((0,J.default)(r,"csid is required and should be in the url"),i){var L=i.headers,D=i.folder,R=D.types,F=D.id;if(I=(0,j.getListIdFromFolderId)(F),R[0]&&R[0].indexOf(k.FolderTypes.DRAFT)===-1){var O=t.url.split("?"),v=O[1],b=(0,X.getDefaultFolder)(d,c),G=b.id,N="/d/folders/"+G+(v?"?"+v:"");return e.dispatch(z.mail.INITIAL_STATE,{listId:I,mailboxes:a,accounts:d,folders:c,mailboxAttributes:n,accountAlerts:u,launchOverrideUrl:N}),void e.dispatch(z.mail.COMPOSE_INVALID_MESSAGE_OPENED)}Object.assign(M,{initialFrom:L.from,initialTo:L.to,initialCc:L.cc,initialBcc:L.bcc,initialSubject:L.subject,initialBody:{content:l[i.id].html}})}e.dispatch(z.mail.INITIAL_STATE,{listId:I,mailboxes:a,accounts:d,folders:c,mailboxAttributes:n,draftData:M,accountAlerts:u,message:i,messageMetadataMap:o,messageBodiesMap:l})}).then(s,s)}function L(e){var t=(0,me.selectors)(e.store.getState()),s=t.getFeaturesSelectors,a=s(),r=a.isEnabled("hero");e.dispatch(z.mail.CLOSE_PAGE_REQUESTED,{hero:r})}function D(e,s,a,r){var i=a.folderId,o=a.listId,n=a.sortOrder,l=a.route,d=null,c=void 0;o&&(c=(0,j.getListFilterFromListId)(o)),e.config.ads&&t(e,function(e){d=e&&e[0]});var u=(0,me.selectors)(e.store.getState()),E=u.getFeaturesSelectors,S=E(),g=S.getSetting(k.Settings.MESSAGE_FETCH_COUNT_INITIAL);e.mailAPIClient.request(s,{folderId:i,sortOrder:n,filter:c,count:g,offset:0,conversationsMode:e.config.conversations}).then(function(t){var a=t.mailboxes,r=t.folders,i=t.userPreferences,n=t.messageGroups,c=t.hasMoreItems,u=t.accounts,E=t.mailboxAttributes,S=t.userMetaData,g=t.accountAlerts,m=t.folderId,f=t.error;e.dispatch(z.mail.INITIAL_STATE,Q({mailboxes:a,folders:r,userPreferences:i,messageGroupList:n,hasMoreItems:c,accounts:u,mailboxAttributes:E,userMetaData:S,geminiAd:d,accountAlerts:g,listId:"launch.defaultFolder"===s?(0,j.getListIdFromFolderId)(m):o},f&&{listId:(0,j.getListIdFromFolderId)(m),launchOverrideUrl:I(l,m),launchError:k.LaunchError.FOLDER_ACCESS_FAILED}))}).then(r,r)}function R(e,t,s){e.getStore(ee.default).hasSuccessfullyInitialized()&&(0,J.default)(!1,"BASE Route should not be navigable to after launch"),D(e,"launch.defaultFolder",{sortOrder:k.SortOrder.DATE_DESC,route:t},s)}function F(e,t){var s=t.listId,a=(0,j.getListFilterFromListId)(s),r=e.getStore(se.default),i=r.getMailboxes()[0].id,o=e.config.cardGroupFetchCount,n=(0,j.getListContentTypeFromListId)(s),l=0,d={},c=void 0,u=void 0,I=void 0;switch(n){case k.ListContentTypes.TRAVEL_CARDS:d={EXTRACTED_LIST_REQUESTED:z.mail.TRAVEL_LIST_REQUESTED,EXTRACTED_LIST_SUCCEEDED:z.mail.TRAVEL_LIST_SUCCEEDED,EXTRACTED_LIST_FAILED:z.mail.TRAVEL_LIST_FAILED};break;case k.ListContentTypes.COUPON_CARDS:d={EXTRACTED_LIST_REQUESTED:z.mail.COUPONS_LIST_REQUESTED,EXTRACTED_LIST_SUCCEEDED:z.mail.COUPONS_LIST_SUCCEEDED,EXTRACTED_LIST_FAILED:z.mail.COUPONS_LIST_FAILED},c=Math.round((new Date).getTime()/1e3),u=c+2592e3,I=k.SORT_ORDER_CARD_DATE_ASC;break;default:(0,J.default)("openContentCardsSmartView was invoked with incorrect listContentType.")}return e.dispatch(d.EXTRACTED_LIST_REQUESTED),e.mailAPIClient.request("messageCards.getList",{mailboxId:i,filter:a,count:o,offset:l,startCardDate:c,endCardDate:u,sortOrder:I}).then(function(t){var a=t.cardGroupList,r=t.hasMoreItems;e.dispatch(d.EXTRACTED_LIST_SUCCEEDED,{listId:s,cardGroupList:a,hasMoreItems:r})}).catch(function(t){e.dispatch(d.EXTRACTED_LIST_FAILED,{listId:s,error:t})})}function O(e,t,s){var a=(0,j.getListIdFromRoute)(t);return e.getStore(ee.default).hasSuccessfullyInitialized()?F(e,{listId:a}).then(s,s):e.mailAPIClient.request("launch.skeleton").then(function(t){var s=t.mailboxes,r=t.userMetaData,i=t.userPreferences,o=t.mailboxAttributes,n=t.accounts,l=t.folders,d=t.accountAlerts;e.dispatch(z.mail.INITIAL_STATE,{listId:a,mailboxes:s,accounts:n,folders:l,userMetaData:r,userPreferences:i,mailboxAttributes:o,accountAlerts:d})}).then(function(){return F(e,{listId:a})}).then(s,s)}function v(e,t,s){var a=e.getStore(ee.default),r=e.getStore(re.default),i=e.getStore(oe.default),o=(0,j.getListIdFromRoute)(t);if((0,j.isContentCardsList)(o))return O(e,t,s);var n=(0,j.getFolderIdFromListId)(o),l=(0,j.getSortOrderFromListId)(o),d=(0,j.getListFilterFromListId)(o);if(a.hasSuccessfullyInitialized()){var c=e.getStore(se.default),u=c.getMailboxes()[0].id,I=r.getActiveAccount().id,E=r.getAccountIdForFolder(n),S=(0,fe.getAccountProvider)(r.getAccountById(E)),g=(0,me.selectors)(e.store.getState()),m=g.getFeaturesSelectors,f=m(),A=f.getSetting(k.Settings.MESSAGE_FETCH_COUNT),_=0;if(e.dispatch(z.mail.CHANGE_FOLDER_REQUESTED,{listId:o}),I!==E){var p=r.getDefaultFolderForAccount(E),T=p.id,C=r.getExpiredAccounts();T===n&&C.find(function(e){return e===E})&&e.dispatch(z.mail.MAILBOX_NOT_SYNCING,{accountId:E,autoOpenReauth:f.isEnabled("autoOpenReauth"),provider:S})}if(!r.isListStale(o)&&!i.shouldForceCheckMail())return void s();var h={accountId:I,folderId:n,mailboxId:u,sortOrder:l,filter:d,count:A,offset:_,conversationsMode:f.isEnabled(k.Features.CONVERSATIONS)};if(r.doesListExist(o)){var M=r.getPrimaryAccount().id,L=r.getFolderIdsByType(M,k.FolderTypes.ALERTSTORE)[0];return h.alertStoreHighestModSeq=i.getFolderHighestModSeq(L),s(),N(e,h,o,A,{success:z.mail.CHANGE_FOLDER_SUCCEEDED,failure:z.mail.CHANGE_FOLDER_FAILED})}return e.mailAPIClient.request("folderChange.getList",h).then(function(t){var a=t.messageGroupList,r=t.hasMoreItems;e.dispatch(z.mail.CHANGE_FOLDER_SUCCEEDED,{listId:o,messageGroupList:a,hasMoreItems:r}),s()}).catch(function(t){e.dispatch(z.mail.CHANGE_FOLDER_FAILED,{listId:o,error:t}),s()})}D(e,"launch.folder",{folderId:n,listId:o,sortOrder:l,route:t},s)}function b(e){var t=e.getStore(oe.default),s=(0,me.selectors)(e.store.getState()),a=s.getFeaturesSelectors,r=a(),i=r.getSetting(k.Settings.CHECK_MAIL_INTERVAL);t.isAutoCheckMailAllowed(i)&&G(e)}function G(e){var t=e.getStore(oe.default),s=e.getStore(le.default).getActivePageRoute(),a=(0,j.getListIdFromRoute)(s),r=(0,j.getFolderIdFromListId)(a),i=(0,me.selectors)(e.store.getState()),o=i.getFeaturesSelectors,n=o();if(!t.isCheckMailBlocked()&&r&&s.name!==k.RouteNames.SEARCH&&s.name!==k.RouteNames.MESSAGE_FROM_SEARCH_LIST){var l=e.getStore(se.default).getMailboxes()[0].id,d=e.getStore(re.default),c=d.getActiveAccount().id,u=d.getPrimaryAccount().id,I=d.getFolderIdsByType(u,k.FolderTypes.ALERTSTORE)[0],E=e.getStore(ee.default).isAppVisible(),S=(0,j.getSortOrderFromListId)(a),g=(0,j.getListFilterFromListId)(a),m=d.isListStale(a),f=k.CHECK_MAIL_MESSAGES_COUNT;return e.dispatch(z.mail.AUTO_CHECK_MAIL_REQUESTED,{listId:a}),N(e,{highestModSeq:m?0:t.getFolderHighestModSeq(r),folderId:r,mailboxId:l,sortOrder:S,filter:g,count:f,offset:0,conversationsMode:n.isEnabled(k.Features.CONVERSATIONS),accountId:c,resetUnseenCount:E,alertStoreHighestModSeq:t.getFolderHighestModSeq(I)},a,f,{success:z.mail.AUTO_CHECK_MAIL_RECEIVED,failure:z.mail.AUTO_CHECK_MAIL_FAILED})}}function N(e,t,s,a,r){var i=e.getStore(oe.default);return e.mailAPIClient.request("checkMail",t).then(function(t){var o=t.folders,n=t.messageGroupList,d=t.accountAlerts,c=i.getStaleFolderIds(o),u=i.getNewFolderIds(o);if(r.success!==z.mail.AUTO_CHECK_MAIL_RECEIVED||c.length||u.length){var I=(0,me.selectors)(e.store.getState()),E=I.getFeaturesSelectors,S=E(),g=S.isEnabled(k.Features.CONVERSATIONS);e.dispatch(r.success,{folders:o,messageGroupList:n,listId:s,count:a,staleFolderIds:c,accountAlerts:d,conversationsMode:g}),S.isEnabled(k.Features.CHECK_MAIL_PREFETCH)&&l(s,n,e)}}).catch(function(t){e.dispatch(r.failure,{error:t,listId:s})})}function x(e,t){var s=t.isVisible,a=e.heartbeatAPIClient.emergencyRefresh,r=(0,me.selectors)(e.store.getState()),i=r.getFeaturesSelectors,o=r.getEnvironmentSelectors,n=i(),l=n.getSetting("appRefreshIdleInterval"),d=n.isEnabled("heartbeatRefresh");s!==o().isAppVisible()&&(e.dispatch(z.mail.APPLICATION_VISIBILITY_DID_CHANGE,{isVisible:s,emergencyRefresh:a,appRefreshIdleInterval:l,heartbeatRefresh:d}),s&&b(e))}function P(e){e.dispatch(z.mail.HEADER_NAVIGATION_SELECTED)}function U(e){e.dispatch(z.mail.SETTINGS_MENU_REQUESTED)}function y(e){e.dispatch(z.mail.ACCOUNT_MENU_SHOWN)}function B(e){e.dispatch(z.mail.USER_LOGGED_OUT)}function H(e){e.dispatch(z.mail.SEARCH_INPUT_FOCUSED);var t=e.getStore(re.default),s=t.getActiveAccount(),a=s.email,r=z.mail.IMPORTANT_CONTACTS_FETCH_SUCCEEDED;return e.dispatch(z.mail.IMPORTANT_CONTACTS_FETCH_REQUESTED),e.autoSuggestClient.importantContacts(a).then(function(t){e.dispatch(z.mail.IMPORTANT_CONTACTS_FETCH_SUCCEEDED,{contacts:t,actionType:r})}).catch(function(){return e.dispatch(z.mail.IMPORTANT_CONTACTS_FETCH_FAILED)})}function q(e,t){var s=t.resolutionType;(0,(0,me.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled(k.Features.RESOLUTION_CHECK)&&e.dispatch(z.mail.RESOLUTION_CHANGE,{resolutionType:s})}function V(e,t){var s=(0,me.selectors)(e.store.getState()),a=s.getFeaturesSelectors,r=a(),i=r.isEnabled("hero"),o=t.streamItem?{streamItem:{listId:t.streamItem.listId,id:t.streamItem.groupId}}:{};e.dispatch(z.mail.OPEN_PAGE_REQUESTED,Q({},t,{hero:i,cursorPayload:o}))}exports.__esModule=!0;var Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e};exports.openSponsoredMessage=s,exports.openSettings=i,exports.openMessageGroup=c,exports.launchMessageGroupFromRoute=u,exports.openSearchFromList=E,exports.launchSearch=S,exports.openSearch=g,exports.openTutorial=m,exports._getTuesBasedDateFromSunBasedDate=f,exports._getUpdatedMagicTriagePreferences=A,exports._updateV3Settings=_,exports.launchCompleted=p,exports.openMagicTriage=T,exports.openAttachment=C,exports.openDraft=h,exports.openCompose=M,exports.closeActivePage=L,exports.openDefaultFolder=R,exports.openContentCardsSmartView=F,exports.launchContentCardsSmartView=O,exports.openFolder=v,exports.autoMessageCheckMail=b,exports.messageCheckMail=G,exports.notifyVisibilityChange=x,exports.handleHeaderNavigation=P,exports.showSettings=U,exports.handleAccountMenuShow=y,exports.handleLogout=B,exports.onSearchBarFocus=H,exports.resolutionChange=q,exports.navigateToRoute=V;var k=require("../../platform/mail_constants"),w=require("lodash/isEqual"),K=e(w),X=require("../../platform/utils/folder"),j=require("../../platform/utils/list"),z=require("../../platform/react_action_constants"),Y=require("../../platform/utils/message_group"),W=require("../../platform/utils/stream"),Z=require("../../platform/invariant"),J=e(Z),$=require("../../stores/application"),ee=e($),te=require("../../stores/user_preferences"),se=e(te),ae=require("../../stores/mail"),re=e(ae),ie=require("../../stores/checkmail"),oe=e(ie),ne=require("../../stores/pages"),le=e(ne),de=require("../../stores/i13n"),ce=e(de),ue=require("../../actions/attachment"),Ie=require("../../actions/ads.js"),Ee=require("../../platform/mail_error"),Se=e(Ee),ge=require("../../platform/rapid_client/constants"),me=require("../../reducers_selectors"),fe=require("../../platform/utils/account"),Ae=require("../../platform/mail_api_client/utils");
},{"../../actions/ads.js":"./actions/ads","../../actions/attachment":"./actions/attachment","../../platform/invariant":"./platform/invariant","../../platform/mail_api_client/utils":"./platform/mail_api_client/utils","../../platform/mail_constants":"./platform/mail_constants","../../platform/mail_error":"./platform/mail_error","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils/account":"./platform/utils/account","../../platform/utils/folder":"./platform/utils/folder","../../platform/utils/list":"./platform/utils/list","../../platform/utils/message_group":"./platform/utils/message_group","../../platform/utils/stream":"./platform/utils/stream","../../reducers_selectors":"./reducers_selectors","../../stores/application":"./stores/application","../../stores/checkmail":"./stores/checkmail","../../stores/i13n":"./stores/i13n","../../stores/mail":"./stores/mail","../../stores/pages":"./stores/pages","../../stores/user_preferences":"./stores/user_preferences","lodash/isEqual":"./node_modules/lodash/isEqual.js"}],38:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.rawMailApp=void 0;var r=require("react"),i=t(r),a=require("react-redux"),l=require("./controller_views"),n=t(l),o=require("./controller_views/tabs.jsx"),s=t(o),u=require("./actions"),c=require("../../atoms/svg_defs.jsx"),d=t(c),m=require("../../providers/notification_provider"),f=t(m),p=require("../../molecules/notification/toast_map"),_=t(p),v=require("../../molecules/notification/toast_wrapper"),h=t(v),b=require("./controller_views/document_title_updater.jsx"),y=t(b),E=require("./providers/ads"),g=t(E),w=require("./providers/react_key"),q=t(w),C=require("../../molecules/ads/ad_debug.jsx"),x=t(C),M=require("./controller_views/unsaved_data_warner.jsx"),k=t(M),S=require("./controller_views/pager"),j=t(S),L=require("./controller_views/app_header"),z=t(L),N=require("./controller_views/instrumenter"),V=t(N),A=require("../../molecules/checkmail"),T=t(A),P=require("../../atoms/lazy_component"),G=require("./styles/mail_app"),I=t(G),F=require("../../molecules/theme_provider"),B=e(F),D=require("./providers/window_manager"),U=e(D),W=require("../../molecules/keyboard_shortcut_manager/keyboard_shortcut_manager.jsx"),H=t(W),O=require("../../atoms/input_mode_detector.jsx"),K=t(O),R=require("./controller_views/rum_controller.jsx"),Z=t(R),J=require("./controller_views/app_layout.jsx"),Q=t(J),X=require("./controller_views/notifications"),Y=t(X),$=require("../../molecules/offline_checker"),ee=t($),te=require("../../client/rum"),re=require("react-intl"),ie=require("../../molecules/empty_folder_video"),ae=t(ie),le=require("../../reducers_selectors"),ne=require("../../platform/mail_constants"),oe=n.default.Notification,se=(0,re.defineMessages)({tabs_nav:{id:"landmark.tabs",defaultMessage:"Tabs"},heading_cheatsheet:{id:"keyboardShortcut.heading_cheatsheet",defaultMessage:"Press question mark key to invoke the keyboard shortcuts cheatsheet"}}),ue=i.default.createClass({displayName:"MailApp",contextTypes:{executeAction:r.PropTypes.func,config:r.PropTypes.object,store:r.PropTypes.object,intl:re.intlShape.isRequired,getCss:r.PropTypes.func},componentDidMount:function e(){var t=this.getStateFromStores(),r=t.focusBasedVisibilityDetection;window.addEventListener("visibilitychange",this._handleVisibilityChange),r&&(window.addEventListener("blur",this._handleVisibilityChange),window.addEventListener("focus",this._handleVisibilityChange)),(0,te.fireNavTimingBeacon)(),this.context.executeAction(u.launchCompleted)},componentWillUnmount:function e(){var t=this.getStateFromStores(),r=t.focusBasedVisibilityDetection;window.removeEventListener("visibilitychange",this._handleVisibilityChange),r&&(window.removeEventListener("blur",this._handleVisibilityChange),window.removeEventListener("focus",this._handleVisibilityChange))},_handleVisibilityChange:function e(t){var r=void 0;if("blur"===t.type){var i=document,a=i.activeElement;if(a&&"iframe"===a.tagName.toLowerCase())return;r=!1}else r="focus"===t.type||"visible"===document.visibilityState;this.context.executeAction(u.notifyVisibilityChange,{isVisible:r})},getStateFromStores:function e(){var t=(0,le.selectors)(this.context.store.getState()),r=t.getFeaturesSelectors,i=r();return{secureCryptoMode:i.getSetting("secureCryptoMode"),focusBasedVisibilityDetection:i.isEnabled("focusBasedVisibilityDetection"),unsubscribe:i.isEnabled("unsubscribe"),ybar:i.isEnabled("ybar"),offlineChecking:i.isEnabled("offlineChecking"),promptUnsaved:i.isEnabled("promptUnsaved"),checkMailInterval:i.getSetting(ne.Settings.CHECK_MAIL_INTERVAL),timezoneCheck:i.isEnabled(ne.Features.TIMEZONE_CHECK),inboxCategorization:i.isEnabled("inboxCategorization")}},render:function e(){var t=this.props,r=!!t.multiTaskModeSetting,l=this.context.getCss(I.default,{tabs:r,ads:t.hasAds}),n=this.context.intl.formatMessage,o=this.props.secureModeSetting,u=this.getStateFromStores(),c=u.secureCryptoMode,m=u.unsubscribe,f=u.ybar,p=u.offlineChecking,_=u.promptUnsaved,v=u.checkMailInterval,h=u.timezoneCheck,b=u.inboxCategorization;return i.default.createElement(a.Provider,{store:this.context.store},i.default.createElement(K.default,{className:l.inputModeWrapper},i.default.createElement("div",{id:"app","data-test-id":"mail-app",className:l.container,tabIndex:-1},i.default.createElement(P.LazyComponent,{defer:!0,import:"../../molecules/timezone_check",timezoneCheck:h,_moduleGetter:function e(){return require("../../molecules/timezone_check")}}),t.hasAds?i.default.createElement(x.default,null):null,i.default.createElement("section",{className:l.appHeader,role:"banner","data-yaft-module":"norrin_header"},f?i.default.createElement("div",{className:l.ybar}):i.default.createElement(z.default,null),(r||b)&&i.default.createElement("div",{className:l.tabWrapper,role:"navigation","aria-label":n(se.tabs_nav)},i.default.createElement("div",{className:l.tabSpace}," "),i.default.createElement("div",{className:l.tab},i.default.createElement(s.default,null)))),i.default.createElement(Q.default,t),i.default.createElement(T.default,{checkMailInterval:v}),i.default.createElement(oe,null),i.default.createElement(H.default,null),i.default.createElement(d.default,null),i.default.createElement(y.default,null),i.default.createElement(Z.default,null),i.default.createElement(Y.default,null),p&&i.default.createElement(ee.default,null),i.default.createElement(j.default,null),i.default.createElement(P.LazyComponent,{defer:!0,import:"./controller_views/bad_resolution",_moduleGetter:function e(){return require("./controller_views/bad_resolution")}}),i.default.createElement(P.LazyComponent,{defer:!0,import:"./controller_views/print.jsx",_moduleGetter:function e(){return require("./controller_views/print.jsx")}}),i.default.createElement(V.default,null),i.default.createElement(P.LazyComponent,{defer:!0,import:"./controller_views/scout.jsx",_moduleGetter:function e(){return require("./controller_views/scout.jsx")}}),_&&i.default.createElement(k.default,null),i.default.createElement(P.LazyComponent,{defer:!0,import:"./controller_views/heartbeat",_moduleGetter:function e(){return require("./controller_views/heartbeat")}}),i.default.createElement(ae.default,null),m&&i.default.createElement(P.LazyComponent,{defer:!0,import:"./controller_views/unsubscribe",_moduleGetter:function e(){return require("./controller_views/unsubscribe")}}),!(!o&&!c)&&i.default.createElement(P.LazyComponent,{defer:!0,import:"./controller_views/crypto_iframe",secureModeSetting:o,secureCryptoMode:c,_moduleGetter:function e(){return require("./controller_views/crypto_iframe")}}),i.default.createElement(P.LazyComponent,{defer:!0,import:"../../molecules/downloader/index.jsx",_moduleGetter:function e(){return require("../../molecules/downloader/index.jsx")}})),i.default.createElement("div",{className:l.accessible,role:"heading","aria-label":n(se.heading_cheatsheet)})))}});exports.default=U.open(B.provide((0,f.default)((0,g.default)((0,q.default)(ue)),_.default,{appName:ne.Apps.MAIL_APP,toastWrapper:h.default})));var ce=exports.rawMailApp=B.provide(ue);
},{"../../atoms/input_mode_detector.jsx":98,"../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/svg_defs.jsx":126,"../../client/rum":135,"../../molecules/ads/ad_debug.jsx":138,"../../molecules/checkmail":163,"../../molecules/downloader/index.jsx":"./molecules/downloader","../../molecules/empty_folder_video":197,"../../molecules/keyboard_shortcut_manager/keyboard_shortcut_manager.jsx":227,"../../molecules/notification/toast_map":301,"../../molecules/notification/toast_wrapper":302,"../../molecules/offline_checker":305,"../../molecules/theme_provider":"./molecules/theme_provider","../../molecules/timezone_check":"./molecules/timezone_check","../../platform/mail_constants":"./platform/mail_constants","../../providers/notification_provider":397,"../../reducers_selectors":"./reducers_selectors","./actions":"./apps/mail/actions","./controller_views":50,"./controller_views/app_header":43,"./controller_views/app_layout.jsx":44,"./controller_views/bad_resolution":"./apps/mail/controller_views/bad_resolution","./controller_views/crypto_iframe":"./apps/mail/controller_views/crypto_iframe","./controller_views/document_title_updater.jsx":48,"./controller_views/heartbeat":"./apps/mail/controller_views/heartbeat","./controller_views/instrumenter":51,"./controller_views/notifications":58,"./controller_views/pager":60,"./controller_views/print.jsx":"./apps/mail/controller_views/print","./controller_views/rum_controller.jsx":62,"./controller_views/scout.jsx":"./apps/mail/controller_views/scout","./controller_views/tabs.jsx":70,"./controller_views/unsaved_data_warner.jsx":74,"./controller_views/unsubscribe":"./apps/mail/controller_views/unsubscribe","./providers/ads":83,"./providers/react_key":84,"./providers/window_manager":86,"./styles/mail_app":88,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js"}],39:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.children;return s.default.createElement("div",{className:l.compose,"data-test-id":"compose-styler"},t)}exports.__esModule=!0,exports.default=t;var r=require("react"),s=e(r),u=require("react-atomic-css/css"),a=e(u),o=require("../styles/compose"),c=e(o),l=(0,a.default)(c.default);module.exports=exports.default;
},{"../styles/compose":87,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],40:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.DocumentTitle=void 0;var t=require("react"),i=e(t),n=require("react-intl"),a=require("../../../reducers_selectors"),o=require("react-redux"),r=(0,n.defineMessages)({htmlTitle:{id:"html_title",defaultMessage:"\n            {numUnread, plural,\n                =0 {}\n                one {(# unread) - }\n                other {(# unread) - }\n            }{emailAddress} - {yahooBrand}\n        "},htmlTitleNewMessages:{id:"html_title_new_messages",defaultMessage:"{newItemCount, plural,\n            =1 {# New Message}\n            other {# New Messages}\n        }"},yahooMailBrandName:{id:"mail.yahoo_mail_brand_name",defaultMessage:"Yahoo Mail"}}),l=exports.DocumentTitle=i.default.createClass({displayName:"DocumentTitle",contextTypes:{config:t.PropTypes.object,intl:n.intlShape},componentDidMount:function e(){this.updateTitle()},componentWillUnmount:function e(){clearTimeout(this.flashTitleTimeout)},componentDidUpdate:function e(){clearTimeout(this.flashTitleTimeout),this.updateTitle()},updateTitle:function e(){var t=this.props,i=t.defaultFolderUnreadCount,n=t.activeEmailAddress,a=t.newItemCount,o=this.getStandardTitle(i,n);if(a){var r=this.getNotificationTitle(a);this.flashTitle(r,o,4)}else document.title=o},getStandardTitle:function e(t,i){var n=this.context.intl.formatMessage;return n(r.htmlTitle,{numUnread:t,emailAddress:i,yahooBrand:n(r.yahooMailBrandName)})},getNotificationTitle:function e(t){return(0,this.context.intl.formatMessage)(r.htmlTitleNewMessages,{newItemCount:t})},flashTitle:function e(t,i,n){var a=this;if(0!==n){var o=this.props,r=o.documentTitleNotificationDuration,l=o.documentTitleStandardDuration,s=n%2===0;document.title=s?t:i,this.flashTitleTimeout=setTimeout(function(){a.flashTitle(t,i,n-1)},s?r:l)}},render:function e(){return null}}),s=exports.mapStateToProps=function e(t){var i=(0,a.selectors)(t),n=i.getFeaturesSelectors,o=n();return{documentTitleNotificationDuration:o.getSetting("documentTitleNotificationDuration"),documentTitleStandardDuration:o.getSetting("documentTitleStandardDuration")}};exports.default=(0,o.connect)(s)(l);
},{"../../../reducers_selectors":"./reducers_selectors","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js"}],41:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),a=n.default.createClass({displayName:"Favicon",componentDidMount:function e(){var t=this;this.favicon=document.getElementById("favicon"),this.faviconDefaultImage=this.favicon.href,this.faviconAlertImage=this.favicon.href,this.generateFaviconAlert(this.favicon.href,function(e){t.faviconAlertImage=e})},shouldComponentUpdate:function e(t){return!(0===t.newItemCount&&this.favicon.href===this.faviconDefaultImage||t.newItemCount>0&&this.favicon.href===this.faviconAlertImage)},componentDidUpdate:function e(){this.updateFavicon()},updateFavicon:function e(){var t=this.props.newItemCount;this.favicon.href=0===t?this.faviconDefaultImage:this.faviconAlertImage,document.head.removeChild(this.favicon),document.head.appendChild(this.favicon)},generateFaviconAlert:function e(t,n){var a=document.createElement("canvas"),i=new Image;a.height=a.width=32,i.crossOrigin="anonymous",i.onload=function(){var e=a.getContext("2d");e.beginPath(),e.drawImage(this,0,0),e.fillStyle="red",e.arc(28,6,4,0,2*Math.PI),e.fill(),n(a.toDataURL("image/x-icon"))},i.src=t},render:function e(){return null}});exports.default=a,module.exports=exports.default;
},{"react":"./node_modules/react/react.js"}],"./apps/mail/atoms/mail_count":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var a=e.selectionCount,r=t.intl,u=t.getCss,c=u(i.default);return s.default.createElement("div",{className:c.container,"data-test-id":"selection-count","data-test-count":a},s.default.createElement("div",{className:c.wrapper},s.default.createElement("div",{className:c.svgWrapper},s.default.createElement(n.default,{kind:l.Kinds.SELECTED_MESSAGES,width:l.SELECTED_MESSAGES_SIZE,height:l.SELECTED_MESSAGES_SIZE,altText:" "})),a>0&&s.default.createElement("div",{className:c.countWrapper},s.default.createElement("span",{className:c.count,"data-test-id":"selection-count-node"},r.formatNumber(a)))))}exports.__esModule=!0,exports.default=t;var a=require("react"),s=e(a),r=require("../../../atoms/svg_image.jsx"),n=e(r),l=require("../../../atoms/constants/svg_image"),u=require("react-intl"),c=require("../styles/mail_count"),i=e(c);t.contextTypes={intl:u.intlShape,getCss:a.PropTypes.func},module.exports=exports.default;
},{"../../../atoms/constants/svg_image":"./atoms/constants/svg_image","../../../atoms/svg_image.jsx":"./atoms/svg_image","../styles/mail_count":"./apps/mail/styles/mail_count","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],42:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}exports.__esModule=!0;var a,o=require("./actions"),r=t(o),s=require("./controller_views"),u=e(s),l=require("../../platform/mail_constants"),n=require("../route_map"),d=require("./hoc"),i=e(d),E=require("../../stores/ads"),p=e(E),R=require("../../stores/application"),T=e(R),m=require("../../stores/checkmail"),S=e(m),f=require("../../stores/document"),h=e(f),A=require("../../stores/error"),_=e(A),c=require("../../stores/i13n"),N=e(c),M=require("../../stores/item_list_ui"),G=e(M),g=require("../../stores/keyboard_shortcuts"),q=e(g),O=require("../../stores/mail"),P=e(O),I=require("../../stores/message_group_ui"),D=e(I),L=require("../../stores/notification"),F=e(L),y=require("../../stores/pages"),C=e(y),x=require("../../stores/rum"),B=e(x),H=require("../../stores/suggestions"),b=e(H),v=require("../../stores/user_preferences"),j=e(v),U=require("../../stores/xobni"),k=e(U),w=require("../../stores/features"),W=e(w),V=require("../../platform/fluxible_context_plugin"),z=e(V),J=n.routesByApp[l.Apps.MAIL_APP],K=J.paths,Q=J.container,X=J.cssBundles,Y=J.jsBundles,Z={name:l.Apps.MAIL_APP,component:i.default,routes:(a={},a[l.RouteNames.LIST]={method:"GET",path:K[l.RouteNames.LIST],handler:u.default[l.PageTypes.V3_MAIL_READER],action:r.openFolder},a[l.RouteNames.BASE]={method:"GET",path:K[l.RouteNames.BASE],handler:u.default[l.PageTypes.MAIL_READER],action:r.openDefaultFolder},a[l.RouteNames.FOLDER]={method:"GET",path:K[l.RouteNames.FOLDER],handler:u.default[l.PageTypes.MAIL_READER],action:r.openFolder},a[l.RouteNames.ATTACHMENT]={method:"GET",path:K[l.RouteNames.ATTACHMENT],handler:u.default[l.PageTypes.MESSAGE],action:r.openAttachment},a[l.RouteNames.SPONSORED_MESSAGE]={method:"GET",path:K[l.RouteNames.SPONSORED_MESSAGE],handler:u.default[l.PageTypes.SPONSORED_MESSAGE],action:r.openSponsoredMessage},a[l.RouteNames.MESSAGE_FROM_SEARCH_LIST]={method:"GET",path:K[l.RouteNames.MESSAGE_FROM_SEARCH_LIST],handler:u.default[l.PageTypes.MESSAGE],action:r.launchMessageGroupFromRoute},a[l.RouteNames.MESSAGE_FROM_FOLDER_LIST]={method:"GET",path:K[l.RouteNames.MESSAGE_FROM_FOLDER_LIST],handler:u.default[l.PageTypes.MESSAGE],action:r.launchMessageGroupFromRoute},a[l.RouteNames.NEW_DRAFT]={method:"GET",path:K[l.RouteNames.NEW_DRAFT],handler:u.default[l.PageTypes.COMPOSE],action:r.openCompose},a[l.RouteNames.EDIT_DRAFT]={method:"GET",path:K[l.RouteNames.EDIT_DRAFT],handler:u.default[l.PageTypes.COMPOSE],action:r.openDraft},a[l.RouteNames.SEARCH]={method:"GET",path:K[l.RouteNames.SEARCH],handler:u.default[l.PageTypes.MAIL_READER],action:r.launchSearch},a[l.RouteNames.SETTINGS]={method:"GET",path:K[l.RouteNames.SETTINGS],handler:u.default[l.PageTypes.SETTINGS],action:r.openSettings},a[l.RouteNames.TUTORIAL]={method:"GET",path:K[l.RouteNames.TUTORIAL],handler:u.default[l.PageTypes.TUTORIAL],action:r.openTutorial},a),stores:[p.default,T.default,F.default,j.default,k.default,G.default,P.default,C.default,q.default,N.default,B.default,_.default,b.default,S.default,h.default,D.default,W.default],plugins:[z.default],cssBundles:X,jsBundles:Y,container:Q};exports.default=Z,module.exports=exports.default;
},{"../../platform/fluxible_context_plugin":353,"../../platform/mail_constants":"./platform/mail_constants","../../stores/ads":399,"../../stores/application":"./stores/application","../../stores/checkmail":"./stores/checkmail","../../stores/document":"./stores/document","../../stores/error":400,"../../stores/features":"./stores/features","../../stores/i13n":"./stores/i13n","../../stores/item_list_ui":"./stores/item_list_ui","../../stores/keyboard_shortcuts":401,"../../stores/mail":"./stores/mail","../../stores/message_group_ui":402,"../../stores/notification":414,"../../stores/pages":"./stores/pages","../../stores/rum":415,"../../stores/suggestions":"./stores/suggestions","../../stores/user_preferences":"./stores/user_preferences","../../stores/xobni":416,"../route_map":"./apps/route_map","./actions":"./apps/mail/actions","./controller_views":50,"./hoc":75}],43:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.getStore(f.default),r=e.getStore(n.default),a=e.getStore(c.default),u=(0,_.selectors)(e.store.getState()),l=u.getFeaturesSelectors,o=l();return Object.assign({primaryAccountAddress:t.getPrimaryAccount().email,tabsVisible:o.isEnabled(b.Settings.MAIL_TABS),defaultRouteURL:e.getUrlFromRoute(r.getDefaultRoute()),partnerBrand:o.getSetting("partnerBrand"),calendarURL:o.getSetting(b.Settings.CALENDAR_URL),settings:o.isEnabled(b.Features.SETTINGS),settingsMenuComponent:s.default.createElement(p.default,null),searchComponent:o.isEnabled("mailSearch")?s.default.createElement(S.default,null):null},a.getPreferences())}exports.__esModule=!0,exports.getStateFromStores=t;var r=require("react"),s=e(r),a=require("fluxible-addons-react"),u=require("../../../molecules/header"),l=e(u),o=require("../../../stores/pages"),n=e(o),i=require("../../../stores/user_preferences"),c=e(i),d=require("../../../stores/mail"),f=e(d),g=require("./settings_menu"),p=e(g),m=require("./search_bar"),S=e(m),_=require("../../../reducers_selectors"),b=require("../../../platform/mail_constants");exports.default=(0,a.connectToStores)(l.default,[n.default,c.default,f.default],t,{config:r.PropTypes.object,store:s.default.PropTypes.object,getUrlFromRoute:s.default.PropTypes.func});
},{"../../../molecules/header":217,"../../../platform/mail_constants":"./platform/mail_constants","../../../reducers_selectors":"./reducers_selectors","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","../../../stores/user_preferences":"./stores/user_preferences","./search_bar":63,"./settings_menu":67,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],44:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.getStore(o.default),r=e.getStore(d.default),s=e.getStore(u.default),a=(0,w.selectors)(e.store.getState()),i=a.getFeaturesSelectors,n=a.getLaunchError,l=a.getLaunchOverrideUrl,c=i(),g=c.getSetting(A.Settings.PREVIEW_PANE),S=s.getActivePageRoute(),p=n(),m=p?T(S,l()):S,f=m.name===A.RouteNames.SEARCH,h=(0,y.getListIdFromRoute)(m),C=(0,y.getListContentTypeFromListId)(h),b=c.isEnabled(A.Settings.HIDE_AD),q=c.isEnabled("mailSearchRightRail"),_=c.isEnabled("attachmentPreview"),v=!!q&&f&&!!(0,y.getEmailAddressFromListId)(h),R=_&&m.name===A.RouteNames.ATTACHMENT&&"1"!==m.query.fullscreen,L=v,M=C!==A.ListContentTypes.IMAGES&&v,O=C!==A.ListContentTypes.DOCUMENTS&&v,P=C!==A.ListContentTypes.MESSAGES&&v,N=C===A.ListContentTypes.MESSAGES&&"folder"===m.name,D=e.getStore(E.default).getActiveAccount().sendingName;return{listId:h,previewPaneSetting:g,windowDimensions:t.getWindowDimensions(),isWindowResizingDone:t.isWindowResizingDone(),folderListSortOrder:s.getSortOrderForFolderRoute(),isSettings:m.name===A.RouteNames.SETTINGS,showMailOnboardingCue:r.isEnabled("mailOnboardingCue"),showSsaBreachSecurityAlert:c.isEnabled("ssaBreachSecurityAlert"),showAptSecurityCue:c.isEnabled("aptSecurityCue"),showNewUserOnboardingCue:c.isEnabled("newUserOnboardingCue"),showThemesCueV2:c.isEnabled("themesCueV2"),showUpdateWiderMailCue:c.isEnabled("updateWiderMailCue"),hideAdUpsellSetting:b,hasAttachmentPreview:R,hasContactCard:L,hasPhotos:M,hasDocs:O,hasMessages:P,hasPubs:N,userDisplayName:D,launchError:p}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};exports.getStateFromStores=t;var s=require("react"),a=require("fluxible-addons-react"),i=require("../../../stores/application"),o=e(i),n=require("../../../stores/pages"),u=e(n),l=require("../../../stores/features"),d=e(l),c=require("../../../stores/message_group_ui"),g=e(c),S=require("../../../stores/item_list_ui"),p=e(S),m=require("../../../stores/user_preferences"),f=e(m),h=require("../../../stores/mail"),E=e(h),C=require("../../../molecules/app_layout"),b=e(C),w=require("../../../reducers_selectors"),A=require("../../../platform/mail_constants"),y=require("../../../platform/utils/list"),T=function e(t,s){var a=s.match(/\/d\/folders\/([0-9]+)/),i=a[1];return r({},t,{params:r({},t.params,{fid:i}),url:s})},q=(0,a.connectToStores)(b.default,[o.default,d.default,u.default,g.default,p.default,f.default,E.default],t,{config:s.PropTypes.object,store:s.PropTypes.object});exports.default=q;
},{"../../../molecules/app_layout":152,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors","../../../stores/application":"./stores/application","../../../stores/features":"./stores/features","../../../stores/item_list_ui":"./stores/item_list_ui","../../../stores/mail":"./stores/mail","../../../stores/message_group_ui":402,"../../../stores/pages":"./stores/pages","../../../stores/user_preferences":"./stores/user_preferences","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],45:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.getStore(n.default),s=(0,c.selectors)(e.store.getState()),r=s.getFeaturesSelectors,a=r();return Object.assign({},t.getAsyncTaskPayload(),{task:t.getAsyncTask(),asyncTaskPollCount:a.getSetting("asyncTaskPollCount"),asyncTaskPollInterval:a.getSetting(i.Settings.ASYNC_TASK_POLL_INTERVAL)})}exports.__esModule=!0,exports.getStateFromStores=t;var s=require("react"),r=e(s),a=require("fluxible-addons-react"),o=require("../../../molecules/async_task"),l=e(o),u=require("../../../stores/mail"),n=e(u),c=require("../../../reducers_selectors"),i=require("../../../platform/mail_constants");exports.default=(0,a.connectToStores)(l.default,[n.default],t,{store:r.default.PropTypes.object});
},{"../../../molecules/async_task":155,"../../../platform/mail_constants":"./platform/mail_constants","../../../reducers_selectors":"./reducers_selectors","../../../stores/mail":"./stores/mail","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],46:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r=require("react"),o=e(r),s=require("fluxible-addons-react"),u=require("../../../../molecules/compose"),a=e(u),l=require("../../../../stores/user_preferences"),n=e(l),c=require("../../../../stores/mail"),f=e(c),p=require("../../../../stores/xobni"),i=e(p),d=require("../../../../stores/features"),m=e(d),y=require("../get_state_from_stores"),x=require("../../atoms/compose_styler.jsx"),q=e(x),_=o.default.createClass({displayName:"ComposeContollerView",contextTypes:{executeAction:r.PropTypes.func},render:function e(){var r=this.props,s=r.composeData,u=r.onClose,l=s&&s.csid;return o.default.createElement(q.default,null,o.default.createElement(a.default,t({},this.props,{key:l,onClose:u,onSendSuccess:u})))}});_=(0,s.connectToStores)(_,[n.default,f.default,i.default,m.default],y.getComposeStateFromStores,{config:o.default.PropTypes.object,store:o.default.PropTypes.object,executeAction:o.default.PropTypes.func,navigateTo:o.default.PropTypes.func}),exports.default=_,module.exports=exports.default;
},{"../../../../molecules/compose":181,"../../../../stores/features":"./stores/features","../../../../stores/mail":"./stores/mail","../../../../stores/user_preferences":"./stores/user_preferences","../../../../stores/xobni":416,"../../atoms/compose_styler.jsx":39,"../get_state_from_stores":49,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],47:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r=e.getStore(l.default),o=t.emailAddress,a=t.withBackground,s=t.isCompose,c=r.getContactRecordState(o),n=r.getContactByEmail(o),u=(0,p.selectors)(e.store.getState()),i=u.getFeaturesSelectors,d=i();return{emailAddress:o,contact:n,contactState:c,withBackground:a,isCompose:s,showContactSummary:t.showContactSummary&&d.isEnabled("contactSummary")}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};exports.getStateFromStores=t;var o=require("react"),a=e(o),s=require("fluxible-addons-react"),c=require("../../../platform/utils/object"),n=require("../../../platform/mail_constants"),u=require("../../../types"),i=require("../../../stores/mail"),l=e(i),d=require("../../../molecules/contact_card/index"),m=e(d),p=require("../../../reducers_selectors"),f=a.default.createClass({displayName:"ContactCardControllerView",render:function e(){return a.default.createElement(m.default,r({},this.props,{key:this.props.emailAddress}))}});f=(0,s.connectToStores)(f,[l.default],t,{config:o.PropTypes.object,store:o.PropTypes.object}),exports.default=f;
},{"../../../molecules/contact_card/index":195,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/object":"./platform/utils/object","../../../reducers_selectors":"./reducers_selectors","../../../stores/mail":"./stores/mail","../../../types":"./types","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],48:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.getStore(a.default),r=t.getActiveAccountId(),o=t.getDefaultFolderForAccount(r),u=t.getFolderUnreadCount(o.id),d=t.getActiveAccount().email,n=e.getStore(l.default).getActivePageRoute(),s=(0,m.getListIdFromRoute)(n);return{defaultFolderUnreadCount:u,activeEmailAddress:d,newItemCount:t.getTotalNewListItemCount(s)}}exports.__esModule=!0,exports.getStateFromStores=t;var r=require("react"),o=e(r),u=require("../../../stores/mail"),a=e(u),d=require("../../../stores/pages"),l=e(d),n=require("fluxible-addons-react"),s=require("../atoms/document_title.jsx"),i=e(s),c=require("../atoms/favicon.jsx"),f=e(c),m=require("../../../platform/utils/list"),p=o.default.createClass({displayName:"DocumentTitleUpdater",shouldComponentUpdate:function e(t){var r=t.defaultFolderUnreadCount,o=t.activeEmailAddress,u=t.newItemCount,a=this.props,d=a.defaultFolderUnreadCount,l=a.activeEmailAddress,n=a.newItemCount;return r!==d||o!==l||u!==n},render:function e(){return o.default.createElement("div",null,o.default.createElement(i.default,this.props),o.default.createElement(f.default,this.props))}});exports.default=(0,n.connectToStores)(p,[a.default],t);
},{"../../../platform/utils/list":"./platform/utils/list","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","../atoms/document_title.jsx":40,"../atoms/favicon.jsx":41,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],49:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var o=e.getStore(r.default),a=e.getStore(i.default),s=e.getStore(u.default),n=e.getStore(g.default),c=e.getStore(m.default),l=(0,C.selectors)(e.store.getState()),S=l.getFeaturesSelectors,f=l.getMessageCsid,F=S(),I={dateFormattingOption:o.getDateFormattingOption(),isXobnified:n.getIsXobnified(),autoSuggestions:n.getSuggestions(),saveInterval:F.getSetting("composeSaveInterval"),richTextMode:F.isEnabled("rteFormattingToolbar"),mailboxId:a.getMailboxes()[0].id,showStationeryCue:F.isEnabled("stationeryCue"),showEmojiCue:F.isEnabled("emojiCue"),showHSStationeryCue:c.isEnabled("HSStationeryCue"),stationeryDefaultTheme:F.getSetting(v.Settings.STATIONERY_DEFAULT_THEME),linkEnhancer:F.isEnabled(v.Settings.LINK_ENHANCR),composeFontFamily:F.getSetting(v.Settings.COMPOSE_FONT_FAMILY),composeFontSize:F.getSetting(v.Settings.COMPOSE_FONT_SIZE),secureModeSetting:F.getSetting(v.Settings.SECURE_MODE)},_=e.getStore(d.default).getActivePageRoute()||{},R=_.params,M=_.name,A=void 0,O=void 0,b=void 0;if(t&&t.composeData&&(A=t.composeData,O=A.accountId),M===v.RouteNames.NEW_DRAFT){var h=R.csid;h=h?decodeURIComponent(h):A.csid,I.composeData=s.getComposeData(h),I.composeDataState=s.getComposeDataState(h),I.initialShowSubject=!0}else if(M===v.RouteNames.EDIT_DRAFT){var T=decodeURIComponent(R.groupId),q=s.getMessageMetaRecordState(T);if(q!==v.RecordStates.LOADED)return{};var N=f(T);I.composeDataState=s.getComposeDataState(N),I.composeDataState===v.RecordStates.LOADED&&(I.composeData=s.getComposeData(N),I.listId=(0,E.getListIdFromFolderId)(s.getFolderIdForMessage(T))),I.initialShowSubject=!0,I.composeDataState===v.RecordStates.ERROR&&(I.error=new Error("Unable to fetch message "+T))}I.composeData&&(O=I.composeData.accountId),b=O?s.getAccountById(O):s.getActiveAccount();var y=D.flattenAccounts(b);return I.showFrom=s.getRootAccounts().length>1||y.length>1,I.accounts=y,I.onClose=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.i13nModel,a=void 0===o?{}:o;e.executeAction(p.closeActivePage,{i13nModel:a});var r=e.getStore(d.default),s=r.getNextPageOnClose();s&&e.navigateTo({route:s.route})},I}exports.__esModule=!0,exports.getComposeStateFromStores=o;var a=require("../../../stores/application"),r=t(a),s=require("../../../stores/user_preferences"),i=t(s),n=require("../../../stores/mail"),u=t(n),c=require("../../../stores/xobni"),g=t(c),l=require("../../../stores/pages"),d=t(l),S=require("../../../stores/features"),m=t(S),p=require("../../../apps/mail/actions"),f=require("../../../platform/utils/account"),D=e(f),E=require("../../../platform/utils/list"),v=require("../../../platform/mail_constants"),C=require("../../../reducers_selectors");
},{"../../../apps/mail/actions":"./apps/mail/actions","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/account":"./platform/utils/account","../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors","../../../stores/application":"./stores/application","../../../stores/features":"./stores/features","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","../../../stores/user_preferences":"./stores/user_preferences","../../../stores/xobni":416}],50:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a,r=require("../../../platform/mail_constants"),s=require("./compose"),t=e(s),u=require("./message"),i=e(u),l=require("./navigation.jsx"),o=e(l),d=require("../../../molecules/notification"),f=e(d),p=require("./mail_reader.jsx"),n=e(p),g=require("./settings/index.js"),T=e(g),_=require("./sponsored_message.jsx"),E=e(_),m=require("./tutorial"),q=e(m),P=require("../../../molecules/mail_reader"),c=e(P),A=(a={},a[r.PageTypes.COMPOSE]=t.default,a[r.PageTypes.MESSAGE]=i.default,a[r.PageTypes.NAVIGATION]=o.default,a[r.PageTypes.V3_MAIL_READER]=c.default,a[r.PageTypes.MAIL_READER]=n.default,a[r.PageTypes.SETTINGS]=T.default,a[r.PageTypes.SPONSORED_MESSAGE]=E.default,a[r.PageTypes.TUTORIAL]=q.default,a);A=Object.assign({Notification:f.default},A),exports.default=A,module.exports=exports.default;
},{"../../../molecules/mail_reader":235,"../../../molecules/notification":295,"../../../platform/mail_constants":"./platform/mail_constants","./compose":46,"./mail_reader.jsx":54,"./message":55,"./navigation.jsx":56,"./settings/index.js":66,"./sponsored_message.jsx":69,"./tutorial":72}],51:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){(0,P.isBrowser)()&&(0,A.getIn)(window,"YAHOO.i13n")&&(window.YAHOO.i13n.SPACEID=e)}function r(e){var t=e.getStore(s.default),r=e.getStore(u.default),n=(0,_.selectors)(e.store.getState()),o=n.getFeaturesSelectors,i=o();return{spaceId:t.getCurrentSpaceId(),pageViewCount:t.getPageViewCount(),vwCntxt:t.getActiveViewContext(),activeAccount:r.getActiveAccount(),imapInAccountsCount:r.getImapInAccounts().length,imapInProvider:r.getImapInProvider(),previewPane:i.getSetting(m.Settings.PREVIEW_PANE),multiTask:i.isEnabled(m.Settings.MAIL_TABS),comScoreBeaconing:i.isEnabled(m.Features.COM_SCORE_BEACONING),marketingBeaconing:i.isEnabled("marketingBeaconing"),forcedMigrationBeaconing:i.isEnabled("forcedMigrationBeaconing")}}exports.__esModule=!0,exports.getStateFromStores=r;var n=require("react"),o=e(n),i=require("fluxible-addons-react"),a=require("../../../stores/i13n"),s=e(a),c=require("../../../stores/mail"),u=e(c),p=require("../../../stores/user_preferences"),d=e(p),g=require("react-intl"),l=require("../../../types"),m=require("../../../platform/mail_constants"),f=require("../../../platform/utils/"),w=require("../../../platform/beacons/comscore/client"),S=require("../../../platform/beacons/marketing/client"),P=require("../../../platform/utils/generic"),A=require("../../../platform/utils/object"),C=require("../../../platform/rapid_client/constants"),I=require("../../../platform/rapid_client"),E=e(I),h=require("norrin-logger"),M=e(h),_=require("../../../reducers_selectors"),v=!1,B=o.default.createClass({displayName:"Instrumenter",contextTypes:{intl:g.intlShape.isRequired,config:n.PropTypes.object,rapidParams:n.PropTypes.object,usmLogString:n.PropTypes.string,getTheme:n.PropTypes.func,getThemeMode:n.PropTypes.func},shouldComponentUpdate:function e(t){return this.props.pageViewCount!==t.pageViewCount||this.props.vwCntxt!==t.vwCntxt},getPageParams:function e(){var t=this.props,r=t.multiTask,n=t.previewPane,o=t.activeAccount,i=t.imapInAccountsCount,a=t.imapInProvider;return{tabs:r,prvwpan:n,vwCntxt:t.vwCntxt,acctDomain:(0,f.destructEmailAddressParts)(o.email).domainPart,acctType:o.type===m.AccountTypes.FREE?"PRIMARY":o.type,impn:i,theme:this.context.getTheme()+"-"+this.context.getThemeMode(),prvdr:a}},logPageView:function e(){var t=this.getPageParams(),r=E.default.getRapidInstance();M.default.set(Object.assign({},window.BrowserLoggerParams,t)),r&&r.beaconPageview()},resetAppLaunchedState:function e(){v=!1},componentDidMount:function e(){if(!v){v=!0;var r=this.props,n=r.spaceId,o=r.comScoreBeaconing,i=r.marketingBeaconing,a=r.forcedMigrationBeaconing,s=Object.assign({},this.getPageParams(),window.BrowserLoggerParams);t(n),E.default.init({rapid:{spaceid:n,test_id:this.context.usmLogString,keys:s,dwell_on:!0,extendbcookie:!0}}),this.logPageView(),E.default.sendI13nModel({i13nModel:{mKey:C.MKEYS.LAUNCH,sec:C.SEC_VALUES.LAUNCH,mKeyGroup:C.MKEY_GROUPS.launch}}),o&&(0,w.fireComScoreBeacon)(window.AppBootstrapData.comScore,n),(0,P.isBrowser)()&&i&&(E.default.sendI13nModel({i13nModel:{mKey:C.MKEYS.MARKETING_BEACON,sec:C.SEC_VALUES.LAUNCH}}),(0,S.fireMarketingBeacon)()),a&&E.default.sendI13nModel({i13nModel:{mKey:C.MKEYS.FORCED_MIGRATION_BEACON,sec:C.SEC_VALUES.LAUNCH}})}},componentDidUpdate:function e(){var r=this.props,n=r.spaceId,o=r.comScoreBeaconing,i=E.default.getRapidInstance(),a=Object.assign({},this.getPageParams(),window.BrowserLoggerParams);i&&(t(n),i.reInit({spaceid:n,test_id:this.context.usmLogString,keys:a,dwell_on:!0,extendbcookie:!0}),this.logPageView(),o&&(0,w.fireComScoreBeacon)(window.AppBootstrapData.comScore,n))},render:function e(){return null}});exports.default=(0,i.connectToStores)(B,[s.default,u.default,d.default],r,{store:o.default.PropTypes.object});
},{"../../../platform/beacons/comscore/client":328,"../../../platform/beacons/marketing/client":329,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/rapid_client":"./platform/rapid_client","../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../../platform/utils/":"./platform/utils","../../../platform/utils/generic":"./platform/utils/generic","../../../platform/utils/object":"./platform/utils/object","../../../reducers_selectors":"./reducers_selectors","../../../stores/i13n":"./stores/i13n","../../../stores/mail":"./stores/mail","../../../stores/user_preferences":"./stores/user_preferences","../../../types":"./types","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","norrin-logger":"./node_modules/norrin-logger/index.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],52:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){if(e)return(0,m.heroListId)(t,r)}function r(e,r){var s=(0,_.selectors)(e.store.getState()),i=s.getFeaturesSelectors,o=i(),a=r.listId,u=r.previewpane,c=r.context.config,A=e.getStore(h.default),I=(0,m.getFolderIdFromListId)(a),T=I&&A.getFolder(I),E=T&&(0,g.getPrimaryFolderType)(T),q=e.getStore(F.default),M=e.getStore(b.default),v=e.getStore(L.default),D=A.getItemListState(a),R=A.isListStale(a),y=A.getAllFoldersForAccount(A.getActiveAccountId()),k=A.hasMoreItems(a),O=A.getMyAddresses(),P=A.getRootAccounts(),x=o.isEnabled(n.Features.CONVERSATIONS),N=A.getItemList(a),w=M.getAdRotationId(),G=M.getAdFeedbackStarted(),V=M.getAdFeedbackSubmitted(),H={},j=q.getWindowDimensions(),U=(0,m.getListContentTypeFromListId)(a),B=e.getStore(C.default).getActivePageRoute(),z=B.name===n.RouteNames.SEARCH,K=(0,m.isPeopleSearch)(a),W=!z,J=(0,m.getSortOrderFromListId)(a)||v.getSortOrder(),Q=q.getDateFormattingOption(),X=z&&x?c.mailSearchTimeChunking:c.timeChunking,Y=X&&N.length>=d.TIMECHUNK_MIN_ITEMS&&(J===n.SortOrder.DATE_DESC||J===n.SortOrder.DATE_ASC),Z=P.length>1?l.MessageDestinationLabels.ACCOUNT:l.MessageDestinationLabels.FOLDER,$=t(o.isEnabled("hero"),B,a),ee=$?A.getItemList($):[],te=q.isAppVisible();ee.forEach(function(e){var t=(0,f.getMessageGroupViewRoute)({item:e,listId:$,isConversationMode:x});t&&(U===n.ListContentTypes.MESSAGES?H[e.id]=t:H[e.attachment.id]=t),e.isHero=!0}),N.forEach(function(e){var t=(0,f.getMessageGroupViewRoute)({item:e,listId:a,isConversationMode:x});t&&(U===n.ListContentTypes.MESSAGES?H[e.id]=t:H[e.attachment.id]=t)});var re=ee.concat(N);u!==n.PreviewPaneSettings.RIGHT&&z||(Z=l.MessageDestinationLabels.NONE);var se=e.getStore(C.default).getLoadingState;return{listId:a,permDelete:E===n.FolderTypes.DRAFT||E===n.FolderTypes.TRASH,myAddresses:O,items:re,hasMoreItems:k,folderType:E,dateFormattingOption:Q,folders:(0,g.categorizeFolders)(y),state:D,sortOrder:J,messageGroupRoutes:H,highlightSearchTerm:!0,messageDestinationLabel:Z,accounts:P,windowDimensions:j,listContentType:U,adRotationId:w,hasTimeChunking:Y,adFeedbackStarted:G,adFeedbackSubmitted:V,feedbackEnabled:W,actions:z?S.ListActions:p.ListActions,height:r.height,hideSearchIcon:K,isAppVisible:te,isListStale:R,loadingState:se,currentRoute:B}}exports.__esModule=!0,exports.mapStateToProps=void 0,exports.getStateFromStores=r;var s=require("react"),i=e(s),o=require("fluxible-addons-react"),a=require("react-redux"),n=require("../../../platform/mail_constants"),d=require("../../../molecules/item_list/constants"),l=require("../../../molecules/message_list/constants"),u=require("./item_list_ui.jsx"),c=e(u),g=require("../../../platform/utils/folder"),m=require("../../../platform/utils/list"),p=require("../../../actions/folder_message_list"),S=require("../../../actions/search_message_list"),f=require("./utils"),A=require("../../../stores/mail"),h=e(A),I=require("../../../stores/application"),F=e(I),T=require("../../../stores/ads.js"),b=e(T),E=require("../../../stores/user_preferences"),L=e(E),q=require("../../../stores/pages"),C=e(q),_=require("../../../reducers_selectors"),M=require("../../../platform/utils/object"),v=i.default.createClass({displayName:"ItemListControllerView",shouldComponentUpdate:function e(t){return!!t.listId},render:function e(){return this.props.listId?i.default.createElement(c.default,this.props):null}});v=(0,o.connectToStores)(v,[h.default,F.default,b.default,C.default],r,{store:s.PropTypes.object});var D=exports.mapStateToProps=function e(t,r){var s=(0,_.selectors)(t).getAdsSelectors(),i=s.getPencilAdData,o=s.getGeminiError,a=s.getPencilAdFallbacks,n=s.getAdFeedbackBeacon;return{pencilAdData:i(r.listId),pencilAdFallbacks:a(),pencilAdError:!!o(),adFeedbackBeacon:n()}};exports.default=(0,a.connect)(D)(v);
},{"../../../actions/folder_message_list":"./actions/folder_message_list","../../../actions/search_message_list":"./actions/search_message_list","../../../molecules/item_list/constants":"./molecules/item_list/constants","../../../molecules/message_list/constants":"./molecules/message_list/constants","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/folder":"./platform/utils/folder","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/object":"./platform/utils/object","../../../reducers_selectors":"./reducers_selectors","../../../stores/ads.js":399,"../../../stores/application":"./stores/application","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","../../../stores/user_preferences":"./stores/user_preferences","./item_list_ui.jsx":53,"./utils":"./apps/mail/controller_views/utils","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js","react-redux":"./node_modules/react-redux/lib/index.js"}],53:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){if(r){var s=e.getStore(y.default),i=s.getActivePageRoute();return(0,G.heroListId)(i,t)}}function r(e){switch(e.listContentType){case f.ListContentTypes.IMAGES:return n.default.createElement(p.LazyComponent,i({import:"../../../molecules/photo_grid/index.jsx"},e,{key:e.listId,_moduleGetter:function e(){return require("../../../molecules/photo_grid/index.jsx")}}));case f.ListContentTypes.DOCUMENTS:return n.default.createElement(p.LazyComponent,i({import:"../../../molecules/document_list/index.jsx"},e,{key:e.listId,_moduleGetter:function e(){return require("../../../molecules/document_list/index.jsx")}}));default:return n.default.createElement(_.default,i({messageGroups:e.items},e,{key:e.listId}))}}function s(e,r){var s=r.listId,i=r.items,o=e.getStore(u.default),n=e.getStore(I.default),l=(0,A.selectors)(e.store.getState()),a=l.getFeaturesSelectors,d=a(),c=t(e,s,d.isEnabled("hero")),S=o.getSelection(s,c),m=i.map(function(e){return e.id}),p=Object.keys(S),T=m.length>0&&m.every(function(e){return p.indexOf(e)>=0}),_=o.getOpenedGroupId(s,c),E=d.isEnabled("selectAll"),b=!_&&p.length>=d.getSetting("bulkActionDialogThreshold"),y=e.getStore(g.default),v=y.getLmv3Query(s),h=v&&y.getTotalHits(s),q=(0,G.getFolderIdFromListId)(s),x=q&&y.getFolder(q),C=x&&x.total,L=v?h:C;return{doSelectAll:E&&T&&L>0&&b,allItemsCount:L,allItemsSelected:T,openedGroupId:_,itemSelection:S,itemListPageThreshold:d.getSetting(f.Settings.ITEM_LIST_PAGE_THRESHOLD),bufferSize:d.getSetting(f.Settings.BUFFER_SIZE),cursorIndex:o.getCursor(s,c),snippetsEnabled:d.isEnabled(f.Settings.SNIPPETS),msgListDensity:d.getSetting(f.Settings.MSG_LIST_DENSITY),showHSPreviewFileCue:n.isEnabled("HSPreviewFileCue"),showFbBotTakeover:d.isEnabled("fbBotTakeover"),fbBotTakeoverDayOne:d.isEnabled("fbBotTakeoverDayOne"),magicTriageEnabled:d.isEnabled(f.Settings.MAGIC_TRIAGE),magicTriageBarEnabled:d.isEnabled(f.Settings.MAGIC_TRIAGE_BAR),magicTriageUserVisits:d.getSetting(f.Settings.MAGIC_TRIAGE_USER_VISITS),magicTriageTimestamp:d.getSetting(f.Settings.MAGIC_TRIAGE_TIMESTAMP),reloadingBar:d.isEnabled(f.Features.RELOADING_BAR)}}exports.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};exports.getStateFromStores=s;var o=require("react"),n=e(o),l=require("fluxible-addons-react"),a=require("../../../stores/item_list_ui"),u=e(a),d=require("../../../stores/mail"),g=e(d),c=require("../../../stores/user_preferences"),S=e(c),m=require("../../../platform/utils/object"),f=require("../../../platform/mail_constants"),p=require("../../../atoms/lazy_component"),T=require("../../../molecules/message_list"),_=e(T),E=require("../../../stores/features"),I=e(E),b=require("../../../stores/pages"),y=e(b),A=require("../../../reducers_selectors"),G=require("../../../platform/utils/list");exports.default=(0,l.connectToStores)(r,[g.default,u.default,S.default,I.default],s,{store:o.PropTypes.object,config:o.PropTypes.object});
},{"../../../atoms/lazy_component":"./atoms/lazy_component","../../../molecules/document_list/index.jsx":"./molecules/document_list","../../../molecules/message_list":257,"../../../molecules/photo_grid/index.jsx":"./molecules/photo_grid","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/object":"./platform/utils/object","../../../reducers_selectors":"./reducers_selectors","../../../stores/features":"./stores/features","../../../stores/item_list_ui":"./stores/item_list_ui","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","../../../stores/user_preferences":"./stores/user_preferences","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],"./apps/mail/controller_views/mail_count":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){if(r){var o=e.getStore(c.default),s=o.getActivePageRoute();return(0,p.heroListId)(s,t)}}function r(e,r){var o=(0,m.selectors)(e.store.getState()),s=o.getFeaturesSelectors,l=s(),u=l.isEnabled("selectAll"),i=e.getStore(a.default),n=e.getStore(g.default),d=r.listId,c=t(e,d,l.isEnabled("hero")),f=n.getItemListIdsForList(d),S=Object.keys(i.getSelection(d,c)),h=f.length>0&&f.length===S.length,q=(0,p.getFolderIdFromListId)(d),_=n.getLmv3Query(d),C=_&&n.getTotalHits(d),b=q&&e.getStore(g.default).getFolder(q).total,F=_?C:b;return{selectionCount:u&&h&&F>0?F:S.length}}exports.__esModule=!0,exports.getStateFromStores=r;var o=require("react"),s=e(o),l=require("fluxible-addons-react"),u=require("../atoms/mail_count.jsx"),i=e(u),n=require("../../../stores/item_list_ui"),a=e(n),d=require("../../../stores/pages"),c=e(d),f=require("../../../stores/mail"),g=e(f),p=require("../../../platform/utils/list"),m=require("../../../reducers_selectors"),S=s.default.createClass({displayName:"MailCountControllerView",shouldComponentUpdate:function e(t){return this.props.selectionCount!==t.selectionCount},render:function e(){return s.default.createElement(i.default,this.props)}});exports.default=(0,l.connectToStores)(S,[a.default,c.default,g.default],r,{config:o.PropTypes.object,store:o.PropTypes.object});
},{"../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors","../../../stores/item_list_ui":"./stores/item_list_ui","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","../atoms/mail_count.jsx":"./apps/mail/atoms/mail_count","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],54:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){if(e)return(0,v.heroListId)(t,r)}function r(e,r){var s=r.listId,o=e.getStore(S.default),i=e.getStore(q.default).getActivePageRoute(),a=(0,v.getFolderIdFromListId)(s),u=e.getStore(_.default).getFolder(a),l=e.getStore(_.default).getItemListIdsForList(s),n=u?0===u.total:0===l.length,d=(0,F.selectors)(e.store.getState()),c=d.getFeaturesSelectors,f=c(),g=t(f.isEnabled("hero"),i,s),p=e.getStore(q.default).getLoadingState,m=f.isEnabled(j.Features.RESIZABLE_PREVIEW_PANE);return{previewpane:f.getSetting(j.Settings.PREVIEW_PANE),inboxCategorization:f.isEnabled("inboxCategorization"),currentRoute:i,listId:s,openedGroupId:o.getOpenedGroupId(s,g),numberOfMessageSelection:Object.keys(o.getSelection(s,g)).length,previewpaneResizable:m,isEmpty:n,loadingState:p}}exports.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};exports.getStateFromStores=r;var o=require("react"),i=e(o),a=require("fluxible-addons-react"),u=require("./item_list.jsx"),l=e(u),n=require("./message"),d=e(n),c=require("./toolbar.jsx"),f=e(c),g=require("../molecules/mail_reader"),p=e(g),m=require("../../../stores/item_list_ui"),S=e(m),b=require("../../../stores/pages"),q=e(b),I=require("../../../stores/mail"),_=e(I),E=require("../../../stores/user_preferences"),R=e(E),L=require("./mail_count.jsx"),h=e(L),j=require("../../../platform/mail_constants"),x=require("../../../platform/utils/object"),v=require("../../../platform/utils/list"),y=require("./search_header.jsx"),P=e(y),F=require("../../../reducers_selectors"),T=i.default.createClass({displayName:"MailReaderControllerView",contextTypes:{config:o.PropTypes.object,getStore:o.PropTypes.func.isRequired},getListHeader:function e(){var t=this.props,r=t.listId,s=t.currentRoute,o=(0,v.getReferrerFromListId)(r);return s.name===j.RouteNames.SEARCH&&o!==j.ListReferrer.SMARTVIEW?P.default:null},render:function e(){return i.default.createElement(p.default,s({},this.props,{ItemList:l.default,ListHeader:this.getListHeader(),MessageView:d.default,BlankMessageView:h.default,Toolbar:f.default}))}});exports.default=(0,a.connectToStores)(T,[S.default,q.default,R.default],r,{config:o.PropTypes.object,store:o.PropTypes.object});
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/object":"./platform/utils/object","../../../reducers_selectors":"./reducers_selectors","../../../stores/item_list_ui":"./stores/item_list_ui","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","../../../stores/user_preferences":"./stores/user_preferences","../molecules/mail_reader":78,"./item_list.jsx":52,"./mail_count.jsx":"./apps/mail/controller_views/mail_count","./message":55,"./search_header.jsx":65,"./toolbar.jsx":71,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],55:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r,s=t.listId,o=t.hasToolbar,a=void 0===o||o,i={},n={},u=e.getStore(l.default),c=e.getStore(p.default),g=e.getStore(O.default).getActivePageRoute(),m=t.openedMessageId||decodeURIComponent(g.params.groupId),S=e.getStore(f.default),A=e.getStore(d.default),E=S.getMessageGroupState(m),_=S.hasMessageGroup(m),v=c.getWindowDimensions(),R=(0,y.selectors)(e.store.getState()),N=R.getFeaturesSelectors,q=N(),b=q.getSetting(T.Settings.PREVIEW_PANE),V=q.isEnabled(T.Features.PREVIEW_MESSAGE_V3),H=b===T.PreviewPaneSettings.RIGHT,L=!!b&&(g.name===T.RouteNames.FOLDER||g.name===T.RouteNames.SEARCH),j=g.name===T.RouteNames.ATTACHMENT&&"1"===g.query.fullscreen,U=g.name===T.RouteNames.ATTACHMENT&&"1"!==g.query.fullscreen,k=(0,y.selectors)(e.store.getState()),B=k.getRouterSelectors,W=B(),X=W.getHashParams(),K=U?(0,P.getMessageIdFromAttachmentId)(g.params.attachmentId):X.messageId||null,Y=e.intl.formatMessage,z=(r={},r[T.EmailProviders.YAHOO]=Y(G.default.yahoo_account_description),r[T.EmailProviders.YAHOO_SB]=Y(G.default.yahoo_account_description),r[T.EmailProviders.OUTLOOK]=Y(G.default.outlook_account_description),r[T.EmailProviders.AOL]=Y(G.default.aol_account_description),r[T.EmailProviders.GOOGLE]=Y(G.default.gmail_account_description),r[T.EmailProviders.GOOGLE_APP]=Y(G.default.gmail_account_description),r),J=(0,h.listIdHasMessageFlags)(s)&&(0,h.listIdContainsMessageFlags)(s,{read:!1})&&g.name===T.RouteNames.SEARCH||(0,h.getSortOrderFromListId)(s)===T.SortOrder.UNREAD&&[T.RouteNames.SEARCH,T.RouteNames.FOLDER].indexOf(g.name)!==-1,Q=q.getSetting(T.Settings.MARK_AS_READ_INTERVAL);if(E===T.RecordStates.ERROR)return{groupId:m,groupState:E};if(E===T.RecordStates.DOES_NOT_EXIST||!_)return{groupState:T.RecordStates.DOES_NOT_EXIST,hasAttachmentPreview:U,isAttachmentRouteInFullScreenMode:j,hasToolbar:a,canTakeFocus:L};var Z=(0,y.selectors)(e.store.getState()),$=Z.getMessageBodiesSelectors,ee=$(),te=S.getContextualMessageGroupById(m,s),re=(0,F.getMessageGroupFolder)(te),se=S.getMyAddresses(),oe=S.getAccountIdForMessageGroup(m),ae=S.getRootAccounts(),ie=S.getAccountById(oe),ne=ae.length>1?ie.description||z[(0,C.getProviderFromAccount)(ie)]:"",ue=re.name,le=(0,I.getPrimaryFolderType)(re),ce=S.getAllFoldersForAccount(oe),de=function t(){var r,o=(r={},r[T.ActionAfterMessageMove.GO_BACK_TO_FOLDER]=null,r[T.ActionAfterMessageMove.SHOW_NEXT_MESSAGE]="getNextOrPreviousGroupId",r[T.ActionAfterMessageMove.SHOW_PREVIOUS_MESSAGE]="getPreviousOrNextGroupId",r),a=q.getSetting(T.Settings.ACTION_AFTER_MSG_MOVE),i=o[a];return e.executeAction(x.loadMoreMessagesIfNeeded,{listId:s,currentGroupId:te.id}),i?S[i](te.id,s):null};te.messages.forEach(function(e){i[e.id]=ee.getState(e.id),n[e.id]=S.isDraftMessage(e.id)});var ge=A.getCards(te);ge.filter(function(e){return e.composeData}).forEach(function(t){t.composeProps=(0,M.getComposeStateFromStores)(e,t)});var pe=q.isEnabled("attachmentPreview"),me=q.isEnabled(T.Features.CONVERSATIONS),fe=q.isEnabled(T.Features.EMOJI),Se=q.isEnabled(T.Features.GIF),Ae=q.isEnabled(T.Features.STATIONERY),Ee=q.isEnabled(T.Features.COUPON_CARD_EXTRACTIONS),_e=Ee&&te.messages[0].decos.some(function(e){return e&&"CPN"===e.id});return{stationery:Ae,gif:Se,emoji:fe,attachmentPreview:pe,conversations:me,cards:ge,cardExpansions:A.getCardExpansionStates(s,m,K),bodyStates:i,isDraftMessage:n,groupState:T.RecordStates.LOADED,hasToolbar:a,hasCoupon:_e,myAddresses:se,messageGroup:te,preferences:u.getPreferences(),folders:(0,I.categorizeFolders)(ce),compactGroupHeader:H,isAppVisible:c.isAppVisible(),hasAttachmentPreview:U,isAttachmentRouteInFullScreenMode:j,windowDimensions:v,markAsReadOnUnmount:J,markAsReadInterval:Q,canTakeFocus:L,folderName:ue,folderType:le,accountLabel:ne,previewMessageV3:V,navigateOnMessageAction:function t(){var r=de();if(r){var o=S.getItem(r,s),a=q.isEnabled(T.Features.CONVERSATIONS),i=(0,w.getMessageGroupViewRoute)({item:o,listId:s,isConversationMode:a});e.navigateTo({route:i,replacePage:!0})}else{e.executeAction(D.closeActivePage);var n=e.getStore(O.default),u=n.getNextPageOnClose();u&&e.navigateTo({route:u.route})}},onClose:function t(r){var s=r.i13nModel,o=void 0===s?{}:s;e.executeAction(D.closeActivePage,{i13nModel:o});var a=e.getStore(O.default),i=a.getNextPageOnClose();i&&e.navigateTo({route:i.route})}}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};exports.getStateFromStores=t;var s=require("react"),o=e(s),a=require("react-intl"),i=require("../../../../molecules/message_group_view/message_group_preview.jsx"),n=e(i),u=require("../../../../stores/user_preferences"),l=e(u),c=require("../../../../stores/message_group_ui"),d=e(c),g=require("../../../../stores/application"),p=e(g),m=require("../../../../stores/mail"),f=e(m),S=require("../../../../stores/xobni"),A=e(S),E=require("../../../../stores/features"),_=e(E),v=require("../../../../stores/pages"),O=e(v),R=require("fluxible-addons-react"),M=require("../get_state_from_stores"),T=require("../../../../platform/mail_constants"),I=require("../../../../platform/utils/folder"),P=require("../../../../platform/utils/message"),h=require("../../../../platform/utils/list"),F=require("../../../../platform/utils/message_group"),N=require("../toolbar.jsx"),q=e(N),C=require("../../../../platform/utils/account"),b=require("../../../../molecules/advanced_search_pane/atoms/strings"),G=e(b),y=require("../../../../reducers_selectors"),x=require("../../../../actions/message"),w=require("../utils"),D=require("../../../../apps/mail/actions"),V=o.default.createClass({displayName:"MessageControllerView",_getToolbar:function e(){return this.props.hasToolbar?q.default:null},render:function e(){var t=this.props.isAttachmentRouteInFullScreenMode;return void 0!==t&&t?null:o.default.createElement(n.default,r({},this.props,{ToolbarControllerView:this._getToolbar()}))}});exports.default=(0,R.connectToStores)(V,[f.default,d.default,l.default,A.default,_.default],t,{config:o.default.PropTypes.object,intl:a.intlShape.isRequired,store:o.default.PropTypes.object,navigateTo:s.PropTypes.func,executeAction:s.PropTypes.func});
},{"../../../../actions/message":"./actions/message","../../../../apps/mail/actions":"./apps/mail/actions","../../../../molecules/advanced_search_pane/atoms/strings":"./molecules/advanced_search_pane/atoms/strings","../../../../molecules/message_group_view/message_group_preview.jsx":253,"../../../../platform/mail_constants":"./platform/mail_constants","../../../../platform/utils/account":"./platform/utils/account","../../../../platform/utils/folder":"./platform/utils/folder","../../../../platform/utils/list":"./platform/utils/list","../../../../platform/utils/message":"./platform/utils/message","../../../../platform/utils/message_group":"./platform/utils/message_group","../../../../reducers_selectors":"./reducers_selectors","../../../../stores/application":"./stores/application","../../../../stores/features":"./stores/features","../../../../stores/mail":"./stores/mail","../../../../stores/message_group_ui":402,"../../../../stores/pages":"./stores/pages","../../../../stores/user_preferences":"./stores/user_preferences","../../../../stores/xobni":416,"../get_state_from_stores":49,"../toolbar.jsx":71,"../utils":"./apps/mail/controller_views/utils","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],56:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,o){if(e)return(0,h.heroListId)(t,o)}function o(e,o){var r=o.listId,s=e.getStore(c.default),a=e.getStore(m.default),i=e.getStore(E.default),l=e.getStore(v.default),d=e.getStore(f.default),n=d.getActivePageRoute(),g=s.getRootAccounts(),S=s.getActiveAccount(),p=s.getUnreadCountForAccount(S.id),F={},A=s.getItemListState(r),I=s.isListStale(r),T=I&&A===b.RecordStates.REFRESHING,L=(0,h.getFolderIdFromListId)(r),_=function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o.i13nModel,a=void 0===r?void 0:r,i=o.files,l=o.name,n=d.getActivePageRoute(),c=n.params.csid;if(c){var g=s.getComposeData(c);if(g&&g.draftStatus===b.Draft.Status.INIT&&!g.isEdited)return}c=(0,u.generateUID)();var f={route:(0,R.buildComposeRouteFromCsid)(c)};a&&(f.i13nModel=a),i&&(f.files=i),l&&(f.name=l),e.navigateTo(f)};g.forEach(function(e){F[e.id]=s.getDefaultFolderForAccount(e.id)});var O=(0,C.selectors)(e.store.getState()),w=O.getFeaturesSelectors,D=w(),P=t(D.isEnabled("hero"),n,r),q=l.getSelection(r,P),y=Object.keys(q),H=s.getItemListIdsForList(r),M=H.length>0&&H.length===y.length,N=l.getOpenedGroupId(r,P),U=D.isEnabled("selectAll"),V=!N&&y.length>=D.getSetting("bulkActionDialogThreshold"),x=s.getLmv3Query(r),B=x&&s.getTotalHits(r),j=L&&s.getFolder(L),W=j&&j.total,k=x?B:W,G=U&&M&&k>0&&V,K=D.getSetting("appRootPath");return{rootAccounts:g,accountDefaultFolders:F,activeAccount:S,unreadCountForAccount:p,navigateToNewCompose:_,folders:s.getAllFoldersForAccount(S.id),expandedFolders:D.getSetting(b.Settings.EXPANDED_FOLDERS),showCustomFolders:D.isEnabled(b.Settings.SHOW_CUSTOM_FOLDERS),mailboxId:i.getMailboxes()[0].id,folderRefreshing:T,activeFolderId:L,showPhotosCue:D.isEnabled("photosCue"),showStarredCue:D.isEnabled("starredCue"),showComposeBadge:a.isEnabled("HSComposeBadge"),showDocumentsBadge:a.isEnabled("HSDocumentsBadge"),showHSDocumentsCue:a.isEnabled("HSDocumentsCue"),selection:q,showHSComposeCue:a.isEnabled("HSComposeCue"),showHSPreTourCue:a.isEnabled("HSPreTourCue"),conversationSetting:D.isEnabled("conversations"),navigateToFolder:function t(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.i13nModel,a=void 0===s?{}:s,i=r.refresh,l=void 0!==i&&i,u=d.getActivePageRoute(),n=(0,h.getListIdFromRoute)(u),c=u.name===b.RouteNames.FOLDER;e.navigateTo({route:c?(0,R.buildFolderRouteFromListId)(n,{folders:[o]}):(0,R.buildFolderRouteFromFolderId)(o),force:c&&u.params.fid===o,i13nModel:a,refresh:l})},defaultFolderId:s.getDefaultFolderForAccount(s.getActiveAccountId()).id,expiredAccounts:s.getExpiredAccounts(),collapsibleSystemFolders:D.isEnabled(b.Features.COLLAPSIBLE_SYSTEM_FOLDERS),showAllSystemFolders:D.isEnabled("showAllSystemFolders"),selectAllOnDrop:G,allItemsCount:k,appRootPath:K,loadingState:e.getStore(f.default).getLoadingState,reloadingBar:D.isEnabled("reloadingBar"),autoOpenReauth:D.isEnabled(b.Features.AUTO_OPEN_REAUTH),feedbackPanel:D.isEnabled(b.Features.FEEDBACK_PANEL),feedbackURL:D.getSetting(b.Settings.FEEDBACK_URL),tutorial:D.isEnabled(b.Features.TUTORIAL),magicTriage:D.isEnabled(b.Settings.MAGIC_TRIAGE),travelView:D.isEnabled(b.Features.TRAVEL_VIEW),smartViews:D.isEnabled(b.Features.SMART_VIEWS),showCouponsView:D.isEnabled(b.Features.COUPONS_VIEW)}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};exports.getStateFromStores=o;var s=require("react"),a=e(s),i=require("../../../molecules/navigation"),l=e(i),d=require("fluxible-addons-react"),u=require("../../../platform/utils"),n=require("../../../stores/mail"),c=e(n),g=require("../../../stores/pages"),f=e(g),S=require("../../../stores/features"),m=e(S),p=require("../../../stores/user_preferences"),E=e(p),F=require("../../../stores/item_list_ui"),v=e(F),A=require("../../../types"),b=require("../../../platform/mail_constants"),h=require("../../../platform/utils/list"),I=require("../../../platform/utils/smartview"),R=require("../../../platform/utils/route"),C=require("../../../reducers_selectors"),T=a.default.createClass({displayName:"NavigationControllerView",render:function e(){var t=this.props.listId,o=(0,h.getReferrerFromListId)(t),s=this.props.currentRoute.name,i=void 0;return i=s===b.RouteNames.TUTORIAL?b.SmartViewTypes.TUTORIAL:o===b.ListReferrer.SMARTVIEW?(0,I.getSmartViewNameFromListId)(t):this.props.activeFolderId,a.default.createElement(l.default,r({},this.props,{activeFolderId:i}))}});exports.default=(0,d.connectToStores)(T,[c.default,E.default,m.default,v.default],o,{config:s.PropTypes.object,navigateTo:a.default.PropTypes.func,store:a.default.PropTypes.object});
},{"../../../molecules/navigation":270,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils":"./platform/utils","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/route":"./platform/utils/route","../../../platform/utils/smartview":"./platform/utils/smartview","../../../reducers_selectors":"./reducers_selectors","../../../stores/features":"./stores/features","../../../stores/item_list_ui":"./stores/item_list_ui","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","../../../stores/user_preferences":"./stores/user_preferences","../../../types":"./types","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],57:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.getStore(f.default).getActivePageRoute(),s=(0,S.getListIdFromRoute)(t),i=(0,S.getListContentTypeFromListId)(s),o=e.getStore(n.default).getNewListItems(s),r=e.getStore(a.default).isAppVisible(),l=(0,h.selectors)(e.store.getState()),u=l.getFeaturesSelectors,p=u(),c=p.isEnabled("peopleNotifications"),d=[];return i===N.ListContentTypes.MESSAGES&&(d=o.map(function(t){return e.getStore(n.default).getMessageGroupById(t)})),{items:d,listContentType:i,listId:s,isAppVisible:r,peopleNotifications:c}}exports.__esModule=!0,exports.BrowserNotificationControllerView=void 0,exports.getStateFromStores=t;var s=require("react"),i=e(s),o=require("fluxible-addons-react"),r=require("../../../../stores/mail"),n=e(r),l=require("../../../../stores/application"),a=e(l),u=require("../../../../stores/user_preferences"),p=e(u),c=require("../../../../stores/pages"),f=e(c),d=require("../../../../molecules/browser_notification/new_message"),m=e(d),S=require("../../../../platform/utils/list"),g=require("../../../../platform/utils/object"),N=require("../../../../platform/mail_constants"),h=require("../../../../reducers_selectors"),q=exports.BrowserNotificationControllerView=i.default.createClass({displayName:"BrowserNotificationControllerView",contextTypes:{config:s.PropTypes.object,isLatestWindow:s.PropTypes.func.isRequired},componentDidMount:function e(){this._allItemsNotSeen=[],window.Notification&&this.requestPersmission()},componentDidUpdate:function e(){this.props.isAppVisible&&(this._allItemsNotSeen=[])},requestPersmission:function e(){var t=this;window.Notification.requestPermission(function(e){"granted"===e&&t.setState({hasPermission:!0})})},getInitialState:function e(){return{hasPermission:!1}},render:function e(){var t=this.props,s=t.items,o=t.listContentType,r=t.isAppVisible,n=t.listId,l=t.peopleNotifications;return 0!==s.length&&this.state.hasPermission&&!r&&this.context.isLatestWindow()?(o===N.ListContentTypes.MESSAGES&&(this._allItemsNotSeen=[].concat(this._allItemsNotSeen,s)),i.default.createElement("div",null,o===N.ListContentTypes.MESSAGES?i.default.createElement(m.default,{peopleNotifications:l,messageGroups:this._allItemsNotSeen,listId:n}):null)):null}});exports.default=(0,o.connectToStores)(q,[n.default,a.default,p.default,f.default],t,{store:i.default.PropTypes.object});
},{"../../../../molecules/browser_notification/new_message":160,"../../../../platform/mail_constants":"./platform/mail_constants","../../../../platform/utils/list":"./platform/utils/list","../../../../platform/utils/object":"./platform/utils/object","../../../../reducers_selectors":"./reducers_selectors","../../../../stores/application":"./stores/application","../../../../stores/mail":"./stores/mail","../../../../stores/pages":"./stores/pages","../../../../stores/user_preferences":"./stores/user_preferences","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],58:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.NotificationControllerView=void 0;var t=require("react"),o=e(t),i=require("react-redux"),r=require("./browser_notification"),n=e(r),a=require("./push_notification"),s=e(a),l=require("../../../../platform/mail_constants"),c=require("../../../../reducers_selectors"),u=exports.NotificationControllerView=o.default.createClass({displayName:"NotificationControllerView",render:function e(){var t=this.props,i=t.notificationsEnabled,r=t.notificationMode;return r===l.NotificationModes.PUSH?o.default.createElement(s.default,{notificationsEnabled:i}):r===l.NotificationModes.BROWSER&&i?o.default.createElement(n.default,null):null}}),f=exports.mapStateToProps=function e(t){var o=(0,c.selectors)(t),i=o.getFeaturesSelectors,r=i();return{notificationsEnabled:r.getSetting(l.Settings.DESKTOP_NOTIFICATION),notificationMode:r.getSetting(l.Settings.NOTIFICATION_MODE)}};exports.default=(0,i.connect)(f)(u);
},{"../../../../platform/mail_constants":"./platform/mail_constants","../../../../reducers_selectors":"./reducers_selectors","./browser_notification":57,"./push_notification":59,"react":"./node_modules/react/react.js","react-redux":"./node_modules/react-redux/lib/index.js"}],59:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0,exports.mapDispatchToProps=exports.mapStateToProps=exports.PushNotificationControllerView=void 0;var e=require("react"),i=t(e),s=require("react-redux"),r=require("../../../../platform/react_action_constants"),o=require("../../../../platform/push_notifications"),n=require("../../../../reducers_selectors"),c=require("../../../../apps/mail/actions"),u=require("../../../../platform/web_storage"),a="SUBSCRIPTION_IDS",p=exports.PushNotificationControllerView=i.default.createClass({displayName:"PushNotificationControllerView",contextTypes:{executeAction:e.PropTypes.func},componentDidMount:function t(){this.props.notificationsEnabled?this._ensurePushIsSubscribed():(0,o.unsubscribe)()},componentDidUpdate:function t(e){var i=this.props,s=i.notificationsEnabled,r=i.subscriptionIdsString;!s&&e.notificationsEnabled?(0,o.unsubscribe)():!s||e.notificationsEnabled&&r===e.subscriptionIdsString||this._ensurePushIsSubscribed()},render:function t(){return null},_ensurePushIsSubscribed:function t(){var e=this.props,i=e.subscriptionIds,s=e.subscriptionIdsString,r=e.disablePushNotifications,n=(0,u.readFromLocalStorage)(a);return(0,o.addPushListener)(this._checkMail),(0,o.isSubscribed)().then(function(t){if(!t||s!==n)return t?(0,o.unsubscribe)().then(function(){return(0,o.subscribe)(i)}):(0,o.subscribe)(i)}).then(function(){return(0,u.writeToLocalStorage)(a,s)}).catch(r)},_checkMail:function t(){this.context.executeAction(c.messageCheckMail)}}),l=exports.mapStateToProps=function t(e){var i=(0,n.selectors)(e),s=i.getAccountSelectors,r=s().getAccountSubscriptionIds();return{subscriptionIds:r,subscriptionIdsString:r.sort().join(",")}},d=exports.mapDispatchToProps=function t(e){return{disablePushNotifications:function t(){return e({type:r.mail.FEATURE_DISABLED,name:"pushNotifications"})}}};exports.default=(0,s.connect)(l,d)(p);
},{"../../../../apps/mail/actions":"./apps/mail/actions","../../../../platform/push_notifications":"./platform/push_notifications","../../../../platform/react_action_constants":"./platform/react_action_constants","../../../../platform/web_storage":"./platform/web_storage","../../../../reducers_selectors":"./reducers_selectors","react":"./node_modules/react/react.js","react-redux":"./node_modules/react-redux/lib/index.js"}],60:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return{nextPage:e.getStore(a.default).getNextPage()}}exports.__esModule=!0,exports.getStateFromStores=t;var r=require("fluxible-addons-react"),u=require("../../../molecules/pager"),o=e(u),s=require("../../../stores/pages"),a=e(s);exports.default=(0,r.connectToStores)(o.default,[a.default],t);
},{"../../../molecules/pager":307,"../../../stores/pages":"./stores/pages","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js"}],61:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=(0,q.selectors)(e.store.getState()),r=t.getFeaturesSelectors,a=r(),s=e.getStore(l.default).getActivePageRoute(),i=s.name===A.RouteNames.ATTACHMENT,o=a.isEnabled(A.Features.MESSAGE_READ_CONTACT_CARD),n=(0,R.getListIdFromRoute)(s),u=(0,R.getEmailAddressFromListId)(n),d=a.isEnabled(A.Features.MAIL_PRO_ELIGIBLE),m=a.isEnabled(A.Features.AD_FREE_SUPPORTED),c=a.isEnabled(A.Features.SHOW_COMMS_PROPERTIES),h=a.isEnabled(A.Features.IS_WIDER_MAIL_EXTN_ENABLED),p=a.isEnabled(A.Features.WIDE_RIGHT_RAIL);return{emailAddress:u,hideRightPaneAds:h,isAttachmentRoute:i,mailProEligible:d,adFreeSupported:m,mailProMonthlyPrice:a.getSetting(A.Settings.MAIL_PRO_MONTHLY_PRICE),msgContactCard:o,wideRightRail:p,showCommsProperties:c}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};exports.getStateFromStores=t;var a=require("react"),s=e(a),i=require("fluxible-addons-react"),o=require("../../../atoms/lazy_component"),n=require("../../../stores/pages"),l=e(n),u=require("../../../stores/ads"),d=e(u),m=require("../../../stores/user_preferences"),c=e(m),h=require("./contact_card"),p=e(h),f=require("../../../molecules/comms_properties/"),_=e(f),g=require("../../../apps/mail/molecules/right_pane_ads"),P=e(g),E=require("../../../molecules/message_read_contact_card"),C=e(E),R=require("../../../platform/utils/list"),A=require("../../../platform/mail_constants"),y=require("../styles/right_rail"),w=e(y),b=require("react-atomic-css/css"),S=e(b),q=require("../../../reducers_selectors"),v=s.default.createClass({displayName:"RightRailControllerView",render:function e(){var t=this.props,a=t.hasAds,i=t.hideRightPaneAds,n=t.hideAdUpsellSetting,l=t.isAttachmentRoute,u=t.hasAttachmentPreview,d=t.hasContactCard,m=t.hasPhotos,c=t.hasDocs,h=t.hasMessages,f=t.hasPubs,g=t.previewPaneSetting,E=t.windowDimensions,R=t.emailAddress,y=t.mailProEligible,b=t.adFreeSupported,q=t.mailProMonthlyPrice,v=t.msgContactCard,L=t.wideRightRail,x=t.showCommsProperties,I=E.innerWidth,M=g===A.PreviewPaneSettings.RIGHT,F=[],j=(0,S.default)(w.default,{hasAttachmentPreview:u}),T=a&&!i||d||m||c||h,D=x&&(u||!T),O=x&&!D,k=a&&!(u||d||m||c);return l&&F.push(s.default.createElement(o.LazyComponent,r({import:"./attachment_ui.jsx",key:"AttachmentUiControllerView",className:j.attachmentPreview},this.props,{_moduleGetter:function e(){return require("./attachment_ui.jsx")}}))),v&&F.push(s.default.createElement(C.default,{key:"messageReadContactCard",innerWidth:I,verticalPreviewPane:M,hideRightPaneAds:i})),d&&F.push(s.default.createElement(p.default,{key:"ContactCardControllerView",isInRightRail:!0,emailAddress:R,isCompose:!1,showContactSummary:!0})),h&&F.push(s.default.createElement(o.LazyComponent,r({import:"./message_brief.jsx",key:"MessageBriefControllerView"},this.props,{_moduleGetter:function e(){return require("./message_brief.jsx")}}))),m&&F.push(s.default.createElement(o.LazyComponent,r({import:"./photo_brief.jsx",key:"PhotoBriefControllerView"},this.props,{_moduleGetter:function e(){return require("./photo_brief.jsx")}}))),c&&F.push(s.default.createElement(o.LazyComponent,r({import:"./document_brief.jsx",key:"DocumentBriefControllerView"},this.props,{_moduleGetter:function e(){return require("./document_brief.jsx")}}))),f&&T&&F.push(s.default.createElement(o.LazyComponent,r({import:"../../../molecules/pubs_card/index.jsx",key:"PubsCard",innerWidth:I},this.props,{_moduleGetter:function e(){return require("../../../molecules/pubs_card/index.jsx")}}))),k&&F.push(s.default.createElement(P.default,{key:"RightPaneAds",innerWidth:I,verticalPreviewPane:M,hideAdUpsellSetting:n,hideRightPaneAds:i,mailProEligible:y,adFreeSupported:b,mailProMonthlyPrice:q,wideRightRail:L})),O?F.unshift(s.default.createElement(_.default,{key:"CommsProperties",verticalLayout:!1,windowDimensions:E,hasContactCard:d})):D&&F.push(s.default.createElement(_.default,{key:"CommsProperties",verticalLayout:!0,windowDimensions:E})),s.default.createElement("div",{"data-test-id":"mail-right-rail",className:j.rightRail},F)}});v=(0,i.connectToStores)(v,[l.default,d.default,c.default],t,{store:a.PropTypes.object}),exports.default=v;
},{"../../../apps/mail/molecules/right_pane_ads":81,"../../../atoms/lazy_component":"./atoms/lazy_component","../../../molecules/comms_properties/":167,"../../../molecules/message_read_contact_card":258,"../../../molecules/pubs_card/index.jsx":"./molecules/pubs_card","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors","../../../stores/ads":399,"../../../stores/pages":"./stores/pages","../../../stores/user_preferences":"./stores/user_preferences","../styles/right_rail":89,"./attachment_ui.jsx":"./apps/mail/controller_views/attachment_ui","./contact_card":47,"./document_brief.jsx":"./apps/mail/controller_views/document_brief","./message_brief.jsx":"./apps/mail/controller_views/message_brief","./photo_brief.jsx":"./apps/mail/controller_views/photo_brief","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],62:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.getStore(u.default),r=(0,d.selectors)(e.store.getState()),a=r.getFeaturesSelectors,i=a(),s=i.isEnabled(l.Settings.YAFT_CAN_SHOW_VISUAL_REPORT),o={timeToInboxVisible:{metric:"message_list"},timeToComposeReady:{metric:"MTTC"},timeToInteractive:{metric:"MTTI"},appClientRenderTime:{metric:"app_client_render"},appClientHeadToEnd:{metric:"app_head_end"},messageSend:{metric:"message_send"},composeShow:{metric:"compose_show"},messageRead:{metric:"message_read"},mailSearch:{metric:"search_latency"}},n=["norrin_"];return{rumData:t.getData(),config:o,yaftCanShowVisualReport:s,modules:n}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};exports.getStateFromStores=t;var a=require("react"),i=e(a),s=require("fluxible-addons-react"),o=require("../../../platform/react_action_constants"),n=require("../../../platform/rum_component.jsx"),m=e(n),c=require("../../../stores/rum"),u=e(c),p=require("../../../platform/utils/list"),l=require("../../../platform/mail_constants"),E=require("lodash/isEqual"),S=e(E),d=require("../../../reducers_selectors"),_=i.default.createClass({displayName:"RumController",appStartTime:Date.now(),shouldComponentUpdate:function e(t){return(this.props.rumData.action!==o.mail.SEND_SUCCESS&&this.props.rumData.action!==o.mail.MESSAGE_GROUP_OPENED&&this.props.rumData.action!==o.mail.OPEN_PAGE_REQUESTED||this.props.rumData.action!==t.rumData.action)&&Boolean(t&&t.rumData&&!(0,S.default)(this.props,t))},getAppInitMetrics:function e(){if(window.performance){var t=window.performance,r=t.now(),a=t.timing.responseStart-t.timing.navigationStart,i=r;return t.getEntriesByName&&t.getEntriesByName("norrinStartRender").length&&(i=t.getEntriesByName("norrinStartRender")[0].startTime),{timeToInboxVisible:i,timeToComposeReady:r,timeToInteractive:r,appClientRenderTime:Date.now()-this.appStartTime,appClientHeadToEnd:r-a}}},getRumMetric:function e(){var t=this.props.rumData||{},r=t.action,a=t.payload,i=t.startTimer;if(i){var s=Date.now()-i;switch(r){case o.mail.OPEN_PAGE_REQUESTED:var n=a.perfHeader,m=void 0===n?{}:n,c=a.cacheControl,u=void 0===c?{}:c,E=a.route,S=void 0===E?{}:E;if(u.lastVisited)switch(S.name){case l.RouteNames.SEARCH:return{mailSearch:Date.now()-m.requestStart};case l.RouteNames.MESSAGE_FROM_FOLDER_LIST:case l.RouteNames.MESSAGE_FROM_SEARCH_LIST:return{messageRead:Date.now()-m.requestStart}}break;case o.mail.SEND_SUCCESS:return{messageSend:s};case o.mail.COMPOSE_OPENED:return{composeShow:s};case o.mail.MESSAGE_GROUP_OPENED:case o.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case o.mail.MESSAGE_BODIES_RECEIVED:if(!(a.messageBodiesToFetchCount&&a.messageBodiesToFetchCount>0))return{messageRead:s};break;case o.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:var d=(0,p.getListContentTypeFromListId)(a.listId);if(!a.doesListExist&&a.response[d]&&(a.response[d].WITH_KEYWORD||a.response[d].FROM))return{mailSearch:s};break;default:return}}},render:function e(){return i.default.createElement(m.default,r({},this.props,{getAppInitMetrics:this.getAppInitMetrics,getRumMetric:this.getRumMetric}))}});_=(0,s.connectToStores)(_,[u.default],t,{store:a.PropTypes.object}),exports.default=_;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants","../../../platform/rum_component.jsx":376,"../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors","../../../stores/rum":415,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","lodash/isEqual":"./node_modules/lodash/isEqual.js","react":"./node_modules/react/react.js"}],63:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.getStore(l.default),r=e.getStore(g.default),o=e.getStore(f.default).getActivePageRoute(),s=o.name===m.RouteNames.SEARCH,a=t.isWindowResizingDone(),u=e.getStore(n.default),i=u.getRootAccounts().filter(function(e){return e.status===m.AccountStatus.ENABLED}),c=u.getAllFoldersForAllAccounts(),d=(0,S.getListIdFromRoute)(o),p=(0,S.getReferrerFromListId)(d),R=r.isEnabled("HSSearchBadge");return p===m.ListReferrer.SMARTVIEW&&(d=(0,S.convertSearchQueryToListId)({})),{searchQuery:s?(0,S.getBootcampApiQueryParams)(d):{},isWindowResizingDone:a,accountList:i,folderList:c,showSearchBadge:R,showHSSearchCue:r.isEnabled("HSSearchCue")}}exports.__esModule=!0,exports.getStateFromStores=t;var r=require("react"),o=e(r),s=require("fluxible-addons-react"),a=require("../../../molecules/search_bar"),u=e(a),i=require("../../../stores/application"),l=e(i),c=require("../../../stores/mail"),n=e(c),d=require("../../../stores/pages"),f=e(d),p=require("../../../stores/features"),g=e(p),S=require("../../../platform/utils/list"),m=require("../../../platform/mail_constants"),R=o.default.createClass({displayName:"SearchBarControllerView",render:function e(){return o.default.createElement(u.default,this.props)}});R.contextTypes={getStore:o.default.PropTypes.func.isRequired,executeAction:o.default.PropTypes.func.isRequired,config:o.default.PropTypes.object},exports.default=(0,s.connectToStores)(R,[l.default,f.default,n.default,g.default],t,{config:o.default.PropTypes.object});
},{"../../../molecules/search_bar":309,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../stores/application":"./stores/application","../../../stores/features":"./stores/features","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],64:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),o=r(t),u=require("fluxible-addons-react"),l=require("../../../molecules/theme_provider"),a=e(l),d=require("./search_bar.jsx"),s=r(d),p=(0,u.provideContext)(a.provide(s.default),{config:o.default.PropTypes.object,store:o.default.PropTypes.object,loader:o.default.PropTypes.object});exports.default=p,module.exports=exports.default;
},{"../../../molecules/theme_provider":"./molecules/theme_provider","./search_bar.jsx":63,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],65:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r=e.getStore(a.default),s=e.getStore(u.default),o=r.getSuggestedWordsForList(t.listId),l=(0,n.recreateListId)(t.listId,{listContentType:c.ListContentTypes.PEOPLE,listFilter:c.ListFilters.WITH_KEYWORD}),i=(0,g.selectors)(e.store.getState()),d=i.getFeaturesSelectors,f=d();return{suggestedWords:o,suggestedContacts:f.isEnabled("showSuggestedContacts")?r.getItemList(l):[],dragDropPill:f.isEnabled("dragDropPill"),showSearchCue:f.isEnabled("searchCue"),showHSNarrowSearchCue:s.isEnabled("HSNarrowSearchCue")}}exports.__esModule=!0,exports.getStateFromStores=t;var r=require("react"),s=require("fluxible-addons-react"),o=require("../../../stores/mail"),a=e(o),l=require("../../../stores/features"),u=e(l),i=require("../../../molecules/search_header"),d=e(i),c=require("../../../platform/mail_constants"),n=require("../../../platform/utils/list"),g=require("../../../reducers_selectors"),f=(0,s.connectToStores)(d.default,[a.default,u.default],t,{config:r.PropTypes.object,store:r.PropTypes.object});exports.default=f;
},{"../../../molecules/search_header":312,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors","../../../stores/features":"./stores/features","../../../stores/mail":"./stores/mail","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],66:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),n=require("../../../../atoms/lazy_component"),a=require("../../../../atoms/loading_indicator.jsx"),l=e(a),u={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},s=r.default.createClass({displayName:"SettingsMenu",render:function e(){return r.default.createElement(n.LazyComponent,{import:"./settings.jsx",_moduleGetter:function e(){return require("./settings.jsx")}},r.default.createElement(n.When,{loading:!0},r.default.createElement("div",{style:u},r.default.createElement(l.default,null))))}});exports.default=s,module.exports=exports.default;
},{"../../../../atoms/lazy_component":"./atoms/lazy_component","../../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","./settings.jsx":"./apps/mail/controller_views/settings/settings","react":"./node_modules/react/react.js"}],67:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),o=require("react-intl"),i=require("../../../../atoms/popover/popover_container.jsx"),s=e(i),r=require("../../../../atoms/popover/popover_anchor.jsx"),a=e(r),u=require("../../../../atoms/popover/popover_content.jsx"),l=e(u),c=require("../../../../atoms/constants/popover"),d=require("../../../../atoms/fuji_icon_button.jsx"),p=e(d),g=require("../../../../atoms/lazy_component"),m=require("../../../../atoms/loading_indicator.jsx"),h=e(m),f=require("../../../../atoms/constants/fuji_icon"),S=require("../../../../molecules/settings/styles/settings_menu"),C=e(S),v=require("../../../../apps/mail/actions.js"),_=require("../../../../molecules/feature_cue/actions.js"),w=require("../../../../platform/utils/mail_ui_vars"),T=require("../../../../platform/rapid_client/constants.js"),P=require("../../../../platform/theming/themes"),E=require("../../../../platform/mail_constants"),I=require("../../../../actions/settings"),O=(0,o.defineMessages)({settingsMenu:{id:"settings_menu_aria_label",defaultMessage:"Settings Menu"}}),q=n.default.createClass({displayName:"SettingsMenu",contextTypes:{intl:o.intlShape.isRequired,executeAction:t.PropTypes.func,getCss:t.PropTypes.func,getThemeMode:t.PropTypes.func},componentDidMount:function e(){window.showSettingsPopover&&(this._container.show(c.Triggers.CLICK),window.showSettingsPopover=void 0),this.props.autoOpenSettingsPopover&&!window.autoOpenSettingsPopover&&(this._container.show(c.Triggers.CLICK),window.autoOpenSettingsPopover=!0)},componentWillReceiveProps:function e(t){!this.props.autoOpenSettingsPopover&&t.autoOpenSettingsPopover&&(this._container.show(c.Triggers.CLICK),this.context.executeAction(I.autoOpenSettingsPopover,{status:!1}))},getInitialState:function e(){return{isSettingsPopoverOpen:!1}},getDefaultProps:function e(){return{showSettingsBadge:!1}},handleGearIconClick:function e(){this.props.showSettingsCue&&this.context.executeAction(_.closeFeatureCue,{name:"settingsCue"}),this.context.executeAction(v.showSettings,{i13nModel:{mKey:T.MKEYS.SETTINGS_GEAR_ICON,sec:T.SEC_VALUES.HEADER_NAV}})},handleSettingsLabelClick:function e(){this.handleGearIconClick(),this.state.isSettingsPopoverOpen?(this._container.hide(c.Triggers.CLICK),this.setState({isSettingsPopoverOpen:!1})):(this._container.show(c.Triggers.CLICK),this.openSettingsPopover())},openSettingsPopover:function e(){this.setState({isSettingsPopoverOpen:!0})},cueTryNowHandler:function e(){this._container.hide(c.Triggers.MOUNT),this._container.show(c.Triggers.CLICK)},updateContent:function e(){this.popoverContent&&this.popoverContent.updatePosition()},updateHSContent:function e(){this.hsPopoverContent&&this.hsPopoverContent.updatePosition()},renderCue:function e(){var t=this;return this.props.showSettingsCue?n.default.createElement(l.default,{triggerOn:c.Triggers.MOUNT,onClose:this.cueClosed,zAltitude:w.ZIndices.POPOVER.HIGH,ref:function e(n){t.popoverContent=n},persistent:!0,permittedArrowDirections:[c.PermittedArrowDirections.RIGHT]},n.default.createElement(g.LazyComponent,{import:"../../../../molecules/scout_cue/",cueName:"settingsCue",onTryNow:this.cueTryNowHandler,onShow:this.updateContent,_moduleGetter:function e(){return require("../../../../molecules/scout_cue/")}})):null},getFujiIcon:function e(){var t=this.context.intl.formatMessage,o=this.context.getThemeMode()!==P.ThemeModes.LIGHT;return n.default.createElement(p.default,{onClick:this.handleGearIconClick,"data-iskeynav":!0,paddingLess:!0,size:f.Sizes.XS,kind:f.Kinds.SETTINGS,title:t(O.settingsMenu),"aria-label":t(O.settingsMenu),colorState:f.ColorStates.INHERITED,isOnDarkBackground:o})},renderHotSpotSettingsCue:function e(){var t=this;return this.props.showHSSettingsCue?n.default.createElement(l.default,{triggerOn:c.Triggers.MOUNT,onClose:this.cueClosed,zAltitude:w.ZIndices.POPOVER.HIGH,ref:function e(n){t.hsPopoverContent=n},persistent:!0,permittedArrowDirections:[c.PermittedArrowDirections.RIGHT]},n.default.createElement(g.LazyComponent,{import:"../../../../molecules/scout_cue/",cueName:"HSSettingsCue",onTryButton:this.cueTryNowHandler,onShow:this.updateHSContent,_moduleGetter:function e(){return require("../../../../molecules/scout_cue/")}})):null},render:function e(){var t=this,i=this.props,r=i.verticalLayout,u=i.previewPaneSetting,d=i.hasContactCard,p=u===E.PreviewPaneSettings.RIGHT,m=r?c.Align.START:c.Align.END,S=r?c.PermittedArrowDirections.RIGHT:c.PermittedArrowDirections.UP,v=this.context.getCss(C.default,{verticalLayout:r,verticalPreviewPane:p,hasContactCard:d});return n.default.createElement("div",{className:v.settingsLabelIconContainer},r?null:n.default.createElement("span",{className:v.label,onClick:this.handleSettingsLabelClick,"data-test-id":"settings-link-label"},n.default.createElement(o.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"})),n.default.createElement(s.default,{ref:function e(n){return t._container=n}},n.default.createElement(a.default,null,n.default.createElement("div",{className:v.settingsGearIcon},this.props.showSettingsBadge?n.default.createElement("div",{className:v.badgeContainer,"data-test-id":"hotspots-badge"},n.default.createElement(g.LazyComponent,{import:"../../../../molecules/feature_cue/atoms/badge",cueName:"HSSettingsBadge",size:f.Sizes.XS,kind:f.Kinds.SETTINGS,_moduleGetter:function e(){return require("../../../../molecules/feature_cue/atoms/badge")}},n.default.createElement(g.When,{loading:!0},this.getFujiIcon()))):this.getFujiIcon())),n.default.createElement(l.default,{offset:8,align:m,arrowSize:c.ArrowSizes.M,triggerOn:c.Triggers.CLICK,overflowScroll:!1,permittedArrowDirections:[S],bg:c.BackgroundKinds.LIGHTGRAY,onShow:this.openSettingsPopover},n.default.createElement(g.LazyComponent,{import:"./settings_menu.jsx",onOptOutFeedback:this.props.onOptOutFeedback,_moduleGetter:function e(){return require("./settings_menu.jsx")}},n.default.createElement(g.When,{loading:!0},n.default.createElement("div",{className:v.menuContainerLazy},n.default.createElement(h.default,null))))),this.renderCue(),this.renderHotSpotSettingsCue()))}});exports.default=q,module.exports=exports.default;
},{"../../../../actions/settings":"./actions/settings","../../../../apps/mail/actions.js":"./apps/mail/actions","../../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../../atoms/constants/popover":"./atoms/constants/popover","../../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../../atoms/lazy_component":"./atoms/lazy_component","../../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../../../molecules/feature_cue/actions.js":"./molecules/feature_cue/actions","../../../../molecules/feature_cue/atoms/badge":"./molecules/feature_cue/atoms/badge","../../../../molecules/scout_cue/":"./molecules/scout_cue","../../../../molecules/settings/styles/settings_menu":"./molecules/settings/styles/settings_menu","../../../../platform/mail_constants":"./platform/mail_constants","../../../../platform/rapid_client/constants.js":"./platform/rapid_client/constants","../../../../platform/theming/themes":"./platform/theming/themes","../../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","./settings_menu.jsx":"./apps/mail/controller_views/settings_menu/settings_menu","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],68:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return{activeAccount:e.getStore(i.default).getActiveAccount()}}exports.__esModule=!0,exports.getStateFromStores=t;var r=require("react"),o=e(r),a=require("../../../molecules/folder_list/atoms/smart_view.jsx"),u=e(a),s=require("fluxible-addons-react"),l=require("../../../stores/mail"),i=e(l),n=require("../../../platform/mail_constants"),c=o.default.createClass({displayName:"SmartviewControllerView",render:function e(){return o.default.createElement(u.default,this.props)}});exports.default=(0,s.connectToStores)(c,[i.default],t);
},{"../../../molecules/folder_list/atoms/smart_view.jsx":205,"../../../platform/mail_constants":"./platform/mail_constants","../../../stores/mail":"./stores/mail","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],69:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.videoAd,o=e.pageSpaceId,s=e.region,r=e.geminiVideoAdId,i=e.site,n=e.expName,a=t.bitrate,l=t.contentType,d=t.height,p=t.length,u=t.url,c=t.width;return{site:i,expName:n,autoplay:!0,html5:"raw",mute:!0,pageSpaceId:o,playlist:{mediaItems:[{id:r,images:{thumbnail:t.thumbnail}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:[{bitrate:a,contentType:l,height:d,length:p,url:u,width:c}],clickUrl:t.clickUrl},rules:t.rules,beacons:t.actionUrls}},replayonlyendscreen:!0,region:s}}function o(e){var o=(0,v.selectors)(e.store.getState()),s=o.getFeaturesSelectors,r=o.getAdsSelectors,i=o.getRouterSelectors,n=r(),l=s(),g=i(),A=n.getGeminiAdData,C=n.getSponsoredAd,_=l.getSetting(S.Settings.GEMINI_VIDEO_AD_ID),T=l.getSetting(S.Settings.GEMINI_VIDEO_AD_SITE),y=l.getSetting(S.Settings.GEMINI_VIDEO_AD_EXP_NAME),q=g.getRoute(),x=(0,c.getListIdFromRoute)(q),N=C(q.params.creativeId)||A(),b=N.nativeAd,M=N.pencilAd,P=N.videoAd,U=e.getStore(d.default).getCurrentSpaceId(),E=e.region,j=(0,h.getIn)(b,"actionUrls.CLICK_INTERNAL",[]),V=M.type===I.UsageType.VideoAdType?t({videoAd:P,pageSpaceId:U,region:E,geminiVideoAdId:_,site:T,expName:y}):null;return{asset:b.geminiSponsoredAsset,subject:M.adHeadline,listId:x,clickInternalUrls:j,source:M.adSource,description:M.adSummary,action:P&&P.callToAction,videoConfig:V,navigateToNewSponsoredCompose:function t(){var o=(0,p.generateUID)();e.navigateTo({route:(0,u.buildComposeRouteFromCsid)(o,{forwardCreativeId:q.params.creativeId})})},saveSponsoredMessage:function t(){e.executeAction(f.saveSponsoredMessage);var o=e.getStore(a.default),s=o.getNextPageOnClose();s&&e.navigateTo({route:s.route})},onClose:function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.i13nModel,r=void 0===s?{}:s;e.executeAction(m.closeActivePage,{listId:x,i13nModel:r});var i=e.getStore(a.default),n=i.getNextPageOnClose();n&&e.navigateTo({route:n.route})}}}exports.__esModule=!0,exports.getVideoConfig=t,exports.getStateFromStores=o;var s=require("react"),r=e(s),i=require("fluxible-addons-react"),n=require("../../../stores/pages"),a=e(n),l=require("../../../stores/i13n"),d=e(l),p=require("../../../platform/utils"),u=require("../../../platform/utils/route"),c=require("../../../platform/utils/list"),g=require("../../../atoms/lazy_component"),m=require("../../../apps/mail/actions"),f=require("../../../actions/ads.js"),v=require("../../../reducers_selectors"),I=require("../../../platform/gemini_api_client/constants.js"),S=require("../../../platform/mail_constants"),h=require("../../../platform/utils/object"),A=r.default.createClass({displayName:"SponsoredMessage",shouldComponentUpdate:function e(t){var o=(0,h.getIn)(t,"videoConfig.YVAP.standaloneAd.gemini.clickUrl"),s=(0,h.getIn)(this.props,"videoConfig.YVAP.standaloneAd.gemini.clickUrl");return!!t.asset&&t.asset!==this.props.asset||!!o&&o!==s},render:function e(){return r.default.createElement(g.LazyComponent,{import:"../../../molecules/ads/sponsored_message_read.jsx",asset:this.props.asset,listId:this.props.listId,subject:this.props.subject,clickInternalUrls:this.props.clickInternalUrls,forwardCreative:this.props.videoConfig?null:this.props.navigateToNewSponsoredCompose,saveSponsoredMessage:this.props.videoConfig?null:this.props.saveSponsoredMessage,onClose:this.props.onClose,videoConfig:this.props.videoConfig,source:this.props.source,description:this.props.description,action:this.props.action,_moduleGetter:function e(){return require("../../../molecules/ads/sponsored_message_read.jsx")}})}});exports.default=(0,i.connectToStores)(A,[],o,{config:r.default.PropTypes.object,navigateTo:r.default.PropTypes.func,executeAction:r.default.PropTypes.func,store:s.PropTypes.object,region:s.PropTypes.string});
},{"../../../actions/ads.js":"./actions/ads","../../../apps/mail/actions":"./apps/mail/actions","../../../atoms/lazy_component":"./atoms/lazy_component","../../../molecules/ads/sponsored_message_read.jsx":"./molecules/ads/sponsored_message_read","../../../platform/gemini_api_client/constants.js":355,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils":"./platform/utils","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/object":"./platform/utils/object","../../../platform/utils/route":"./platform/utils/route","../../../reducers_selectors":"./reducers_selectors","../../../stores/i13n":"./stores/i13n","../../../stores/pages":"./stores/pages","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],70:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){var o=(0,d.getListIdFromRoute)(t),a=[],i=(0,T.buildFolderRouteFromListId)(o,{listFilter:null}),u=e.getStore(S.default).getActivePageRoute(),s={titleType:l.TabTitleTypes.CATEGORY,decorator:l.TabButtonDecorators.NONE},n=e.intl.formatMessage;return i.url=e.getUrlFromRoute(i),a.push.apply(a,[Object.assign({},s,{title:n(N.default.ALL_HEADER),url:i.url,route:i,active:(0,T.routesEqual)(u,i,{checkQuery:!1})})].concat(r.filter(function(e){return!!e.status}).map(function(t){var r=(0,T.buildFolderRouteFromListId)(o,{listFilter:t.name});return r.url=e.getUrlFromRoute(r),Object.assign({},s,{title:n(N.default[t.name+"_HEADER"]),url:r.url,route:r,active:(0,T.routesEqual)(u,r,{checkQuery:!1})})}))),a}function r(e,r){var o,a=r.categories,i=r.multiTaskModeSetting,u=r.inboxCategorization,s=e.getStore(R.default),n=s.getRootAccounts().filter(function(e){return e.status===l.AccountStatus.ENABLED}),g=s.getAllFoldersForAllAccounts(),m=e.getStore(S.default),f=e.getStore(S.default).getActivePageRoute(),E=e.intl.formatMessage,_=(o={},o[l.EmailProviders.YAHOO]=E(O.default.yahoo_account_description),o[l.EmailProviders.YAHOO_SB]=E(O.default.yahoo_account_description),o[l.EmailProviders.OUTLOOK]=E(O.default.outlook_account_description),o[l.EmailProviders.AOL]=E(O.default.aol_account_description),o[l.EmailProviders.GOOGLE]=E(O.default.gmail_account_description),o[l.EmailProviders.GOOGLE_APP]=E(O.default.gmail_account_description),o),b=m.getPageRoutes(),y=[];if(!i){if(!u)return[];var v=b.slice(0).reverse().find(function(e){return e.name===l.RouteNames.FOLDER});return v?t(e,v,a):[]}return b.forEach(function(r){var o=r.params,i=r.name,R=r.query,m={route:r,url:e.getUrlFromRoute(r),active:(0,T.routesEqual)(f,r,{checkQuery:!1}),title:"",titleType:l.TabTitleTypes.TEXT,decorator:l.TabButtonDecorators.NONE},S=void 0,E=void 0;switch(i){case l.RouteNames.LIST:case l.RouteNames.BASE:case l.RouteNames.FOLDER:return void(u&&y.push.apply(y,t(e,r,a)));case l.RouteNames.SETTINGS:m.titleType=l.TabTitleTypes.SETTINGS;break;case l.RouteNames.SEARCH:var O=(0,d.getListIdFromRoute)(r);if((0,d.getReferrerFromListId)(O)===l.ListReferrer.SMARTVIEW)return;m.title=(0,p.getSearchTabTitleFromListId)(O,n,g,_),m.titleType=m.title?l.TabTitleTypes.SEARCH_KEYWORD:l.TabTitleTypes.SEARCH_DEFAULT,m.decorator=l.TabButtonDecorators.SEARCH;break;case l.RouteNames.ATTACHMENT:if("1"===R.fullscreen)break;case l.RouteNames.MESSAGE_FROM_SEARCH_LIST:var b=s.getMessageGroupState(decodeURIComponent(o.groupId));if(b===l.RecordStates.LOADING||b===l.RecordStates.DOES_NOT_EXIST){m.titleType=l.TabTitleTypes.LOADING;break}if(b===l.RecordStates.ERROR){m.titleType=l.TabTitleTypes.ERROR;break}case l.RouteNames.MESSAGE_FROM_FOLDER_LIST:S=s.getContextualMessageGroupById(decodeURIComponent(o.groupId),(0,d.getListIdFromRoute)(r)),m.title=(0,A.getMetadata)(S).subject,m.title||(m.titleType=l.TabTitleTypes.NO_SUBJECT);break;case l.RouteNames.NEW_DRAFT:case l.RouteNames.EDIT_DRAFT:if(m.decorator=l.TabButtonDecorators.COMPOSE,o.csid?E=decodeURIComponent(o.csid):o.groupId&&(E=s.getCsidByMessageId(decodeURIComponent(o.groupId))),s.getComposeDataState(E)===l.RecordStates.DOES_NOT_EXIST||s.getComposeDataState(E)===l.RecordStates.LOADING)m.titleType=l.TabTitleTypes.LOADING;else if(s.getComposeDataState(E)===l.RecordStates.ERROR)m.titleType=l.TabTitleTypes.ERROR;else{var v=s.getComposeData(E);v.initialSubject?m.title=v.initialSubject:m.titleType=l.TabTitleTypes.NEW_DRAFT}break;case l.RouteNames.SPONSORED_MESSAGE:m.titleType=l.TabTitleTypes.SPONSORED_AD;break;case l.RouteNames.TUTORIAL:return;default:(0,c.default)(!1,"We do not know how to get title of the tab for this route: "+i)}y.push(m)}),y.filter(Boolean)}function o(e,t){var o=e.getStore(R.default);return{tabContent:r(e,t),defaultFolderId:o.getDefaultFolderForAccount(o.getActiveAccountId()).id,closePage:function t(r){var o=r.route,a=r.i13nModel,i=void 0===a?{}:a;e.executeAction(b.closePage,{route:o,i13nModel:i});var u=e.getStore(S.default),s=u.getNextPageOnClose({route:o});s&&e.navigateTo({route:s.route})}}}exports.__esModule=!0,exports.mapStateToProps=void 0,exports.getStateFromStores=o;var a=require("react"),i=e(a),u=require("fluxible-addons-react"),s=require("react-intl"),l=require("../../../platform/mail_constants"),n=require("../../../platform/invariant"),c=e(n),d=require("../../../platform/utils/list"),T=require("../../../platform/utils/route"),p=require("../../../platform/utils/tab"),g=require("../../../stores/mail"),R=e(g),m=require("../../../stores/pages"),S=e(m),f=require("../../../molecules/tabs"),E=e(f),A=require("../../../platform/utils/message_group"),_=require("../../../molecules/advanced_search_pane/atoms/strings"),O=e(_),b=require("../../../actions/application"),y=require("react-redux"),v=require("../../../reducers_selectors"),I=require("../../../molecules/categorization/strings"),N=e(I),F=function e(t){return i.default.createElement(E.default,t)},D=(0,u.connectToStores)(F,[S.default,R.default],o,{intl:s.intlShape.isRequired,executeAction:a.PropTypes.func,navigateTo:a.PropTypes.func,getUrlFromRoute:a.PropTypes.func}),L=exports.mapStateToProps=function e(t){var r=(0,v.selectors)(t),o=r.getFeaturesSelectors,a=o(),i=a.isEnabled("inboxCategorization");return{categories:a.getSetting(l.Settings.SYSTEM_TABS),multiTaskModeSetting:a.isEnabled(l.Settings.MAIL_TABS),inboxCategorization:i}};exports.default=(0,y.connect)(L)(D);
},{"../../../actions/application":"./actions/application","../../../molecules/advanced_search_pane/atoms/strings":"./molecules/advanced_search_pane/atoms/strings","../../../molecules/categorization/strings":"./molecules/categorization/strings","../../../molecules/tabs":316,"../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/message_group":"./platform/utils/message_group","../../../platform/utils/route":"./platform/utils/route","../../../platform/utils/tab":384,"../../../reducers_selectors":"./reducers_selectors","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js"}],71:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,s){if(e)return(0,E.heroListId)(t,s)}function s(e,s){var o=s.activeGroupId,r=void 0===o?"":o,a=s.kind,i=s.listId,l=s.showLabels,n=s.showActionLabels,d=s.hideCloseButton,u=s.navigateOnMessageAction,m=e.getStore(f.default),I=e.getStore(h.default).getActivePageRoute(),_=m.getActiveAccountId(),A=m.getMessageGroupState(r),T=e.getStore(b.default),P=(0,E.getFolderIdFromListId)(i),q=m.getLmv3Query(i),G=q&&m.getTotalHits(i),O=P&&e.getStore(f.default).getFolder(P).total,N=q?G:O,w=(0,E.getListContentTypeFromListId)(i),V=(0,E.getReferrerFromListId)(i)===M.ListReferrer.SMARTVIEW,B=I.name===M.RouteNames.SEARCH,W=m.getMessageGroupById(r),H=m.getAllFoldersForAccount(_),k=[],j=!1,D=(0,L.selectors)(e.store.getState()),U=D.getFeaturesSelectors,z=U(),Q=z.isEnabled(M.Features.CONVERSATIONS),X=function t(s){if(s){var o=m.getItem(s,i),r=Q,a=(0,S.getMessageGroupViewRoute)({item:o,listId:i,isConversationMode:r});e.navigateTo({route:a,replacePage:!0})}},J=void 0,K=void 0;if(r&&A!==M.RecordStates.DOES_NOT_EXIST&&(K=m.getContextualMessageGroupById(r,i),k=W&&W.messages.map(function(e){return e.id}),j=k&&m.isDraftMessage(k[0])),P){var Y=m.getFolder(P);Y&&(J=(0,F.getPrimaryFolderType)(Y))}else if(K){var Z=(0,p.getMetadata)(K),$=Z.folder;J=(0,F.getPrimaryFolderType)($)}if(B){var ee=(0,E.getFolderIdNamesFromListId)(i),te=ee.folderIds,se=ee.folderNames,oe=[];te.length&&(oe=te.map(function(e){return(0,F.getPrimaryFolderType)(m.getFolder(e))})),se.length&&(oe=oe.concat((0,F.filterFoldersByNames)((0,F.groupFoldersByName)(H),se).map(function(e){return(0,F.getPrimaryFolderType)(e)}))),1===oe.length&&oe[0]===M.FolderTypes.ARCHIVE&&(J=oe[0])}var re=t(z.isEnabled("hero"),I,i),ae=Object.keys(T.getSelection(i,re)),ie=m.getItemListIdsForList(i),le=m.getCurrentItemIndex(r,i),ne=a===c.default.MESSAGE_VIEW,de=ie.length>0&&ie.length===ae.length,ue=B&&!!(0,E.getEmailAddressFromListId)(i),ce=!(B&&V&&(w===M.ListContentTypes.IMAGES||w===M.ListContentTypes.DOCUMENTS)),ge=e.getStore(v.default),pe=(0,L.selectors)(e.store.getState()),me=pe.getRouterSelectors,fe=me(),Ie=fe.getHashParams(),ve=Ie.messageId,_e=void 0===ve?null:ve,he=(0,g.enabledActions)({kind:a,activeGroup:K,cards:K?ge.getCards(K):null,cardExpansions:K?ge.getCardExpansionStates(i,K.id,_e):null,primaryFolderType:J}),Ae=[];ae.forEach(function(e){var t=m.getAccountIdForMessageGroup(e);Ae.indexOf(t)===-1&&Ae.push(t)});var be=he.move&&Ae.length>1?x.disable_move_msgs_across_accunts:x.disable_move_msgs_default;he.move=he.move&&Ae.length<=1;var Se=1===Ae.length?Ae[0]:_;if(H=m.getAllFoldersForAccount(Se),a===c.default.MESSAGE_VIEW){var Fe=ie.length;he.previous=!!Fe&&le>0,he.next=!!Fe&&le<Fe-1}var Ee=z.getSetting(M.Settings.PREVIEW_PANE),Me=function t(s){e.executeAction(R.closeActivePage,{listId:i,i13nModel:s});var o=e.getStore(h.default),r=o.getNextPageOnClose();r&&e.navigateTo({route:r.route})};return{activeGroupId:r,availableSortOrders:(0,S.getAvailableSortOrders)(I,J,Q,i),currentSortOrder:(0,E.getSortOrderFromListId)(i),disabledFolderIdsForMove:P?[P]:[],folders:(0,F.categorizeFolders)(H),disabledMoveTitle:be,kind:a,listId:i,currentRoute:I,showLabels:l,showActionLabels:n,hideCloseButton:d,enabledActions:he,selectedGroupIds:ae,showBackToList:ne,showListFilter:ue,showTriageActions:ce,showListHeading:!ce,messageIds:k,allItemsSelected:de,navigateOnMessageAction:u,isDraftMessage:j,onPreviousItem:function e(){X(m.getPreviousGroupId(r,i))},onNextItem:function e(){X(m.getNextGroupId(r,i))},loadMoreIfNeeded:function t(){e.executeAction(y.loadMoreMessagesIfNeeded,{listId:i,cursorId:re,currentGroupId:r,allItemsSelected:de})},onEscape:function e(t){var s=t.i13nModel;I.name!==M.RouteNames.FOLDER&&Me(s)},onClose:function t(s){var o=s.i13nModel;a===c.default.LIST_WITH_PREVIEW_RIGHT||a===c.default.LIST_WITH_PREVIEW_BOTTOM?e.executeAction(C.closePreviewMessage,{listId:i,cursorId:re,i13nModel:o}):Me(o)},allItemsCount:N,previewpane:Ee}}exports.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e};exports.getStateFromStores=s;var r=require("react"),a=e(r),i=require("react-intl"),l=require("fluxible-addons-react"),n=require("../../../molecules/message_toolbar"),d=e(n),u=require("../../../molecules/message_toolbar/constants"),c=e(u),g=require("../../../molecules/message_toolbar/utils"),p=require("../../../platform/utils/message_group"),m=require("../../../stores/mail"),f=e(m),I=require("../../../stores/message_group_ui"),v=e(I),_=require("../../../stores/pages"),h=e(_),A=require("../../../stores/item_list_ui"),b=e(A),S=require("./utils"),F=require("../../../platform/utils/folder"),E=require("../../../platform/utils/list"),M=require("../../../platform/mail_constants"),T=require("../../../platform/utils/route"),L=require("../../../reducers_selectors"),y=require("../../../actions/message"),R=require("../../../apps/mail/actions"),C=require("../molecules/mail_reader/actions"),x=(0,i.defineMessages)({disable_move_msgs_across_accunts:{id:"disable_move_msgs_across_accounts",defaultMessage:"Messages can't be moved across mailboxes."},disable_move_msgs_default:{id:"disable_move_msgs_default",defaultMessage:"Messages can't be moved."}}),P=a.default.createClass({displayName:"ToolbarControllerView",shouldComponentUpdate:function e(t){return!(this.props.kind===c.default.MESSAGE_VIEW&&t.kind===c.default.MESSAGE_VIEW&&this.props.activeGroupId===t.activeGroupId&&this.props.showLabels===t.showLabels&&this.props.showActionLabels===t.showActionLabels&&this.props.hideCloseButton===t.hideCloseButton&&this.props.enabledActions.previous===t.enabledActions.previous&&this.props.enabledActions.next===t.enabledActions.next&&!(0,F.hasFolderTreeChanged)(this.props.folders.customFolders,t.folders.customFolders)&&this.props.enabledActions.collapseAll===t.enabledActions.collapseAll&&this.props.enabledActions.expandAll===t.enabledActions.expandAll)},_getListRoute:function e(t){var s=this.props,o=s.listId,r=s.currentRoute,a=void 0;return a=r.name===M.RouteNames.SEARCH?(0,T.buildSearchRouteFromListId)(o,t):(0,T.buildFolderRouteFromListId)(o,t)},render:function e(){return a.default.createElement(d.default,o({},this.props,{getListRoute:this._getListRoute}))}});exports.default=(0,l.connectToStores)(P,[f.default,v.default,b.default],s,{store:r.PropTypes.object,config:r.PropTypes.object,navigateTo:r.PropTypes.func,executeAction:r.PropTypes.func});
},{"../../../actions/message":"./actions/message","../../../apps/mail/actions":"./apps/mail/actions","../../../molecules/message_toolbar":262,"../../../molecules/message_toolbar/constants":261,"../../../molecules/message_toolbar/utils":264,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/folder":"./platform/utils/folder","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/message_group":"./platform/utils/message_group","../../../platform/utils/route":"./platform/utils/route","../../../reducers_selectors":"./reducers_selectors","../../../stores/item_list_ui":"./stores/item_list_ui","../../../stores/mail":"./stores/mail","../../../stores/message_group_ui":402,"../../../stores/pages":"./stores/pages","../molecules/mail_reader/actions":77,"./utils":"./apps/mail/controller_views/utils","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],72:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.TutorialView=void 0;var t=require("react"),r=e(t),a=require("../../../../atoms/lazy_component"),o=require("../../../../atoms/loading_indicator.jsx"),i=e(o),l=require("./styles/tutorial"),u=e(l),s=require("react-atomic-css/css"),n=e(s),d=require("../../../../reducers_selectors"),c=require("react-redux"),m=(0,n.default)(u.default),p=exports.TutorialView=r.default.createClass({displayName:"TutorialView",render:function e(){return r.default.createElement(a.LazyComponent,{import:"../../../../molecules/tutorial/index.jsx",newMailVideoId:this.props.newMailVideoId,_moduleGetter:function e(){return require("../../../../molecules/tutorial/index.jsx")}},r.default.createElement(a.When,{loading:!0},r.default.createElement("div",{className:m.container},r.default.createElement(i.default,null))))}}),f=exports.mapStateToProps=function e(t){return{newMailVideoId:(0,(0,d.selectors)(t).getFeaturesSelectors)().getSetting("newMailVideoId")}};exports.default=(0,c.connect)(f)(p);
},{"../../../../atoms/lazy_component":"./atoms/lazy_component","../../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../../../molecules/tutorial/index.jsx":"./molecules/tutorial","../../../../reducers_selectors":"./reducers_selectors","./styles/tutorial":73,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-redux":"./node_modules/react-redux/lib/index.js"}],73:[function(require,module,exports){
module.exports={className:{default:{container:"W_6D6F H_6D6F D_F ab_C gl_C"}},_key:"vwCkd"};
},{}],74:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return{isUnsafe:e.getStore(o.default).hasUnsavedData()}}exports.__esModule=!0,exports.getStateFromStores=t;var r=require("fluxible-addons-react"),a=require("../../../atoms/unsaved_data_warner.jsx"),s=e(a),u=require("../../../stores/mail"),o=e(u);exports.default=(0,r.connectToStores)(s.default,[o.default],t);
},{"../../../atoms/unsaved_data_warner.jsx":132,"../../../stores/mail":"./stores/mail","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js"}],"./apps/mail/controller_views/utils":[function(require,module,exports){
"use strict";function e(e,r,t,i){var a=i?(0,o.getListContentTypeFromListId)(i):s.ListContentTypes.MESSAGES;switch(e.name){case s.RouteNames.SEARCH:return a===s.ListContentTypes.IMAGES||a===s.ListContentTypes.DOCUMENTS?A:E;default:return r===s.FolderTypes.DRAFT?[s.SortOrder.DATE_DESC,s.SortOrder.DATE_ASC,s.SortOrder.STARRED,s.SortOrder.SUBJECT]:t?[s.SortOrder.DATE_DESC,s.SortOrder.DATE_ASC,s.SortOrder.UNREAD,s.SortOrder.STARRED]:l}}function r(e){var r=e.attachment,t=e.listId,i=e.isConversationMode,a=i?r.conversationId:r.id&&(0,n.getMessageIdFromAttachmentId)(r.id);return a?{name:s.RouteNames.MESSAGE_FROM_SEARCH_LIST,params:{groupId:a,query:(0,o.serializeListIdForRoute)(t)}}:null}function t(e){var t=e.item,n=e.listId,u=e.isConversationMode;if((0,o.getListContentTypeFromListId)(n)===s.ListContentTypes.MESSAGES){if(1===t.messages.length&&(0,a.onlyDrafts)(t))return{name:s.RouteNames.EDIT_DRAFT,params:{serializedListId:(0,o.serializeListIdForFolderRoute)(n),groupId:t.messages[0].id}};var S=(0,o.__isSearchListId)(n),l=(0,o.serializeListIdForFolderRoute)(n),E=S&&u?(0,d.getIn)(t,"messages.0.conversationId"):t.id;return E&&l?(0,i.buildMessageRouteFromGroupId)(n,E):null}return r({attachment:t.attachment,listId:n,isConversationMode:u})}exports.__esModule=!0,exports.getAvailableSortOrders=e,exports.getMessageGroupViewRouteFromAttachment=r,exports.getMessageGroupViewRoute=t;var s=require("../../../platform/mail_constants"),o=require("../../../platform/utils/list"),i=require("../../../platform/utils/route"),a=require("../../../platform/utils/message_group"),n=require("../../../platform/utils/message"),d=require("../../../platform/utils/object"),u={DESC:s.SortOrder.DATE_DESC,ASC:s.SortOrder.DATE_ASC},S={DESC:s.SortOrder.DATE_DESC,ASC:s.SortOrder.DATE_ASC,ATTACHMENT:s.SortOrder.ATTACHMENT,RELEVANCE:s.SortOrder.RELEVANCE},l=(0,d.values)(s.SortOrder),E=(0,d.values)(S),A=(0,d.values)(u);
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/message":"./platform/utils/message","../../../platform/utils/message_group":"./platform/utils/message_group","../../../platform/utils/object":"./platform/utils/object","../../../platform/utils/route":"./platform/utils/route"}],75:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=(0,p.selectors)(e.store.getState()).getFeaturesSelectors();return{multiTaskModeSetting:t.isEnabled(d.Settings.MAIL_TABS),secureModeSetting:t.getSetting(d.Settings.SECURE_MODE)}}exports.__esModule=!0,exports.getStateFromStores=t;var r=require("react"),o=e(r),s=require("./app.jsx"),n=e(s),i=require("../../stores/user_preferences"),a=e(i),p=require("../../reducers_selectors"),l=require("fluxible-addons-react"),u=require("../../types"),d=require("../../platform/mail_constants"),c=(0,l.connectToStores)(n.default,[a.default],t,{config:o.default.PropTypes.object,store:o.default.PropTypes.object});c=(0,l.provideContext)(c,{config:o.default.PropTypes.object,store:o.default.PropTypes.object,loader:u.LoaderType,timezone:u.TimezoneType,region:o.default.PropTypes.string,locale:u.LocaleShape,os:o.default.PropTypes.string,rapidParams:o.default.PropTypes.object,usmLogString:o.default.PropTypes.string,yqlClient:u.YQLClientType,credstoreClient:u.CredstoreClientType,cspToken:o.default.PropTypes.string,linkEnhancerClient:u.LinkEnhancerClientType,partner:o.default.PropTypes.string}),exports.default=c;
},{"../../platform/mail_constants":"./platform/mail_constants","../../reducers_selectors":"./reducers_selectors","../../stores/user_preferences":"./stores/user_preferences","../../types":"./types","./app.jsx":38,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],76:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("./config"),r=require("../../platform/bootstrap");exports.default=r(e),module.exports=exports.default;
},{"../../platform/bootstrap":339,"./config":42}],77:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if((0,(0,c.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled("hero")){var r=e.getStore(a.default),s=r.getActivePageRoute();return(0,u.heroListId)(s,t)}}function r(e,r){var s=r.listId,o=r.itemId,a=r.isHero,u=r.geminiCategories,n=t(e,s);(0,(0,c.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled(l.Features.PREVIEW_MESSAGE_V3)||e.dispatch(i.mail.PREVIEW_MESSAGE_REQUESTED,{listId:s,cursorId:n,itemId:o,isHero:a,geminiCategories:u})}function s(e,r){var s=r.listId,o=t(e,s);e.dispatch(i.mail.PREVIEW_MESSAGE_CLOSED,{listId:s,cursorId:o})}exports.__esModule=!0,exports.previewMessage=r,exports.closePreviewMessage=s;var i=require("../../../../platform/react_action_constants"),o=require("../../../../stores/pages"),a=e(o),l=require("../../../../platform/mail_constants"),u=require("../../../../platform/utils/list"),c=require("../../../../reducers_selectors");
},{"../../../../platform/mail_constants":"./platform/mail_constants","../../../../platform/react_action_constants":"./platform/react_action_constants","../../../../platform/utils/list":"./platform/utils/list","../../../../reducers_selectors":"./reducers_selectors","../../../../stores/pages":"./stores/pages"}],78:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},a=require("react"),r=e(a),s=require("react-intl"),i=require("../../../../actions/settings"),n=require("../../../../platform/utils/object"),l=require("../../../../platform/mail_constants"),o=require("../../../../platform/utils"),d=require("../../../../platform/rapid_client/constants"),p=require("../../../../molecules/message_toolbar/constants"),u=e(p),c=require("../../../../molecules/keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),m=e(c),E=require("../../../../platform/keyboard_shortcuts"),v=require("../../../../platform/keyboard_shortcut_groups"),f=require("./styles/mail_reader"),g=e(f),P=require("../../../../platform/utils/mail_ui_vars"),_=require("../../../../atoms/lazy_component"),h=(0,s.defineMessages)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural,\n            =0 {Message list.}\n            one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.}\n            other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}\n        }"}}),S=(0,E.createShortcutGroup)({group:v.General,keys:{togglePreviewPaneSetting:{key:"SHIFT+V",description:r.default.createElement(s.FormattedMessage,{id:"shortcut.toggle_preview_pane_setting",defaultMessage:"Show/hide {previewPane}",values:{previewPane:r.default.createElement("strong",null,r.default.createElement(s.FormattedMessage,{id:"shortcut.toggle_preview_pane_setting_strong",defaultMessage:"Preview Pane"}))}})}}}),T=r.default.createClass({displayName:"MailReader",contextTypes:{executeAction:a.PropTypes.func,intl:s.intlShape.isRequired,getCss:a.PropTypes.func},getInitialState:function e(){return{hSliderPos:P.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,vSliderPos:P.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET,size:0}},shouldComponentUpdate:function e(t,a){var r=this.props,s=this.state;return r.currentRoute!==t.currentRoute||0===r.numberOfMessageSelection&&t.numberOfMessageSelection>0||r.numberOfMessageSelection>0&&0===t.numberOfMessageSelection||r.openedGroupId!==t.openedGroupId||r.isEmpty!==t.isEmpty||r.previewpane!==t.previewpane||r.previewpaneResizable!==t.previewpaneResizable||!!t.previewpaneResizable&&(s.hSliderPos!==a.hSliderPos||s.vSliderPos!==a.vSliderPos||s.size!==a.size)},getToolbarKind:function e(){var t=this.props.previewpane,a=void 0;return t===l.PreviewPaneSettings.RIGHT?a=u.default.LIST_WITH_PREVIEW_RIGHT:t===l.PreviewPaneSettings.BOTTOM&&(a=u.default.LIST_WITH_PREVIEW_BOTTOM),a},handlePreviewPaneSettingChange:function e(t){t.preventDefault();var a=this.props.previewpane,r=void 0;switch(a){case l.PreviewPaneSettings.NO:r=l.PreviewPaneSettings.RIGHT;break;case l.PreviewPaneSettings.RIGHT:r=l.PreviewPaneSettings.BOTTOM;break;case l.PreviewPaneSettings.BOTTOM:r=l.PreviewPaneSettings.NO}var s={mKey:d.MKEYS.SETTINGS_PREVIEW_PANE,sec:d.SEC_VALUES.SETTINGS_INBOX_TAB,interactionType:(0,o.getInteractionFromEvent)(t)};this.context.executeAction(i.updateSetting,{name:l.Settings.PREVIEW_PANE,value:r,i13nModel:s})},handleSlide:function e(t,a,r){var s;this.setState((s={},s[t]=a,s.size=r,s))},renderReader:function e(){var a=this.state,s=a.hSliderPos,i=a.vSliderPos,n=a.size,o=this.props,d=o.previewpane,p=o.previewpaneResizable,c=o.ItemList,m=o.MessageView,E=o.BlankMessageView,v=o.Toolbar,f=o.ListHeader,h=o.numberOfMessageSelection,S=o.openedGroupId,T=o.isEmpty,w=this.context.getCss(g.default,{previewpane:d});if(!d){var I=r.default.createElement(c,t({},this.props,this.state,{openedMessageId:S}));return r.default.createElement("div",{className:w.mailReader,"data-test-id":"mail-reader","data-test-preview":d},f?r.default.createElement(f,this.props):null,r.default.createElement("div",{className:w.toolbar,"data-test-id":"mail-reader-toolbar"},r.default.createElement(v,t({},this.props,{kind:u.default.LIST,activeGroupId:S}))),r.default.createElement("div",{className:w.listContainer,"data-test-id":"mail-reader-list-container"},I))}var R={},b=0,M=void 0;if(d===l.PreviewPaneSettings.RIGHT){if(R={flexBasis:s+"%"},p){var N=parseFloat(s);b=N>P.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET?N:P.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET}}else R={flexBasis:n>0?i/100*n+"px":i+"%"},p&&(M=parseFloat(i));var O=r.default.createElement(c,t({},this.props,this.state,{height:M,openedMessageId:S}));return r.default.createElement("div",{"data-test-id":"mail-reader","data-test-preview":d,className:w.mailReader},f?r.default.createElement(f,this.props):null,r.default.createElement("div",{className:w.toolbar},r.default.createElement(v,t({},this.props,{kind:this.getToolbarKind(),activeGroupId:S,previewPaneOffset:b,showActionLabels:!(b>P.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET)}))),r.default.createElement("div",{className:w.listContainer,ref:"listContainer"},r.default.createElement("div",{height:M,className:w.leftPane,style:R,ref:"leftPane"},O),r.default.createElement(_.LazyComponent,{import:"../resizer",isEmpty:T,previewpane:d,previewpaneResizable:p,resize:this.handleSlide,_moduleGetter:function e(){return require("../resizer")}}),r.default.createElement("div",{className:w.rightPane},0===h&&S?r.default.createElement("div",{className:w.messageView},r.default.createElement(m,t({},this.props,{hasToolbar:!1,openedMessageId:S}))):r.default.createElement("div",{className:w.blank},r.default.createElement(E,this.props)))))},render:function e(){var t=this.context.intl.formatMessage,a=this.props.previewpane,s=this.context.getCss(g.default);return r.default.createElement(m.default,{keys:[S.togglePreviewPaneSetting(this.handlePreviewPaneSettingChange)]},r.default.createElement("div",{className:s.container,"data-test-id":"mail-reader-container",role:"main","aria-label":t(h.message_list,{previewpane:a})},this.renderReader()))}});exports.default=T,module.exports=exports.default;
},{"../../../../actions/settings":"./actions/settings","../../../../atoms/lazy_component":"./atoms/lazy_component","../../../../molecules/keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","../../../../molecules/message_toolbar/constants":261,"../../../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../../../platform/mail_constants":"./platform/mail_constants","../../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../../../platform/utils":"./platform/utils","../../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../../../platform/utils/object":"./platform/utils/object","../resizer":"./apps/mail/molecules/resizer","./styles/mail_reader":"./apps/mail/molecules/mail_reader/styles/mail_reader","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./apps/mail/molecules/mail_reader/styles/mail_reader":[function(require,module,exports){
module.exports={className:{default:{container:"W_6D6F D_F",mailReader:"D_F ab_FT em_N ek_BB",listContainer:"D_F H_6D6F ab_FT em_N",toolbar:"en_0",leftPane:"en_0 ej_dAt p_R",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0"},"previewpane-2":{listContainer:"ek_BB",leftPane:"d_3nV5V",deadResizer:"M_1EtAWD ej_fq7 I_ZpQYvz",resizer:"M_1EtAWD ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z"}},_key:"oeyld"};
},{}],79:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),r=n.default.createClass({displayName:"PreserveDataOnUnmount",contextTypes:{store:t.PropTypes.object},componentDidMount:function e(){var t=this.props.getUnsavedData;this.context.store&&this.context.store.registerUnsavedDataHandler&&(this.unsavedDataHandler=this.context.store.registerUnsavedDataHandler(t))},componentWillUnmount:function e(){this.unsavedDataHandler&&this.unsavedDataHandler.remove()},render:function e(){return this.props.children||null}});exports.default=r,module.exports=exports.default;
},{"react":"./node_modules/react/react.js"}],80:[function(require,module,exports){
"use strict";function t(t){t.dispatch(e.mail.HIDE_RIGHT_PANE_ADS)}exports.__esModule=!0,exports.hideAdsTemporarily=t;var e=require("../../../../platform/react_action_constants");
},{"../../../../platform/react_action_constants":"./platform/react_action_constants"}],81:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),i=e(t),r=require("react-intl"),a=require("react-atomic-css/css"),s=e(a),o=require("./styles/right_pane"),l=e(o),d=require("../../../../atoms/hover_colored_fuji_icon.jsx"),n=e(d),u=require("../../../../atoms/button.jsx"),c=e(u),m=require("../../../../atoms/lazy_component"),h=require("../../../../platform/theming/themes"),p=require("../../../../platform/rapid_client/constants.js"),_=require("../../../../platform/utils/mail_ui_vars"),f=require("./actions"),E=require("../../../../atoms/constants/fuji_icon"),A=require("../../../../molecules/ads"),g=!1,S=(0,r.defineMessages)({hide_advertisement:{id:"hide_advertisement",defaultMessage:"Hide Advertisement"}}),R=i.default.createClass({displayName:"RightPaneAds",contextTypes:{config:t.PropTypes.object,intl:r.intlShape.isRequired,executeAction:t.PropTypes.func,getThemeMode:t.PropTypes.func},getInitialState:function e(){return{showAdFreeDialog:!1}},onHideAdvertisement:function e(){this.context.executeAction(f.hideAdsTemporarily,{i13nModel:{mKey:p.MKEYS.HIDE_RIGHT_RAIL_AD,sec:p.SEC_VALUES.RIGHT_RAIL}}),!this.props.adFreeSupported||this.props.hideAdUpsellSetting||g||this.showAdFreeDialog()},showAdFreeDialog:function e(){this.setState({showAdFreeDialog:!0})},hideAdFreeDialog:function e(){this.setState({showAdFreeDialog:!1}),g=!0},render:function e(){var t=this.props,r=t.innerWidth,a=t.verticalPreviewPane,o=t.hideRightPaneAds,d=t.mailProEligible,u=t.mailProMonthlyPrice,p=t.wideRightRail,f=this.state.showAdFreeDialog,R=this.context.getThemeMode(),D=(0,s.default)(l.default,{verticalPreviewPane:a,wideRightRail:p}),C={normal:R!==h.ThemeModes.LIGHT?E.ColorStates.INVERTED_DIM:E.ColorStates.NORMAL,hovered:R!==h.ThemeModes.LIGHT?E.ColorStates.INVERTED:E.ColorStates.SELECTED},T=[],I=this.context.intl.formatMessage;return p?T.push(i.default.createElement(A.StackedLrecAdComponent,{key:"stacked_lrec",lrecClassName:D.lrec})):!a&&r<_.NARROW_SCREEN_WIDTH||a&&r<_.WIDE_SCREEN_WIDTH?T.push(i.default.createElement(A.SkyAdComponent,{key:"sky_ad"})):!a&&r>=_.NARROW_SCREEN_WIDTH&&r<_.WIDE_SCREEN_WIDTH?T.push(i.default.createElement(A.StackedLrecAdComponent,{key:"stacked_lrec"})):r>=_.WIDE_SCREEN_WIDTH&&T.push(i.default.createElement(A.StackedLrecAdComponent,{key:"stacked_lrec"})),i.default.createElement("div",null,o?null:i.default.createElement("div",{"aria-hidden":!0,className:D.mainAd,"data-test-id":"right-rail-ad"},i.default.createElement(c.default,{title:I(S.hide_advertisement),onClick:this.onHideAdvertisement,className:D.hideAdsChevron,"data-test-id":"right-rail-hidead-btn"},i.default.createElement(n.default,{kind:E.Kinds.CHEVRON_UP,colorStates:C,size:E.Sizes.XS,rotate:E.Rotate.D90})),T),f&&!g?i.default.createElement(m.LazyComponent,{import:"../../../../molecules/ads/adfree_upsell.jsx",hideAdFreeDialog:this.hideAdFreeDialog,mailProEligible:d,mailProMonthlyPrice:u,_moduleGetter:function e(){return require("../../../../molecules/ads/adfree_upsell.jsx")}}):null)}});exports.default=R,module.exports=exports.default;
},{"../../../../atoms/button.jsx":"./atoms/button","../../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../../atoms/hover_colored_fuji_icon.jsx":"./atoms/hover_colored_fuji_icon","../../../../atoms/lazy_component":"./atoms/lazy_component","../../../../molecules/ads":147,"../../../../molecules/ads/adfree_upsell.jsx":"./molecules/ads/adfree_upsell","../../../../platform/rapid_client/constants.js":"./platform/rapid_client/constants","../../../../platform/theming/themes":"./platform/theming/themes","../../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","./actions":80,"./styles/right_pane":82,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],82:[function(require,module,exports){
module.exports={className:{default:{mainAd:"em_N P_6Fd5 k_w W_3o4BO iy_h cWeabD_3vpWV",hideAdsChevron:"c27KHO0_n I_T b_0 P_0 D_F cdPFi_Z291T0t p_a T_e5X Q_36KP4 W_6Fd5 r_P"},"verticalPreviewPane-false":{mainAd:"W_3o4BO cZ1YE9Aj_3vpWV"},"verticalPreviewPane-true":{mainAd:"W_3o4BO cWeabD_3vpWV"},wideRightRail:{mainAd:"W_3vpWV",lrec:"U_3mS2U"}},_key:"20dI60"};
},{}],83:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function i(e){return a.default.createClass({displayName:"AdProvider",adPositions:{darla:[],pencil:[]},contextTypes:{executeAction:n.PropTypes.func,getThemeMode:n.PropTypes.func,config:n.PropTypes.object,region:n.PropTypes.string,locale:n.PropTypes.object,intl:r.intlShape.isRequired},childContextTypes:{registerAdPosition:n.PropTypes.func,removeAdPosition:n.PropTypes.func},getChildContext:function e(){var t=this;return{registerAdPosition:function e(i){var o=i.darlaPos,s=i.pencilPos;o&&(t.adPositions.darla=(0,T.default)(t.adPositions.darla.concat(o))),s&&(t.adPositions.pencil=(0,T.default)(t.adPositions.pencil.concat(s)))},removeAdPosition:function e(i){var o=i.darlaPos,s=i.pencilPos;o&&(t.adPositions.darla=t.adPositions.darla.filter(function(e){return e!==o})),s&&(t.adPositions.pencil=t.adPositions.pencil.filter(function(e){return e!==s}))}}},getInitialState:function e(){return{isWiderMailExtnEnabled:this.props.isWiderMailExtnEnabled,isRightRailWiderMailExtnEnabled:this.props.isRightRailWiderMailExtnEnabled}},_onSuccess:function e(){var t=window.DARLA,i=this.props,o=i.spaceid,s=i.rootSpaceid,n=i.darlaLookAhead;this.allPosRenderLogger&&this.allPosRenderLogger.logSuccessAndLatency(),this.posRenderLoggers={},this.renderedPositions&&this.renderedPositions.length&&(this._executeDarlaAdHandlerAction({spaceId:o.toString(),positions:this.renderedPositions}),this.renderedPositions=[]),n&&(t.prefetched().length&&t.render(),t.add("prefetch",{name:"prefetch",ps:this.adPositions.darla.join(","),sp:s,npv:1}),t.prefetch("prefetch"))},_onStartParse:function e(){var t=this.adPositions.darla.join(",");this.parseLogger=F.feature("darla_ad_parse",{adPositions:t,intl:this.context.region})},_onFinishParse:function e(t,i){var o=this;return i?(this.parseLogger.logSuccessAndLatency(),void i.ps().forEach(function(e){var t=i.item(e)||{},s=t.bookID,n=t.adID,a=t.creativeID,r=t.placementID,d=t.hasErr,l=F.feature("darla_ad_call",{adPosition:e,bookId:s,adId:n,creativeId:a,placementId:r,intl:o.context.region});d?l.logFailure():l.logSuccess()})):(this.parseLogger.logFailure(),void this._executeDarlaAdHandlerAction({error:"Missing ad details"}))},_onStartRequest:function e(){var t=this.adPositions.darla.join(",");this.fetchLogger=F.feature("darla_ad_fetch_call",{adPositions:t,intl:this.context.region})},_onFinishRequest:function e(){this.fetchLogger.logSuccessAndLatency()},_onRequestTimeout:function e(){this.fetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:"Request timeout"})},_onStartPrefetchRequest:function e(){var t=this.adPositions.darla.join(",");this.prefetchLogger=F.feature("darla_ad_prefetch_call",{adPositions:t,intl:this.context.region})},_onFinishPrefetchRequest:function e(t,i){200===i?this.prefetchLogger.logSuccessAndLatency():(this.prefetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:"Prefetch request error: "+i}))},_onBeforeStartPosRender:function e(t){if(this.props.premiumAdDetection){var i=window.DARLA,o="meta.y.slotData.trusted_custom",s="true"===(0,M.getIn)(t,o,!1),n=t.pos,a=i.render.RenderMgr.get(n),r=(0,M.getIn)(a,o,!1);if(r&&s)return this.context.executeAction(A.adRotationSkipped,{i13nModel:{isBeaconEvent:!0,eventName:D.BEACON_EVENTS.AD_ROTATION_SKIPPED,pos:n}}),!0;!r&&s?this.context.executeAction(A.premiumAdStarted,{i13nModel:{isBeaconEvent:!0,eventName:D.BEACON_EVENTS.PREMIUM_AD_STARTED,pos:n}}):r&&!s&&this.context.executeAction(A.premiumAdStopped,{i13nModel:{isBeaconEvent:!0,eventName:D.BEACON_EVENTS.PREMIUM_AD_STOPPED,pos:n}})}},_onStartPosRender:function e(t){var i=t.pos;this.posRenderLoggers[i]=F.feature("darla_ad_pos_render",{adPosition:i,intl:this.context.region})},_onFinishPosRender:function e(t,i,o){var s=this.posRenderLoggers[t];this.renderedPositions&&this.renderedPositions.push({bookId:o.bookID,position:o.pos}),s&&s.logSuccessAndLatency()},_onRenderTimeout:function e(){var t=this;Object.keys(this.posRenderLoggers).forEach(function(e){t.posRenderLoggers[e].logFailure()})},_executeDarlaAdHandlerAction:function e(t){this.context.executeAction(A.darlaAdHandler,t||{spaceId:"",positions:[]})},_startMessageReadAdRotation:function e(){var t=this.props,i=t.messageReadAdRotationInterval;t.messageReadAdRotation&&(this._stopMessageReadAdRotation(),this._messageReadAdRotationTimer=setTimeout(this._messageReadAdRotationCallback,i))},_messageReadAdRotationCallback:function e(){var t=Date.now(),i=this.props;t>i.messageReadAdRotationTimeStamp+i.messageReadAdRotationIdleInterval?this._stopMessageReadAdRotation():(this.context.executeAction(A.messageReadAdRotationTimer),this._startMessageReadAdRotation())},_stopMessageReadAdRotation:function e(){clearTimeout(this._messageReadAdRotationTimer),this._messageReadAdRotationTimer=null},_connectToWiderMailExtension:function e(){var t=this;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.runtime&&"undefined"!=typeof chrome.runtime.connect){var i=this.context.config.widerMailExtension.chromeExtensionId;chrome.runtime.connect(i).onDisconnect.addListener(function(){t.context.executeAction(A.disableWiderMailExtension)})}},componentWillUpdate:function e(t){this.props.messageReadAdRotationTimeStamp&&!t.messageReadAdRotationTimeStamp?this._stopMessageReadAdRotation():this.props.messageReadAdRotationTimeStamp!==t.messageReadAdRotationTimeStamp&&this._startMessageReadAdRotation()},componentDidMount:function e(){var t=this.context.intl.formatMessage,i=this.context.config.adFreeMailUrl,o=this.props,s=o.mailProEligible,n=o.mailProMonthlyPrice,a=o.mailProYearlyPrice;this._messageReadAdRotationTimer=null,this.fetchLogger=null,this.prefetchLogger=null,this.parseLogger=null,this.allPosRenderLogger=null,this.reconfigLogger=null,this.posRenderLoggers={},this.renderedPositions=[],this.pencilAdFallbacks=(0,p.getPencilAdFallbacks)(t,i,s,n,a),(this.props.isWiderMailExtnEnabled||this.props.isRightRailWiderMailExtnEnabled)&&this._connectToWiderMailExtension()},componentDidUpdate:function e(t){var i=this.props,o=i.spaceid,s=i.debug,n=i.darlaLookAhead,a=i.darlaPrefetch,r=i.nukeDisplayAdsOnInactive,d=i.mailProEligible;if(this.props.hasAds){if(r&&!t.nukeDisplayAdsOnInactive){var l=window.DARLA;return void(l&&!l.inProgress()&&l.render.RenderMgr.nuke())}if(!(this.props.adRotationId===t.adRotationId&&this.props.spaceid===t.spaceid||(this.adPositions.pencil.length&&this.context.executeAction(A.getPencilAd,{fallbacks:this.pencilAdFallbacks,spaceid:o}),0===this.adPositions.darla.length||this.props.isWiderMailExtnEnabled||this.props.isRightRailWiderMailExtnEnabled)))if(b){if(window.DARLA){var c=window.DARLA,u=window.DARLA.config(),p=this.context.getThemeMode();if(c.inProgress())return;if(c&&u){var g=_.tl1Theme[p===S.ThemeModes.LIGHT?"lightTheme":"darkTheme"],R=g.textColor,f=g.hoverColor;u.positions.TL1.css=_.tl1Theme.getCss(R,f),c.addPos(u.positions.TL1)}c.add("rotate",{name:"rotate",ps:this.adPositions.darla.join(","),sp:o,npv:1}),this.allPosRenderLogger=F.feature("darla_ad_all_pos_render",{adPositions:this.adPositions.darla.join(","),intl:this.context.region});var P=c.prefetched();if(n&&P.length){var m=this.adPositions.darla.every(function(e){return P.indexOf(e)!==-1});m?c.render():c.event("rotate")}else c.event("rotate")}}else{var E=this.context.intl.formatMessage,L=E(q.upsell_message_caption,{YahooMailProBrand:E(q.yahoo_mail_pro_branding)}),I={CTTRate:100,upsell:d,upsellMsg:L,onStartRequest:this._onStartRequest,onFinishRequest:this._onFinishRequest,onStartPrefetchRequest:this._onStartPrefetchRequest,onFinishPrefetchRequest:this._onFinishPrefetchRequest,onStartParse:this._onStartParse,onFinishParse:this._onFinishParse,onStartPosRender:this._onStartPosRender,onFinishPosRender:this._onFinishPosRender,onRenderTimeout:this._onRenderTimeout,onRequestTimeout:this._onRequestTimeout,onSuccess:this._onSuccess,onBeforeStartPosRender:this._onBeforeStartPosRender};if(window.DARLA){var T=window.DARLA.config,M=T(Object.assign({},T(),I)),v=this.adPositions.darla.join(",");window.DARLA.render(),this.reconfigLogger=F.feature("darla_ad_reconfig",{adPositions:v,intl:this.context.region,darlaLookAhead:n,darlaPrefetch:a}),"OK"===M?this.reconfigLogger.logSuccess():this.reconfigLogger.logFailure({status:M,actionInProgress:"FAIL--522"===M?window.DARLA.inProgress():null})}else if(window.DARLA_CONFIG.auto_render===!1)window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},I,{auto_render:!0});else{var x=y+"?f="+o+"&l="+this.adPositions.darla.join(",")+"&npv=1";window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},I),s&&(x+="&debug=1"),h.loadScript(x)}b=!0}}},render:function t(){return a.default.createElement(e,s({key:this.state.isWiderMailExtnEnabled||this.state.isRightRailWiderMailExtnEnabled?"widerMailExtnEnabled":"widerMailExtnDisabled"},this.props))}})}function o(e){var t=(0,v.selectors)(e.store.getState()),i=t.getFeaturesSelectors,o=i();return{hasAds:o.isEnabled(x.Features.ADS),adRotationId:e.getStore(f.default).getAdRotationId(),darlaLookAhead:o.isEnabled(x.Features.DARLA_LOOKAHEAD),darlaPrefetch:o.isEnabled(x.Features.DARLA_PREFETCH),spaceid:e.getStore(m.default).getCurrentSpaceId(),rootSpaceid:e.config.spaceids.root,messageReadAdRotation:o.isEnabled(x.Features.MESSAGE_READ_AD_ROTATION),messageReadAdRotationInterval:o.getSetting(x.Settings.MESSAGE_READ_AD_ROTATION_INTERVAL),messageReadAdRotationIdleInterval:o.getSetting(x.Settings.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),messageReadAdRotationTimeStamp:e.getStore(f.default).getMessageReadAdRotationTimeStamp(),isWiderMailExtnEnabled:o.isEnabled(x.Features.IS_WIDER_MAIL_EXTN_ENABLED),nukeDisplayAdsOnInactive:o.isEnabled(x.Features.NUKE_DISPLAY_ADS_ON_INACTIVE),mailProEligible:o.isEnabled(x.Features.MAIL_PRO_ELIGIBLE),mailProMonthlyPrice:o.getSetting(x.Settings.MAIL_PRO_MONTHLY_PRICE),mailProYearlyPrice:o.getSetting(x.Settings.MAIL_PRO_YEARLY_PRICE),premiumAdDetection:o.isEnabled(x.Features.PREMIUM_AD_DETECTION),isRightRailWiderMailExtnEnabled:o.isEnabled(x.Features.RIGHT_RAIL_WIDER_MAIL_UPSELL)&&o.isEnabled(x.Features.IS_WIDER_MAIL_EXTN_ENABLED)}}exports.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e};exports.default=function(e){var t=i(e);return(0,c.connectToStores)(t,[f.default,m.default,L.default],o,{config:n.PropTypes.object,store:n.PropTypes.object})};var n=require("react"),a=t(n),r=require("react-intl"),d=require("norrin-logger"),l=t(d),c=require("fluxible-addons-react"),u=require("../../../../platform/utils/script_loader"),h=e(u),p=require("../../../../platform/utils/ad_fallback"),g=require("../../../../types"),R=require("../../../../stores/ads"),f=t(R),A=require("../../../../actions/ads"),_=require("../../../../molecules/ads/constants"),P=require("../../../../stores/i13n"),m=t(P),E=require("../../../../stores/pages"),L=t(E),S=require("../../../../platform/theming/themes"),I=require("lodash/uniq"),T=t(I),M=require("../../../../platform/utils/object"),v=require("../../../../reducers_selectors"),x=require("../../../../platform/mail_constants"),D=require("../../../../platform/rapid_client/constants"),b=!1,y="https://fc.yahoo.com/sdarla/php/client.php",F=l.default.create("norrin/darla"),O="trusted_custom",q=(0,r.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."}});module.exports=exports.default;
},{"../../../../actions/ads":"./actions/ads","../../../../molecules/ads/constants":146,"../../../../platform/mail_constants":"./platform/mail_constants","../../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../../../platform/theming/themes":"./platform/theming/themes","../../../../platform/utils/ad_fallback":380,"../../../../platform/utils/object":"./platform/utils/object","../../../../platform/utils/script_loader":"./platform/utils/script_loader","../../../../reducers_selectors":"./reducers_selectors","../../../../stores/ads":399,"../../../../stores/i13n":"./stores/i13n","../../../../stores/pages":"./stores/pages","../../../../types":"./types","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","lodash/uniq":"./node_modules/lodash/uniq.js","norrin-logger":"./node_modules/norrin-logger/index.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],84:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),u=e(t),n=require("mousetrap"),r=e(n);exports.default=function(e){return u.default.createClass({displayName:"ReactKeyProvider",childContextTypes:{bindShortcut:t.PropTypes.func,unbindShortcut:t.PropTypes.func},getChildContext:function e(){return{bindShortcut:function e(t,u){r.default.bind&&r.default.bind(t,u)},unbindShortcut:function e(t){r.default.unbind&&r.default.unbind(t)}}},render:function t(){return u.default.createElement(e,this.props)}})},module.exports=exports.default;
},{"mousetrap":"./node_modules/mousetrap/mousetrap.js","react":"./node_modules/react/react.js"}],85:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},o=require("react"),n=e(o),u=require("react-redux"),a=require("lodash/omit"),s=e(a),i=require("../../../mail/actions"),l=require("../../../../platform/utils/route"),c=require("../../../../reducers_selectors");exports.default=function(e,a){return function(f){var d=n.default.createClass({displayName:"RouterProvider",listeners:[],contextTypes:{executeAction:o.PropTypes.func},childContextTypes:{navigateTo:o.PropTypes.func,getUrlFromRoute:o.PropTypes.func,registerUnsavedDataHandler:o.PropTypes.func},lastVisited:{},getChildContext:function o(){var n=this;return{navigateTo:function o(u){var s=u.i13nModel,f=u.url,d=u.route,p=u.hashParams,g=void 0===p?{}:p,m=t(u,["i13nModel","url","route","hashParams"]),v=Date.now(),R=(0,c.selectors)(a.store.getState()).getRouterSelectors(),h=e.getRouteInfo(R.getRouteUrl()),y=(0,l.filterQueryParams)(h),P=f?e.getRouteInfo(e.normalizeURL(f,y)):e.normalizeRoute(d,y),x=e.getActionCreatorByRouteName(P.name),T=r({},m,{perfHeader:{requestStart:v},cacheControl:{lastVisited:n.lastVisited[P.url]},route:P,hashParams:g});return x&&a.executeAction(x,T),Promise.all(n.listeners.map(function(e){return e()})).then(function(e){h.unsavedData=Object.assign.apply(null,[{}].concat(e)),a.executeAction(i.navigateToRoute,r({i13nModel:s,currentRoute:h},T)),n.lastVisited[P.url]=v})},getUrlFromRoute:function t(r){var o=(0,c.selectors)(a.store.getState()).getRouterSelectors(),n=e.getRouteInfo(o.getRouteUrl()),u=(0,l.filterQueryParams)(n);return e.normalizeRoute(r,u).url||""},registerUnsavedDataHandler:function e(t){return n.listeners.push(t),{remove:function e(){n.listeners=n.listeners.filter(function(e){return e!==t})}}}}},render:function e(){return n.default.createElement(f,(0,s.default)(this.props,"store"))}}),p=function t(r){var o=(0,c.selectors)(r),n=o.getRouterSelectors,u=n().getRoute();return{route:u.name&&e.normalizeRoute(u,{})}};return(0,u.connect)(p,void 0,void 0,{areStatePropsEqual:function e(t){return Boolean(t.route)}})(d)}},module.exports=exports.default;
},{"../../../../platform/utils/route":"./platform/utils/route","../../../../reducers_selectors":"./reducers_selectors","../../../mail/actions":"./apps/mail/actions","lodash/omit":"./node_modules/lodash/omit.js","react":"./node_modules/react/react.js","react-redux":"./node_modules/react-redux/lib/index.js"}],86:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function o(t){return n.default.createClass({displayName:"WindowManager",childContextTypes:{getWindowId:e.PropTypes.func,isLatestWindow:e.PropTypes.func},getChildContext:function t(){return{getWindowId:this._getWindowId,isLatestWindow:this._isLatestWindow}},componentDidMount:function t(){this._addNewWindow(),window.addEventListener("beforeunload",this._removeWindow)},componentWillUnmount:function t(){this._removeWindow()},_isLatestWindow:function t(){var o=(0,i.readFromLocalStorage)(r),e=!0;return o&&this._windowId!==parseInt(o.split(",").pop(),10)&&(e=!1),e},_getWindowId:function t(){return this._windowId},_addNewWindow:function t(){if(!this._windowId){var o=(0,i.readFromLocalStorage)(r);this._windowId=Math.floor(Date.now()/1e3),o?o+=","+this._windowId:o=this._windowId,(0,i.writeToLocalStorage)(r,o)}},_removeWindow:function t(){var o=this,e=(0,i.readFromLocalStorage)(r);e&&(e=e.split(",").filter(function(t){return o._windowId.toString()!==t}).join(","),(0,i.writeToLocalStorage)(r,e))},render:function o(){return n.default.createElement(t,this.props)}})}exports.__esModule=!0,exports.open=void 0,exports.windowManager=o;var e=require("react"),n=t(e),i=require("../../../../platform/web_storage"),r="windowIds",d=exports.open=function t(e){return o(e)};
},{"../../../../platform/web_storage":"./platform/web_storage","react":"./node_modules/react/react.js"}],87:[function(require,module,exports){
module.exports={className:{default:{compose:"p_a R_0 T_0 L_0 B_0 D_F"}},_key:"ZyEg8F"};
},{}],88:[function(require,module,exports){
module.exports={className:{default:{container:"D_F ek_BB H_6D6F cZ1RN91d_n s_1HCsWR aw_Z1CkV98",inputModeWrapper:"H_6D6F",appHeader:"en_0 cZ1RN91d_n D_F ek_BB gl_FM",tabSpace:"f_l a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",tabWrapper:"a_1Ie4E3 I_sgPtS M_1EAG48 W_6D6F",tab:"N_3o4BO cZ1YE9As_ZbJh7p e_1GFLLo",ybar:"H_7zJd",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},"ads-false":{tab:"N_0"},"themeMode-LIGHT":{tabWrapper:"I_ajP3z"},"theme-DEFAULT":{container:"aw_lnvys"},"theme-SUNRISE":{container:"aw_Z990Sk"},"theme-AQUA_GREEN":{container:"aw_2jBoF8"},"theme-AQUA_BLUE":{container:"aw_ZhyWMo"},"theme-DEEP_PURPLE":{container:"aw_1uxsF0"},"theme-BLUE_NIGHT":{container:"aw_2e1Nd8"}},_key:"ZsGWms"};
},{}],"./apps/mail/styles/mail_count":[function(require,module,exports){
module.exports={className:{default:{container:"D_F ac_FT ab_C gl_C em_N",wrapper:"p_R",svgWrapper:"O_cMs",countWrapper:"p_a L_0 T_0 H_3nj85 W_3nj85 D_F gl_C ab_C",count:"C_Z291T0t A_74JI u_dzD p_R T_36KP4"},"themeMode-DARK":{count:"C_52qC"}},_key:"1hLTRq"};
},{}],89:[function(require,module,exports){
module.exports={className:{default:{rightRail:"D_F ek_BB iz_A iy_h",attachmentPreview:"em_N"},hasAttachmentPreview:{rightRail:"ek_EZ"}},_key:"Z1qL9jJ"};
},{}],"./apps/route_map":[function(require,module,exports){
"use strict";function s(s){if(s&&s.__esModule)return s;var e={};if(null!=s)for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);return e.default=s,e}exports.__esModule=!0,exports.routesByApp=exports.routePathsByApp=exports.routeMap=void 0;var e,a,p,o,t,r=require("../platform/mail_constants"),u=require("./mail/actions"),n=s(u),d=[{app:r.Apps.COMPOSE_APP,name:r.Apps.COMPOSE_APP,paths:(e={},e[r.RouteNames.NEW_DRAFT]="/app/compose/:csid",e),cssBundles:["/css/ltr/compose_app.css"],jsBundles:["vendor","compose_app"],ssrBundles:["compose_app"],container:{id:"compose-app-container",classes:["firefox-compose-app"]}},{app:r.Apps.MAIL_APP,name:r.Apps.MAIL_APP,ssrUnsupportedRoutes:[r.RouteNames.SEARCH,r.RouteNames.ATTACHMENT,r.RouteNames.SPONSORED_MESSAGE],paths:(a={},a[r.RouteNames.BASE]="/",a[r.RouteNames.LIST]="/list/:serializedListId",a[r.RouteNames.FOLDER]="/folders/:fid",a[r.RouteNames.MESSAGE_FROM_SEARCH_LIST]="/search/:query/messages/:groupId",a[r.RouteNames.MESSAGE_FROM_FOLDER_LIST]="/folders/:fid/messages/:groupId",a[r.RouteNames.NEW_DRAFT]="/compose/:csid",a[r.RouteNames.EDIT_DRAFT]="/:serializedListId/edit/:groupId",a[r.RouteNames.SEARCH]="/search/:query",a[r.RouteNames.SETTINGS]="/settings/:settingsGroupId/:accountId?/:openReauth?",a[r.RouteNames.ATTACHMENT]="/:serializedListId/groups/:groupId/attachments/:attachmentId",a[r.RouteNames.SPONSORED_MESSAGE]="/folders/:fid/sponsored/:creativeId",a[r.RouteNames.TUTORIAL]="/tutorial",a),actionCreators:(p={},p[r.RouteNames.SEARCH]=n.openSearch,p[r.RouteNames.MESSAGE_FROM_FOLDER_LIST]=n.openMessageGroup,p[r.RouteNames.MESSAGE_FROM_SEARCH_LIST]=n.openMessageGroup,p),cssBundles:["/css/ltr/mail_app.css"],jsBundles:["vendor","mail_app"],ssrBundles:["mail_app"],jsLazyBundles:["mail_app_lazy_group1","mail_app_lazy_group2"],container:{id:"mail-app-container"}},{app:r.Apps.MAIL_ENCRYPTED_APP,name:r.Apps.MAIL_ENCRYPTED_APP,ssrUnsupportedRoutes:[r.RouteNames.SECURE_COMPOSE,r.RouteNames.SECURE_BODY,r.RouteNames.SECURE_SETTINGS],paths:(o={},o[r.RouteNames.SECURE_COMPOSE]="/secure/compose",o[r.RouteNames.SECURE_BODY]="/secure/body",o[r.RouteNames.SECURE_SETTINGS]="/secure/settings",o),cssBundles:["/css/ltr/mail_encrypted_app.css"],jsBundles:["mail_encrypted_app"],container:{id:"mail-encrypted-app-container",classes:["mail-encrypted-app"]}},{app:r.Apps.MOBILE_APP,name:r.Apps.MOBILE_APP,appRootPath:"/m",paths:(t={},t[r.RouteNames.BASE]="/",t[r.RouteNames.MESSAGE_FROM_SEARCH_LIST]="/search/:query/messages/:groupId",t[r.RouteNames.MESSAGE_FROM_FOLDER_LIST]="/folders/:fid/messages/:groupId",t[r.RouteNames.FOLDER]="/folders/:fid",t[r.RouteNames.NEW_DRAFT]="/compose/:csid",t[r.RouteNames.SEARCH]="/search/:query",t),cssBundles:["/css/ltr/mobile_app.css"],jsBundles:["vendor","mobile_app"],container:{id:"mobile-app-container"}},{app:r.Apps.PLAYGROUND,name:r.Apps.PLAYGROUND,ssrUnsupportedRoutes:["PLAYGROUND"],paths:{PLAYGROUND:"/playground"},cssBundles:["/css/ltr/mail_app.css","/css/ltr/playground.css"],jsBundles:["vendor","playground"],ssrBundles:["playground"],container:{id:"playground-app-container"}}],c=exports.routeMap=[],i=Boolean(void 0);d.forEach(function(s){c.push(s);var e=Object.assign({},s,{app:s.app+"_TEST",paths:{}});Object.keys(s.paths).forEach(function(a){e.paths[a]="/test"+s.paths[a]}),e.jsBundles=s.jsBundles.map(function(s){return s.indexOf("_app")>-1?s+"_test":s}),c.push(e)}),i&&c.forEach(function(s){var e=s.jsBundles.indexOf("vendor"),a=s.app.toLowerCase(),p=a+"_vendor";e<0?s.jsBundles.unshift(p):s.jsBundles[e]=p});var R=exports.routePathsByApp={},m=exports.routesByApp={};c.forEach(function(s){R[s.app]=s.paths,m[s.app]=s});
},{"../platform/mail_constants":"./platform/mail_constants","./mail/actions":"./apps/mail/actions"}],90:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var a=t.intl,u=(0,T.default)(q.default),s=e.primaryAccountAddress,o=e.onLogout,i=e.onAccountMenuShow;return n.default.createElement(r.default,{className:u.account,onMenuShow:i},n.default.createElement(c.default,{hasText:!0,tabIndex:h.TabIndices.APP_HEADER_ACCOUNT_MENU,"data-test-id":"account-menu",className:u.menuButton},n.default.createElement("span",{className:u.button},n.default.createElement("span",{className:u.accountText,"data-test-id":"account-first-name"},e.name.first),n.default.createElement(g.default,{kind:N.Kinds.CHEVRON_UP,size:N.Sizes.XS,rotate:N.Rotate.D180,colorState:N.ColorStates.INVERTED}))),n.default.createElement(l.default,null,n.default.createElement(m.default,{kind:f.Kinds.WRAP_CONTENT,key:s,name:s,ariaLabel:s},n.default.createElement("div",{className:u.menuContainer},n.default.createElement("span",{className:u.menuName,"data-test-id":"account-full-name"},e.name.first+" "+e.name.last),n.default.createElement("span",{className:u.menuAddress,"data-test-id":"account-address"},s))),n.default.createElement(m.default,{name:"logout",key:"logout",ariaLabel:a.formatMessage(M.logout),kind:f.Kinds.WRAP_CONTENT},n.default.createElement("a",{onClick:o,href:C,className:u.logoutLink,"data-test-id":"logout-link"},a.formatMessage(M.logout)))))}exports.__esModule=!0,exports.default=t;var a=require("react"),n=e(a),u=require("react-intl"),s=require("./menu/menu.jsx"),l=e(s),o=require("./menu/menu_button_container.jsx"),r=e(o),i=require("./menu/menu_button.jsx"),c=e(i),d=require("./list_item.jsx"),m=e(d),f=require("./constants/list_item"),E=require("../types"),_=require("./fuji_icon.jsx"),g=e(_),N=require("./constants/fuji_icon"),p=require("./styles/account_menu"),q=e(p),x=require("react-atomic-css/css"),T=e(x),h=require("../platform/utils/mail_ui_vars"),A=encodeURIComponent("https://www.yahoo.com"),C="https://login.yahoo.com/config/login?logout=1&.direct=2&.done="+A,M=(0,u.defineMessages)({logout:{id:"logout",defaultMessage:"Sign out"}});t.contextTypes={intl:u.intlShape},module.exports=exports.default;
},{"../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../types":"./types","./constants/fuji_icon":"./atoms/constants/fuji_icon","./constants/list_item":"./atoms/constants/list_item","./fuji_icon.jsx":"./atoms/fuji_icon","./list_item.jsx":"./atoms/list_item","./menu/menu.jsx":"./atoms/menu/menu","./menu/menu_button.jsx":"./atoms/menu/menu_button","./menu/menu_button_container.jsx":"./atoms/menu/menu_button_container","./styles/account_menu":112,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],91:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),a=require("../platform/mail_constants"),i=require("./styles/account_switcher"),c=e(i),o=require("./unread_count.jsx"),s=e(o),r=require("./list_item.jsx"),u=e(r),l=require("../types"),d=require("../platform/theming/themes"),p=require("../platform/utils"),f=require("../platform/rapid_client/constants.js"),m=require("../platform/utils/route"),g=require("react-intl"),h=require("./fuji_icon_button.jsx"),S=e(h),I=require("./constants/fuji_icon"),T=require("../platform/utils/account"),E=require("../atoms/syncing_indicator.jsx"),_=e(E),A=(0,g.defineMessages)({accountSettingsMenu:{id:"accounts_settings_menu_aria_label",defaultMessage:"Account settings"},syncingIndicatorIcon:{id:"syncing_indicator_icon_aria_label",defaultMessage:"Syncing"},notSyncingIndicatorIcon:{id:"not_syncing_indicator_icon_aria_label",defaultMessage:"Not syncing"}}),v=n.default.createClass({displayName:"AccountSwitcher",contextTypes:{executeAction:t.PropTypes.func,navigateTo:t.PropTypes.func,getUrlFromRoute:t.PropTypes.func.isRequired,getCss:t.PropTypes.func,getThemeMode:t.PropTypes.func,intl:g.intlShape.isRequired},getInitialState:function e(){return{hoveredAccountId:null}},handleClick:function e(t,n){this.props.onClick(n,t,{mKey:f.MKEYS.ACCOUNT_SWITCH,sec:f.SEC_VALUES.LEFTRAIL_ACCOUNTS,interactionType:(0,p.getInteractionFromEvent)(n)})},handleMouseOver:function e(t){this.setState({hoveredAccountId:t})},handleMouseLeave:function e(){this.setState({hoveredAccountId:null})},handleGearIconClick:function e(t,n){this.navigateToSettingsTab(t,n,{mKey:f.MKEYS.EDIT_IMAP_ACCOUNT,sec:f.SEC_VALUES.LEFTRAIL_ACCOUNTS,interactionType:(0,p.getInteractionFromEvent)(n)})},handleExpiredIconClick:function e(t,n){var i=!1,c=t.id,o=t.type,s=(0,T.getAccountProvider)(t);this.props.autoOpenReauth&&o===a.AccountTypes.IMAPIN&&s===a.EmailProviders.GOOGLE&&(window.oAuthWindow=window.open("","authorizeWindow","width=800, height=600, top="+(screen.height-300)+", left="+(screen.width-400)),i=!0),this.navigateToSettingsTab(c,n,{mKey:f.MKEYS.FIX_IMAP_ACCOUNT,sec:f.SEC_VALUES.LEFTRAIL_ACCOUNTS,interactionType:(0,p.getInteractionFromEvent)(n)},i)},navigateToSettingsTab:function e(t,n,i){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n.preventDefault(),n.stopPropagation(),this.context.navigateTo({route:(0,m.buildSettingsRoute)({settingsGroupId:a.SettingsTab.ACCOUNTS,accountId:t,openReauth:c}),i13nModel:i})},shouldRenderAccount:function e(t){var n=t.status,i=t.type;return n!==a.AccountStatus.DELETE_IN_PROGRESS&&i!==a.AccountTypes.POPIN},render:function e(){var t=this,i=this.props,o=i.rootAccounts,r=i.accountDefaultFolders,l=i.activeAccountId,p=i.toggleAccountsList,f=i.expiredAccounts,m=this.context.getCss(c.default),g=this.context.intl.formatMessage,h=o.map(function(e){var i=e.status,o=e.type,m=e.createTime,h=e.id===l,E=t.context.getCss(c.default),v=r[e.id],C=e.description||e.email,y=(0,T.checkSyncingState)({status:i,type:o,createTime:m}),M=t.state.hoveredAccountId===e.id,N=f.indexOf(e.id)!==-1,x=void 0;return v&&(p||h)&&t.shouldRenderAccount(e)?(x=N?n.default.createElement("span",{className:E.expiredIcon},n.default.createElement(S.default,{kind:I.Kinds.EXCLAMATION_ALT,size:I.Sizes.XS,colorState:I.ColorStates.WARNING_GRAD_RED,onClick:t.handleExpiredIconClick.bind(t,e),title:g(A.notSyncingIndicatorIcon)})):y?n.default.createElement("div",{className:E.statusIcon},n.default.createElement(_.default,{size:I.Sizes.XS,title:g(A.syncingIndicatorIcon)})):M?n.default.createElement("span",{className:E.settingGear},n.default.createElement(S.default,{onClick:t.handleGearIconClick.bind(t,e.id),"data-iskeynav":!0,paddingLess:!0,size:I.Sizes.XXS,kind:I.Kinds.SETTINGS,title:g(A.accountSettingsMenu),"aria-label":g(A.accountSettingsMenu),colorState:I.ColorStates.INHERITED})):n.default.createElement("span",{className:E.unreadCount},n.default.createElement(s.default,{value:v.unread,isActive:h,isAccountSwitcher:!0,whiteBackground:t.context.getThemeMode()!==d.ThemeModes.LIGHT})),n.default.createElement(u.default,{key:e.email,onMouseOver:t.handleMouseOver.bind(t,e.id),onMouseLeave:t.handleMouseLeave.bind(t,e.id)},n.default.createElement("a",{"data-iskeynav":!0,"data-test-id":"account-list-item","data-test-account-email":e.email,"data-test-is-active":h,"data-test-unread-count":v.unread,className:E.listItem,href:t.context.getUrlFromRoute({name:a.RouteNames.FOLDER,params:{fid:v.id}}),onClick:t.handleClick.bind(t,v.id),tabIndex:"-1"},n.default.createElement("span",{className:h?E.activeText:E.text,title:C},C),x))):null});return n.default.createElement("div",{"data-test-id":"account-list"},n.default.createElement("ul",{className:m.accountList},h))}});exports.default=v,module.exports=exports.default;
},{"../atoms/syncing_indicator.jsx":"./atoms/syncing_indicator","../platform/mail_constants":"./platform/mail_constants","../platform/rapid_client/constants.js":"./platform/rapid_client/constants","../platform/theming/themes":"./platform/theming/themes","../platform/utils":"./platform/utils","../platform/utils/account":"./platform/utils/account","../platform/utils/route":"./platform/utils/route","../types":"./types","./constants/fuji_icon":"./atoms/constants/fuji_icon","./fuji_icon_button.jsx":"./atoms/fuji_icon_button","./list_item.jsx":"./atoms/list_item","./styles/account_switcher":113,"./unread_count.jsx":131,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],92:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),r=t(a),n=require("react-intl"),i=require("../../molecules/theme_provider"),s=e(i),l=require("../styles/ad_list_item.js"),d=t(l),o=require("../fuji_icon.jsx"),c=t(o),u=require("../button.jsx"),m=t(u),p=require("../../types"),f=require("../xavatar.jsx"),v=t(f),h=require("../../platform/utils/mail_ui_vars"),y=e(h),_=require("../../platform/gemini_api_client/constants.js"),b=require("../../molecules/ads/atoms/feedback_menu.jsx"),E=t(b),g=require("../../platform/assets"),C=require("../constants/fuji_icon"),S=(0,n.defineMessages)({learn_more_btn_title:{id:"learn_more_btn_title",defaultMessage:"Learn More"},learn_more_btn_label:{id:"learn_more_btn_label",defaultMessage:"Learn More"},watch_btn_label:{id:"watch_btn_label",defaultMessage:"Watch"},sponsored:{id:"ad.sponsored",defaultMessage:"Sponsored"}}),N=r.default.createClass({displayName:"AdListItem",contextTypes:{intl:n.intlShape.isRequired,getCss:a.PropTypes.func,getThemeMode:a.PropTypes.func},getInitialState:function e(){return{hover:!1}},onAdChoiceClicked:function e(t){t.stopPropagation(),this.props.onAdChoiceClicked(t)},renderSponsoredIcon:function e(t,a){return r.default.createElement("button",{className:t.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},r.default.createElement(c.default,{kind:C.Kinds.SPONSORED,size:a,colorState:C.ColorStates.INHERITED}))},onPreviewVideoEnd:function e(){this.setState({previewVideoEnded:!0})},renderSponsoredImg:function e(t){var a=this,n=this.props.pencilAdData,i={name:n.advertiser};return n.type===_.UsageType.VideoAdType&&n.previewVideoUrl?r.default.createElement("div",{className:t.previewVideo},this.state.previewVideoEnded?r.default.createElement("img",{"data-test-id":"play-icon",className:t.videoOverlay,src:(0,g.getURL)("/img/gemini_pencil_play.png")}):null,r.default.createElement("video",{muted:!0,className:t.previewVideoPlayer,ref:function e(t){return a.previewVideoPlayer=t}},r.default.createElement("source",{src:n.previewVideoUrl,type:n.previewVideoContentType}))):n.adImg?r.default.createElement(v.default,{contact:i,size:y.AVATAR_SIZE_COMPACT,fallback:n.adImg}):void 0},renderActionButton:function e(t,a){var n,i=this.context.intl.formatMessage,s=(n={},n[_.UsageType.NativeAdType]=S.learn_more_btn_label,n[_.UsageType.VideoAdType]=S.watch_btn_label,n);return r.default.createElement("div",null,r.default.createElement(m.default,{className:t.actionButton,title:i(s[a]),"data-test-id":"learn-more-btn"},i(s[a])))},renderFeedbackMenu:function e(t,a){var n=this.props,i=n.isCompactLayout;if(n.feedbackEnabled)return r.default.createElement("div",{className:t.iconContainer},r.default.createElement(E.default,{size:a,onAdChoiceClicked:this.onAdChoiceClicked,onAdFeedbackRequest:this.props.onAdFeedbackRequest,isCompactLayout:i,hideFeedbackChevron:!this.state.hover&&i}))},componentDidMount:function e(){this.previewVideoPlayer&&this.previewVideoPlayer.play&&(this.previewVideoPlayer.play(),this.previewVideoPlayer.onended=this.onPreviewVideoEnd)},render:function e(){var t=this,a=this.props,n=a.pencilAdData,i=a.onClick,s=a.isCompactLayout,l=a.geminiViewability,o=n.type===_.UsageType.NativeAdType,c=n.type===_.UsageType.VideoAdType,u=o&&s,m=[],p=this.context.getCss(d.default,{isCompactLayout:s,sponsoredCompactLayout:u});return n.impressionTrackingUrls.forEach(function(e){e&&m.push(r.default.createElement("img",{key:e,className:p.mbBeacon,src:e}))}),r.default.createElement("a",{ref:this.props.anchorRef,"data-test-id":"pencil-ad",className:p.link,href:n.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:i,onMouseLeave:function e(){return t.setState({hover:!1})},onMouseOver:function e(){t.state.hover||t.setState({hover:!0})}},r.default.createElement("div",{className:p.gridB1},r.default.createElement("div",{className:p.imageContainer},s?this.renderSponsoredIcon(p,C.Sizes.XXS):this.renderSponsoredImg(p)),s?null:this.renderSponsoredIcon(p,C.Sizes.S),s?null:r.default.createElement("div",{className:p.advertiserContainer},r.default.createElement("span",{className:p.advertiser},n.adSource),r.default.createElement("span",{className:p.sponsored},this.context.intl.formatMessage(S.sponsored)))),r.default.createElement("div",{className:p.spacer}),r.default.createElement("div",{className:p.gridB2},r.default.createElement("div",{className:p.message},r.default.createElement("div",{className:p.subjectContainer},r.default.createElement("span",{"data-test-id":"ad-subject",className:p.subject,"aria-label":s?n.adSource:n.adHeadline,title:s?n.adSource:n.adHeadline},s?n.adSource:n.adHeadline),s?r.default.createElement("div",{className:p.sponsoredContainer},r.default.createElement("span",{className:p.sponsored},this.context.intl.formatMessage(S.sponsored))):null),r.default.createElement("div",{className:p.snippetContainer},r.default.createElement("span",{className:p.snippet,"data-test-id":"ad-summary","aria-label":n.adSummary,title:n.adSummary},n.adSummary),s?this.renderFeedbackMenu(p,C.Sizes.XXS):null)),!o&&!c||s?null:this.renderActionButton(p,n.type),s?null:this.renderFeedbackMenu(p,C.Sizes.S)),l?null:r.default.createElement("img",{className:p.mbBeacon,"data-test-id":"imp-beacon",src:n.beacon}),l?null:m)}});exports.default=s.provide(N),module.exports=exports.default;
},{"../../molecules/ads/atoms/feedback_menu.jsx":141,"../../molecules/theme_provider":"./molecules/theme_provider","../../platform/assets":"./platform/assets","../../platform/gemini_api_client/constants.js":355,"../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../types":"./types","../button.jsx":"./atoms/button","../constants/fuji_icon":"./atoms/constants/fuji_icon","../fuji_icon.jsx":"./atoms/fuji_icon","../styles/ad_list_item.js":114,"../xavatar.jsx":"./atoms/xavatar","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/advanced_checkbox":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.CheckTypes=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},a=require("react"),o=e(a),r=require("./fuji_icon_button.jsx"),s=e(r),c=require("./constants/fuji_icon"),i=require("react-intl"),d=require("../platform/utils/object"),n=(0,i.defineMessages)({checked:{id:"atom.checkbox_checked",defaultMessage:"Checkbox, checked"},notChecked:{id:"atom.checkbox_not_checked",defaultMessage:"Checkbox, not checked"},partialChecked:{id:"atom.checkbox_partial_checked",defaultMessage:"Checkbox, partially checked"}}),l=exports.CheckTypes=(0,d.mirrorKeys)(["NONE","ALL","PARTIAL"]),h=o.default.createClass({displayName:"AdvancedCheckbox",getDefaultProps:function e(){return{highContrast:!1,isInverted:!1,size:c.Sizes.XS}},contextTypes:{intl:i.intlShape.isRequired},render:function e(){var a=this.props,r=a.type,i=a.highContrast,d=a.isInverted,h=a.size,u=void 0,k=void 0,C=void 0,p=void 0,f=void 0;switch(d?(p=i?c.ColorStates.INVERTED_LESS_DIM:c.ColorStates.INVERTED_DIM,f=c.ColorStates.INVERTED):(p=i?c.ColorStates.NORMAL:c.ColorStates.COOL_FAINT,f=c.ColorStates.SELECTED),r){case l.ALL:u=c.Kinds.CHECKBOX_ON,k=f,C=n.checked;break;case l.PARTIAL:u=c.Kinds.MIXED_CHECKBOX,k=p,C=n.partialChecked;break;case l.NONE:default:u=c.Kinds.CHECKBOX_OFF,k=p,C=n.notChecked}return o.default.createElement(s.default,t({"data-test-id":"checkbox"},this.props,{"data-iskeynav":!0,role:"checkbox",size:h,kind:u,"aria-checked":r!==l.NONE,colorState:k,title:this.context.intl.formatMessage(C)}))}});exports.default=h;
},{"../platform/utils/object":"./platform/utils/object","./constants/fuji_icon":"./atoms/constants/fuji_icon","./fuji_icon_button.jsx":"./atoms/fuji_icon_button","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],93:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),r=require("react-intl"),n=require("react-atomic-css/css"),o=e(n),i=require("./styles/advanced_search_button"),s=e(i),l=require("./hover_colored_fuji_icon_button.jsx"),c=e(l),d=require("./constants/fuji_icon"),u=require("../platform/utils/"),f=require("../platform/rapid_client/constants"),h=(0,o.default)(s.default),_=(0,r.defineMessages)({chevron_title:{id:"advanced_search.chevron_title",defaultMessage:"Toggle advanced search pane"}}),p=a.default.createClass({displayName:"AdvancedSearchButton",contextTypes:{intl:r.intlShape.isRequired},getDefaultProps:function e(){return{chevronDown:!0}},handleOnClick:function e(t){var a={mKey:f.MKEYS.ADVANCED_SEARCH,interactionType:(0,u.getInteractionFromEvent)(t)};this.props.onClick({i13nModel:a})},render:function e(){var t=this.context.intl.formatMessage,r=this.props,n=r.chevronDown,o=r.tabIndex;return a.default.createElement("div",{className:h.buttonContainer,"data-test-id":"advanced-search-button"},a.default.createElement(c.default,{tabIndex:o,kind:d.Kinds.CHEVRON_UP,colorStates:{normal:d.ColorStates.DISABLED,hovered:d.ColorStates.SELECTED},size:d.Sizes.S,rotate:n?d.Rotate.D180:null,title:t(_.chevron_title),"aria-label":t(_.chevron_title),onClick:this.handleOnClick,paddingLess:!0}))}});exports.default=p,module.exports=exports.default;
},{"../platform/rapid_client/constants":"./platform/rapid_client/constants","../platform/utils/":"./platform/utils","./constants/fuji_icon":"./atoms/constants/fuji_icon","./hover_colored_fuji_icon_button.jsx":"./atoms/hover_colored_fuji_icon_button","./styles/advanced_search_button":115,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/attachment_icon":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function A(t){var A=t.disabled,T=t.type,e=t.subtype,o=t.isInverted,C=(0,a.getAttachmentType)(T,e),E=I[C]||s.Kinds.ATTACH_GENERIC_48,S=c[C]||s.ColorStates.ATTACH_GENERIC,i=o?_.DODGE_60:P[S],u={fill:A?_.THIRD_LEVEL_GRAY:i};return r.default.createElement("svg",{style:u,viewBox:"0 0 20 20",className:D.attachmentIcon},l._svg[E])}exports.__esModule=!0;var T,e,o,C=require("react"),r=t(C),l=require("./fuji_icon.jsx"),s=require("./constants/fuji_icon"),a=require("../platform/utils/attachments"),E=require("../platform/mail_constants"),_=require("../platform/utils/mail_ui_vars"),S=require("react-atomic-css/css"),i=t(S),u=require("./styles/attachment_icon"),H=t(u),n=E.Attachments.SimplifiedTypes,D=(0,i.default)(H.default),I=(T={},T[n.IMAGE]=s.Kinds.ATTACH_IMAGE_48,T[n.VIDEO]=s.Kinds.ATTACH_MOVIE_48,T[n.FILE]=s.Kinds.ATTACH_GENERIC_48,T[n.AUDIO]=s.Kinds.ATTACH_SOUND_48,T[n.COMPRESSED]=s.Kinds.ATTACH_ZIP_48,T[n.PDF]=s.Kinds.ATTACH_PDF_48,T[n.XLS]=s.Kinds.ATTACH_XLS_48,T[n.PPT]=s.Kinds.ATTACH_PPT_48,T[n.DOC]=s.Kinds.ATTACH_DOC_48,T[n.CAL]=s.Kinds.ATTACH_ICS_48,T),c=(e={},e[n.IMAGE]=s.ColorStates.ATTACH_MEDIA,e[n.VIDEO]=s.ColorStates.ATTACH_MEDIA,e[n.AUDIO]=s.ColorStates.ATTACH_MEDIA,e[n.PDF]=s.ColorStates.ATTACH_PDF,e[n.XLS]=s.ColorStates.ATTACH_EXCEL,e[n.PPT]=s.ColorStates.ATTACH_SLIDE,e[n.DOC]=s.ColorStates.ATTACH_DOC,e[n.CAL]=s.ColorStates.ATTACH_CAL,e[n.COMPRESSED]=s.ColorStates.ATTACH_COMPRESSED,e),P=(o={},o[s.ColorStates.ATTACH_MEDIA]="url(#"+s.ColorStates.ATTACH_MEDIA+") "+_.PALETTE.ycolorPurple14a,o[s.ColorStates.ATTACH_CAL]="url(#"+s.ColorStates.ATTACH_MEDIA+") "+_.PALETTE.ycolorPurple14a,o[s.ColorStates.ATTACH_EXCEL]="url(#"+s.ColorStates.ATTACH_EXCEL+") "+_.PALETTE.ycolorTurquoise8a,o[s.ColorStates.ATTACH_DOC]="url(#"+s.ColorStates.ATTACH_DOC+") "+_.PALETTE.ycolorBlue10b,o[s.ColorStates.ATTACH_SLIDE]="url(#"+s.ColorStates.ATTACH_SLIDE+") "+_.PALETTE.ycolorPink1a,o[s.ColorStates.ATTACH_PDF]="url(#"+s.ColorStates.ATTACH_SLIDE+") "+_.PALETTE.ycolorPink1a,o[s.ColorStates.ATTACH_GENERIC]="url(#"+s.ColorStates.ATTACH_GENERIC+") "+_.PALETTE.ycolorBlue10a,o[s.ColorStates.ATTACH_COMPRESSED]="url(#"+s.ColorStates.ATTACH_GENERIC+") "+_.PALETTE.ycolorBlue10a,o);exports.default=A,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/utils/attachments":"./platform/utils/attachments","../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","./constants/fuji_icon":"./atoms/constants/fuji_icon","./fuji_icon.jsx":"./atoms/fuji_icon","./styles/attachment_icon":"./atoms/styles/attachment_icon","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/bidi_input":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}exports.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=require("react"),r=e(n),i=require("./styles/bidi_input"),o=e(i),s=require("react-atomic-css/css"),u=e(s),l=require("react-atomic-css/merge"),c=e(l),f=require("bidi-utils"),d=require("./fuji_icon_button.jsx"),p=e(d),h=require("./constants/fuji_icon"),C=require("react-intl"),v=(0,C.defineMessages)({clearButton:{id:"input_clear",defaultMessage:"Clear"}}),m=r.default.createClass({displayName:"BidiInput",contextTypes:{intl:C.intlShape},getInitialState:function e(){return{value:this.props.value}},componentWillReceiveProps:function e(t){this.state.value!==t.value&&this.setState({value:t.value})},getDefaultProps:function e(){return{value:"",onChange:function e(){},isClearable:!1,onClear:function e(){},containerClassName:"",focusOnMount:!1,clearIconColorState:h.ColorStates.FAINT}},componentDidMount:function e(){var t=this;this.props.focusOnMount&&setTimeout(function(){return t.bidiInput&&t.bidiInput.focus()},0)},componentDidUpdate:function e(){var t=(0,f.getTextDirection)(this.props.value);this.bidiInput&&(t||this.bidiInput.removeAttribute("dir"))},focus:function e(){this.bidiInput.focus()},handleChange:function e(t){var a=this,n=this.state.value;t.persist(),t.target.value!==n&&this.setState({value:t.target.value},function(){a.props.onChange(t)})},render:function e(){var n=this,i=this.props,s=i.className,l=i.containerClassName,d=i.clearButtonContainerClassName,C=i.isClearable,m=i.onClear,b=i.clearIconColorState,g=i.focusOnMount,N=t(i,["className","containerClassName","clearButtonContainerClassName","isClearable","onClear","clearIconColorState","focusOnMount"]),I=this.state.value,S=Boolean(C&&I),x=(0,f.getTextDirection)(I),M=(0,u.default)(o.default,{showClear:S,dir:x});return r.default.createElement("div",{className:(0,c.default)(M.inputContainer,l)},r.default.createElement("input",a({},N,{value:I,className:(0,c.default)(M.input,s),ref:function e(t){return n.bidiInput=t},onChange:this.handleChange,dir:x})),S&&r.default.createElement("span",{className:(0,c.default)(M.clearButtonContainer,d)},r.default.createElement(p.default,{kind:h.Kinds.CLEAR,size:h.Sizes.XXS,colorState:b,title:this.context.intl.formatMessage(v.clearButton),className:M.clearButton,onClick:m,"data-test-id":"clear-button"})))}});exports.default=m,module.exports=exports.default;
},{"./constants/fuji_icon":"./atoms/constants/fuji_icon","./fuji_icon_button.jsx":"./atoms/fuji_icon_button","./styles/bidi_input":"./atoms/styles/bidi_input","bidi-utils":"./node_modules/react-y-typeahead/node_modules/bidi-utils/src/index.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-atomic-css/merge":"./node_modules/react-atomic-css/merge.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/button":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=require("react"),a=e(n),s=require("./styles/button"),i=e(s),o=require("react-atomic-css/css"),d=e(o),u=require("./constants/button"),l=require("../platform/utils/object"),c=a.default.createClass({displayName:"Button",getDefaultProps:function e(){return{kind:u.Kinds.PRIMARY,disabled:!1,paddingLess:!1,isOnDarkBackground:!1}},keyboardClick:function e(t){/^( |Enter)$/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),this.props.onClick(t))},render:function e(){var n=this.props,s=n.kind,o=n.disabled,l=n.paddingLess,c=n.onClick,p=n.children,k=n.isOnDarkBackground,f=t(n,["kind","disabled","paddingLess","onClick","children","isOnDarkBackground"]),b=(0,d.default)(i.default,{decorated:s===u.Kinds.PRIMARY||s===u.Kinds.SECONDARY||s===u.Kinds.DANGER,kind:s,disabled:o,paddingLess:l,isOnDarkBackground:k,primaryHover:(s===u.Kinds.PRIMARY)+"_"+o});return a.default.createElement("button",r({tabIndex:-1,disabled:!!o,className:b.button,onKeyDown:c&&this.keyboardClick,onClick:c,type:"button"},f),p)}});exports.default=c,module.exports=exports.default;
},{"../platform/utils/object":"./platform/utils/object","./constants/button":"./atoms/constants/button","./styles/button":"./atoms/styles/button","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/carousel":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),a=require("react-intl"),i=require("./constants/fuji_icon"),r=require("./fuji_icon_button.jsx"),l=e(r),n=require("./styles/carousel"),o=e(n),d=require("react-atomic-css/css"),u=e(d),c=(0,a.defineMessages)({prev:{id:"carousel.previous",defaultMessage:"Previous"},next:{id:"carousel.next",defaultMessage:"Next"}}),f={NEXT:"NEXT",PREV:"PREV"},h=s.default.createClass({displayName:"Carousel",contextTypes:{config:t.PropTypes.object.isRequired,intl:a.intlShape.isRequired},getInitialState:function e(){return{offset:0,nextDisabled:!1}},componentDidMount:function e(){var t=this.props,a=t.itemWidth,i=t.children,r=a*s.default.Children.count(i);this.setState({nextDisabled:this.refs.carousel.clientWidth>=r})},componentWillReceiveProps:function e(t){if(t.isWindowResizingDone){var a=this.props,i=a.itemWidth,r=a.children,l=this.state.offset,n=i*s.default.Children.count(r),o=this.refs.carousel.clientWidth,d=o+l-n,u=d>l?l:d,c=d>=0?l-u:l;this.setState({offset:c,nextDisabled:o+c-n>=0})}},navHandle:function e(t){var a=this.props,i=a.itemWidth,r=a.children,l=this.state.offset,n=i*s.default.Children.count(r),o=this.refs.carousel.clientWidth,d=0;if(t===f.NEXT){var u=n-o-l;d=o>u?-u:-o}else d=l>o?o:l;var c=l-d;0!==d&&this.setState({offset:c,nextDisabled:o+c-n>=0})},render:function e(){var t=this.context.intl,a=this.state,r=a.offset,n=a.nextDisabled,d=r<=0,h=(0,u.default)(o.default,{prevDisabled:d,nextDisabled:n}),p=this.props.rtl,v=p?{right:-r}:{left:-r};return s.default.createElement("div",{className:h.carouselContainer},s.default.createElement(l.default,{kind:i.Kinds.ARROW_RIGHT_DOC,rotate:p?i.Rotate.D0:i.Rotate.D180,size:i.Sizes.XS,colorState:d?i.ColorStates.FAINT:i.ColorStates.SELECTED,onClick:this.navHandle.bind(this,f.PREV),title:t.formatMessage(c.prev),"aria-label":t.formatMessage(c.prev),className:h.prevNavHandle}),s.default.createElement("div",{className:h.carousel,ref:"carousel"},s.default.createElement("div",{className:h.list,style:v},this.props.children)),s.default.createElement(l.default,{kind:i.Kinds.ARROW_RIGHT_DOC,rotate:p?i.Rotate.D180:i.Rotate.D0,size:i.Sizes.XS,colorState:n?i.ColorStates.FAINT:i.ColorStates.SELECTED,onClick:this.navHandle.bind(this,f.NEXT),title:t.formatMessage(c.next),"aria-label":t.formatMessage(c.next),className:h.nextNavHandle}))}});exports.default=h,module.exports=exports.default;
},{"./constants/fuji_icon":"./atoms/constants/fuji_icon","./fuji_icon_button.jsx":"./atoms/fuji_icon_button","./styles/carousel":"./atoms/styles/carousel","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/checkbox":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){var r=e.isChecked,s=e.size;return u.default.createElement(o.default,t({},e,{type:r?a.CheckTypes.ALL:a.CheckTypes.NONE,size:s}))}exports.__esModule=!0;var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e};exports.default=r;var s=require("react"),u=e(s),a=require("./advanced_checkbox.jsx"),o=e(a),c=require("../platform/utils/object"),i=require("./constants/fuji_icon");r.defaultProps={size:i.Sizes.XS},module.exports=exports.default;
},{"../platform/utils/object":"./platform/utils/object","./advanced_checkbox.jsx":"./atoms/advanced_checkbox","./constants/fuji_icon":"./atoms/constants/fuji_icon","react":"./node_modules/react/react.js"}],94:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),o=e(t),s=require("./styles/compose_link"),r=e(s),a=require("react-intl"),n=require("../platform/utils"),i=require("./lazy_component"),p=require("./constants/fuji_icon"),u=(0,a.defineMessages)({compose:{id:"compose_button.compose",defaultMessage:"Compose"}}),l=o.default.createClass({displayName:"ComposeLink",contextTypes:{intl:a.intlShape,config:t.PropTypes.object,getCss:t.PropTypes.func},getDefaultProps:function e(){return{showComposeBadge:!1,appRootPath:"/d"}},renderBadge:function e(t){return this.props.showComposeBadge?o.default.createElement("div",{className:t.badgeContainer,"data-test-id":"hotspots-badge"},o.default.createElement(i.LazyComponent,{import:"../molecules/feature_cue/atoms/badge",cueName:"HSComposeBadge",size:p.Sizes.XS,kind:p.Kinds.COMPOSE,_moduleGetter:function e(){return require("../molecules/feature_cue/atoms/badge")}})):null},render:function e(){var t=this.context.intl.formatMessage,s=this.props.appRootPath,a=t(u.compose),i=this.context.getCss(r.default),p=(0,n.generateUID)();return o.default.createElement("a",{"data-iskeynav":!0,"data-test-id":"compose-button",href:s+"/compose/"+p,className:i.link,onClick:this.props.onClick,onDrop:this.props.handleDrop,onDragOver:this.props.handleDragOver,onDragEnter:this.props.handleDragEnter,role:"button","aria-label":a},this.renderBadge(i),a)}});exports.default=l,module.exports=exports.default;
},{"../molecules/feature_cue/atoms/badge":"./molecules/feature_cue/atoms/badge","../platform/utils":"./platform/utils","./constants/fuji_icon":"./atoms/constants/fuji_icon","./lazy_component":"./atoms/lazy_component","./styles/compose_link":116,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/constants/button":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Kinds=void 0;var E=require("../../platform/utils/object"),R=exports.Kinds=(0,E.mirrorKeys)(["PLAIN","PRIMARY","SECONDARY","CHROMELESS","ICON","ICON_HIGHLIGHTED","MENUITEM","MENUITEM_PARENT_TEXT_COLOR","DANGER","SECONDARY_BORDERLESS","CUE","TOUCH_PRIMARY"]);
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/constants/corners":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Corners=void 0;var e=require("../../platform/utils/object"),t=exports.Corners=(0,e.mirrorKeys)(["TopLeft","TopCenter","TopRight","CenterLeft","CenterCenter","CenterRight","BottomLeft","BottomCenter","BottomRight"]);
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/constants/fancy_input":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Kinds=void 0;var r=require("../../platform/utils/object"),e=exports.Kinds=(0,r.mirrorKeys)(["DEFAULT","DARK_BORDER_BOTTOM","LEFT_ICON"]);
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/constants/flex_spacer":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.SupportedTags=void 0;var r=require("../../platform/utils"),e=r.object.mirrorKeys,o=exports.SupportedTags=e(["LI","SPAN"]);
},{"../../platform/utils":"./platform/utils"}],"./atoms/constants/fuji_icon":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.ColorStates=exports.Rotate=exports.Sizes=exports.Kinds=void 0;var E=require("../../platform/utils/object"),A=exports.Kinds=(0,E.mirrorKeys)(["ADD","ALIGN_CENTER","ALIGN_LEFT","APP_HIDDEN","ARCHIVE","ARROW_RIGHT_DOC","ARROW_UP","ATTACH","ATTACHMENT","ATTACH_CAL","ATTACH_DOC","ATTACH_DOC_48","ATTACH_GENERIC_48","ATTACH_ICS_48","ATTACH_IMAGE","ATTACH_IMAGE_48","ATTACH_MOVIE_48","ATTACH_PDF_48","ATTACH_PPT_48","ATTACH_SOUND_48","ATTACH_XLS_48","ATTACH_ZIP_48","ATTENTION","BOLD","BUG","CALENDAR","CALENDAR_SETTINGS","CAL_ACCEPT","CAL_DECLINE","CAL_MAYBE","CHECKBOX_OFF","CHECKBOX_ON","CHECKMARK","CHEVRON_UP","CIRCLE","CLEAR","CLOCK","CLOSE","CLOSE_MINI","COLLAPSE_LIST","COMPOSE","COMPOSE_EMOJI","CONTACTS","CONTACT_CARD","CONTRACT","DELETE","DEVICE_DESKTOP","DOCUMENTS_S","DOWNLOAD","DRAFTS","EMOJI_FOOD_AND_DRINK","ENTER","EXCLAMATION_ALT","EXPAND","EXPAND_LIST","FACEBOOK","FEEDBACK","FLICKR","FOLDER","FORWARD","GIF_BOX","GUEST_LIST","HEART","HOME","INBOX","INDENT","INPUT_ARROW_DOWN","ITALIC","LINK","LINKEDIN","LIST_ORDERED","LIST_UNORDERED","LOCATION_MARKER","LOCK","MAGIC","MESSENGER","MINUS","MIXED_CHECKBOX","MORE","MOVE_TO_FOLDER","NOTEPAD","NO_INTERNET","ORB","OUTDENT","POP_OUT","PRINTER","READ","REFRESH","REPLY","REPLY_ALL","RESTORE_TO_INBOX","RICHTEXT_OFF","RICHTEXT_ON","SCISSORS","SEARCH","SEARCH_MAIL","SEARCH_MINI","SEARCH_WEB","SELECTED","SENT","SETTINGS","SHARE","SHARE_SOCIAL","SPAM","SPONSORED","STAR","STATIONERY","TAB_IMAGES","TEXT","TEXT_COLOR","TRAVEL","TUMBLR","TWITTER","UNLOCK","VIDEO_CALL","YBADGE","TAP_TO_TOP"]),T=exports.Sizes=(0,E.mirrorKeys)(["XXXS","XXS","XS","S","M","L","XL","XXL"]),_=exports.Rotate=(0,E.mirrorKeys)(["D0","D90","D180","D270"]),C=exports.ColorStates=(0,E.mirrorKeys)(["NORMAL","FIRST_LEVEL_GRAY","NORMAL_LESS_DIM","IMPROVED_GRAY_DARK","SECOND_LEVEL_GRAY","DARK","INHERITED","INVERTED","INVERTED_DIM","INVERTED_LESS_DIM","SELECTED","SELECTED_DARK_THEME_MODE","STARRING","STARRED","STARRED_DARK","SMARTVIEW_DARK","DISABLED","LESS_IMPORTANT","FAINT","TRANSPARENT","HEADING","GRAD_RED","GRAD_BLUE","COOL_FAINT","WARNING","WARNING_GRAD_RED","SUCCESS","ATTACH_GENERIC","ATTACH_MEDIA","ATTACH_CAL","ATTACH_EXCEL","ATTACH_DOC","ATTACH_SLIDE","ATTACH_PDF","ATTACH_COMPRESSED","YBADGE","TOUCH_PRIMARY"]);
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/constants/key_codes":[function(require,module,exports){
"use strict";exports.__esModule=!0;var E=exports.KEYCODE={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,LEFT:37,RIGHT:39,SPACE:32,TAB:9,PERIOD:190,BACKSPACE:8,DELETE:46};
},{}],"./atoms/constants/list":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Layout=void 0;var r=require("../../platform/utils/object"),e=exports.Layout=(0,r.mirrorKeys)(["HORIZONTAL","VERTICAL","GRID"]);
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/constants/list_item":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Kinds=void 0;var r=require("../../platform/utils/object"),e=exports.Kinds=(0,r.mirrorKeys)(["DEFAULT","GRID","WRAP_CONTENT"]);
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/constants/modal":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Kinds=void 0;var r=require("../../platform/utils/object"),e=exports.Kinds=(0,r.mirrorKeys)(["LIGHT","DARK"]);
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/constants/navigable_list":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Kinds=void 0;var r=require("../../platform/utils"),e=r.object.mirrorKeys,s=exports.Kinds=e(["DEFAULT","MENU","TOOLBAR"]);
},{"../../platform/utils":"./platform/utils"}],"./atoms/constants/popover":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Align=exports.ErrorStrings=exports.BackgroundKinds=exports.Orientations=exports.PermittedArrowDirections=exports.Triggers=exports.ArrowSizes=exports.ArrowWidths=void 0;var r=require("../../platform/utils/object"),e=exports.ArrowWidths={S:6,M:12,L:24},o=exports.ArrowSizes=(0,r.mirrorKeys)(e),s=exports.Triggers=(0,r.mirrorKeys)(["MOUNT","HOVER","CLICK","RIGHTCLICK"]),t=exports.PermittedArrowDirections=(0,r.mirrorKeys)(["UP","DOWN","LEFT","RIGHT","ANY"]),i=exports.Orientations=(0,r.mirrorKeys)(["HORIZONTAL","VERTICAL"]),n=exports.BackgroundKinds=(0,r.mirrorKeys)(["DEFAULT","DARK","GRADIENT","LIGHTGRAY"]),p=exports.ErrorStrings={NOT_ENOUGH_CHILDREN:"PopoverContainer should have at least one child, recommended two children",FIRST_CHILD_SHOULD_BE_POPOVER_ANCHOR:"PopoverContainer first child should be a PopoverAnchor",SUBSEQUENT_SHOULD_BE_POPOVER_CONTENT:"After PopoverAnchor subsequent children should be of type PopoverContent"},A=exports.Align=(0,r.mirrorKeys)(["CENTER","START","END"]);
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/constants/svg_image":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.SELECTED_MESSAGES_SIZE=exports.Kinds=void 0;var E=require("../../platform/utils/object"),S=exports.Kinds=(0,E.mirrorKeys)(["EMPTY_FOLDER","SELECTED_MESSAGES","ATTACHMENT_PREVIEW_ERROR","PLAY_VIDEO","GEAR_ICON","DOCUMENTS_ICON"]),r=exports.SELECTED_MESSAGES_SIZE=138;
},{"../../platform/utils/object":"./platform/utils/object"}],"./atoms/dialog/alert":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),s=require("../button.jsx"),l=e(s),r=require("../modal.jsx"),o=e(r),i=require("../styles/alert_dialog"),n=e(i),c=require("react-atomic-css/css"),d=e(c),u=require("../../platform/utils/mail_ui_vars"),p=require("../fuji_icon.jsx"),f=e(p),m=require("../fuji_icon_button.jsx"),h=e(m),x=require("react-intl"),_=require("../constants/fuji_icon"),E=(0,d.default)(n.default),g={margin:"14px "+u.GRID_UNIT+"px "+5*u.GRID_UNIT+"px 0",border:0,padding:"0 "+7*u.GRID_UNIT+"px"},C=(0,x.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptText:{id:"alert.ok",defaultMessage:"OK"}}),N=function e(){},q=a.default.createClass({displayName:"Alert",contextTypes:{intl:x.intlShape.isRequired},getInitialState:function e(){return{shown:!0}},getDefaultProps:function e(){return{acceptText:C.defaultAcceptText}},handleKeyDown:function e(t){("Enter"===t.key||"Escape"===t.key&&!this.props.onClose)&&(t.preventDefault(),t.stopPropagation(),this.props.onAccept())},render:function e(){var t=this.context.intl.formatMessage,s=t(this.props.acceptText),r=void 0;return r=this.props.hideClose?null:a.default.createElement("div",{className:E.close},a.default.createElement(h.default,{onClick:this.props.onClose?this.props.onClose:this.props.onAccept,kind:_.Kinds.CLOSE,size:_.Sizes.XS,title:t(C.close),"aria-label":t(C.close),"data-test-id":"alert-button-close"})),a.default.createElement(o.default,{onKeyDown:this.handleKeyDown,onClose:this.props.onClose?this.props.onClose:N},a.default.createElement("div",{className:E.container,"data-test-id":"alert-dialog",role:"alertdialog"},a.default.createElement("div",{className:E.icon},a.default.createElement(f.default,{kind:_.Kinds.EXCLAMATION_ALT,size:_.Sizes.L,colorState:_.ColorStates.WARNING_GRAD_RED})),a.default.createElement("header",{className:E.header},a.default.createElement("h3",{className:E.title,"data-test-id":"alert-title"},this.props.title),r),a.default.createElement("section",{className:E.message,"data-test-id":"alert-message"},this.props.message),a.default.createElement("footer",{className:E.controls},a.default.createElement(l.default,{onClick:this.props.onAccept,style:g,"data-test-id":"alert-button-ok"},s))))}});exports.default=q,module.exports=exports.default;
},{"../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../button.jsx":"./atoms/button","../constants/fuji_icon":"./atoms/constants/fuji_icon","../fuji_icon.jsx":"./atoms/fuji_icon","../fuji_icon_button.jsx":"./atoms/fuji_icon_button","../modal.jsx":"./atoms/modal","../styles/alert_dialog":"./atoms/styles/alert_dialog","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/dialog/confirm":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),l=require("react-intl"),o=require("./dual_action.jsx"),s=e(o),c=(0,l.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}}),n=a.default.createClass({displayName:"Confirm",contextTypes:{intl:l.intlShape.isRequired},getDefaultProps:function e(){return{acceptLabel:c.defaultAcceptLabel,cancelLabel:c.defaultCancelLabel,showCustomTitle:!1,hideIcon:!1}},render:function e(){var t=this.props,l=t.title,o=t.onConfirm,c=t.onAbort,n=t.hideIcon,r=t.customTitle,i=t.showCustomTitle,u=t.acceptLabel,d=t.cancelLabel,f=t.message;return a.default.createElement(s.default,{primaryButtonLabel:u,secondaryButtonLabel:d,hideIcon:n,title:l,customTitle:r,showCustomTitle:i,message:f,onPrimaryButtonClick:o,onSecondaryButtonClick:c,onClose:c},this.props.children)}});exports.default=n,module.exports=exports.default;
},{"./dual_action.jsx":"./atoms/dialog/dual_action","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/dialog/dual_action":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),i=require("../button.jsx"),o=e(i),s=require("../modal.jsx"),l=e(s),n=require("../fuji_icon.jsx"),r=e(n),d=require("../fuji_icon_button.jsx"),u=e(d),c=require("../constants/button"),p=require("../constants/fuji_icon"),f=require("../styles/dual_action"),m=e(f),h=require("react-atomic-css/css"),y=e(h),C=require("../../platform/utils/mail_ui_vars"),E=require("react-intl"),g=(0,E.defineMessages)({close:{id:"dualActionDialog.close",defaultMessage:"Close"}}),_={margin:4*C.GRID_UNIT+"px "+C.GRID_UNIT+"px "+5*C.GRID_UNIT+"px 0"},k=a.default.createClass({displayName:"DualActionDialog",contextTypes:{intl:E.intlShape.isRequired},getDefaultProps:function e(){return{primaryButtonLabel:g.defaultprimaryButtonLabel,secondaryActionLabel:g.defaultsecondaryActionLabel,hideIcon:!1}},handlePrimaryButtonClick:function e(t){t.stopPropagation(),this.props.onPrimaryButtonClick(t)},handleSecondaryButtonClick:function e(t){t.stopPropagation(),this.props.onSecondaryButtonClick(t)},handleClose:function e(t){t.stopPropagation(),this.props.onClose(t)},handleKeyDown:function e(t){return t.stopPropagation(),"Enter"===t.key?(t.preventDefault(),t.stopPropagation(),void this.props.onPrimaryButtonClick(t)):"Escape"===t.key?(t.preventDefault(),t.stopPropagation(),void this.props.onClose(t)):void 0},render:function e(){var t=this.context.intl.formatMessage,i=this.props,s=i.title,n=i.hideIcon,d=i.showCustomTitle,f=i.customTitle,h=this.props.message,C=t(this.props.primaryButtonLabel),E=t(this.props.secondaryButtonLabel),k=(0,y.default)(m.default,{hideIcon:n});return h||(h=this.props.children),a.default.createElement(l.default,{onClose:this.handleClose,onKeyDown:this.handleKeyDown},a.default.createElement("div",{className:k.container,"data-test-id":"dual-action-dialog"},n?null:a.default.createElement("div",{className:k.icon},a.default.createElement(r.default,{kind:p.Kinds.EXCLAMATION_ALT,size:p.Sizes.L,colorState:p.ColorStates.WARNING_GRAD_RED})),a.default.createElement("div",{className:k.header},d?f:a.default.createElement("div",{className:k.title,"data-test-id":"title"},s),a.default.createElement("div",{className:k.close},a.default.createElement(u.default,{onClick:this.handleClose,kind:p.Kinds.CLOSE,size:p.Sizes.XS,title:t(g.close),"aria-label":t(g.close),"data-test-id":"close-btn"}))),a.default.createElement("div",{className:k.message,"data-test-id":"message"},h),a.default.createElement("div",{className:k.controls},a.default.createElement(o.default,{onClick:this.handlePrimaryButtonClick,style:_,"data-test-id":"primary-btn"},C),a.default.createElement(o.default,{onClick:this.handleSecondaryButtonClick,kind:c.Kinds.SECONDARY,style:_,"data-test-id":"secondary-btn"},E))))}});exports.default=k,module.exports=exports.default;
},{"../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../button.jsx":"./atoms/button","../constants/button":"./atoms/constants/button","../constants/fuji_icon":"./atoms/constants/fuji_icon","../fuji_icon.jsx":"./atoms/fuji_icon","../fuji_icon_button.jsx":"./atoms/fuji_icon_button","../modal.jsx":"./atoms/modal","../styles/dual_action":"./atoms/styles/dual_action","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],95:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function r(t){var r=function(r){function u(o){n(this,u);var i=e(this,r.call(this,o));return i.unmountModal.bind(i),i.children=t.props.children,i}return o(u,r),u.prototype.getChildContext=function n(){return{intl:t.props.context.intl}},u.prototype.componentWillUnmount=function t(){f&&f.removeChild(d),d=null},u.prototype.unmountModal=function t(){a.default.unmountComponentAtNode(d)},u.prototype.render=function t(){var n=this,e=l.default.Children.toArray(this.children),o=e[0],r=this.children.props;return l.default.cloneElement(o,{onPrimaryButtonClick:function t(){n.unmountModal(),r.onPrimaryButtonClick()},onSecondaryButtonClick:function t(){n.unmountModal(),r.onSecondaryButtonClick()},onClose:function t(){n.unmountModal(),r.onClose()}})},u}(l.default.Component);return r.childContextTypes={intl:p.intlShape},r}function u(t,n){d||(d=document.createElement("div"),f=document.getElementById("app"),f.appendChild(d));var e=l.default.createElement(s,{context:n},t),o=r(e);a.default.render(l.default.createElement(o,null),d)}exports.__esModule=!0,exports.renderModalBox=u;var i=require("react"),l=t(i),c=require("react-dom"),a=t(c),p=require("react-intl"),d=void 0,f=void 0,s=function(t){function r(){return n(this,r),e(this,t.apply(this,arguments))}return o(r,t),r.prototype.render=function t(){return null},r}(l.default.Component);
},{"react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js"}],96:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),t=e(a),s=require("../button.jsx"),r=e(s),l=require("../progress_bar.jsx"),c=e(l),u=require("../styles/progress_dialog"),d=e(u),n=require("react-atomic-css/css"),i=e(n),o=require("react-intl"),f=(0,i.default)(d.default),m=function e(){},g=t.default.createClass({displayName:"ProgressDialog",getDefaultProps:function e(){return{isCancelable:!1,onClose:m}},render:function e(){var a=this.props,s=a.message,l=a.subtitle,u=a.progress,d=a.onCancel,n=a.isCancelable;return t.default.createElement("div",{className:f.container,"data-test-id":"progress-dialog"},t.default.createElement("div",{className:f.messageContainer},t.default.createElement("span",{className:f.message,"data-test-id":"progress-dialog-message"},s),n&&t.default.createElement(r.default,{onClick:d,className:f.cancel,"data-test-id":"progress-dialog-cancel"},t.default.createElement(o.FormattedMessage,{id:"confirm.cancel",defaultMessage:"Cancel"}))),t.default.createElement("div",{className:f.subtitle},l),t.default.createElement("div",{className:f.bar},t.default.createElement(c.default,{value:u})))}});exports.default=g,module.exports=exports.default;
},{"../button.jsx":"./atoms/button","../progress_bar.jsx":108,"../styles/progress_dialog":119,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/drag_image":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),a=require("react-atomic-css/css"),s=e(a),o=require("./styles/drag_image"),i=e(o),d=require("./hover_colored_fuji_icon_button.jsx"),l=e(d),u=require("./constants/fuji_icon"),c=(0,s.default)(i.default),n=r.default.createClass({displayName:"DragImage",render:function e(){var t={left:this.props.x,top:this.props.y};return r.default.createElement("div",{id:"drag-icon-div","data-test-id":"drag-image",className:c.dragIcon,style:t},r.default.createElement(l.default,{title:"drag-icon",kind:this.props.iconKind,size:u.Sizes.XS,colorStates:{normal:u.ColorStates.SELECTED,hovered:u.ColorStates.SELECTED}}),r.default.createElement("div",{className:c.counter},this.props.count))}});exports.default=n,module.exports=exports.default;
},{"./constants/fuji_icon":"./atoms/constants/fuji_icon","./hover_colored_fuji_icon_button.jsx":"./atoms/hover_colored_fuji_icon_button","./styles/drag_image":"./atoms/styles/drag_image","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/fancy_input":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a=require("react"),n=e(a),s=require("./bidi_input.jsx"),i=e(s),o=require("./styles/fancy_input"),l=e(o),u=require("react-atomic-css/css"),c=e(u),d=require("react-atomic-css/merge"),f=e(d),p=require("./constants/fancy_input"),h=require("../platform/utils/object"),m=require("./fuji_icon"),v=e(m),g=n.default.createClass({displayName:"FancyInput",getDefaultProps:function e(){return{hint:"",error:"",focusOnMount:!1,kind:p.Kinds.DEFAULT,className:""}},handleChange:function e(t){var r=this.props.onChange;r&&r(t.target.value)},handleClear:function e(){var t=this.props.onChange;t&&t("")},render:function e(){var a=this.props,s=a.hint,o=a.error,u=a.kind,d=a.fujiIconProps,p=a.className,h=t(a,["hint","error","kind","fujiIconProps","className"]),m=Boolean(s),g=Boolean(o),C=Boolean(d),y=(0,c.default)(l.default,{kind:u});return n.default.createElement("div",{className:y.inputContainer},n.default.createElement(i.default,r({},h,{className:(0,f.default)(y.inputField,p),onChange:this.handleChange,onClear:this.handleClear})),C&&n.default.createElement("div",{className:y.inputIcon},n.default.createElement(v.default,d)),m&&!g&&n.default.createElement("div",{className:y.hint},s),g&&n.default.createElement("span",{"data-test-id":"input-error",className:y.error},o))}});exports.default=g,module.exports=exports.default;
},{"../platform/utils/object":"./platform/utils/object","./bidi_input.jsx":"./atoms/bidi_input","./constants/fancy_input":"./atoms/constants/fancy_input","./fuji_icon":"./atoms/fuji_icon","./styles/fancy_input":"./atoms/styles/fancy_input","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-atomic-css/merge":"./node_modules/react-atomic-css/merge.js"}],"./atoms/flex_spacer":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var r=require("react"),t=e(r),a=require("react-atomic-css/css"),s=e(a),u=require("./styles/flex_spacer"),l=e(u),n=require("./constants/flex_spacer"),c=require("../platform/utils/object"),o=(0,s.default)(l.default),p=t.default.createClass({displayName:"Spacer",getDefaultProps:function e(){return{kind:n.SupportedTags.SPAN}},shouldComponentUpdate:function e(){return!1},render:function e(){var r=this.props.tagName===n.SupportedTags.LI?"li":"span";return t.default.createElement(r,{className:o.flexSpacer})}});module.exports=p;
},{"../platform/utils/object":"./platform/utils/object","./constants/flex_spacer":"./atoms/constants/flex_spacer","./styles/flex_spacer":"./atoms/styles/flex_spacer","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/folder_label":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r=e.folderDisplayType,o=void 0===r?"":r,a=e.name,u=e.prefix,s=void 0===u?"":u,n=e.count,d=t.intl,f=s+((0,i.getLocalisedFolderName)(d.formatMessage,o)||a);return n&&(f+=" ("+d.formatNumber(n)+")"),l.default.createElement("span",null,f)}exports.__esModule=!0;var r=require("react"),l=e(r),o=require("react-intl"),a=require("../platform/mail_constants"),u=require("../platform/utils/object"),i=require("../platform/utils/folder");t.contextTypes={intl:o.intlShape.isRequired},exports.default=t,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/utils/folder":"./platform/utils/folder","../platform/utils/object":"./platform/utils/object","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],97:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r=require("react"),n=e(r),i=require("react-intl"),l=require("./popover/popover_container.jsx"),a=e(l),s=require("./popover/popover_anchor.jsx"),o=e(s),u=require("./popover/popover_content.jsx"),d=e(u),c=require("./keyboard_navigation_focus_group.jsx"),f=require("../platform/utils/mail_ui_vars"),h=require("./constants/popover"),p=require("./list_item.jsx"),m=e(p),y=require("./button.jsx"),g=e(y),_=require("./folder_label.jsx"),v=e(_),E=require("./constants/button.js"),F=require("../platform/mail_constants"),I=require("../platform/utils/object"),M=require("../platform/utils/folder"),S=require("../types"),C=require("../platform/theming/themes"),b=require("../atoms/fuji_icon_button.jsx"),N=e(b),T=require("react-atomic-css/css"),x=e(T),k=require("./styles/folder_menu"),R=e(k),q=require("./constants/fuji_icon"),A=require("./fuji_icon.jsx"),D=e(A),L=require("./bidi_input.jsx"),O=e(L),K=require("classnames"),j=e(K),P=(0,x.default)(R.default),w=(0,i.defineMessages)({multikey_shortcut:{id:"multikey_shortcut",defaultMessage:"{primaryShortcutKey} then {secondaryShortcutKey}"},all_mail_title:{id:"folder_menu.all_mail_title",defaultMessage:"All mail"},search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"}}),G=n.default.createClass({displayName:"FolderMenu",contextTypes:{intl:i.intlShape.isRequired,getThemeMode:r.PropTypes.func},getDefaultProps:function e(){return{disabledFolderIds:[],excludedFolderTypes:[],excludeAllMailItem:!0,fujiIconKind:q.Kinds.MOVE_TO_FOLDER,zAltitude:f.ZIndices.POPOVER.HIGH,onMenuShow:function e(){},onMenuHide:function e(){},isFilterFocused:!1}},getInitialState:function e(){return{filterString:"",isFilterActive:!1}},_getListStyle:function e(t){return{paddingLeft:2*f.GRID_UNIT*(t+2)+f.GRID_UNIT+"px",paddingRight:4*f.GRID_UNIT+"px",width:62.5*f.GRID_UNIT+"px"}},_handleMenuHide:function e(){var t=this;this.setState({filterString:""},function(){t.props.onMenuHide()})},_handleMenuShow:function e(){var t=this;setTimeout(function(){return t.props.isFilterFocused?t._focusFirstMenuItem():t._focusContainer()},0),this.props.onMenuShow()},getFoldersForRendering:function e(){var t=this.props.folders,r=t.customFolders,n=t.systemFolders;return{customFolders:this.orderFoldersForRendering((0,M.getCustomFoldersForDisplay)(r),0,!1,!0),systemFolders:this.orderFoldersForRendering(n,0,!0,!0)}},_focusFirstMenuItem:function e(){if(!this.listContainer)return!1;var t=this.listContainer.querySelector("[data-iskeynav]");return t&&t.focus()},_focusContainer:function e(){return this.listContainer&&this.listContainer.focus()},orderFoldersForRendering:function e(t,r,n,i){var l=this,a=this.props,s=a.disabledFolderIds,o=a.excludedFolderTypes,u=this.state.filterString,d=[];if(t.forEach(function(e){var t=e.folder.id,n=(0,M.getPrimaryFolderType)(e.folder),i=e.folder.name;if(o.indexOf(n)===-1){var a=e.children,c=s.indexOf(t)!==-1,f={folder:e.folder,level:r,disabled:c};(0,M.getPrimaryFolderType)(f.folder)===F.FolderTypes.INBOX&&(f.shortcut=0),i.toLowerCase().indexOf(u.toLowerCase())!==-1&&d.push(f),a.length&&(d=d.concat(l.orderFoldersForRendering(a,r+1,!1,!1)))}}),i&&!n)for(var c=0,f=0;c<9&&d[f];f++)(0,M.getPrimaryFolderType)(d[f].folder)!==F.FolderTypes.INBOX&&(d[f].shortcut=++c);return d},getShortcutsMap:function e(t,r){var n=[];return r.forEach(function(e){e.shortcut>=0&&!e.disabled&&(n[e.shortcut]=e.folder.id)}),t.forEach(function(e){e.shortcut>=0&&!e.disabled&&(n[e.shortcut]=e.folder.id)}),n},handleClick:function e(t,r){this.props.onClick(t,r),this._handleMenuHide()},handleKeyDown:function e(t,r){if(r.target===this.listContainer){if(r.key===F.Keys.ARROW_DOWN||r.shiftKey&&"d"===r.key.toLowerCase())return r.preventDefault(),this._focusFirstMenuItem();var n=r.keyCode-48,i=r.keyCode-96,l=t[n]||t[i];l&&this.handleClick(l,r)}},renderMenuItems:function e(r){var l=this,a=[],s=this.props,o=s.hasShortcuts,u=s.primaryShortcutKey,d=s.archiveShortcutKey;return r.forEach(function(e){var r=e.folder,s=e.level,c=e.disabled,f=e.shortcut,h=r.id,p=r.name,y=(0,M.getPrimaryFolderType)(e.folder),_=void 0;o&&(f>=0?_=n.default.createElement(i.FormattedMessage,t({},w.multikey_shortcut,{values:{primaryShortcutKey:u,secondaryShortcutKey:""+f}})):y===F.FolderTypes.ARCHIVE&&(_=d)),a.push(n.default.createElement(m.default,{key:h,"data-test-id":"item-move-to-folder-id-"+h},n.default.createElement(g.default,{kind:E.Kinds.MENUITEM,onClick:l.handleClick.bind(l,h),style:l._getListStyle(s),disabled:c,title:p,"data-iskeynav":!0},n.default.createElement("span",{className:P.fullLabel},n.default.createElement("span",{className:P.itemLabel},n.default.createElement(v.default,{folderDisplayType:(0,M.getFolderDisplayType)(e.folder),name:p})),_?n.default.createElement("span",{className:P.shortcut},_):null))))}),a},renderSearchInput:function e(){var t=this,r=this.props.hasShortcuts,i=r?"Shift+D":null,l=this.state,a=l.filterString,s=l.isFilterActive,o=this.context.intl.formatMessage,u=i&&!s&&""===a,d=Object.assign({},this._getListStyle(0),{paddingLeft:4*f.GRID_UNIT-2+"px"},u?{}:{paddingRight:f.GRID_UNIT+"px"});return n.default.createElement(m.default,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},n.default.createElement("div",{className:P.inputContainer,style:d,onClick:function e(t){return t.stopPropagation()}},n.default.createElement(D.default,{kind:q.Kinds.SEARCH_MINI,size:q.Sizes.XS,colorState:q.ColorStates.DISABLED}),n.default.createElement(O.default,{ref:function e(r){return t.input=r},className:P.inputField,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:a,onClear:function e(){return t.setState({filterString:""})},onChange:function e(r){return t.setState({filterString:r.target.value})},onFocus:function e(){return t.setState({isFilterActive:!0})},onBlur:function e(){return t.setState({isFilterActive:!1})},isClearable:!0,placeholder:o(w.search_placeholder),"data-iskeynav":!0}),u?n.default.createElement("span",{className:P.shortcut},i):null))},renderEmptyResult:function e(){var t=this.context.intl.formatMessage;return n.default.createElement(m.default,null,n.default.createElement("div",{className:P.noResultContainer,style:this._getListStyle(0)},t(w.no_result_label)))},renderAllMailItem:function e(){var t=this.context.intl.formatMessage,r=t(w.all_mail_title);return n.default.createElement(m.default,{key:F.AllMailItemField.ALL_MAIL,"data-test-id":"all-mail"},n.default.createElement(g.default,{kind:E.Kinds.MENUITEM,onClick:this.handleClick.bind(this,""),style:this._getListStyle(0)},n.default.createElement("span",{className:P.fullLabel},n.default.createElement("span",{className:P.itemLabel},n.default.createElement(v.default,{name:r})))))},renderPopoverContent:function e(t){var r=this,i,l=this.props,a=l.zAltitude,s=l.hasShortcuts,o=l.excludeAllMailItem,u=this.getFoldersForRendering(),p=u.customFolders,m=u.systemFolders,y=this.getShortcutsMap(p,m),g=p.length+m.length;return n.default.createElement(d.default,{triggerOn:t,permittedArrowDirections:[h.PermittedArrowDirections.UP],zAltitude:a,onHide:this._handleMenuHide,onShow:this._handleMenuShow},n.default.createElement("div",{"data-test-id":"folder-menu",className:P.popoverContent,onKeyDown:s?this.handleKeyDown.bind(this,y):function(){},tabIndex:f.TabIndices.FOLDER_SELECTION_MENU,role:"menu",ref:function e(t){return r.listContainer=t}},n.default.createElement(c.KeyboardNavigationFocusGroup,{groupTabIndex:f.TabIndices.FOLDER_SELECTION_MENU,skipKeydownOnFormElement:!1},n.default.createElement("ul",{className:P.systemGroup},this.renderSearchInput()),0===g&&n.default.createElement("ul",{className:P.lastGroup},this.renderEmptyResult()),p.length>0&&n.default.createElement("ul",{className:(0,j.default)(P.customGroup,(i={},i[P.lastGroup]=!(m.length>0),i[P.systemGroup]=m.length>0,i))},this.renderMenuItems(p)),m.length>0&&n.default.createElement("ul",{className:P.lastGroup},!o&&this.renderAllMailItem(),this.renderMenuItems(m)))))},renderAnchorButton:function e(){var t=this.props,r=t.label,i=t.title,l=t.disabled,a=t.onMenuToggle,s=this.context.getThemeMode()===C.ThemeModes.DARK;return n.default.createElement("span",null,n.default.createElement(N.default,{"data-test-id":"folder-menu-button","data-iskeynav":!0,title:i,tabIndex:this.props.tabIndex,disabled:l,onClick:a,kind:this.props.fujiIconKind,size:q.Sizes.XS,colorState:q.ColorStates.INHERITED,className:P.anchorButton,isOnDarkBackground:s},r))},renderPopoverContainer:function e(t){return n.default.createElement(a.default,{className:P.popoverContainer},n.default.createElement(o.default,null,this.renderAnchorButton()),this.renderPopoverContent(t))},render:function e(){var t=this.props,r=t.isMenuActive;return t.onMenuToggle?r?this.renderPopoverContainer(h.Triggers.MOUNT):this.renderAnchorButton():this.renderPopoverContainer(h.Triggers.CLICK)}});exports.default=G,module.exports=exports.default;
},{"../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../platform/mail_constants":"./platform/mail_constants","../platform/theming/themes":"./platform/theming/themes","../platform/utils/folder":"./platform/utils/folder","../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../platform/utils/object":"./platform/utils/object","../types":"./types","./bidi_input.jsx":"./atoms/bidi_input","./button.jsx":"./atoms/button","./constants/button.js":"./atoms/constants/button","./constants/fuji_icon":"./atoms/constants/fuji_icon","./constants/popover":"./atoms/constants/popover","./folder_label.jsx":"./atoms/folder_label","./fuji_icon.jsx":"./atoms/fuji_icon","./keyboard_navigation_focus_group.jsx":"./atoms/keyboard_navigation_focus_group","./list_item.jsx":"./atoms/list_item","./popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","./popover/popover_container.jsx":"./atoms/popover/popover_container","./popover/popover_content.jsx":"./atoms/popover/popover_content","./styles/folder_menu":117,"classnames":"./node_modules/classnames/index.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/fuji_icon":[function(require,module,exports){
"use strict";function c(c){if(c&&c.__esModule)return c;var e={};if(null!=c)for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(e[l]=c[l]);return e.default=c,e}function e(c){return c&&c.__esModule?c:{default:c}}function l(c,e){var l={};for(var t in c)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(c,t)&&(l[t]=c[t]);return l}exports.__esModule=!0,exports._svg=void 0;var t=Object.assign||function(c){for(var e=1;e<arguments.length;e++){var l=arguments[e];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(c[t]=l[t])}return c},a=require("react"),h=e(a),z=require("./styles/fuji_icon"),s=e(z),d=require("react-atomic-css/css"),M=e(d),v=require("./constants/fuji_icon"),r=c(v),E={ADD:h.default.createElement("path",{d:"M13.75 9.25h-3v-3c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3h-3c-.414 0-.75.336-.75.75s.336.75.75.75h3v3c0 .414.336.75.75.75s.75-.336.75-.75v-3h3c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),ALIGN_CENTER:h.default.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM6 7c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1H6zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM14 15H6c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),ALIGN_LEFT:h.default.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM4 9h8c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM12 15H4c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),APP_HIDDEN:h.default.createElement("path",{d:"M15.9 6.2c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1C6.2 2.9 5.3 2 4.1 2 2.9 2 2 2.9 2 4.1c0 1.2.9 2.1 2.1 2.1zm11.8 5.9c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1C2.9 7.9 2 8.8 2 10c0 1.2.9 2.1 2.1 2.1zM15.9 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zM10 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1z"}),ARCHIVE:h.default.createElement("path",{d:"M17.25 7H11.767v.75c0 .966-.784 1.75-1.75 1.75s-1.75-.784-1.75-1.75V7H2.75c-.414 0-.75.336-.75.75v8.5c0 .414.336.75.75.75h14.5c.414 0 .75-.336.75-.75v-8.5c0-.414-.336-.75-.75-.75zM3 5h14c.552 0 1-.448 1-1s-.448-1-1-1H3c-.552 0-1 .448-1 1s.448 1 1 1z"}),ARROW_RIGHT_DOC:h.default.createElement("path",{d:"M7.252 17.785L14.72 10 7.25 2.214c-.285-.287-.748-.287-1.035 0-.287.285-.287.75 0 1.035l6.34 6.75-6.34 6.75c-.286.285-.286.748 0 1.035.287.287.75.287 1.037 0"}),ARROW_UP:h.default.createElement("path",{d:"M14.8 8.5l-5-5-5 5c-.3.3-.3.8 0 1.1s.8.3 1.1 0L9 6.4v9.4c0 .4.3.8.8.8s.8-.3.8-.8V6.4l3.2 3.2c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.8 0-1.1z"}),ATTACH:h.default.createElement("path",{d:"M16.7 16.5c-1.7 1.7-4.4 1.7-6.1 0l-3.9-3.9c-1-1-1.1-2.7 0-3.9 1.1-1.1 2.8-1.1 3.9 0l3.6 3.6c.3.3.3.8 0 1.1s-.8.3-1.1 0L9.6 9.9c-.5-.5-1.2-.5-1.7 0s-.5 1.2 0 1.7l4.1 4.1s1.8 1.5 3.6-.3c1.1-1.1 1.1-2.8 0-3.9L8.4 4.4c-1.1-1.1-2.8-1.1-3.9 0-2.1 2.1.4 4.1.4 4.1.3.3.3.8 0 1.1s-.8.3-1.1 0c0 0-3.8-2.9-.3-6.4 1.7-1.7 4.4-1.7 6.1 0l7.2 7.2c1.6 1.7 1.6 4.5-.1 6.1"}),ATTACHMENT:h.default.createElement("path",{d:"M15.6 14.4c-1.3 1.3-3.3 1.3-4.6 0l-2.9-2.9c-.8-.8-.8-2.1 0-2.9.8-.8 2.1-.8 2.9 0l2.7 2.7c.2.2.2.6 0 .8s-.6.2-.8 0l-2.7-2.7c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l3.1 3.1s1.4 1.1 2.7-.2c.8-.8.8-2.1 0-2.9L9.3 5.3c-.8-.8-2.1-.8-2.9 0-1.6 1.6.2 3.1.2 3.1.2.2.2.6 0 .8s-.6.2-.8 0c0 0-2.8-2.2-.2-4.8 1.3-1.3 3.3-1.3 4.6 0l5.4 5.4c1.2 1.3 1.2 3.3 0 4.6"}),ATTACH_CAL:h.default.createElement("path",{d:"M16.36 4H14V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H7V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H3.64c-.35 0-.64.28-.64.64v10.73c0 .35.29.63.64.63h12.73c.35 0 .63-.28.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 15H4v-5h12v5zm0-6H4V5h2v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h6v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h2v4z"}),ATTACH_DOC:h.default.createElement("path",{d:"M4.5 17V3h7v3.45c0 .3.25.55.55.55h3.45v10h-11zM16.34 6.19s-3.26-3.22-3.88-3.84c-.16-.14-.32-.33-.6-.35H4.23c-.4 0-.73.33-.73.73v14.55c0 .4.33.73.73.73h11.55c.4 0 .72-.33.72-.73V6.62c-.01-.2-.08-.34-.16-.43z"}),ATTACH_DOC_48:h.default.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zm-.708 14.683H3.644V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13zM11.834 7.302l-5.48.99v7.514l5.48.99v-1.31h2.26c.277 0 .5-.178.5-.455s-.223-.454-.5-.454h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.456-.5-.456h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26V7.302zm-1.672 6.36c-.194.1-.485-.003-.715.012-.154-.745-.334-1.485-.473-2.234-.136.727-.312 1.448-.468 2.17-.223-.01-.447-.025-.672-.04-.192-.99-.42-1.973-.6-2.966.2-.01.4-.017.598-.024.12.717.256 1.43.36 2.15l.494-2.21c.22-.012.442-.02.662-.032.155.76.313 1.518.48 2.275.132-.782.277-1.56.417-2.34.233-.008.465-.02.696-.034-.26 1.09-.49 2.19-.778 3.273z"}),ATTACH_GENERIC_48:h.default.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zM3.644 19.13V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13H3.644z"}),ATTACH_ICS_48:h.default.createElement("path",{d:"M19.09 2.73H15V1.365c0-.228-.227-.455-.455-.455-.227 0-.454.228-.454.456V2.73H5.91V1.365c0-.228-.228-.455-.455-.455C5.227.91 5 1.14 5 1.367V2.73H.91c-.5 0-.91.408-.91.908v14.546c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V3.638c0-.5-.41-.91-.91-.91zm0 15.454H.91V3.638H5v.91c0 .227.227.454.455.454.227 0 .454-.227.454-.455v-.91h8.18v.91c0 .228.228.455.455.455.228 0 .455-.227.455-.455v-.91h4.09v14.547zM8.218 10.962l-.447-.076L9.48 9.25c.27-.257.396-.41.396-.702 0-.337-.29-.458-.56-.458H5.873c-.237 0-.438.2-.438.44 0 .236.2.437.438.437H8.59l-1.757 1.77c-.223.222-.27.35-.27.477 0 .238.203.44.44.44h.242c1.01 0 1.61.42 1.61 1.124 0 .66-.503 1.106-1.226 1.106-.58 0-1.067-.184-1.532-.58-.116-.097-.218-.138-.347-.138-.276 0-.518.243-.518.52 0 .143.078.28.16.362l.024.02c.59.506 1.308.752 2.194.752 1.385 0 2.315-.838 2.315-2.084 0-.992-.574-1.582-1.707-1.774zM14.036 7.99c-.2 0-.4.044-.686.122l-.995.29c-.217.064-.35.236-.35.45 0 .232.208.437.448.437.048 0 .135-.015.217-.035l.827-.244v5.212c0 .298.242.54.54.54s.54-.242.54-.54V8.53c0-.3-.243-.54-.54-.54z"}),ATTACH_IMAGE:h.default.createElement("path",{d:"M16.36 4H3.64c-.35 0-.64.28-.64.64v10.73c0 .34.29.63.64.63h12.73c.35 0 .63-.29.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 5v8.5l-4-5-2.95 3.64L7 9.5l-3 3.2V5h12zM6.77 15H4v-.91L7 11l1.44 1.89L6.77 15zM8 15l4-5 4 5H8z"}),ATTACH_IMAGE_48:h.default.createElement("path",{d:"M19.09 1.82H.91c-.5 0-.91.4-.91.91v14.55c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V2.73c0-.51-.4-.91-.91-.91zM.91 17.27v-1.02l4.55-5.54L8.2 14l-2.74 3.28-4.55-.01zm5.68 0L12.73 10l6.36 7.27H6.59zm12.5-1.36l-6.36-7.27-3.94 4.65-3.34-4-4.54 5.53V2.73h18.18v13.18z"}),ATTACH_MOVIE_48:h.default.createElement("path",{d:"M7.918 12.67c.06 0 .1-.02.17-.06l4.03-2.345c.125-.072.178-.167.178-.26s-.064-.19-.188-.262L8.062 7.398c-.07-.04-.082-.06-.142-.06-.15 0-.193.117-.193.32V12.35c0 .202.044.32.19.32zM19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547z"}),ATTACH_PDF_48:h.default.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM11.59 12.67c-.058-.065-.118-.133-.178-.203-.405-.468-.772-.973-1.08-1.478.17-.79.26-1.518.27-2.066l.002-.103c.015-.622.04-1.666-.863-1.856-.278-.058-.556-.002-.78.16-.242.173-.408.453-.443.75-.11.92.332 2.123.978 3.243-.17.71-.41 1.45-.71 2.123-.667.256-1.33.608-1.954 1.077-1.09.787-.984 1.37-.823 1.647.147.253.44.393.76.393.155 0 .32-.033.475-.104.887-.405 1.59-1.313 2.116-2.388.653-.22 1.304-.344 1.915-.393.582.585 1.385 1.225 2.123 1.245.712.02 1.072-.373 1.12-.77.052-.42-.254-.952-1.045-1.126-.532-.115-1.176-.178-1.88-.15zm-4.674 2.868c-.09.042-.17.04-.215.028.03-.09.167-.308.597-.617.277-.21.562-.392.85-.552-.356.52-.768.93-1.23 1.14zm2.38-7.57c.008-.064.05-.155.12-.206.034-.024.068-.035.108-.035.017 0 .036.002.055.006.243.05.252.535.24 1.07l-.003.106c-.006.277-.033.6-.082.954-.33-.74-.495-1.417-.438-1.897zm.465 4.963c.115-.3.218-.608.308-.914.182.26.372.51.562.742-.285.042-.576.1-.87.173zm3.543.658c.336.074.437.23.435.263-.007.016-.09.096-.32.082h-.002c-.213-.006-.547-.14-.972-.466.31.023.6.066.86.122z"}),ATTACH_PPT_48:h.default.createElement("path",{d:"M8.767 11.032v.934c.228.018.45.06.59-.175.104-.177.095-.502-.026-.64-.156-.176-.36-.15-.563-.118zM11.82 10.818h-.006V7.285l-5.467.99v7.498l5.467.99v-2.218h2.264c.246 0 .454-.203.454-.454 0-.252-.203-.454-.454-.454h-2.264v-1.294h.005c.245.366.664.608 1.14.608.676 0 1.238-.487 1.35-1.13h-1.577v-1.584c-.38.062-.705.278-.912.582zm-1.76.99c-.087.37-.327.63-.705.722-.188.046-.39.037-.604.055v1.055H8.18v-3.187c.442 0 .88-.012 1.32.01.115.004.248.09.333.177.327.335.327.752.23 1.167zM13.188 10.235v1.13h1.123c-.092-.578-.545-1.033-1.122-1.13zM17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09z"}),ATTACH_SOUND_48:h.default.createElement("path",{d:"M19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547zM11.818 11.81c.25 0 .455-.202.455-.452V7.746c0-.25-.204-.45-.455-.45s-.454.2-.454.45v3.612c0 .25.203.452.454.452zM13.636 11.353c.25 0 .455-.202.455-.45V9.546c0-.25-.203-.45-.454-.45s-.454.2-.454.45v1.355c0 .25.203.45.454.45zM8.182 14.067c.25 0 .454-.202.454-.45V6.39c0-.25-.203-.452-.454-.452-.25 0-.455.202-.455.452v7.224c0 .25.204.45.455.45zM10 13.165c.25 0 .455-.202.455-.452V9.1c0-.248-.204-.45-.455-.45s-.455.202-.455.45v3.613c0 .25.204.452.455.452zM6.364 12.274c.25 0 .454-.204.454-.455V8.636c0-.25-.203-.454-.454-.454-.25 0-.455.203-.455.454v3.182c0 .25.203.454.454.454z"}),ATTACH_XLS_48:h.default.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM12.18 9.545c0-.228-.157-.383-.366-.432V7.286l-5.467.99v7.497l5.467.99v-1.33c.21-.05.365-.205.365-.433s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432 0-.23-.157-.383-.366-.433V9.98c.21-.05.365-.204.365-.433zm-2.587 4.222c-.19-.463-.425-.91-.562-1.394-.152.45-.37.876-.547 1.317-.247-.003-.494-.013-.74-.023.29-.558.57-1.12.867-1.675-.253-.572-.532-1.132-.793-1.7.248-.015.496-.03.744-.042.17.433.353.862.49 1.307.15-.472.372-.916.563-1.372.254-.017.51-.033.766-.045-.302.607-.604 1.214-.91 1.818.31.622.626 1.238.937 1.86-.27-.016-.542-.032-.814-.05zM13.233 13.636h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.454.5.454zM13.233 15.455h.837c.276 0 .5-.18.5-.455s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.455.5.455zM13.233 11.818h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.178-.5.454s.223.454.5.454zM13.233 10h.837c.276 0 .5-.178.5-.455 0-.276-.224-.454-.5-.454h-.837c-.277 0-.5.18-.5.455s.223.455.5.455z"}),ATTACH_ZIP_48:h.default.createElement("path",{d:"M4.272 15.458h-.365c-.15 0-.27.137-.27.287v.364c0 .15.12.257.27.257h.365c.15 0 .273-.107.273-.258v-.365c0-.15-.122-.287-.273-.287zM3.907 14.55h.365c.15 0 .273-.11.273-.26v-.363c0-.15-.122-.287-.273-.287h-.365c-.15 0-.27.136-.27.287v.364c0 .15.12.26.27.26zM5.18 14.55h-.36c-.152 0-.275.12-.275.272v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM5.18 12.73h-.36c-.152 0-.275.123-.275.274v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM3.907 12.73h.365c.15 0 .273-.107.273-.257v-.364c0-.152-.122-.288-.273-.288h-.365c-.15 0-.27.136-.27.287v.363c0 .15.12.258.27.258zM5.196 8.64H3.91c-.15 0-.274.122-.274.273v1.713c0 .158.13.287.287.287h.622v.65c0 .15.123.26.273.26h.366c.15 0 .27-.11.27-.26V8.9c0-.144-.115-.26-.258-.26zM19.09 4.55h-8.808L9.176 2.215c-.11-.222-.296-.394-.54-.394H.86c-.478.028-.857.42-.857.904v.454H0v14.097c0 .502.407.91.91.91h18.18c.5 0 .91-.41.91-.91V5.457c0-.5-.407-.908-.91-.908zm0 12.727H5.456v-.637c0-.15-.123-.273-.274-.273h-.36c-.152 0-.275.123-.275.273v.637H.91V2.73H8.41l1.12 2.467c.073.16.234.26.41.26h9.15v11.82z"}),ATTENTION:h.default.createElement("path",{d:"M10.727 10.727c0 .4-.326.727-.727.727-.402 0-.727-.326-.727-.727V6.364c0-.4.325-.727.727-.727.4 0 .727.326.727.727v4.363zM10 14.364c-.402 0-.727-.326-.727-.727s.325-.727.727-.727c.4 0 .727.326.727.727s-.326.727-.727.727zM10 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z"}),BOLD:h.default.createElement("path",{d:"M15.2 8.9c.3-.6.4-1.2.4-1.8 0-2.2-1.8-4-4-4H5.1C4.5 3 4 3.5 4 4.1v11.8c0 .6.5 1.1 1.1 1.1h7.1c2.6 0 4.6-2.1 4.6-4.6 0-1.4-.6-2.7-1.6-3.5zM14 12.7c0 .9-.7 1.6-1.6 1.6H6.8v-3.1h5.7c.8-.1 1.5.6 1.5 1.5zM6.8 8.3V5.8h4.8c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3H6.8v-.1z"}),BUG:h.default.createElement("g",null,h.default.createElement("path",{fill:"#26282A",d:"M11.113 6.862c.78-.407 1.318-1.214 1.318-2.154 0-1.16-.81-2.124-1.893-2.372l.004-.016c.075-.282.138-1.758 1.703-1.758.644 0 1.242.376 1.522.957.067.14.235.198.375.13.14-.066.2-.234.13-.374C13.9.5 13.103 0 12.244 0c-1.24 0-2.25 1.01-2.25 2.25 0-1.24-1.01-2.25-2.25-2.25-.86 0-1.656.5-2.03 1.276-.066.14-.007.308.133.375.14.068.308.01.375-.13C6.5.937 7.1.56 7.744.56c1.563 0 1.627 1.476 1.7 1.758l.005.016c-1.083.248-1.893 1.214-1.893 2.372 0 .94.538 1.747 1.317 2.154-2.57.52-4.504 2.79-4.504 5.513C4.368 15.48 6.886 18 9.993 18s5.625-2.52 5.625-5.625c0-2.723-1.935-4.994-4.505-5.513z"}),h.default.createElement("path",{fill:"#ED1B32",d:"M9.993 8.854c0 4.01 2.365 7.457 5.77 9.052 1.72-1.793 2.62-4.38 2.068-7.16-.616-3.112-3.127-5.615-6.24-6.217-5.12-.99-9.597 2.904-9.597 7.845 0 2.148.85 4.094 2.23 5.53 3.405-1.594 5.77-5.042 5.77-9.05z"}),h.default.createElement("circle",{fill:"#26282A",cx:"12.743",cy:"8.75",r:"1.25"}),h.default.createElement("circle",{fill:"#26282A",cx:"7.243",cy:"8.75",r:"1.25"}),h.default.createElement("circle",{fill:"#26282A",cx:"15.243",cy:"12.75",r:"1.25"}),h.default.createElement("circle",{fill:"#26282A",cx:"4.743",cy:"12.75",r:"1.25"})),CALENDAR:h.default.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1zm-7.95 8.276v.002c0 1.296-.944 2.247-2.475 2.247-.982 0-1.717-.304-2.277-.784-.137-.12-.254-.325-.254-.54 0-.393.332-.727.725-.727.216 0 .36.088.48.186.393.334.806.51 1.344.51.57 0 .972-.324.972-.834v-.02c0-.56-.5-.873-1.344-.873h-.236c-.353 0-.647-.295-.647-.647 0-.208.087-.384.323-.62L7.998 8.33h-2.11c-.353 0-.65-.295-.65-.65 0-.35.297-.647.65-.647h3.346c.44 0 .765.255.765.668 0 .374-.176.58-.453.845L8.203 9.83c.932.157 1.846.647 1.846 1.923v.02zm4.205 2.19c-.412 0-.746-.334-.746-.746v-4.75l-.532.137c-.078.02-.186.04-.265.04-.352 0-.656-.294-.656-.647 0-.305.195-.56.498-.648l.973-.284c.284-.08.5-.128.707-.128h.02c.41 0 .745.333.745.745v5.536c0 .412-.333.746-.745.746z"}),CALENDAR_SETTINGS:h.default.createElement("path",{d:"M19 7V4.496c0-.64-.367-1-1-1h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1V7h18zM1 8.5v7.496c0 .64.367 1 1 1h16c.633 0 1-.36 1-1V8.5H1z"}),CAL_ACCEPT:h.default.createElement("path",{d:"M14.1 7.3c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0l1.6 1.6L13 7.3c.4-.3.8-.3 1.1 0zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_DECLINE:h.default.createElement("path",{d:"M11.1 10l2.3 2.4c.3.3.3.8 0 1.1s-.8.3-1.1 0L10 11.1l-2.4 2.4c-.3.3-.8.3-1.1 0-.3-.3-.3-.8 0-1.1L8.9 10 6.6 7.6c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0L10 8.9l2.3-2.3c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1L11.1 10zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_MAYBE:h.default.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 13c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm.8-4.1v.4c0 .4-.3.7-.7.7s-.7-.3-.7-.7v-1c0-.4.3-.7.7-.7.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5-1.7.7-1.6 1.6c0 .5-.3.8-.7.8-.5 0-.8-.3-.8-.8C6.9 6.5 8.4 5 10 5s3 1.3 3 3c0 1.4-1 2.6-2.2 2.9z"}),CHECKBOX_OFF:h.default.createElement("path",{d:"M14.5 17h-9C4.1 17 3 15.9 3 14.5v-9C3 4.1 4.1 3 5.5 3h9C15.9 3 17 4.1 17 5.5v9c0 1.4-1.1 2.5-2.5 2.5zm-9-13C4.7 4 4 4.7 4 5.5v9c0 .8.7 1.5 1.5 1.5h9c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5h-9z"}),CHECKBOX_ON:h.default.createElement("path",{d:"M14.5 3h-9C4.122 3 3 4.122 3 5.5v9C3 15.878 4.122 17 5.5 17h9c1.378 0 2.5-1.122 2.5-2.5v-9C17 4.122 15.878 3 14.5 3zm-.208 4.713L8.5 13.5l-2.792-2.624c-.277-.277-.277-.727 0-1.004.278-.278.727-.278 1.005 0L8.5 11.5l4.786-4.792c.278-.277.728-.277 1.006 0 .277.278.277.727 0 1.005z"}),CHECKMARK:h.default.createElement("path",{d:"M7.2 14.1l-3.5-3.5c-.3-.3-.3-.7 0-1s.8-.3 1 0l3 2.9 7.4-7.3c.3-.3.8-.3 1 0 .3.3.3.7 0 1L8.2 14c-.2.3-.7.3-1 .1z"}),CHEVRON_UP:h.default.createElement("path",{d:"M13.5 12.75c-.192 0-.384-.073-.53-.22L10 9.56l-2.97 2.97c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.44l4.03 4.03c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22z"}),CIRCLE:h.default.createElement("circle",{cx:"10",cy:"10",r:"4"}),CLEAR:h.default.createElement("path",{id:"Clear",d:"M10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm3.445 10.68c.21.21.21.554 0 .765-.21.211-.554.211-.765 0L10 10.765l-2.68 2.68c-.21.211-.554.211-.765 0-.21-.21-.21-.554 0-.765L9.235 10l-2.68-2.68c-.21-.21-.21-.554 0-.765.21-.211.554-.211.766 0L10 9.235l2.68-2.68c.21-.21.554-.21.765 0 .21.212.21.554 0 .766L10.765 10l2.68 2.68z"}),CLOCK:h.default.createElement("path",{d:"M11.974 12.7c-.275.277-.723.277-.998 0L9.58 11.307c-.18-.133-.308-.337-.308-.58V7.09c0-.402.325-.727.728-.727.403 0 .728.325.728.727v3.366l1.247 1.247c.276.276.276.72 0 .997zM10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8z"}),CLOSE:h.default.createElement("path",{d:"M10 9l5.1-5.1c.3-.3.7-.3 1 0 .3.3.3.7 0 1L11 10l5.1 5.1c.3.3.3.7 0 1-.3.3-.7.3-1 0L10 11l-5.1 5.1c-.3.3-.7.3-1 0-.3-.3-.3-.7 0-1L9 10 3.9 4.9c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9z"}),CLOSE_MINI:h.default.createElement("path",{d:"M12.8 13.8L10 11l-2.8 2.8c-.3.3-.7.3-1 0s-.3-.7 0-1L9 10 6.2 7.2c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9l2.8-2.8c.3-.3.7-.3 1 0s.3.7 0 1L11 10l2.8 2.8c.3.3.3.7 0 1s-.7.3-1 0z"}),COLLAPSE_LIST:h.default.createElement("path",{d:"M12 2.5H8c-.2 0-.3.2-.1.4L10 5l2.1-2.1c.2-.2.1-.4-.1-.4zm-4 15h4c.2 0 .3-.2.1-.4L10 15l-2.1 2.1c-.2.2-.1.4.1.4zm8.5-6.5h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1s-.4-1-1-1zm-13-2h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),COMPOSE:h.default.createElement("path",{d:"M8.79 15.834c-.09.09-.21.152-.333.167-.055.016-3.957 0-3.957 0-.3.006-.505-.242-.5-.54v-3.856c0-.148.06-.29.164-.397l4.174-4.17 4.624 4.625-4.172 4.172zm4.96-4.96L9.128 6.25l2.078-2.075c.214-.215.576-.24.783-.032l3.864 3.88c.174.175.228.525-.022.775l-2.08 2.077z"}),COMPOSE_EMOJI:h.default.createElement("path",{d:"M10 1.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5zm0 15.3c-3.8 0-6.9-3.1-6.9-6.9S6.2 3.2 10 3.2s6.9 3.1 6.9 6.9-3 6.8-6.9 6.8zm-2.5-9c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.6-1.2-1.2.5-1.2 1.2-1.2zm5.3 0c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.5-1.2-1.2.6-1.2 1.2-1.2zm.74 4.66c-.48 1.06-2.03 2.04-3.41 2.04s-2.93-.97-3.41-2.04c-.47-1.06.79-.96.79-.96h5.24c.01 0 1.27-.1.79.96z"}),CONTACTS:h.default.createElement("path",{d:"M16.5 2H14v4.5h3.5V3c-.007-.667-.34-1-1-1zM14 12h3.5V8h-3.49zM2.5 3v14c0 .667.333 1 1 1h9V2h-9c-.667 0-1 .333-1 1zM14 18h2.5c.66 0 .993-.333 1-1v-3.5H14V18z"}),CONTACT_CARD:h.default.createElement("path",{d:"M17.3 3H2.7c-.4 0-.7.3-.7.7v12.6c0 .4.3.7.7.7h14.6c.4 0 .7-.3.7-.7V3.7c0-.4-.3-.7-.7-.7zM5.5 7.7c.2-.7.8-1.3 1.6-1.5 1.5-.3 2.9 1 2.5 2.5-.2.8-.8 1.4-1.6 1.6-1.5.3-2.8-1-2.5-2.6zm5.1 6.8h-6c-.6 0-.9-.6-.6-1.1.7-1 2.1-1.7 3.6-1.7s2.9.7 3.6 1.7c.3.4-.1 1.1-.6 1.1zm5.2-1.3H14c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h1.8c.4 0 .7.3.7.7s-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7z"}),CONTRACT:h.default.createElement("path",{d:"M11 4.1v4.3c0 .3.3.6.6.6H16c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM9 16v-4.3c0-.4-.3-.7-.6-.7H3.9c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3L8 16.5c.1.2.3.2.4.2.3 0 .5-.2.6-.5V16z"}),DELETE:h.default.createElement("path",{d:"M3.994 17.21c0 .41.335.79.745.79h10.52c.41 0 .734-.387.734-.797V7h-12v10.21zm7.256-6.946c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zm-4 0c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zM17 3h-4.26v-.076c0-.51-.336-.924-.76-.924H8.007c-.425 0-.773.414-.773.924V3H3c-.552 0-1 .447-1 1s.448 1 1 1h14c.552 0 1-.448 1-1s-.448-1-1-1z"}),DEVICE_DESKTOP:h.default.createElement("path",{d:"M17.7 2.5H2.3c-.4 0-.8.4-.8.8v10.5c0 .4.4.7.8.7h6.1l-.7 2H5.3c-.4 0-.8.4-.8.8s.4.7.8.7h9.4c.4 0 .8-.3.8-.7s-.4-.8-.8-.8h-2.5l-.7-2h6.2c.4 0 .8-.3.8-.7V3.3c0-.4-.4-.8-.8-.8zM17 13H3V4h14v9z"}),DOCUMENTS_S:h.default.createElement("path",{d:"M10.97 2.994H5.11c-.335 0-.61.275-.61.61V16.39c0 .337.275.612.61.612h9.778c.337 0 .612-.275.612-.612V7.525c0-.163-.064-.318-.18-.432l-3.92-3.92c-.114-.115-.27-.18-.43-.18zm-.006 4.534V4.473l3.055 3.055h-3.056z"}),DOWNLOAD:h.default.createElement("path",{d:"M16.8 13.5c-.4 0-.8.3-.8.8v1.2H4v-1.3c0-.4-.3-.7-.7-.7s-.8.3-.8.8v2c0 .4.3.7.8.7H17c.4 0 .5-.3.5-.7v-2c0-.5-.3-.8-.7-.8zM9.5 13.1c.3.2.7.2.9 0l3.9-3.6c.3-.3.3-.7 0-1-.1-.1-.3-.2-.5-.2l-2.3.5V3.1c0-.3-.3-.6-.6-.6H9.1c-.3 0-.6.3-.6.6v5.7l-2.3-.5c-.2 0-.3 0-.5.2-.3.3-.3.7 0 1l3.8 3.6z"}),DRAFTS:h.default.createElement("path",{d:"M13.083 8.52H7.06c-.416 0-.753-.337-.753-.753s.337-.753.753-.753h6.023c.415 0 .752.337.752.753s-.337.753-.752.753zm-.037 2.99h-5.99c-.414 0-.75-.336-.75-.75s.336-.748.75-.748h5.99c.414 0 .75.334.75.748s-.336.75-.75.75zm2.767-9.498H4.258c-.397 0-.722.332-.722.74v14.26c0 .572.634.917 1.114.607l1.678-1.24 1.388 1.208c.253.195.603.2.862.015l1.457-1.22 1.458 1.22c.26.186.61.18.862-.015l1.387-1.208 1.68 1.24c.48.31 1.114-.035 1.114-.608V2.752c0-.408-.326-.74-.723-.74z"}),EMOJI_FOOD_AND_DRINK:h.default.createElement("path",{d:"M18.3 14.1c0-.6-.5-1.1-1.1-1.1H17c.7 0 1.2-.7 1-1.4-.6-2-2.3-3.4-4.5-3.4H10l.4-3.2H8.9l.7-2.3 2.2.8c.1 0 .2 0 .2-.1l.2-.7c0-.1 0-.2-.1-.2l-2.6-.8c-.3-.1-.6.1-.7.4l-.9 3.1H1.7l1.6 13.2H16.2c.8 0 1.6-.7 1.6-1.6v-.9c0-.2-.1-.5-.2-.7.3-.2.7-.6.7-1.1zm-15.6-8h6.7l-.2 2.2h-.3c-2.1 0-3.9 1.4-4.5 3.4-.2.7.3 1.4 1 1.4h-.1c-.6 0-1.1.5-1.1 1.1 0 .5.3.9.8 1-.2.2-.2.5-.2.7v.9c0 .2.1.4.2.6h-.9L2.7 6.1zm14 10.6c0 .3-.2.5-.5.5H6.3c-.3 0-.5-.2-.5-.5v-.9c0-.1.1-.2.2-.2h10.7c.1 0 .2.1.2.2v.9h-.2zm-5.4-1.5L5.8 13h10.9l-5.4 2.2zm5.1-3.1H6.1c-.4 0-.7-.5-.5-.8.6-1.2 1.9-2 3.3-2h4.7c1.4 0 2.6.8 3.3 2 .1.3-.1.8-.5.8z"}),ENTER:h.default.createElement("path",{d:"M8 6.8c.3-.3.8-.3 1.1 0s.3.8 0 1.1L6.9 10h7.6V4.8c0-.4.3-.8.8-.8.4 0 .7.3.7.8v6c0 .5-.4.8-.7.8H6.9l2.2 2.2c.1.1.2.3.2.5s-.1.4-.2.5c-.3.3-.8.3-1.1 0l-4-4 4-4z"}),EXCLAMATION_ALT:h.default.createElement("path",{d:"M2.097 15.85c-.285.517.09 1.15.68 1.15h14.446c.59 0 .964-.633.68-1.15L10.68 2.66c-.295-.537-1.065-.537-1.36 0L2.098 15.85zm8.68-4.282c0 .428-.348.776-.777.776s-.776-.348-.776-.776V8.464c0-.428.347-.776.776-.776s.777.348.777.776v3.104zM10 15.448c-.43 0-.776-.35-.776-.777s.347-.775.776-.775c.43 0 .777.348.777.776s-.348.777-.777.777z"}),EXPAND:h.default.createElement("path",{d:"M2 13.1v4.3c0 .3.3.6.6.6H7c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM18 6.9V2.6c0-.3-.3-.6-.6-.6H13c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3 1 1.6c.1.2.3.2.4.2.3 0 .5-.2.6-.5v-.3z"}),EXPAND_LIST:h.default.createElement("path",{d:"M8 8h4c.2 0 .3-.2.1-.4L10 5.5 7.9 7.6c-.2.2-.1.4.1.4zm4 4H8c-.2 0-.3.2-.1.4l2.1 2.1 2.1-2.1c.2-.2.1-.4-.1-.4zm4.5 3h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1 0-.5-.4-1-1-1zM3.5 5h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),FACEBOOK:h.default.createElement("path",{d:"M11.2 18v-7.3h2.4l.4-2.9h-2.8V6c0-.8.2-1.4 1.4-1.4h1.5V2.1c-.3 0-1.1-.1-2.2-.1-2.1 0-3.6 1.3-3.6 3.8v2.1H5.9v2.8h2.4V18h2.9z"}),FEEDBACK:h.default.createElement("g",null,h.default.createElement("path",{opacity:".4",d:"M8.5 13.6l-.1.1c-.4.3-.5.6-.5.9 0 .8.8 1.2 1.6 1.2h2.9l-.1.4c-.2.6-.3 1.4-.2 2.2.1.8.6 1.4 1.3 1.5.4.1.7 0 1-.2.1-.1.3-.3.3-.6 0-.8.2-1.4.9-2.2l.3-.3 1-1c.1-.1.1-.1.1-.2V8.5h-6.7c-.6 0-1.2.3-1.2 1.1 0 .2 0 .3.1.5l.1.2-.2.1c-.3.2-.4.4-.4.7 0 .2 0 .3.1.5l.1.3-.2.1c-.3.2-.4.4-.4.8 0 .2 0 .4.1.5l.1.3zM20 15.7V8.3c0-.1-.1-.3-.3-.3H18v8h1.7c.2 0 .3-.1.3-.3v-.6.6z"}),h.default.createElement("path",{d:"M13.2 7.4c.3-.3.5-.6.5-1 0-.9-.9-1.4-1.8-1.4H8.4l.1-.4c.2-.7.2-1.6.2-2.6S8.1.4 7.2.2c-.5-.1-.8.1-1.1.3-.2.2-.3.4-.3.7 0 1-.3 1.7-1.1 2.6l-.3.3-1.2 1.2-.2.2v8h7.8c.7 0 1.4-.4 1.4-1.3 0-.2 0-.4-.1-.6l-.1-.3.2-.2c.3-.2.5-.5.5-.9 0-.2 0-.4-.1-.6l-.1-.3.3-.2c.3-.2.5-.5.5-.9 0-.2 0-.4-.1-.6v-.2zM0 13.7c0 .1.1.3.3.3H2V5H.3c-.2 0-.3.2-.3.4v8.3z"})),FLICKR:h.default.createElement("g",null,h.default.createElement("circle",{cx:"5.2",cy:"10",r:"4",fill:"#1d75cf"}),h.default.createElement("circle",{cx:"14.8",cy:"10",r:"3.5",fill:"#fe0084",stroke:"#fe0084"})),FOLDER:h.default.createElement("path",{d:"M2.5 15.8c0 .4.3.7.7.7h13.6c.4 0 .7-.3.7-.7V10h-15v5.8zM16.8 5h-6.3l-.8-1.6C9.6 3.2 9.3 3 9 3H3.2c-.4 0-.7.3-.7.7v4.8h15V5.7c0-.4-.3-.7-.7-.7z"}),FORWARD:h.default.createElement("path",{d:"M10.442 16.956c-.515.385-1.238.01-1.238-.62V14h-6.94c-.427 0-.764-.372-.764-.8V7.794c0-.427.337-.793.764-.793h6.94V4.695c0-.705.767-.97 1.238-.62l7.74 5.81c.363.272.456.894 0 1.237l-7.74 5.834z"}),GIF_BOX:h.default.createElement("path",{d:"M18.787 3.226C18.69 3.128 18.497 3 18.3 3H1.768C1.34 3 1 3.396 1 3.813v13.405c0 .49.378.782.767.782H18.3c.487 0 .7-.235.7-.783V3.715c0-.196-.115-.39-.213-.49zM17.5 16.5h-15v-12h15v12zM13 11h2.5v-1H13V9h3V8h-4v5h1zM10.002 8H11v5h-.998zM6.488 13.067c.434 0 .8-.085 1.097-.255.173-.097.368-.265.585-.503l.113.69H9v-2.753H7v.836h1.03c-.055.328-.204.594-.445.797-.24.203-.55.304-.928.304-.385 0-.73-.128-1.03-.384-.303-.256-.454-.692-.454-1.308 0-.612.14-1.07.42-1.374s.633-.458 1.067-.458c.227 0 .432.037.618.112.33.136.56.386.646.728H9c-.06-.482-.29-.896-.704-1.218-.416-.323-.966-.485-1.65-.485-.79 0-1.425.245-1.905.734-.48.49-.74 1.14-.74 1.95 0 .803.258 1.435.734 1.897.455.46 1.04.69 1.754.69z"}),GUEST_LIST:h.default.createElement("g",null,h.default.createElement("path",{d:"M6.3 10.4c-2.982 0-5.4 1.405-5.4 3.137v1.387c0 .43.347.776.776.776h9.248c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136zM13.8 10.4c-.725 0-1.413.086-2.045.236.91.784 1.445 1.783 1.445 2.9V15.7h5.224c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136z"}),h.default.createElement("circle",{cx:"13.8",cy:"6.4",r:"2.7"}),h.default.createElement("circle",{cx:"6.3",cy:"6.4",r:"2.7"})),HEART:h.default.createElement("path",{fill:"#ED1B32",d:"M10 18.183l-7.64-8.01C.545 8.27.545 5.17 2.357 3.267c.89-.934 2.072-1.45 3.334-1.45C8.3 1.816 9.517 3.896 10 4.29c.498-.406 1.688-2.473 4.308-2.473 1.262 0 2.446.514 3.334 1.45 1.81 1.904 1.81 5.003 0 6.907L10 18.184z"}),HOME:h.default.createElement("path",{d:"M17.8 9.4l-7.2-7.2c-.2-.1-.4-.2-.6-.2s-.4.1-.5.2L2.2 9.4c-.3.3-.3.8 0 1.1s.8.3 1.1 0l.2-.2v6.9c0 .4.3.7.7.7h3.6V15c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v2.9h3.3c.4 0 1-.3 1-.7v-6.9l.2.2c.3.3.8.3 1.1 0 .3-.3.3-.8 0-1.1z"}),INBOX:h.default.createElement("path",{d:"M10 10l9-3.5V4c0-.65-.366-1-1-1H2c-.633 0-1 .35-1 1v2.5l9 3.5zm.76 1.195c-.42.165-1.102.164-1.52 0L5.12 9.598 1 8v8c0 .65.367 1 1 1h16c.633 0 1-.35 1-1V8l-8.24 3.195z"}),INDENT:h.default.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM4.6 7.8c-.4.4-.4 1 0 1.4l.8.8H2.6c-.6 0-1 .4-1 1s.4 1 1 1h2.8l-.8.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0L9.2 11 6 7.8c-.4-.4-1-.4-1.4 0z"}),INPUT_ARROW_DOWN:h.default.createElement("path",{id:"Path-1009",d:"M5.5 7.5h9l-4.5 5z"}),ITALIC:h.default.createElement("path",{d:"M15.8 3H7.5c-.5 0-.9.4-.9.9s.4.9.9.9h3l-4 9.5h-3c-.5 0-.9.4-.9.9s.4.9.9.9h8.3c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H8.3l4-9.5h3.4c.5 0 .9-.4.9-.9s-.3-.9-.8-.9z"}),LINK:h.default.createElement("path",{d:"M8.247 12H3.542c-.482 0-.934-.216-1.275-.592-.34-.376-.463-.876-.463-1.408 0-1.098.745-2 1.74-2h4.703c.498 0 .902-.437.902-.987S8.744 6 8.246 6H3.542C1.554 6 0 7.804 0 10c0 1.064.31 2.065.992 2.817C1.672 13.57 2.58 14 3.542 14h4.704c.498 0 .902-.463.902-1.013 0-.55-.403-.987-.9-.987zM18.944 7.183C18.262 6.43 17.356 6 16.394 6h-4.705c-.5 0-.903.463-.903 1.013 0 .55.36.987.858.987h4.748c.482 0 .934.216 1.275.592.34.376.528.876.528 1.408 0 .532-.187 1.032-.528 1.408-.34.376-.794.592-1.275.592H11.69c-.5 0-.903.437-.903.987 0 .275.1.524.264.704.164.18.39.293.64.293l4.703.017c.963 0 1.87-.43 2.55-1.183C19.626 12.064 20 11.064 20 10c0-1.064-.375-2.064-1.056-2.817zM6.684 10.005c0 .273.097.52.255.7s.374.295.615.295h4.89c.482 0 .872-.45.872-.996 0-.547-.39-1.005-.87-1.004H7.554c-.48 0-.87.458-.87 1.005z"}),LINKEDIN:h.default.createElement("path",{fill:"#1478b1",d:"M15.242 15.097h-2.104v-3.405c0-.902-.163-1.44-.914-1.44-.54 0-.946.293-1.215.576v4.27H8.904V8.835h2.104v.836c.365-.396.996-.887 1.878-.887 1.477 0 2.354.952 2.354 2.907v3.405zM6.338 7.935c-.67 0-1.214-.544-1.214-1.214 0-.67.544-1.215 1.214-1.215.672 0 1.215.544 1.215 1.216 0 .67-.543 1.215-1.215 1.215zm1.066 7.162H5.3v-6.26h2.104v6.26zM17.922 2.53c-.053-.12-.117-.217-.195-.295-.078-.078-.17-.137-.273-.176-.105-.04-.222-.06-.35-.06H2.896c-.13 0-.248.02-.35.06-.104.038-.196.097-.274.175-.078.078-.144.176-.195.294-.053.116-.078.227-.078.33v14.28c0 .104.025.215.078.332.05.118.117.215.195.294.078.078.17.137.273.176.104.04.22.058.35.058h14.207c.13 0 .246-.02.35-.058.104-.04.196-.098.274-.176.078-.08.142-.176.195-.294.052-.117.078-.228.078-.332V2.86c0-.103-.026-.214-.078-.33z"}),LIST_ORDERED:h.default.createElement("path",{d:"M7 5h10c.552 0 1-.448 1-1s-.448-1-1-1H7c-.552 0-1 .448-1 1s.448 1 1 1zM17 9H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM17 15H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM4.297 15.865v-.01c.187-.052.328-.15.422-.293.093-.143.14-.308.14-.495 0-.173-.04-.325-.12-.457-.082-.132-.187-.244-.314-.336-.13-.092-.273-.16-.435-.206-.16-.045-.32-.068-.482-.068-.207 0-.395.032-.564.096-.17.064-.313.155-.434.272-.12.117-.215.258-.282.422-.068.162-.105.343-.113.54h.777c-.003-.197.048-.36.153-.49s.262-.197.468-.197c.15 0 .283.044.398.133.116.088.172.214.172.38 0 .108-.028.196-.083.263-.057.065-.127.116-.212.15-.086.035-.18.057-.28.065-.1.006-.193.006-.282 0v.548c.1 0 .204.003.312.01.112.005.21.025.303.06.093.034.17.09.228.167.06.077.09.19.09.336 0 .187-.064.335-.19.443-.127.107-.28.16-.467.16-.117 0-.22-.02-.306-.06-.086-.04-.158-.094-.215-.16-.06-.07-.102-.15-.134-.244-.03-.093-.047-.19-.05-.294h-.778c-.003.224.03.422.1.594.072.172.172.32.302.438.132.12.29.21.475.272.186.063.392.094.618.094.197 0 .386-.028.564-.082.18-.056.34-.136.477-.242.14-.108.25-.24.33-.398.083-.157.126-.337.126-.538 0-.22-.064-.41-.19-.567-.127-.158-.3-.26-.523-.308zM3.44 10.964c.133-.1.27-.196.413-.283s.28-.176.42-.266c.14-.09.266-.19.374-.3.11-.11.2-.235.267-.377.067-.142.1-.312.1-.51 0-.19-.038-.363-.114-.517-.078-.152-.18-.28-.31-.385-.13-.106-.28-.186-.452-.24-.17-.057-.35-.085-.54-.085-.247 0-.465.04-.657.12-.19.08-.347.192-.474.337-.126.143-.22.312-.282.504-.064.193-.09.4-.083.627h.803c0-.107.01-.212.033-.32.02-.104.056-.202.11-.29.05-.088.117-.158.202-.212.085-.055.188-.083.31-.083.18 0 .33.055.445.16.117.108.173.255.173.446 0 .12-.028.226-.086.32-.056.094-.127.177-.21.252s-.18.14-.28.204c-.104.062-.2.122-.29.183-.177.115-.344.23-.504.342-.16.11-.3.232-.415.365-.118.133-.21.282-.28.45-.07.17-.102.367-.102.595h3.03v-.683H3.084c.103-.135.222-.252.355-.353zM3.118 6h.903V2H3.3c-.022.152-.075.28-.156.382-.08.103-.18.185-.297.25-.116.062-.246.105-.393.13-.146.025-.298.036-.454.032v.61h1.118V6z"
}),LIST_UNORDERED:h.default.createElement("path",{d:"M3 15c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm14 2H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1z"}),LOCATION_MARKER:h.default.createElement("path",{d:"M12.1 10c-1.2 0-2.1-.9-2.1-2.1s.9-2.1 2.1-2.1 2.1.9 2.1 2.1-1 2.1-2.1 2.1m0-9.2C8.2.8 5 4 5 7.9c0 3.3 4.8 9.1 6.3 10.9.5.5 1 .5 1.5 0 1.5-1.7 6.4-7.5 6.4-10.9C19.2 4 16 .8 12.1.8"}),LOCK:h.default.createElement("path",{d:"M10 10.1c-.4 0-.7.3-.7.7v2.7c0 .4.3.7.7.7s.7-.3.7-.7v-2.7c0-.4-.3-.7-.7-.7zm0-6c-2.6 0-2.7 2.7-2.7 2.7h5.3c.1 0 .1-2.7-2.6-2.7zm6 13.3H4c-.4 0-.7-.3-.7-.7V7.4c0-.4.3-.7.7-.7h2c0-2.2 1.8-4 4-4s4 1.8 4 4h2c.4 0 .7.3.7.7v9.3c0 .4-.3.7-.7.7z"}),MAGIC:h.default.createElement("path",{d:"M12.94 9.89c-.11 0-.19-.09-.19-.19s.09-.19.19-.19c.65 0 1.17-.53 1.17-1.18 0-.11.09-.19.19-.19.11 0 .2.09.2.19 0 .65.52 1.18 1.17 1.18.11 0 .2.09.2.19s-.09.2-.2.2c-.65 0-1.17.53-1.17 1.18 0 .11-.09.19-.2.19-.11 0-.19-.09-.19-.19.01-.66-.52-1.19-1.17-1.19zM5.99 7.94c-.06 0-.12-.05-.12-.12 0-.06.05-.12.12-.12.39 0 .7-.32.7-.71 0-.06.05-.12.12-.12.06 0 .12.05.12.12 0 .39.31.71.7.71.06 0 .12.05.12.12 0 .06-.05.12-.12.12-.39 0-.7.32-.7.71 0 .06-.05.12-.12.12-.06 0-.12-.05-.12-.12 0-.39-.31-.71-.7-.71zm1.96-2.43c-.11 0-.2-.09-.2-.19s.09-.2.2-.2c.65 0 1.17-.53 1.17-1.18 0-.11.09-.19.2-.19.11 0 .2.09.2.19 0 .65.52 1.18 1.17 1.18.11 0 .2.09.2.2s-.09.2-.2.2c-.65 0-1.17.53-1.17 1.18 0 .11-.09.19-.19.19-.11 0-.2-.09-.2-.19-.01-.65-.54-1.19-1.18-1.19zm4.99-.62c-.11 0-.19-.09-.19-.19s.09-.2.19-.2c.65 0 1.17-.53 1.17-1.18 0-.11.09-.19.19-.19.11 0 .2.09.2.19 0 .65.52 1.18 1.17 1.18.11 0 .2.09.2.2s-.09.2-.2.2c-.65 0-1.17.53-1.17 1.18 0 .11-.09.19-.2.19-.11 0-.19-.09-.19-.19.01-.66-.52-1.19-1.17-1.19zM11.77 6.7c.25-.25.64-.25.89 0 .24.24.25.63 0 .89l-1.47 1.47-.88-.88 1.46-1.48zm-2.1 2.09l.88.88-6.48 6.48c-.24.24-.64.25-.89 0-.24-.24-.24-.64 0-.89l6.49-6.47z"}),MESSENGER:h.default.createElement("path",{d:"M10 2c-4.42 0-8 3.58-8 8 0 4.417 3.58 8 8 8 4.417 0 7.998-3.583 7.998-8 0-4.42-3.58-8-7.998-8zm2.264 4.563c.51 0 .922.413.922.922 0 .51-.413.922-.922.922-.51 0-.922-.413-.922-.922 0-.51.413-.922.922-.922zm-4.553 0c.51 0 .923.424.923.948s-.413.948-.922.948c-.508 0-.92-.424-.92-.948s.412-.947.92-.947zm5.954 7.386c-.816.715-2.664 1.064-3.653 1.05-1.01.014-2.836-.335-3.652-1.05-1.24-1.09-1.376-2.95-1.376-3.363H15.04c0 .413-.135 2.273-1.376 3.362z"}),MINUS:h.default.createElement("path",{d:"M13.75 9.25h-7.5c-.414 0-.75.336-.75.75s.336.75.75.75h7.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),MIXED_CHECKBOX:h.default.createElement("g",null,h.default.createElement("path",{fill:"#188FFF",d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1z"}),h.default.createElement("path",{d:"M14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),MORE:h.default.createElement("g",null,h.default.createElement("circle",{cx:"3",cy:"10",r:"2"}),h.default.createElement("circle",{cx:"10",cy:"10",r:"2"}),h.default.createElement("circle",{cx:"17",cy:"10",r:"2"})),MOVE_TO_FOLDER:h.default.createElement("path",{d:"M17.25 5h-6.77l-.715-1.563C9.643 3.171 9.375 3 9.083 3H2.75c-.414 0-.75.336-.75.75v12.5c0 .414.336.75.75.75h6.5v-6.19l-1.72 1.72c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.94l3.53 3.53c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22s-.384-.073-.53-.22l-1.72-1.72V17h6.5c.414 0 .75-.336.75-.75V5.75c0-.414-.336-.75-.75-.75z"}),NOTEPAD:h.default.createElement("path",{d:"M13 14.73V18l4-4h-3.11c-.66 0-.89.063-.89.73zM16 2H4c-.667 0-1 .333-1 1v14c0 .626.305.946.892.985.053.01.096.015.108.015h7.51v-4.23c.018-.832.438-1.25 1.266-1.256H17V3c-.007-.667-.34-1-1-1zM9 14H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75H9c.43 0 .778.335.778.75S9.428 14 9 14zm4.11-3.5H6.89c-.43 0-.78-.335-.78-.75S6.46 9 6.89 9h6.22c.43-.01.78.335.78.75s-.35.75-.78.75zm0-3.5H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75h6.22c.43 0 .78.335.78.75s-.35.75-.78.75z"}),NO_INTERNET:h.default.createElement("g",null,h.default.createElement("ellipse",{cx:"10",cy:"14.852",rx:"1.5",ry:"1.469"}),h.default.createElement("path",{d:"M19.268 7.865c-.31-.313-.635-.61-.967-.884C15.97 5.06 13.02 4 9.996 4S4.018 5.06 1.687 6.983c-.323.268-.637.552-.933.848-.34.34-.34.892 0 1.233.34.34.892.34 1.232 0 .258-.26.528-.505.81-.738C4.815 6.66 7.37 5.74 9.995 5.74c2.62 0 5.177.918 7.197 2.585.29.238.57.495.84.765.17.172.393.258.617.258.22 0 .443-.084.613-.252.34-.338.344-.888.005-1.23zM11 11.41V7.832c0-.507-.45-.917-1-.917-.553 0-1 .41-1 .917v3.577c0 .505.45.916 1 .916s1-.41 1-.916zM7.057 8.843c-.844.288-1.646.7-2.384 1.23-.394.284-.77.602-1.113.945-.34.34-.34.89-.002 1.23.17.172.393.257.616.257.222 0 .444-.085.615-.254.278-.278.58-.534.9-.763.445-.322.926-.573 1.424-.782.104-.044.17-.143.17-.255V9.01c.002-.12-.116-.205-.227-.167zM15.348 10.072c-.715-.515-1.49-.917-2.305-1.202-.146-.05-.3.063-.3.218v1.365c0 .112.066.21.17.254.495.208.974.46 1.42.778.315.228.62.486.9.766.34.34.893.34 1.232-.003s.337-.892-.004-1.232c-.348-.344-.722-.662-1.112-.943z"})),ORB:h.default.createElement("path",{d:"M.76 14.462c.505 1.253 1.21 2.29 2.115 3.11.903.818 1.966 1.424 3.182 1.82 1.22.392 2.538.59 3.96.59 1.4 0 2.708-.2 3.924-.59.49-.16 1.852-.62 3.185-1.82.906-.817 1.61-1.856 2.116-3.11.507-1.255.76-2.742.76-4.462 0-1.72-.253-3.208-.76-4.462-.505-1.255-1.21-2.29-2.115-3.108-.904-.82-1.964-1.426-3.184-1.82C12.726.216 11.417.02 10.02.02c-1.423 0-2.74.196-3.96.59-.396.127-1.83.62-3.183 1.82-.912.81-1.61 1.854-2.116 3.108C.252 6.793 0 8.278 0 10c0 1.72.253 3.207.76 4.462z"}),OUTDENT:h.default.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM8.2 10H5.5l.8-.8c.4-.4.4-1 0-1.4s-1-.4-1.4 0L1.6 11l3.2 3.2c.4.4 1 .4 1.4 0s.4-1 0-1.4l-.7-.8h2.8c.6 0 1-.4 1-1-.1-.6-.5-1-1.1-1z"}),POP_OUT:h.default.createElement("path",{d:"M15.4 16.4H3.6V4.6H11V3H2.8c-.4 0-.8.4-.8.8v13.4c0 .4.4.8.8.8h13.4c.5 0 .8-.4.8-.8V9.5h-1.6v6.9zM17.3 2h-4.2c-.2 0-.4.3-.4.6s.2.4.2.4l1.6 1-3.2 3.2c-.2.2-.2.5 0 .7l1 1c.2.2.5.2.7 0l3.2-3.2 1 1.6s.1.2.4.2.5-.3.5-.6V2.7c-.1-.4-.3-.7-.8-.7z"}),PRINTER:h.default.createElement("path",{d:"M13.8 13.5H6.2c-.4 0-.7.3-.7.7v2.6c0 .4.3.7.7.7h7.6c.4 0 .7-.3.7-.7v-2.6c0-.4-.3-.7-.7-.7zM15.5 3.2c0-.4-.3-.7-.7-.7H5.2c-.4 0-.7.3-.7.7v3.3h11V3.2zM17.3 8H2.7c-.4 0-.7.3-.7.7v6.6c0 .4.3.7.7.7h.6c.4 0 .7-.3.7-.7v-2.6c0-.4.3-.7.7-.7h10.6c.4 0 .7.3.7.7v2.6c0 .4.3.7.6.7h.7c.4 0 .7-.3.7-.7V8.7c0-.4-.3-.7-.7-.7zM15 11c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"}),READ:h.default.createElement("path",{d:"M10 2c-4.41 0-8 3.58-8 8s3.59 8 8 8 8-3.58 8-8-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.46 6-6 6"}),REFRESH:h.default.createElement("path",{d:"M16 10.3c0-1.4-.5-2.7-1.3-3.7l-1.1 1.1c.5.7.9 1.7.9 2.7 0 2.5-2 4.5-4.4 4.5H9l1-.8c.3-.3.4-.8.1-1.1-.3-.4-.9-.4-1.2-.1L6.5 15c-.3.3-.3.8 0 1.1l2.4 2.2c.3.3.9.3 1.2-.1.3-.3.2-.8-.1-1.1l-1-.8h1c3.3 0 6-2.7 6-6zM5.5 10.3c0-2.5 2-4.5 4.5-4.5h1.1l-1 .8c-.3.3-.3.8-.1 1.1.3.4.9.4 1.2.1l2.4-2.2c.3-.3.3-.8 0-1.1l-2.4-2.2c-.3-.3-.9-.3-1.2.1-.3.3-.2.8.1 1.1l1 .8H10c-3.3 0-6 2.7-6 6 0 1.4.5 2.6 1.2 3.7l1.1-1.1c-.5-.8-.8-1.7-.8-2.6z"}),REPLY:h.default.createElement("path",{d:"M8.71 15.946c.503.432 1.28.075 1.28-.587v-2.622c5.05 0 6.858 3.584 7.02 4.204.352.797 1.535.594 1.48-.262-.42-6.662-3.91-10.728-8.5-10.728V3.534c0-.662-.775-1.02-1.277-.588l-6.95 6.02c-.364.312-.36.875.01 1.18l6.938 5.8z"}),REPLY_ALL:h.default.createElement("path",{d:"M2.044 9.406l5.86-5.045c.324-.32.324-.838 0-1.16-.326-.32-.854-.32-1.18 0L.245 8.78c-.325.32-.325.84 0 1.16l6.507 6.42c.326.32.854.32 1.18 0 .325-.32.325-.84 0-1.16L2.043 9.407zM12.725 6.617V3.89c0-1.06-1.123-1.108-1.576-.694L4.804 9.14c-.348.32-.345.83.014 1.145l6.388 6.1c.63.525 1.526.162 1.526-.562l-.01-2.85c3.417 0 5.686 3.154 5.708 3.2.22.314.47.432.704.432.463 0 .864-.463.864-.772 0-7.27-4.44-9.216-7.275-9.216z"}),RESTORE_TO_INBOX:h.default.createElement("path",{d:"M18 4.174V3.78c0-.414-.325-.75-.727-.75H2.727c-.402 0-.727.336-.727.75v.394l8 3.782 8-3.782zM8.267 13.468l6.194-4.955c.403-.3 1.058-.073 1.058.528v1.968H18V5.824L10 9.53 2 5.826v8.456c0 .416.325.75.728.75h6.17l-.63-.506c-.39-.292-.31-.823 0-1.056zM19.678 12.51h-5.64v-.984c0-.3-.328-.414-.53-.264l-3.095 2.476c-.154.116-.194.382 0 .528l3.096 2.487c.218.164.527.004.527-.264v-.997h5.64c.183 0 .327-.16.327-.34v-2.306c0-.182-.144-.338-.326-.338z"}),RICHTEXT_OFF:h.default.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm3.854 12.147c.195.195.195.513 0 .707s-.512.195-.707 0l-1.897-1.897-1.897 1.897c-.195.195-.513.195-.707 0-.195-.194-.195-.512 0-.707l1.897-1.897-1.897-1.897c-.195-.195-.195-.513 0-.707s.512-.195.707 0l1.897 1.897 1.897-1.897c.195-.195.513-.195.707 0s.195.512 0 .707l-1.897 1.897 1.897 1.897z"}),RICHTEXT_ON:h.default.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm5 9.5c0 .275-.225.5-.5.5H15v2.5c0 .275-.225.5-.5.5s-.5-.225-.5-.5V13h-2.5c-.275 0-.5-.225-.5-.5s.225-.5.5-.5H14V9.5c0-.275.225-.5.5-.5s.5.225.5.5V12h2.5c.275 0 .5.225.5.5z"}),SCISSORS:h.default.createElement("path",{d:"M12.5 7.4l4.8-4.7c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L11 6l1.5 1.4zM7.9 6c.4-.6.6-1.3.6-2 0-2.2-1.8-4-4-4s-4 1.8-4 4 1.8 4 4 4c.7 0 1.4-.2 2-.6L8.1 9l-1.6 1.6c-.6-.4-1.3-.6-2-.6-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4c0-.7-.2-1.4-.6-2l1.6-1.6 6.3 6.3c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4L7.9 6zM2.5 4c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm2 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),SEARCH:h.default.createElement("path",{d:"M17.5 16.5l-4.8-4.8c.8-1 1.3-2.3 1.3-3.7 0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6c1.4 0 2.7-.5 3.7-1.3l4.8 4.8c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.7 0-1zm-9.5-4c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}),SEARCH_MAIL:h.default.createElement("path",{d:"M17.81 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .25-.24.25-.65 0-.9zM13.68 15c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76S14.65 15 13.68 15zM16 4.5V4c0-.6-.37-1-.99-1h-12C2.41 3 2 3.41 2 4v.5S8.99 7 9 7l7-2.5zM13.67 8.95c.86 0 1.66.26 2.33.7V6L9 8.5C8.99 8.5 2 6 2 6c-.01-.01 0 6.75 0 6.75 0 .6.39 1.25 1 1.25h6.46c-.04-.25-.08-.5-.08-.76.01-2.37 1.92-4.29 4.29-4.29z"}),SEARCH_MINI:h.default.createElement("path",{d:"M15.26 14.108l-2.467-2.466c.513-.737.818-1.63.818-2.596 0-2.515-2.04-4.555-4.555-4.555C6.54 4.49 4.5 6.53 4.5 9.047s2.04 4.556 4.555 4.556c.957 0 1.843-.298 2.576-.802l2.47 2.468c.16.16.37.24.58.24s.42-.08.58-.24c.32-.32.32-.84 0-1.16zm-6.205-2c-1.69 0-3.06-1.37-3.06-3.062 0-1.69 1.37-3.06 3.06-3.06s3.062 1.37 3.062 3.06-1.372 3.062-3.062 3.062z"}),SEARCH_WEB:h.default.createElement("path",{d:"M9.3 16.44c-.95-.46-1.74-1.83-2.14-3.66h1.48c.05-.49.19-.96.38-1.39H6.94c-.05-.45-.07-.91-.07-1.39s.03-.94.07-1.39H9.3v2.25c.36-.58.83-1.08 1.39-1.45v-.8h5.77c.09.44.14.89.15 1.36v.51c0 .38.31.7.7.7.38 0 .7-.31.7-.7v-.51c-.02-4.58-3.88-8.25-8.53-7.95-3.92.25-7.12 3.38-7.45 7.28-.38 4.5 2.95 8.3 7.27 8.67.08.01.2.01.32.02.24.01.46-.11.59-.31.2-.33.08-.77-.28-.93l-.63-.31zm6.69-9.22h-1.76c-.24-1.18-.64-2.22-1.14-3.06 1.27.67 2.29 1.75 2.9 3.06zM10.7 3.56c.95.46 1.74 1.83 2.14 3.66H10.7V3.56zm-1.4 0v3.66H7.16c.41-1.83 1.19-3.21 2.14-3.66zm-2.39.6c-.51.84-.9 1.88-1.14 3.06H4.01c.61-1.31 1.63-2.39 2.9-3.06zM3.39 10c0-.48.05-.94.15-1.39h2.01c-.04.45-.07.91-.07 1.39 0 .48.03.94.07 1.39H3.54c-.1-.45-.15-.91-.15-1.39zm.62 2.78h1.76c.24 1.17.63 2.22 1.14 3.06-1.27-.67-2.29-1.75-2.9-3.06zM17 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .24-.25.24-.65 0-.9m-4.14-1.48c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76-.79 1.76-1.76 1.76"}),SELECTED:h.default.createElement("path",{d:"M10.83 16.338c-.49.385-1.184.385-1.676 0L0 9.4v9.585C0 19.585.43 20 1.077 20h17.846c.63 0 1.077-.415 1.077-1.015v-9.6l-9.17 6.953zM.37 8.985l9.168 6.8c.246.185.585.185.83 0l9.263-6.8c.186-.138.186-.415 0-.554L10.71.23c-.415-.307-1-.307-1.415 0L.37 8.43c-.185.14-.185.416 0 .555z"}),SENT:h.default.createElement("path",{d:"M17.6 9.3L3 2.8c-.5-.2-1.1.2-1 .7l1.4 5L9.2 10l-5.8 1.5L2 16.3c-.2.6.4 1.1 1 .9l14.5-6.5c.6-.3.6-1.1.1-1.4z"}),SETTINGS:h.default.createElement("path",{d:"M10.025 13.157c-1.747 0-3.167-1.416-3.167-3.157s1.42-3.157 3.167-3.157c1.746 0 3.167 1.416 3.168 3.157 0 1.74-1.422 3.157-3.168 3.157m8.66-4.62c-.023-.005-.084-.02-1.344-.22l-1.018-.17c-.03-.004-.056-.026-.065-.056l-.005-.018-.008-.018-.038-.093c-.09-.215-.302-.732-.405-.973l-.006-.016-.01-.015c-.013-.027-.012-.06.007-.086l1.374-1.91c.132-.182.12-.43-.032-.603-.027-.028-.505-.505-1.43-1.425-.09-.09-.21-.14-.34-.14-.1 0-.196.03-.278.09l-1.92 1.37c-.012.01-.03.015-.048.015-.023-.003-.03-.005-.037-.01l-.02-.008-.018-.01-1.065-.44c-.088-.036-.092-.057-.095-.078l-.384-2.32c-.036-.234-.28-.402-.476-.402H9.027c-.24 0-.44.172-.477.408l-.38 2.307c-.004.01-.015.036-.045.063-.14.065-.794.33-1.08.447l-.036.015-.022.008-.02.01c-.01.006-.023.01-.036.01-.01 0-.03-.003-.046-.016l-.1-.072C4.98 2.888 4.957 2.874 4.935 2.862c-.07-.042-.154-.064-.24-.064-.06 0-.215.012-.335.123l.002.002c-.046.043-.17.166-.58.573l-.846.844-.01.01-.012.012c-.136.16-.158.372-.055.557v-.003c.082.14.354.515 1.4 1.955.017.023.02.057.005.084l-.01.016-.006.017-.043.097c-.134.317-.254.6-.404.974l-.006.016-.005.015c-.01.03-.035.054-.066.06L1.4 8.53c-.232.036-.403.237-.403.476v1.988c0 .237.177.44.412.476l2.316.38c.03.006.057.03.066.058l.004.014.005.014c.17.43.293.74.453 1.086l.005.01.005.01c.015.028.012.063-.007.09l-1.373 1.907-.077.167c-.038.16.007.335.13.456l.09.087 1.32 1.316c.09.09.21.14.34.14.103 0 .202-.03.285-.092l1.89-1.35c.03-.015.052-.023.066-.023.01 0 .036.003.086.02l.05.022c.373.16.642.276 1.02.42l.013.006.013.004c.03.01.052.035.058.065l.384 2.318c.028.21.252.405.478.405h1.994c.24 0 .44-.172.477-.408l.378-2.286c.02-.06.047-.094.214-.153.353-.14.62-.246.962-.4.03-.01.056-.015.07-.015.007 0 .022 0 .053.018l1.902 1.358.015.012.02.01c.076.047.162.07.25.07.114 0 .223-.04.314-.117l.012-.012.012-.012.705-.703c.56-.563.703-.708.753-.77.055-.074.13-.22.07-.413-.004-.017-.01-.034-.02-.055l-.01-.025H17.2c-.057-.108-.198-.3-.547-.773l-.86-1.197c-.018-.026-.02-.06-.006-.087l.01-.017.006-.018.434-1.047c.047-.085.066-.1.108-.113 2.255-.362 2.333-.387 2.367-.397l.012-.004.012-.005c.208-.078.317-.285.317-.448V9.006c.002-.22-.146-.41-.37-.468"}),SHARE:h.default.createElement("path",{d:"M16.756 14.043c-.414 0-.75.335-.75.75v1.252h-12v-1.252c0-.415-.336-.75-.75-.75s-.75.335-.75.75v2.002c0 .413.336.735.75.735h13.74c.413 0 .51-.322.51-.735v-2.002c0-.415-.336-.75-.75-.75zM18.77 7.482c.303-.25.307-.715.01-.972l-5.726-4.957c-.413-.356-1.052-.062-1.052.484v1.99c-3.78 0-6.653 3.35-7 8.835-.045.706.93.873 1.22.216.132-.51 1.623-3.462 5.78-3.462v2.158c0 .546.64.84 1.054.484l5.714-4.776z"}),SHARE_SOCIAL:h.default.createElement("path",{d:"M13.2 12.1c-.6 0-1.2.2-1.7.6l-2.3-1.6c.1-.3.2-.7.2-1.1s-.1-.7-.2-1.1l2.3-1.6c.5.3 1.1.6 1.7.6 1.6 0 2.9-1.3 2.9-2.9s-1.3-3-2.9-3-2.9 1.3-2.9 2.9c0 .4.1.7.2 1.1L8.2 7.6c-.5-.3-1.1-.5-1.8-.5-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9c.6 0 1.2-.2 1.7-.6l2.3 1.6c-.1.3-.2.7-.2 1.1 0 1.6 1.3 2.9 2.9 2.9S16 16.6 16 15s-1.2-2.9-2.8-2.9z"}),SPAM:h.default.createElement("path",{d:"M17.802 5.03c-1.456-.103-4.34-.673-7.3-3.337-.285-.257-.72-.257-1.004 0-2.96 2.664-5.845 3.234-7.3 3.336-.406.027-.715.374-.697.78.397 9.186 6.93 12.14 8.236 12.64.086.034.177.05.268.05.088 0 .175-.015.26-.046 1.306-.484 7.84-3.363 8.235-12.645.016-.407-.292-.753-.698-.78zm-4.897 6.94c.293.293.293.768 0 1.06-.146.147-.338.22-.53.22s-.384-.073-.53-.22L10 11.187 8.155 13.03c-.146.147-.338.22-.53.22s-.384-.073-.53-.22c-.293-.292-.293-.767 0-1.06l1.844-1.845L7.093 8.28c-.293-.292-.293-.767 0-1.06s.768-.293 1.06 0L10 9.065l1.844-1.845c.293-.293.768-.293 1.06 0s.294.768 0 1.06l-1.844 1.845 1.845 1.845z"}),SPONSORED:h.default.createElement("path",{d:"M5.4 4.3c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm-.5 9.8l-.5.5c-.3.3-.3.7 0 1s.7.3 1 0l.5-.5c.3-.3.3-.7 0-1s-.8-.3-1 0zm10.2 0c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm0-8.2l.5-.5c.3-.3.3-.7 0-1s-.7-.3-1 0l-.5.5c-.3.3-.3.7 0 1 .3.3.8.3 1 0zm2.2 3.4h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.3-.7-.7-.7zM8.5 7.8h3.6c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-1.5c0-.4-.3-.7-.7-.7s-.6.3-.6.7H8.2c-1 0-1.8.8-1.8 1.8v.7c0 1 .8 1.8 1.8 1.8h2.5c.4 0 .7.3.7.7s-.3.7-.7.7H7.1c-.4 0-.7.3-.7.7s.3.7.7.7h2.2c0 .4.3.7.7.7s.7-.3.7-.7h.4c1 0 1.8-.8 1.8-1.8V11c0-1-1-1.8-2.2-1.8H8.5c-.4 0-.7-.3-.7-.7s.3-.7.7-.7zM10 4.2c.4 0 .7-.3.7-.7v-.8c0-.4-.3-.7-.7-.7s-.7.3-.7.7v.7c0 .5.3.8.7.8zM3.5 9.3h-.8c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.2-.7-.6-.7zm6.5 6.5c-.4 0-.7.3-.7.7v.7c0 .4.3.7.7.7s.7-.3.7-.7v-.7c0-.4-.3-.7-.7-.7z"}),STAR:h.default.createElement("path",{d:"M15.718 8.35c-.066-.205-.256-.35-.47-.35h-3.656l-1.13-3.475c-.066-.203-.256-.34-.47-.34s-.403.137-.47.34L8.393 8H4.736c-.214 0-.403.145-.47.35-.066.203.007.426.18.552l2.958 2.152-1.13 3.482c-.066.204.006.427.18.553.173.125.407.125.58 0l2.958-2.153 2.958 2.152c.087.062.19.094.29.094s.205-.032.29-.095c.174-.127.247-.35.18-.554l-1.13-3.482 2.96-2.152c.172-.126.244-.35.178-.553z"}),STATIONERY:h.default.createElement("path",{d:"M17.007 3H16V.78c0-.562-.43-.922-.96-.78L2 3v14c0 .548.45 1 1 1h14.007c.548 0 .993-.45.993-1V4c0-.548-.445-1-.993-1zM14.5 1.5V3H8l6.5-1.5zm2 15h-13v-12h13v12zM10 14.5l3.397-3.426c.804-.814.804-2.14 0-2.954-.395-.4-.922-.62-1.482-.62-.594 0-1.112.154-1.915 1.058C9.187 7.643 8.67 7.5 8.086 7.5c-.56 0-1.087.22-1.482.62-.805.814-.805 2.14 0 2.955L10 14.5z"}),TAB_IMAGES:h.default.createElement("path",{d:"M3.46 14.636l3.633-5.814 1.38 2.206-1.26 1.824c-.226.33-.11.76.26.96.334.18.75.104.996-.15l3.71-5.568 4.36 6.54H3.46v.002zM17.272 3H2.728C2.326 3 2 3.326 2 3.727v12.356c0 .4.326.726.728.726h14.546c.4 0 .727-.326.727-.727V3.727c0-.4-.326-.727-.727-.727z"}),TEXT:h.default.createElement("path",{d:"M11.1 17c.5 0 .7-.2.8-.6l1.1-2.8h4.2l1.1 2.8c.2.5.6.6 1.1.5.4-.1.6-.7.4-1L16 6.1c-.2-.3-.5-.6-.9-.6s-.7.3-.9.6l-3.1 8L7 3.7c-.2-.4-.5-.7-1-.7-.6 0-.9.4-1.1.8l-4.7 12s-.3.8.4 1.1c.4.2.9 0 1.1-.5L3 12.9h5.9l1.4 3.5s.2.6.8.6zm-7.6-5.4L6 5.2l2.5 6.4h-5zm10 .8L15.2 8l1.7 4.4h-3.4z"}),TEXT_COLOR:h.default.createElement("g",null,h.default.createElement("circle",{fill:"#30D3B6",cx:"5.5",cy:"14",r:"4"}),h.default.createElement("circle",{fill:"#FFD333",cx:"9.5",cy:"6",r:"4"}),h.default.createElement("circle",{fill:"#FF333A",cx:"14.5",cy:"14",r:"4"}),h.default.createElement("path",{d:"M15.9 4"})),TRAVEL:h.default.createElement("path",{d:"M6 7.59c-.1-.1-.06-.1-.3-.1H2.464c-.1 0-.293-.024-.393.076-.114.115-.06.213.04.424L4.2 11.8c.082.124.2.2.3.2h4.6l-2.33 2.333c-.24.226-.24.46-.16.54.1.1.133.13.29.13H11c.1 0 .096-.005.2-.1l3-2.903h2.088c.9 0 2.182-.36 2.182-1.8 0-1.176-1.182-1.7-2.182-1.7H6.7M9.712 8h3.7L10.6 5.1c-.1-.1-.2-.1-.3-.1H7.7c-.2 0-.294.07-.34.18-.04.232.036.295.14.42L9.712 8z"}),TUMBLR:h.default.createElement("path",{d:"M11.84 17.95h-.12c-3.76 0-4.58-2.77-4.58-4.38V9.08H5.65c-.17 0-.31-.14-.31-.31V6.65c0-.22.14-.42.35-.5 1.93-.68 2.54-2.37 2.63-3.65.02-.33.2-.5.5-.5h2.21c.17 0 .31.14.31.31V5.9h2.59c.17 0 .31.14.31.31v2.54c0 .17-.14.31-.31.31h-2.6v4.15c0 1.04.69 1.33 1.11 1.33.41-.01.81-.13 1.01-.21.15-.06.28-.1.4-.07.11.03.18.1.23.25l.69 2c.06.16.1.33-.01.46-.55.57-1.8.96-2.92.98z"}),TWITTER:h.default.createElement("path",{fill:"#5faadb",d:"M18 4.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.8 0-3.3 1.5-3.3 3.3 0 .3 0 .5.1.7-2.7-.1-5.1-1.4-6.7-3.4-.3.5-.4 1-.4 1.6 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.2 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H2c1.5 1 3.2 1.6 5 1.6 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"}),UNLOCK:h.default.createElement("path",{d:"M12.5 9.8c-.4 0-.7.3-.7.7v2.7c0 .4.3.7.7.7s.7-.3.7-.7v-2.7c0-.4-.3-.7-.7-.7zm-5 7.3c-.4 0-.7-.3-.7-.7V7.1c0-.4.3-.7.7-.7h10c.4 0 .7.3.7.7v9.3c0 .4-.3.7-.7.7h-10zM9.2 6.5s-.1-2.7-2.7-2.7-2.7 2.7-2.7 2.7H2.5v-.2c.1-.8.7-3.8 4-3.8 3.8 0 4 4 4 4H9.2z"}),VIDEO_CALL:h.default.createElement("path",{d:"M18.4 5.1c-.1 0-.3 0-.4.1l-2.3 1.5V5.2c0-.9-.7-1.5-1.5-1.5H2.3c-.9 0-1.5.7-1.5 1.5v9.5c0 .9.7 1.5 1.5 1.5h11.8c.9 0 1.5-.7 1.5-1.5v-1.5l2.3 1.5c.1.1.3.1.4.1.5 0 .9-.4.9-.9V6c.1-.5-.3-.9-.8-.9z"}),YBADGE:h.default.createElement("g",null,h.default.createElement("path",{d:"M16 3H4c-.5 0-1 .5-1 1v12c0 .6.5 1 1 1h12c.6 0 1-.5 1-1V4c0-.5-.5-1-1-1z",fill:"#400090"}),h.default.createElement("path",{d:"M10.7 15.1H10c-.3 0-.5 0-.7.1v-.1c0-.3.1-4.3.1-4.3-.2-.4-3.5-5.9-3.5-5.9.2.1.5.1.7.1.3 0 .5-.1.7-.1.5.7 2.6 4.2 2.7 4.4.1-.1 2.2-3.7 2.6-4.4.2.1.5.1.7.1.3 0 .5 0 .7-.1 0 0-3.3 5.6-3.5 5.9.1 0 .2 4 .2 4.3z",fill:"#fff"})),TAP_TO_TOP:h.default.createElement("path",{d:"M14.4 9.7L11 6.4V19H9V6.4L5.6 9.8c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L10 3l5.7 5.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.3 0M3.3 1h13.4c.7 0 1.3.4 1.3 1 0 .5-.6 1-1.3 1H3.3C2.6 3 2 2.5 2 2c0-.6.6-1 1.3-1"})},m=h.default.createClass({displayName:"FujiIcon",getDefaultProps:function c(){return{colorState:r.ColorStates.NORMAL,size:r.Sizes.S}},shouldComponentUpdate:function c(e){return e.ariaLabel!==this.props.ariaLabel||e.colorState!==this.props.colorState||e.size!==this.props.size||e.rotate!==this.props.rotate||e.kind!==this.props.kind},render:function c(){var e=this.props,a=e.colorState,z=e.size,d=e.rotate,v=e.allowPointerEvents,r=e.ariaLabel,m=e.kind,H=l(e,["colorState","size","rotate","allowPointerEvents","ariaLabel","kind"]),n=(0,M.default)(s.default,{colorState:a,size:z,rotate:d,allowPointerEvents:v});return h.default.createElement("svg",t({"aria-label":r,viewBox:"0 0 20 20",className:n.icon},H),E[m])}});exports.default=m;var H=exports._svg=E;
},{"./constants/fuji_icon":"./atoms/constants/fuji_icon","./styles/fuji_icon":"./atoms/styles/fuji_icon","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/fuji_icon_button":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=(0,o.default)(u.default,{size:e.size,paddingLess:e.paddingLess,isOnDarkBackground:e.isOnDarkBackground,isCompact:e.isCompact,disabled:e.disabled}),a={},r={"data-test-id":e["data-test-id"]||"icon-btn-"+e.kind.toLowerCase(),"data-iskeynav":e["data-iskeynav"],className:t.button};return Object.keys(e).forEach(function(t){/^(kind|colorState|size|rotate)$/.test(t)?a[t]=e[t]:/^(?:(?:disabled|paddingLess|title)$|data-|aria-|on)/.test(t)?r[t]=e[t]:"className"===t&&(r[t]=(0,m.default)(r.className,e[t]))}),s.default.createElement(n.default,r,s.default.createElement("span",{className:t.content},s.default.createElement(d.default,a),e.children?s.default.createElement("span",{className:t.label},e.children):null))}exports.__esModule=!0,exports.default=t;var a=require("react"),s=e(a),r=require("./fuji_icon.jsx"),d=e(r),i=require("./button.jsx"),n=e(i),l=require("./styles/fuji_icon_button"),u=e(l),c=require("react-atomic-css/css"),o=e(c),f=require("react-atomic-css/merge"),m=e(f);t.defaultProps={isOnDarkBackground:!1},module.exports=exports.default;
},{"./button.jsx":"./atoms/button","./fuji_icon.jsx":"./atoms/fuji_icon","./styles/fuji_icon_button":"./atoms/styles/fuji_icon_button","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-atomic-css/merge":"./node_modules/react-atomic-css/merge.js"}],"./atoms/highlighter":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),a=require("../platform/utils/string"),s=function e(t){var s=t.haystack,n=t.needle,u=t.formatter,l=t.containerClassNames,o=(0,a.segmentText)(s,n),c=o[0],f=o[1],d=o[2];return f?r.default.createElement("span",{className:l},c,u(f),d):r.default.createElement("span",{className:l},s)};s.defaultProps={formatter:function e(t){return t},haystack:"",needle:""},exports.default=s,module.exports=exports.default;
},{"../platform/utils/string":"./platform/utils/string","react":"./node_modules/react/react.js"}],"./atoms/hover_colored_fuji_icon":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},o=require("react"),n=e(o),a=require("./fuji_icon.jsx"),u=e(a),i=require("./constants/fuji_icon"),s=require("../platform/utils/object"),l=n.default.createClass({displayName:"HoverColoredFujiIcon",getInitialState:function e(){return{hovered:!1}},handleHover:function e(t){this.setState({hovered:t})},render:function e(){var o=this,a=this.props,i=a.colorStates,s=t(a,["colorStates"]),l=this.state.hovered?i.hovered:i.normal;return n.default.createElement(u.default,r({},s,{onMouseEnter:function e(){return o.handleHover(!0)},onMouseLeave:function e(){return o.handleHover(!1)},colorState:l,allowPointerEvents:!0}))}});exports.default=l,module.exports=exports.default;
},{"../platform/utils/object":"./platform/utils/object","./constants/fuji_icon":"./atoms/constants/fuji_icon","./fuji_icon.jsx":"./atoms/fuji_icon","react":"./node_modules/react/react.js"}],"./atoms/hover_colored_fuji_icon_button":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},o=require("react"),s=e(o),a=require("./fuji_icon_button.jsx"),n=e(a),i=require("./constants/fuji_icon"),u=require("../platform/utils/object"),l=require("react-atomic-css/merge"),c=e(l),d=require("./styles/hover_fuji_icon_button.js"),f=e(d),h=require("react-atomic-css/css"),p=e(h),v=(0,p.default)(f.default),b=s.default.createClass({displayName:"HoverColoredFujiIconButton",getInitialState:function e(){return{hovered:!1}},handleHover:function e(t){this.setState({hovered:t})},render:function e(){var o=this.props,a=o.colorStates,i=t(o,["colorStates"]),u=!this.props.disabled&&this.state.hovered?a.hovered:a.normal;return s.default.createElement(n.default,r({title:""},i,{className:(0,c.default)(this.props.className||"",v.button),onMouseOver:this.handleHover.bind(this,!0),onMouseOut:this.handleHover.bind(this,!1),colorState:u}))}});exports.default=b,module.exports=exports.default;
},{"../platform/utils/object":"./platform/utils/object","./constants/fuji_icon":"./atoms/constants/fuji_icon","./fuji_icon_button.jsx":"./atoms/fuji_icon_button","./styles/hover_fuji_icon_button.js":"./atoms/styles/hover_fuji_icon_button","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-atomic-css/merge":"./node_modules/react-atomic-css/merge.js"}],"./atoms/html5uploader":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var t=require("react"),a=e(t),r=a.default.createClass({displayName:"Html5Uploader",render:function e(){return a.default.createElement("input",{role:"button",className:this.props.className,type:"file",ref:"input",value:"",title:this.props.ariaLabel,"aria-label":this.props.ariaLabel,multiple:this.props.multiple,onChange:this.props.onChange})}});module.exports=r;
},{"react":"./node_modules/react/react.js"}],"./atoms/infinite_scroll":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)>=0||"true"===e.getAttribute("contentEditable"))}function i(){return{transform:"translate3d("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+"px, "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+"px, "+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+"px)"}}function s(e,t){var i=e.cursorIndex,s=e.size,o=e.bufferSize,r=t.start,n=t.end;return r=0===r?r:r+o,n=n===s-1?n:n-o-1,r<i&&i<n}exports.__esModule=!0,exports.InfiniteScroll=void 0,exports.isInputField=t;var o=require("react"),r=e(o),n=require("react-dom"),a=require("./styles/infinite_scroll"),l=e(a),c=require("../platform/mail_constants"),d=require("../platform/utils/mail_ui_vars"),h=require("react-intl"),p=require("./fuji_icon_button.jsx"),u=e(p),f=require("./constants/fuji_icon"),g=require("../molecules/item_list/constants"),m=require("./lazy_component"),_=require("../platform/utils/object"),I={SECTION:"SECTION",ROW:"ROW"},T=(0,h.defineMessages)({infinite_scroll_messages:{id:"infinite_scroll.messages",defaultMessage:"Messages"},infinite_scroll_scroll_to_top:{id:"infinite_scroll.scroll_to_top_button_title",defaultMessage:"Scroll to top"}}),S=5,x=exports.InfiniteScroll=r.default.createClass({displayName:"InfiniteScroll",contextTypes:{getCss:o.PropTypes.func,intl:h.intlShape.isRequired,getTheme:o.PropTypes.func,getThemeMode:o.PropTypes.func},getDefaultProps:function e(){return{contentInsetTop:0,initialRenderCount:15,bufferSize:1,isSectionHeader:function e(){return!1},initialIndexForTab:0,cursorIndex:-1,hasMoreItems:!1,loadThreshold:10,selectFirstItem:function e(){return null},onScrollTopChange:function e(){},onScroll:function e(){},layoutKey:"@DEFAULT"}},getInitialState:function e(){return Object.assign(this._getMeta(this.props),{loading:!1,pinnedSectionIndex:0,prevSize:0,prevLoading:0})},_getMeta:function e(t){for(var i=t.size,s=t.getHeightForIndex,o=t.isSectionHeader,r=t.hasMoreItems,n=t.contentInsetTop,a=i+(r?1:0),l=Array(a+1),c=n,d=[],h=0;h<i+(r?1:0);h++){l[h]=c;var p=o(h);0===h&&p||(c+=s(h)),p&&d.push(h)}return l[a]=c,{sectionIndices:d,positions:l,containerHeight:c}},componentWillReceiveProps:function e(t){var i=this,s={};this.props.layoutKey!==t.layoutKey&&(this._maxSpread=0,this._rectBox=(0,n.findDOMNode)(this).getBoundingClientRect()),Object.assign(s,this._getMeta(t)),Object.assign(s,this._getItemsFitToView(t,s,this._lastScrollTop)),s.pinnedSectionIndex=this._getPinnedSectionIndex(s.sectionIndices),s.loading=this.state.loading&&this.props.size===t.size&&Array.apply(null,{length:this.props.size}).every(function(e,s){return i.props.getIdForIndex(s)===t.getIdForIndex(s)}),s.prevSize=this.props.size,s.prevLoading=this.props.loadingState,this.setState(s)},_loadingStateTranscation:function e(){this.setState({prevLoading:c.LoadingState.FINISH})},componentWillMount:function e(){var t=0,i=this.props,s=i.cursorIndex,o=i.initialScrollTop,r=i.initialRenderCount,n=i.size;this._maxSpread=0,this._rectBox={height:0,top:0},this._lastScrollTop=0,this._stickyHeaderStyled=!1,o>0?(this._lastScrollTop=o,t=this._getStartItemForScrollTop(this._lastScrollTop)):s>r&&(t=Math.max(s-(Math.ceil(r/2)-1),0),this._lastScrollTop=this.state.positions[t]),this.setState({start:t,end:Math.min(t+r,n)})},_getStartItemForScrollTop:function e(t){for(var i=this.props,s=this._getMeta(i),o=s.positions,r=0,n=0;n<i.size;n++)if(o[n]>t){r=n-1;break}return r},_getItemsFitToView:function e(t,i,s){for(var o=t.bufferSize,r=t.size,n=i.positions,a=this._rectBox.height,l=0,c=r,d=0;d<r;d++)if(n[d]>s){l=d-1;break}for(var h=l;h<r;h++)if(n[Math.min(h+1,r-1)]>=s+a){c=h+1;break}return l=Math.max(l-o,0),c=Math.min(c+o,r),this._maxSpread<c-l&&(this._maxSpread=c-l),c=l+this._maxSpread,{start:l,end:c}},_scrollToFitCursor:function e(){var t=this.state.positions;this.scroller.scrollTop=Math.max(t[this.props.cursorIndex]-this._rectBox.height/2,1)},_handleResize:function e(){this._maxSpread=0,this._onBoundingRectChange()},_onBoundingRectChange:function e(){var t=this._rectBox.height;if(this._rectBox=(0,n.findDOMNode)(this).getBoundingClientRect(),this._rectBox.height!==t){var i=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.setState(i,this._loadMoreIfNeeded)}else this._loadMoreIfNeeded()},_loadMoreIfNeeded:function e(){this.state.positions[this.props.size]<this._lastScrollTop+this._rectBox.height&&this._loadMore()},componentDidMount:function e(){var t=this,i=this.props,s=i.cursorIndex,o=i.initialRenderCount,r=i.initialScrollTop;if(this._onBoundingRectChange(),r>0)this.scroller.scrollTop=r;else if(s>o)this._scrollToFitCursor();else{var n=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.state.start===n.start&&this.state.end===n.end||this.setState(n,function(){t._styleItems(),t._loadMore()})}setTimeout(function(){return t.focusItem(t.props.cursorIndex)}),this.scroller.style.height=this._rectBox.height-this._getPinnedSectionHeight()+"px",window.addEventListener("resize",this._handleResize),this.scroller.addEventListener("scroll",this._handleScroll)},componentWillUnmount:function e(){clearTimeout(this.scrollTopTimeout),window.removeEventListener("resize",this._handleResize),this.scroller.removeEventListener("scroll",this._handleScroll)},componentDidUpdate:function e(i){var o=this.props,r=this.state.positions;if(this.scroller.style.height=this._rectBox.height-this._getPinnedSectionHeight()+"px",this._loadMoreIfNeeded(),o.cursorIndex!==i.cursorIndex&&o.cursorIndex>=0){var n=o.getHeightForIndex(o.cursorIndex);if(this._lastScrollTop>r[o.cursorIndex]){var a=this.state.sectionIndices.slice(0).reverse().find(function(e){return e<o.cursorIndex});this.scroller.scrollTop=r[o.cursorIndex]-(isNaN(a)?0:o.getHeightForIndex(a))}else this._lastScrollTop+this._rectBox.height<r[o.cursorIndex]+n&&(this.scroller.scrollTop=r[o.cursorIndex]-this._rectBox.height+n+o.contentInsetTop)}document.activeElement&&document.activeElement!==document.body&&(t(document.activeElement)||document.activeElement.tabIndex===d.TabIndices.MESSAGE_LIST_MAIN)||(s(this.props,this.state)&&o.cursorIndex!==i.cursorIndex||o.getIdForIndex(o.cursorIndex)!==i.getIdForIndex(i.cursorIndex))&&this.focusItem(o.cursorIndex)},focusItem:function e(t){var i=this;if(!this.content||!this.content.children)return!1;var s=this.content.children[t-this.state.start];return!!s&&(requestAnimationFrame(function(){s.children[0].focus(),s.children[0].setAttribute("tabindex",i.props.groupTabIndex)}),!0)},_handleFocusPass:function e(t){var i=this;t.preventDefault();var s=void 0;this.props.cursorIndex<0?(this.scroller.scrollTop=0,s=this.props.initialIndexForTab,this.props.selectFirstItem()):(this._scrollToFitCursor(),s=this.props.cursorIndex,window.requestAnimationFrame(function(){return i.focusItem(s)}))},_handleScroll:function e(t){var i=this;t.stopPropagation(),this.animationRequested||this.scroller&&(this._lastScrollTop=this.scroller.scrollTop,this.animationRequested=!0,this.props.onScroll(),window.requestAnimationFrame(function(){i.animationRequested=!1;var e=i._getItemsFitToView(i.props,i.state,i._lastScrollTop);e.pinnedSectionIndex=i._getPinnedSectionIndex(i.state.sectionIndices),i.state.start===e.start&&i.state.end===e.end&&i.state.pinnedSectionIndex===e.pinnedSectionIndex||i.setState(e,i._loadMore),i._styleItems(),i.props.onScrollTopChange(i._lastScrollTop),clearTimeout(i.scrollTopTimeout),i.scrollTopTimeout=setTimeout(function(){var e=i._scrollPercent();(e<S&&i.goToTop||e>S&&!i.goToTop)&&i.forceUpdate()},100)}))},_getPinnedSectionIndex:function e(t){var i=this._getSectionIndexStatus(t);return this.props.magicTriageEnabled&&t.length>0&&this.props.getElementForIndex(t[0]).props.separatorType===g.ListSeparatorTypes.MAGIC_TRIAGE?-1:i?i.findIndex(function(e){return e===c.SectionUIMode.PINNED}):0},_styleStickyHeader:function e(){this._lastScrollTop&&!this._stickyHeaderStyled?(this.stickyheader.style.boxShadow=d.Shadows.MED,this._stickyHeaderStyled=!0):this._lastScrollTop||(this.stickyheader.style.boxShadow="none",this._stickyHeaderStyled=!1)},_styleItems:function e(){var t=this,i=this.state,s=i.sectionIndices,o=i.start,r=this._stylesForSections(s);this.content&&Array.prototype.forEach.call(this.content.children,function(e,i){var s=i+o,r=t._translateForIndex(s);Object.assign(e.style,r)}),this.header&&Array.prototype.forEach.call(this.header.children,function(e,t){Object.assign(e.style,r[s[t]])}),this.stickyheader&&this._styleStickyHeader()},_loadMore:function e(){var t=this.props,i=t.size,s=t.hasMoreItems,o=t.loadThreshold,r=t.onLoadMore,n=this.state,a=n.end,l=n.loading;!r||l||!s||i-a>o||this.setState({loading:!0},r)},_translateForIndex:function e(t){return i(0,this.state.positions[t])},_getSectionIndexStatus:function e(t){for(var i=this,s=Math.floor(c.SectionTransitionCoefficient*this._getPinnedSectionHeight()),o=0,r=t.length-1;r>=0;r--)if(this.state.positions[t[r]]<=this._lastScrollTop-s){o=r;break}return t.map(function(e,s){return i.props.magicTriageEnabled&&t.length>0&&i.props.getElementForIndex(t[0]).props.separatorType===g.ListSeparatorTypes.MAGIC_TRIAGE?c.SectionUIMode.FLOW:o===s?c.SectionUIMode.PINNED:c.SectionUIMode.FLOW})},_stylesForSections:function e(t){var s=this._getSectionIndexStatus(t),o=this.state.positions,r={};return t.forEach(function(e,t){var n=void 0;switch(s[t]){case c.SectionUIMode.FLOW:n=i(0,o[e]);break;case c.SectionUIMode.PINNED:n={display:"none"}}r[e]=Object.assign({zIndex:1},n)}),r},getRowClass:function e(t,i){var s=this.props.hasAds?1:0;if(this.props.loadingState===c.LoadingState.FINISH&&this.state.prevLoading===c.LoadingState.START&&this.state.prevSize<this.props.size){if(i>s&&i<this.props.size-this.state.prevSize+s+1)return t.newItem;if(i>=this.props.size-this.state.prevSize+s+1)return t.oldItem}return t.item},renderRow:function e(t,i,s){var o=s.type,n=s.translation,a=this.props,l=a.getElementForIndex,c=a.cursorIndex,d=a.initialIndexForTab,h=a.groupTabIndex,p=i===c||c<0&&d===i?h:-1;return r.default.createElement("li",{key:i,role:"rowgroup","data-test-id":"infinite-scroll-"+o,className:this.props.reloadingBar?this.getRowClass(t,i):t.item,style:n},r.default.cloneElement(l(i),{tabIndex:p}))},_getPinnedSectionHeight:function e(){var t=this.state,i=t.sectionIndices,s=t.pinnedSectionIndex,o=this.props.getHeightForIndex;return s>=0&&s<i.length?o(i[s]):0},_scrollPercent:function e(){return this.scroller?Math.floor(100*(this.scroller.scrollTop/this.scroller.scrollHeight)):0},_scrolToTop:function e(){this.scroller&&(this.scroller.scrollTop=0)},render:function e(){for(var t,i=this,s=this.context.getTheme(),o=this.context.getCss(l.default,(t={},t["theme-"+s]=!0,t)),n=this.context.intl.formatMessage,a=this.props,c=a.LoadMoreClass,d=a.hasMoreItems,h=a.getElementForIndex,p=a.size,_=a.cursorIndex,x=a.groupTabIndex,v=a.isSectionHeader,y=a.getHeightForIndex,E=this.state,M=E.loading,F=E.start,b=E.end,N=E.sectionIndices,z=E.pinnedSectionIndex,C=[],R=0,w=null,A=null,L=this._stylesForSections(N),H=F;H<b;H++)H<p?C.push(this.renderRow(o,H,{type:v(H)?I.SECTION:I.ROW,translation:v(H)?L[H]:this._translateForIndex(H)})):C.push(null);var P=N.map(function(e){return i.renderRow(o,e,{type:I.SECTION,translation:L[e]})});return(!this.props.magicTriageEnabled||this.props.magicTriageEnabled&&C.length>0&&P[0]&&P[0].props.children.props.separatorType!==g.ListSeparatorTypes.MAGIC_TRIAGE)&&z>-1&&N.length>0&&(R=y(N[z]),w=r.default.createElement("div",{ref:function e(t){return i.stickyheader=t},className:o.stickyHeader,style:{height:R},"data-test-id":"infinite-scroll-header"},h(N[z]))),this._scrollPercent()>S&&(A=r.default.createElement("div",{ref:function e(t){return i.goToTop=t},className:o.scrollToTop,onClick:this._scrolToTop},r.default.createElement(u.default,{title:n(T.infinite_scroll_scroll_to_top),kind:f.Kinds.TAP_TO_TOP,size:f.Sizes.XS,colorState:f.ColorStates.INVERTED,paddingLess:!0}))),r.default.createElement("div",{"data-test-id":"infinite-scroll-container",className:o.main},w,r.default.createElement("div",{role:"navigation",className:o.scroll,"data-name":"scroll-area","data-test-id":"infinite-scroll-area",ref:function e(t){return i.scroller=t},style:{marginTop:R},"aria-label":n(T.infinite_scroll_messages)},r.default.createElement("div",{"data-test-id":"infinite-scroll-focus-passer",className:o.focusStealer,tabIndex:F>_||b<_?x:-1,onFocus:this._handleFocusPass}),r.default.createElement("div",{className:o.container,"data-name":"infinite-scroll-content","data-test-id":"infinite-scroll-content",style:{height:this.state.containerHeight}},r.default.createElement("ul",{ref:function e(t){return i.content=t},className:o.container,role:"grid","data-test-id":"infinite-scroll-rows","aria-readonly":"true"},C),r.default.createElement("ul",{ref:function e(t){return i.header=t},className:o.container,"aria-hidden":!0},P),M&&d&&c&&r.default.createElement("div",{className:o.loading},c)),this.props.magicTriageEnabled&&this.props.magicTriageBarEnabled&&this.props.magicTriageUserVisits&&this.props.magicTriageTimestamp>=0&&P[0]&&P[0].props.children.props.separatorType===g.ListSeparatorTypes.MAGIC_TRIAGE&&r.default.createElement(m.LazyComponent,{defer:!0,import:"../molecules/magic_triage_bar",magicTriageUserVisits:this.props.magicTriageUserVisits,magicTriageTimestamp:this.props.magicTriageTimestamp,_moduleGetter:function e(){return require("../molecules/magic_triage_bar")}})),A)}});exports.default=x;
},{"../molecules/item_list/constants":"./molecules/item_list/constants","../molecules/magic_triage_bar":"./molecules/magic_triage_bar","../platform/mail_constants":"./platform/mail_constants","../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../platform/utils/object":"./platform/utils/object","./constants/fuji_icon":"./atoms/constants/fuji_icon","./fuji_icon_button.jsx":"./atoms/fuji_icon_button","./lazy_component":"./atoms/lazy_component","./styles/infinite_scroll":"./atoms/styles/infinite_scroll","react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js"}],98:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.INPUT_MODES=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},s=require("react"),o=e(s),a=require("./constants/key_codes"),n=exports.INPUT_MODES={POINTER:"pointer-mode",KEYBOARD:"keyboard-mode"},r=o.default.createClass({displayName:"InputModeDetector",getInitialState:function e(){return{inputMode:n.POINTER}},handleKeyUp:function e(t){switch(t.key){case"Tab":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":this.handleKeyNav()}switch(t.which){case a.KEYCODE.PERIOD:case a.KEYCODE.COMMA:this.handleKeyNav();break;default:return}},lastMouseCoordinates:[],handleKeyNav:function e(){this.setState({inputMode:n.KEYBOARD})},handleMouseDown:function e(){this.setState({inputMode:n.POINTER})},handleMouseMove:function e(t){this.lastMouseCoordinates[0]===t.screenX&&this.lastMouseCoordinates[1]===t.screenY||(this.lastMouseCoordinates=[t.screenX,t.screenY],this.setState({inputMode:n.POINTER}))},render:function e(){var s=this.props.className?" "+this.props.className:"",a=this.state.inputMode+s,r=this.state.inputMode===n.KEYBOARD?{onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown}:{onKeyUp:this.handleKeyUp};return o.default.createElement("div",t({className:a},r),this.props.children)}});exports.default=r;
},{"./constants/key_codes":"./atoms/constants/key_codes","react":"./node_modules/react/react.js"}],"./atoms/keyboard_navigation_focus_group":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.KeyboardNavigationFocusGroup=exports.NAVIGATION_AXES=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},a=require("react"),o=e(a),i=require("react-dom"),r=require("react-intl"),n=require("./constants/key_codes"),s=require("../platform/utils/object"),u=(0,r.defineMessages)({focus_group_aria_label:{id:"focus_group_aria_label",defaultMessage:"Keyboard navigation group. Use arrow keys to navigate, or tab to the next group."}}),p="data-iskeynav",l="[data-iskeynav]",c=exports.NAVIGATION_AXES=(0,s.mirrorKeys)(["HORIZONTAL","VERTICAL"]),d=o.default.createClass({displayName:"KeyboardNavigationFocusGroup",contextTypes:{intl:r.intlShape.isRequired},getDefaultProps:function e(){return{axis:c.VERTICAL,circularNavigation:!0,groupTabIndex:0,skipKeydownOnFormElement:!0,excludeKeyCodes:[]}},componentDidMount:function e(){var t=(0,i.findDOMNode)(this),a=this.getNavigableElements();a.length&&!t.querySelector('[tabindex="'+this.props.groupTabIndex+'"]')&&(a[0].tabIndex=this.props.groupTabIndex)},handleClick:function e(t){for(var a=this.getNavigableElements(),o=t.target;o!==t.currentTarget&&!o.getAttribute(p);)o=o.parentElement;a.indexOf(o)>-1&&o.tabIndex===-1&&this.applyFocusTo(o)},handleKeyDown:function e(t){if(!t.target.isContentEditable&&!(this.props.skipKeydownOnFormElement&&["INPUT","TEXTAREA","SELECT"].indexOf(t.target.tagName)!==-1||this.props.excludeKeyCodes.indexOf(t.key)>=0||this.props.excludeKeyCodes.indexOf(t.which)>=0)){switch(t.key){case"Escape":document.activeElement.blur()}if(this.props.axis===c.HORIZONTAL)switch(t.key){case"ArrowLeft":t.preventDefault(),t.stopPropagation(),t.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowRight":t.preventDefault(),t.stopPropagation(),t.metaKey?this.jumpToEnd():this.navigate(1)}else switch(t.key){case"ArrowUp":t.preventDefault(),t.stopPropagation(),t.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowDown":t.preventDefault(),t.stopPropagation(),t.metaKey?this.jumpToEnd():this.navigate(1)}switch(t.which){case n.KEYCODE.COMMA:case n.KEYCODE.FF_COMMA:t.preventDefault(),t.stopPropagation(),this.navigate(-1);break;case n.KEYCODE.PERIOD:t.preventDefault(),t.stopPropagation(),this.navigate(1);break;default:return}}},jumpToTop:function e(){this.jump()},jumpToEnd:function e(){this.jump(!0)},jump:function e(t){var a=this.getNavigableElements(),o=void 0,i=0,r=1,n=a.length-1;for(t&&(i=n,r=-1,n=0),o=a[i];this.isNotFocusable(o)&&i!==n;)i+=r,o=a[i];this.applyFocusTo(o)},isNotFocusable:function e(t){return!(t&&t.offsetHeight&&!t.disabled)},getNavigableElements:function e(){var t=(0,i.findDOMNode)(this);return Array.prototype.slice.call(t.querySelectorAll(l))},navigate:function e(t){var a=this.getNavigableElements(),o=Math.min,i=Math.max,r=0,n=a.length-1,s=a.indexOf(document.activeElement),u=void 0,p=void 0;if(a.length){for(this.props.circularNavigation?(u=s+t,u>n?u=r:u<r&&(u=n)):u=o(i(s+t,0),n),p=a[u];p&&this.isNotFocusable(p);)u+=t,p=a[u];p&&this.applyFocusTo(p)}},resetTabIndex:function e(){for(var t=(0,i.findDOMNode)(this),a=t.querySelectorAll('[tabindex="'+this.props.groupTabIndex+'"]'),o=0;o<a.length;++o)a[o].tabIndex=-1},applyFocusTo:function e(t){this.resetTabIndex(),t.tabIndex=this.props.groupTabIndex,t.focus()},render:function e(){var a=this.context.intl.formatMessage,i=Object.assign({},this.props);return delete i.axis,delete i.circularNavigation,delete i.groupTabIndex,delete i.groupTabIndex,delete i.excludeKeyCodes,delete i.skipKeydownOnFormElement,o.default.createElement("div",t({"data-test-id":"focus-group",onKeyDown:this.handleKeyDown,onClick:this.handleClick,"aria-label":a(u.focus_group_aria_label)},i),this.props.children)}});exports.KeyboardNavigationFocusGroup=d;
},{"../platform/utils/object":"./platform/utils/object","./constants/key_codes":"./atoms/constants/key_codes","react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js"}],99:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t,a=require("react"),s=e(a),r=require("./styles/fb_trap"),l=require("react-intl"),n=require("../../platform/mail_constants"),o=n.MAILGATE_URL+"/neo/m/launch?.src=norrin&toB=2&ncrumb=",u=(t={},t[n.OSKeys.IOS]="https://s.yimg.com/nq/store-badges/latest/store-badges/apple-app-store-badge-english.png",t[n.OSKeys.ANDROID]="https://s.yimg.com/nq/store-badges/latest/store-badges/google-play-badge-english.png",t),i="https://go.onelink.me/107872968?pid=LandingPage&c=Mail_FB_Bot_Sep17&af_sub1=Internal&af_sub2=Install_App_YMktg&af_sub3=Bot_Interstitial_V1",d=s.default.createClass({displayName:"FBBotTrap",contextTypes:{intl:l.intlShape.isRequired},render:function e(){var t=u[this.props.os];return s.default.createElement("div",{style:r.styles.outerWrapper},s.default.createElement("div",{style:r.styles.contentHolder},s.default.createElement("div",{style:r.styles.notice},s.default.createElement(l.FormattedHTMLMessage,{id:"fb_trap_text1",defaultMessage:'Yahoo Mail Reminders currently only works on your computer, but you can go to your mail <a href="{muninURL}">here</a> or use the mobile app.',values:{muninURL:o}})),t?s.default.createElement("div",null,s.default.createElement("a",{href:i},s.default.createElement("img",{src:t,style:r.styles.appIcon}))):void 0))}});exports.default=d,module.exports=exports.default;
},{"../../platform/mail_constants":"./platform/mail_constants","./styles/fb_trap":102,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],100:[function(require,module,exports){
"use strict";function r(r){return r&&r.__esModule?r:{default:r}}exports.__esModule=!0,exports.strings=void 0;var e=require("react"),t=r(e),o=require("react-intl"),a=require("../../platform/rapid_client"),s=r(a),n=require("../../platform/base_client/logger"),i=r(n),l=require("../../platform/mail_error"),u=r(l),p=require("../../platform/utils/api_logger"),c=require("../../platform/utils/object"),d=require("../../platform/assets"),g=require("./styles/launch_error"),E=require("../../platform/mail_constants"),f=require("../../platform/mail_error/constants"),h=require("./launch_error_dialog.jsx"),_=r(h),y=require("./update_browser_list.jsx"),m=r(y),C=require("./fbtrap.jsx"),T=r(C),P=159600033,R=exports.strings=(0,o.defineMessages)({"launch.error.logo.alt.text":{id:"launch.error.logo.alt.text",defaultMessage:"Yahoo Mail"},"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"}}),x=t.default.createClass({displayName:"LaunchError",contextTypes:{intl:o.intlShape.isRequired},initRapidClient:function r(){s.default.init({rapid:{spaceid:P,test_id:"norrin",keys:window.BrowserLoggerParams,dwell_on:!0,extendbcookie:!0}})},componentDidMount:function r(){var e=this.props.error;if(e=u.default.jsonToError(e),this.getErrorType()===E.ErrorTypes.LAUNCH_API_ERROR){var t={apiName:this.getApiName(),errorCode:this.getErrorCode(),statusCode:this.getStatusCode(),isOnline:!0},o=this.getExtraErrorCode(),a=this.getExtraStatusCode();o&&(t.extraErrorCode=o),a&&(t.extraStatusCode=a),this.initRapidClient(),(0,p.apiErrorLogger)(i.default,E.ApiClientLoggerNames.MailAPIClient,t,e)}},getErrorType:function r(){switch(this.props.error.name){case f.LAUNCHERROR_LAUNCH_API_FAILED:return E.ErrorTypes.LAUNCH_API_ERROR;case"LaunchError.NoScript":return E.ErrorTypes.NO_SCRIPT;case"LaunchError.UnsupportedBrowser":return E.ErrorTypes.UNSUPPORTED_BROWSER;case"LaunchError.UnsupportedFBMailBot":return E.ErrorTypes.UNSUPPORTED_FBMAILBOT}return E.ErrorTypes.DEFAULT},_getErrorProperty:function r(e){var t=this.props.error;return(0,c.getIn)(t,"data."+e,null)},getApiName:function r(){return this._getErrorProperty("apiName")},getErrorCode:function r(){return this._getErrorProperty("errorCode")},getStatusCode:function r(){return this._getErrorProperty("statusCode")},getExtraErrorCode:function r(){return this._getErrorProperty("extraErrorCode")},getExtraStatusCode:function r(){return this._getErrorProperty("extraStatusCode")},getCode:function r(){return this._getErrorProperty("code")},getBrowserName:function r(){return this._getErrorProperty("browserName")},getOS:function r(){return this._getErrorProperty("os")},getClassicMailUrl:function r(){return this._getErrorProperty("classicMailUrl")},getCspToken:function r(){return this._getErrorProperty("cspToken")},renderLaunchErrorDialog:function r(){var e=this.getErrorType(),o=this.props.error;switch(e){case E.ErrorTypes.LAUNCH_API_ERROR:return t.default.createElement(_.default,{type:e,code:this.getCode()});case E.ErrorTypes.NO_SCRIPT:return t.default.createElement(_.default,{type:e,cspToken:this.getCspToken()});case E.ErrorTypes.UNSUPPORTED_BROWSER:return t.default.createElement(m.default,{browserName:this.getBrowserName(),os:this.getOS(),classicMailUrl:this.getClassicMailUrl()});case E.ErrorTypes.UNSUPPORTED_FBMAILBOT:return t.default.createElement(T.default,o.data);case E.ErrorTypes.DEFAULT:return t.default.createElement(_.default,{type:e})}return null},render:function r(){var e=this.context.intl.formatMessage,o=this.props.hideLogo;return t.default.createElement("div",{style:g.styles.launchErrorWrapper},t.default.createElement("div",null,t.default.createElement("img",{alt:e(R["launch.error.banner.alt.text"]),src:(0,d.getURL)("/img/banner_bg.jpg"),style:g.styles.ribbon}),o?null:t.default.createElement("img",{alt:e(R["launch.error.logo.alt.text"]),src:(0,d.getURL)("/img/logo_yahoo.png"),style:g.styles.logo})),this.renderLaunchErrorDialog())}});exports.default=x;
},{"../../platform/assets":"./platform/assets","../../platform/base_client/logger":"./platform/base_client/logger","../../platform/mail_constants":"./platform/mail_constants","../../platform/mail_error":"./platform/mail_error","../../platform/mail_error/constants":"./platform/mail_error/constants","../../platform/rapid_client":"./platform/rapid_client","../../platform/utils/api_logger":"./platform/utils/api_logger","../../platform/utils/object":"./platform/utils/object","./fbtrap.jsx":99,"./launch_error_dialog.jsx":101,"./styles/launch_error":103,"./update_browser_list.jsx":106,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],101:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.strings=void 0;var r=require("react"),t=e(r),a=require("react-intl"),l=require("../../platform/mail_constants"),n=require("./styles/launch_error_dialog"),o=require("../../platform/assets"),s="https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML",i="https://mg.mail.yahoo.com/neo/b/launch",c=exports.strings=(0,a.defineMessages)({"launch.error.icon.alert":{id:"launch.error.icon.alert",defaultMessage:"Alert icon"},"launch.error.launch_api_error.title":{id:"launch.error.launch_api_error.title",defaultMessage:"We are experiencing some technical difficulties"},"launch.error.launch_api_error.body":{id:"launch.error.launch_api_error.body",defaultMessage:"Temporary Error: {code}"},"launch.error.no_script_error.title":{id:"launch.error.no_script_error.title",defaultMessage:"Javascript is not enabled on your browser."},"launch.error.no_script_error.body":{id:"launch.error.no_script_error.body",defaultMessage:"Enable javascript to enjoy all the features in Yahoo Mail."},"launch.error.default.title":{id:"launch.error.default.title",defaultMessage:"Your mail is temporarily unavailable."},"launch.error.default.body":{id:"launch.error.default.body",defaultMessage:"Please wait a moment and reload the page."}}),u=t.default.createClass({displayName:"LaunchErrorDialog",contextTypes:{intl:a.intlShape.isRequired},getTitleText:function e(){var r=this.props.type,t=this.context.intl.formatMessage;switch(r){case l.ErrorTypes.LAUNCH_API_ERROR:return t(c["launch.error.launch_api_error.title"]);case l.ErrorTypes.NO_SCRIPT:return t(c["launch.error.no_script_error.title"]);default:return t(c["launch.error.default.title"])}},getBodyText:function e(){var r=this.props,t=r.type,a=r.code,n=this.context.intl.formatMessage;switch(t){case l.ErrorTypes.LAUNCH_API_ERROR:return n(c["launch.error.launch_api_error.body"],{code:a});case l.ErrorTypes.NO_SCRIPT:return n(c["launch.error.no_script_error.body"]);default:return n(c["launch.error.default.body"])}},renderBody:function e(){var r=this.getBodyText(),l=t.default.createElement("a",{href:s,target:"_blank",style:n.styles.anchorStyle},t.default.createElement(a.FormattedMessage,{id:"launch.error.help.pages",defaultMessage:"Help pages"}));return t.default.createElement("div",{style:n.styles.warnBody},r,t.default.createElement("br",null),l)},renderLaunchErrorAction:function e(){var r=this.props,o=r.type,s=r.cspToken,c="window.location = '"+l.YCPI_PATH_PREFIX+"#';",u=t.default.createElement("a",{href:l.YCPI_PATH_PREFIX,style:n.styles.buttonStyle},t.default.createElement(a.FormattedMessage,{id:"launch.error.try.again",defaultMessage:"Try again"})),d=t.default.createElement("div",null,t.default.createElement("a",{href:i,style:n.styles.buttonStyle},t.default.createElement(a.FormattedMessage,{id:"launch.error.classic.mail.url",defaultMessage:"Go to Classic Mail"})),t.default.createElement("script",{type:"text/javascript",nonce:s,dangerouslySetInnerHTML:{__html:c}}));switch(o){case l.ErrorTypes.NO_SCRIPT:return d;default:return u}},render:function e(){var r=this.context.intl.formatMessage,a=this.getTitleText();return t.default.createElement("div",{style:n.styles.warnWrapper},t.default.createElement("div",{style:n.styles.innerWrapper},t.default.createElement("div",{style:n.styles.iconWrapper},t.default.createElement("img",{alt:r(c["launch.error.icon.alert"]),src:(0,o.getURL)("/img/icon_alert.png"),style:n.styles.icon})),t.default.createElement("div",{style:n.styles.textWrapper},t.default.createElement("div",{style:n.styles.warnTitle},a),this.renderBody(),t.default.createElement("div",{style:n.styles.solution},this.renderLaunchErrorAction()))))}});exports.default=u;
},{"../../platform/assets":"./platform/assets","../../platform/mail_constants":"./platform/mail_constants","./styles/launch_error_dialog":104,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],102:[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=require("../../../platform/utils/mail_ui_vars");exports.default={styles:{outerWrapper:{position:"absolute",width:"100%",top:"30%"},contentHolder:{margin:8*t.GRID_UNIT+"px auto",padding:6*t.GRID_UNIT+"px "+12*t.GRID_UNIT+"px "+5*t.GRID_UNIT+"px "+6*t.GRID_UNIT+"px",border:"1px solid "+t.THIRD_LEVEL_GRAY,boxShadow:"0 0 "+2.5*t.GRID_UNIT+"px "+t.SHADOW_COLOR,textAlign:"center"},notice:{marginBottom:4*t.GRID_UNIT+"px"},appIcon:{display:"inline-block",height:"36px"}}},module.exports=exports.default;
},{"../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars"}],103:[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=require("../../../platform/utils/mail_ui_vars");exports.default={styles:{launchErrorWrapper:{color:t.BLACK,fontFamily:t.BASE_FONT_STACK},ribbon:{width:"100%",height:21*t.GRID_UNIT+"px"},logo:{position:"absolute",top:5*t.GRID_UNIT+"px",left:5*t.GRID_UNIT+"px",height:10*t.GRID_UNIT+"px"}}},module.exports=exports.default;
},{"../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars"}],104:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../../platform/utils/mail_ui_vars");exports.default={styles:{warnWrapper:{position:"absolute",width:"100%",top:"40%",textAlign:"center"},innerWrapper:{background:e.WHITE,display:"inline-block",border:"1px solid "+e.THIRD_LEVEL_GRAY,borderRadius:e.GRID_UNIT/2+"px",overflow:"hidden",margin:8*e.GRID_UNIT+"px auto",boxShadow:"0 0 "+2.5*e.GRID_UNIT+"px "+e.SHADOW_COLOR,textAlign:"left"},iconWrapper:{float:"left",margin:6*e.GRID_UNIT+"px "+5*e.GRID_UNIT+"px 0 "+6*e.GRID_UNIT+"px"},icon:{width:9*e.GRID_UNIT+"px",height:9*e.GRID_UNIT+"px"},textWrapper:{float:"left",fontSize:e.FONT_SIZE_S,lineHeight:4*e.GRID_UNIT+2+"px",marginRight:12*e.GRID_UNIT+"px"},warnTitle:{marginTop:4*e.GRID_UNIT+"px",fontSize:e.FONT_SIZE_L,lineHeight:6*e.GRID_UNIT+"px"},warnBody:{marginTop:2*e.GRID_UNIT+"px"},solution:{margin:5*e.GRID_UNIT+"px 0 "+5*e.GRID_UNIT+"px 0"},anchorStyle:{color:e.BASE_LINK_COLOR,textDecoration:"none",fontWeight:e.MEDIUM},buttonStyle:{padding:1.5*e.GRID_UNIT+"px "+4.5*e.GRID_UNIT+"px",textDecoration:"none",fontSize:e.FONT_SIZE_S,fontWeight:e.MEDIUM,cursor:"pointer",borderRadius:e.GRID_UNIT/2+"px",color:e.PRIMARY_BUTTON_TEXT_COLOR,backgroundColor:e.PRIMARY_BUTTON_ACTIVE_COLOR,border:e.GRID_UNIT/4+"px solid "+e.PRIMARY_BUTTON_ACTIVE_COLOR,width:17.5*e.GRID_UNIT+"px",textAlign:"center"}}},module.exports=exports.default;
},{"../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars"}],105:[function(require,module,exports){
"use strict";exports.__esModule=!0;var o=require("../../../platform/assets"),I=require("../../../platform/utils/mail_ui_vars"),i={CHROME:""+1.75*I.GRID_UNIT,FIREFOX:""+-11.25*I.GRID_UNIT,IE:""+-25*I.GRID_UNIT,SAFARI:""+-38*I.GRID_UNIT,CLASSIC:""+-50.5*I.GRID_UNIT},t={clear:"both",padding:3.5*I.GRID_UNIT+"px 0 "+3.5*I.GRID_UNIT+"px "+12.5*I.GRID_UNIT+"px",background:"url("+(0,o.getURL)("/img/browser_icons.png")+") no-repeat 0 0"};exports.default={styles:{outerWrapper:{position:"absolute",width:"100%",top:"30%"},contentHolder:{width:"45%",minWidth:125*I.GRID_UNIT+"px",maxWidth:175*I.GRID_UNIT+"px",margin:8*I.GRID_UNIT+"px auto",padding:6*I.GRID_UNIT+"px "+12*I.GRID_UNIT+"px "+5*I.GRID_UNIT+"px "+6*I.GRID_UNIT+"px",border:"1px solid "+I.THIRD_LEVEL_GRAY,boxShadow:"0 0 "+2.5*I.GRID_UNIT+"px "+I.SHADOW_COLOR},iconWrapper:{float:"left",marginRight:5*I.GRID_UNIT+"px"},icon:{width:9*I.GRID_UNIT+"px",height:9*I.GRID_UNIT+"px"},title:{marginBottom:4*I.GRID_UNIT+"px"},classicMailHolder:{marginTop:-1*I.GRID_UNIT+"px"},classicMailDesc:{fontSize:I.FONT_SIZE_XXS,display:"block",color:I.FIRST_LEVEL_GRAY,fontStyle:"normal"},ul:{listStyleType:"none",padding:"0px",margin:"0 0 0 "+14*I.GRID_UNIT+"px"},upgradeLink:{float:"right",padding:1.5*I.GRID_UNIT+"px "+4.5*I.GRID_UNIT+"px",marginTop:-1.5*I.GRID_UNIT+"px",textDecoration:"none",fontSize:I.FONT_SIZE_S,fontWeight:"500",cursor:"pointer",borderRadius:I.GRID_UNIT/2+"px",color:I.PRIMARY_BUTTON_TEXT_COLOR,backgroundColor:I.PRIMARY_BUTTON_ACTIVE_COLOR,border:I.GRID_UNIT/4+"px solid "+I.PRIMARY_BUTTON_ACTIVE_COLOR,width:17.5*I.GRID_UNIT+"px",textAlign:"center"},tryLaterLink:{color:I.PRIMARY_BUTTON_ACTIVE_COLOR,backgroundColor:I.WHITE,marginTop:"0px"},chrome:Object.assign({},t,{backgroundPosition:"0 "+i.CHROME+"px"}),firefox:Object.assign({},t,{backgroundPosition:"0 "+i.FIREFOX+"px"}),ie:Object.assign({},t,{backgroundPosition:"0 "+i.IE+"px"}),safari:Object.assign({},t,{backgroundPosition:"0 "+i.SAFARI+"px"}),classic:Object.assign({},t,{backgroundPosition:"0 "+i.CLASSIC+"px",paddingTop:2*I.GRID_UNIT+"px"})}},module.exports=exports.default;
},{"../../../platform/assets":"./platform/assets","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars"}],106:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("react"),t=e(r),s=require("./styles/update_browser_list"),a=require("react-intl"),l=require("../../platform/mail_constants"),i=require("../../platform/assets"),o=(0,a.defineMessages)({rs_page_icon_alert:{id:"rs_page_icon_alert",defaultMessage:"Alert icon"},rs_page_chrome:{id:"rs_page_browser_chrome",defaultMessage:"Google Chrome"},rs_page_firefox:{id:"rs_page_browser_firefox",defaultMessage:"Firefox"},rs_page_ie:{id:"rs_page_browser_ie",defaultMessage:"Internet Explorer"},rs_page_safari:{id:"rs_page_browser_safari",defaultMessage:"Safari"},rs_page_logo_alt_text:{id:"rs_page_logo_alt_text",defaultMessage:"Yahoo Mail"},rs_page_recommend_text:{id:"rs_page_recommend_text",defaultMessage:"Yahoo recommends you upgrade your browser to enjoy all the features in the new Yahoo Mail."},rs_page_upgrade_link_text:{id:"rs_page_upgrade_link_text",defaultMessage:"Upgrade"},rs_page_try_later_link_text:{id:"rs_page_try_later_link_text",defaultMessage:"Try it later"},rs_page_classic_mail_title:{id:"rs_page_classic_mail_title",defaultMessage:"Continue using Classic Mail."},rs_page_classic_mail_desc:{id:"rs_page_classic_mail_desc",defaultMessage:"You should plan on upgrading your browser soon."}}),n="https://www.google.com/chrome/browser/desktop/index.html",_="https://downloads.yahoo.com/firefox/",d="http://www.microsoft.com/windows/internet-explorer/default.aspx",c="http://www.apple.com/safari/",g=t.default.createClass({displayName:"UpdateBrowserList",contextTypes:{intl:a.intlShape.isRequired},getDefaultProps:function e(){return{browserName:"",os:"",classicMailUrl:"https://mg.mail.yahoo.com/neo/b/launch?.src=norrin&toB=2"}},renderBrowserUpgradeRow:function e(r,l,i){return t.default.createElement("li",{style:Object.assign({},r)},t.default.createElement("a",{href:l,style:s.styles.upgradeLink,target:"_new"},t.default.createElement(a.FormattedMessage,o.rs_page_upgrade_link_text)),t.default.createElement(a.FormattedMessage,i))},renderChrome:function e(){return this.renderBrowserUpgradeRow(s.styles.chrome,n,o.rs_page_chrome)},renderFirefox:function e(){return this.renderBrowserUpgradeRow(s.styles.firefox,_,o.rs_page_firefox)},renderIE:function e(){return this.renderBrowserUpgradeRow(s.styles.ie,d,o.rs_page_ie)},renderSafari:function e(){return this.renderBrowserUpgradeRow(s.styles.safari,c,o.rs_page_safari)},render:function e(){var r=this.context.intl.formatMessage,n=this.props,_=n.browserName,d=n.os,c=n.classicMailUrl;return t.default.createElement("div",{style:s.styles.outerWrapper},t.default.createElement("div",{style:s.styles.contentHolder},t.default.createElement("div",{style:s.styles.iconWrapper},t.default.createElement("img",{alt:r(o.rs_page_icon_alert),src:(0,i.getURL)("/img/icon_alert.png"),style:s.styles.icon})),t.default.createElement("div",{style:s.styles.title},t.default.createElement(a.FormattedMessage,o.rs_page_recommend_text)),t.default.createElement("ul",{style:s.styles.ul},"Chrome"===_&&this.renderChrome(),"Firefox"===_&&this.renderFirefox(),"IE"===_&&this.renderIE(),"Safari"===_&&this.renderSafari(),"Chrome"!==_&&this.renderChrome(),"Firefox"!==_&&this.renderFirefox(),"IE"!==_&&d===l.OSKeys.WINDOWS&&this.renderIE(),"Safari"!==_&&d===l.OSKeys.MAC&&this.renderSafari(),t.default.createElement("li",{style:Object.assign({},s.styles.li,s.styles.classic)},t.default.createElement("a",{href:c,style:Object.assign({},s.styles.upgradeLink,s.styles.tryLaterLink)},t.default.createElement(a.FormattedMessage,o.rs_page_try_later_link_text)),t.default.createElement("div",{style:s.styles.classicMailHolder},t.default.createElement(a.FormattedMessage,o.rs_page_classic_mail_title),t.default.createElement("em",{style:s.styles.classicMailDesc},t.default.createElement(a.FormattedMessage,o.rs_page_classic_mail_desc)))))))}});exports.default=g,module.exports=exports.default;
},{"../../platform/assets":"./platform/assets","../../platform/mail_constants":"./platform/mail_constants","./styles/update_browser_list":105,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/layer":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var t=require("react"),n=e(t),o=require("react-dom"),r=e(o),i=n.default.createClass({displayName:"Layer",getDefaultProps:function e(){return{rootId:"app"}},componentDidMount:function e(){var t=document.createElement("div"),n=document.getElementById(this.props.rootId);n.appendChild(t),this.containerNode=t,this.rootNode=n,this.renderLayer()},componentDidUpdate:function e(){this.renderLayer()},componentWillUnmount:function e(){r.default.unmountComponentAtNode(this.containerNode),this.rootNode.removeChild(this.containerNode)},renderLayer:function e(){var t=this.props,o=t.position,i=t.left,d=t.top,s=t.visibility,a=t.styles,u=Object.assign({position:o,left:i,top:d,visibility:s},a);o&&i&&d&&s||(u=null),r.default.unstable_renderSubtreeIntoContainer(this,n.default.createElement("div",{style:u},this.props.children),this.containerNode)},render:function e(){return null}});module.exports=i;
},{"react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js"}],"./atoms/lazy_component":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.Retry=exports.When=exports.LazyComponent=void 0;var r=require("./when.jsx"),t=e(r),o=require("./lazy_component.jsx"),s=e(o),n=require("./retry.jsx"),u=e(n);exports.LazyComponent=s.default,exports.When=t.default,exports.Retry=u.default;
},{"./lazy_component.jsx":"./atoms/lazy_component/lazy_component","./retry.jsx":"./atoms/lazy_component/retry","./when.jsx":"./atoms/lazy_component/when"}],"./atoms/lazy_component/lazy_component":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return e.props.loading}function r(e){return e.props.failed}function o(e){return e.type!==c.default}function n(e){return e&&e.props.children?a.Children.only(e.props.children):null}function i(e){var t=void 0,r=window.require;return window.require=function(e){t=e},e(),window.require=r,t}exports.__esModule=!0;var a=require("react"),d=e(a),u=require("lodash/omit"),l=e(u),s=require("./types"),p=require("./when.jsx"),c=e(p),f=require("../../types"),h=require("../../platform/lazy_loading/resolver"),y=require("../../platform/mail_constants"),m=d.default.createClass({displayName:"LazyComponent",contextTypes:{loader:f.LoaderType,config:a.PropTypes.object},childContextTypes:{retry:a.PropTypes.func},getInitialState:function e(){var t=null,r=!1,o=!1;try{t=this._interopRequireDefault(),r=!0}catch(e){}return{LoadedComponent:t,loaded:r,failed:o}},getChildContext:function e(){var t=this;return{retry:function e(){return t.retry()}}},_interopRequireDefault:function e(){var t=this.props._moduleGetter();return t&&t.__esModule?t.default:t},_updateLoadedState:function e(t){var r=this,o=this.props.onModuleLoadFailure;t.then(function(){r._tryLoadingComponent()}).catch(function(e){o&&o(e),r.setState({loaded:!0,failed:!0})})},_tryLoadingComponent:function e(){var t=this._interopRequireDefault();this.setState({loaded:!0,LoadedComponent:t})},componentDidMount:function e(){var t=this;if(!this.state.loaded){if(this.props.defer){var r=function e(){window.requestIdleCallback?window.requestIdleCallback(function(){return t.load()}):setTimeout(function(){return t.load()})};return void("complete"===document.readyState?r():window.addEventListener("load",r))}this.load()}},load:function e(){var t=this;try{this._tryLoadingComponent()}catch(e){this._updateLoadedState(this.context.loader.loadModule(i(this.props._moduleGetter)).catch(function(){return t.retry()}))}},retry:function e(){this.setState(this.getInitialState()),this._updateLoadedState(this.context.loader.loadModule(i(this.props._moduleGetter),{cache:!1,bundleMapURL:(0,h.getBundleMapURL)(y.appId)}))},render:function e(){var i=a.Children.toArray(this.props.children);if(!this.state.loaded)return n(i.find(t));if(this.state.failed)return n(i.find(r));var u=this.state.LoadedComponent,s=(0,l.default)(this.props,["import","onModuleLoadFailure","_moduleGetter","children"]);return d.default.createElement(u,s,i.filter(o))}});exports.default=m,module.exports=exports.default;
},{"../../platform/lazy_loading/resolver":"./platform/lazy_loading/resolver","../../platform/mail_constants":"./platform/mail_constants","../../types":"./types","./types":"./atoms/lazy_component/types","./when.jsx":"./atoms/lazy_component/when","lodash/omit":"./node_modules/lodash/omit.js","react":"./node_modules/react/react.js"}],"./atoms/lazy_component/retry":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),n=require("../button.jsx"),u=e(n),s=require("../constants/button"),l=r.default.createClass({displayName:"Retry",contextTypes:{retry:t.PropTypes.func},handleClick:function e(t){t.preventDefault(),this.context.retry()},render:function e(){return r.default.createElement(u.default,{kind:s.Kinds.CHROMELESS,onClick:this.handleClick},this.props.children)}});exports.default=l,module.exports=exports.default;
},{"../button.jsx":"./atoms/button","../constants/button":"./atoms/constants/button","react":"./node_modules/react/react.js"}],"./atoms/lazy_component/types":[function(require,module,exports){
"use strict";function e(e,o,r){for(var n=p.Children.toArray(e[o]),t=void 0,i={loading:0,failed:0},f=0,u=n.length;f<u;f++){var y=n[f];for(t in i)if(i.hasOwnProperty(t)&&y.props[t]&&(i[t]++,i[t]>1))return new TypeError("There must be only one <When> component with 'undefined' === true for "+r)}}function o(e,o,r,n){return"Failed propType: "+("Invalid prop '"+r+"' of type '"+e+"' supplied to '"+n+"', expected '"+o+"'.")}function r(e,o,r){return"Cannot provide both '"+e+"' and '"+o+"' props for <"+r+">"}function n(e,n,p){var i=e[n];if(i){var f="undefined"==typeof i?"undefined":t(i);return"boolean"!==f?new TypeError(o(f,"boolean",n,p)):e.failed?new TypeError(r(n,"failed",p)):void 0}}exports.__esModule=!0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.WhenType=e,exports.StatusLoadingType=n;var p=require("react");
},{"react":"./node_modules/react/react.js"}],"./atoms/lazy_component/when":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("react"),t=e(r),u=require("./types"),s=t.default.createClass({displayName:"When",render:function e(){return null}});exports.default=s,module.exports=exports.default;
},{"./types":"./atoms/lazy_component/types","react":"./node_modules/react/react.js"}],"./atoms/list_item":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a=require("react"),i=e(a),s=require("./styles/list_item"),l=e(s),n=require("react-atomic-css/css"),o=e(n),u=require("./constants/list_item"),d=require("../platform/utils/object"),c=i.default.createClass({displayName:"ListItem",getDefaultProps:function e(){return{kind:u.Kinds.DEFAULT}},render:function e(){var a=this.props,s=a.name,n=a.kind,u=a.ariaLabel,d=a.dir,c=a.title,p=t(a,["name","kind","ariaLabel","dir","title"]),f=(0,o.default)(l.default,{kind:n}),m=this.props.children||this.props.text;return i.default.createElement("li",r({name:s,title:c,"data-test-id":s,className:f.listItem,"aria-label":u,role:"menuitem",dir:d},p),m)}});exports.default=c,module.exports=exports.default;
},{"../platform/utils/object":"./platform/utils/object","./constants/list_item":"./atoms/constants/list_item","./styles/list_item":"./atoms/styles/list_item","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/loading_indicator":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.size,a=(0,d.default)(l.default,{size:t});return r.default.createElement("div",{className:a.wrapper},r.default.createElement("div",{className:a.container,"data-test-id":"loading_indicator"},r.default.createElement("svg",{className:a.spinner,viewBox:"0 0 24 24",width:"24",height:"24"},r.default.createElement("path",{className:a.arc,d:"M12,22C6.477,22,2,17.523,2,12S6.477,2,12,2"}),r.default.createElement("path",{className:a.arc,d:"M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10"}))))}exports.__esModule=!0,exports.Sizes=void 0,exports.default=t;var a=require("react"),r=e(a),s=require("../platform/utils/object"),i=require("./styles/loading_indicator"),l=e(i),c=require("react-atomic-css/css"),d=e(c),u=exports.Sizes=(0,s.mirrorKeys)(["S","M"]);t.defaultProps={size:u.M};
},{"../platform/utils/object":"./platform/utils/object","./styles/loading_indicator":"./atoms/styles/loading_indicator","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/menu/menu":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n=require("react"),i=e(n),s=require("react-dom"),a=e(s),o=require("../utils/menu_utils"),r=require("../layer.jsx"),u=e(r),l=require("../constants/list"),d=require("../../platform/utils/object"),c=require("../navigable_list.jsx"),f=e(c),h=require("../constants/navigable_list"),p=require("react-atomic-css/css"),m=e(p),v=require("../styles/menu"),y=e(v),g=function e(){},w=["click","focus","resize"],E=i.default.createClass({displayName:"Menu",getInitialState:function e(){return{show:!1,dimensionStyles:{}}},getDefaultProps:function e(){return{onHide:g}},componentDidMount:function e(){var t=this;this.refs.menu&&(this.setState({show:!0,dimensionStyles:(0,o.getMenuLayerStyles)(a.default.findDOMNode(this.props.actionNode),a.default.findDOMNode(this.refs.menu))},function(){a.default.findDOMNode(this.refs.navigableList).focus()}),w.forEach(function(e){window.addEventListener(e,t.handleHide,!1)}))},componentWillUnmount:function e(){var t=this;w.forEach(function(e){window.removeEventListener(e,t.handleHide,!1)})},handleHide:function e(t){var n=a.default.findDOMNode(this.refs.menu),i=a.default.findDOMNode(this.props.actionNode);!n||t.target instanceof Node&&(n.contains(t.target)||i.contains(t.target))||(this.setState({show:!1}),this.props.onHideMenu())},handleEscape:function e(){this.setState({show:!1}),this.props.onHideMenu(),a.default.findDOMNode(this.props.actionNode).focus()},handleKeyDown:function e(t){switch(t.key){case"Escape":t.preventDefault(),t.stopPropagation(),this.handleEscape();break;default:return void t.stopPropagation()}},render:function e(){if(!this.props.children)return null;var n=(0,m.default)(y.default),s=this.state.show?"visible":"hidden",a=Object.assign({position:"absolute",visibility:s},this.state.dimensionStyles);return i.default.createElement(u.default,null,i.default.createElement("div",{onKeyDown:this.handleKeyDown,className:n.menu,onClick:this.handleEscape,ref:"menu",style:a},i.default.createElement(f.default,t({ref:"navigableList",kind:h.Kinds.MENU,layout:this.props.menuLayout,onHide:this.handleHide,onEscape:this.handleEscape},this.props),this.props.children)))}});module.exports=E;
},{"../../platform/utils/object":"./platform/utils/object","../constants/list":"./atoms/constants/list","../constants/navigable_list":"./atoms/constants/navigable_list","../layer.jsx":"./atoms/layer","../navigable_list.jsx":"./atoms/navigable_list","../styles/menu":"./atoms/styles/menu","../utils/menu_utils":"./atoms/utils/menu_utils","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js"}],"./atoms/menu/menu_button":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n=require("react"),a=e(n),o=require("../button.jsx"),s=e(o),u=require("../constants/button"),i=a.default.createClass({displayName:"MenuButton",getDefaultProps:function e(){return{hasText:!1,isActive:!1}},render:function e(){var n=this.props,o=n.hasText,i=n.isActive,c=n.children,l=t(n,["hasText","isActive","children"]),d=i?u.Kinds.ICON_HIGHLIGHTED:u.Kinds.ICON;return a.default.createElement(s.default,r({},l,{"aria-controls":"react-menu-component","aria-haspopup":!0,kind:o?u.Kinds.CHROMELESS:d}),c)}});exports.default=i,module.exports=exports.default;
},{"../button.jsx":"./atoms/button","../constants/button":"./atoms/constants/button","react":"./node_modules/react/react.js"}],"./atoms/menu/menu_button_container":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var n={};for(var u in e)t.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(e,u)&&(n[u]=e[u]);return n}exports.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},u=require("react"),i=e(u),o=require("react-dom"),s=e(o),r=require("../../atoms/hover_colored_fuji_icon_button.jsx"),a=e(r),l=require("../menu/menu_button.jsx"),c=e(l),d=require("../menu/menu.jsx"),h=e(d),M=require("react-atomic-css/css"),f=e(M),p=require("../styles/menu_button_container"),b=e(p),m=function e(){},v=i.default.createClass({displayName:"MenuButtonContainer",getDefaultProps:function e(){return{onMenuShow:m,onMenuHide:m,onFocus:m,onBlur:m,showMenuActiveState:!1}},getInitialState:function e(){return{isMenuVisible:!1}},toggleMenu:function e(){this.state.isMenuVisible?this.hideMenu():this.showMenu()},showMenu:function e(){this.setState({isMenuVisible:!0}),this.props.onMenuShow()},componentDidUpdate:function e(t,n){this.props.afterMenuHide&&!this.state.isMenuVisible&&n.isMenuVisible&&this.props.afterMenuHide()},hideMenu:function e(){this.setState({isMenuVisible:!1}),this.props.onMenuHide()},componentDidMount:function e(){this.props.parentMenu&&this.setState({isMenuVisible:!0})},handleMenuButtonKeyDown:function e(t){switch(t.key){case" ":case"Enter":t.preventDefault(),t.stopPropagation(),this.toggleMenu();break;case"Escape":t.preventDefault(),this.hideMenu(),this.blurMenuButton()}},blurMenuButton:function e(){s.default.findDOMNode(this.refs.button).blur()},render:function e(){var u=this.props,o=u.onFocus,s=u.onBlur,r=u.onMenuShow,a=u.onMenuHide,l=u.afterMenuHide,c=u.children,d=u.showMenuActiveState,h=u.parentMenu,M=t(u,["onFocus","onBlur","onMenuShow","onMenuHide","afterMenuHide","children","showMenuActiveState","parentMenu"]),p=i.default.Children.toArray(c),m=p[0],v=p[1],w=this.state.isMenuVisible,g=(0,f.default)(b.default,{active:w&&d}),y=null;m&&(y=i.default.cloneElement(m,{ref:"button","aria-expanded":w,onClick:this.toggleMenu,onKeyDown:this.handleMenuButtonKeyDown,onFocus:o,onBlur:s,isActive:w}));var S=null;return h&&v?S=i.default.cloneElement(v,{ref:"submenu",actionNode:h.refs.button,onHideMenu:this.hideMenu}):w&&v&&(S=i.default.cloneElement(v,{ref:"menu",actionNode:this.refs.button,onHideMenu:this.hideMenu})),i.default.createElement("div",n({},M,{className:g.buttonContainer}),y,S)}});exports.default=v,module.exports=exports.default;
},{"../../atoms/hover_colored_fuji_icon_button.jsx":"./atoms/hover_colored_fuji_icon_button","../menu/menu.jsx":"./atoms/menu/menu","../menu/menu_button.jsx":"./atoms/menu/menu_button","../styles/menu_button_container":"./atoms/styles/menu_button_container","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js"}],107:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},r=require("react"),u=e(r),n=require("../list_item.jsx"),s=e(n),a=require("../button.jsx"),l=e(a),o=require("../constants/button"),i=u.default.createClass({displayName:"MenuItem",render:function e(){return u.default.createElement(s.default,null,u.default.createElement(l.default,t({kind:o.Kinds.MENUITEM},this.props),this.props.children))}});exports.default=i,module.exports=exports.default;
},{"../button.jsx":"./atoms/button","../constants/button":"./atoms/constants/button","../list_item.jsx":"./atoms/list_item","react":"./node_modules/react/react.js"}],"./atoms/message_pane_warnings":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.WarningTypes=void 0;var n=require("react"),t=e(n),a=require("./dialog/alert"),r=e(a),o=require("./dialog/confirm"),s=e(o),i=require("react-intl"),l=require("../platform/utils/object"),u=exports.WarningTypes=(0,l.mirrorKeys)(["FORM","PASSWORD"]),d="Remember: {brand} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.",g="\n    You are about to enter a password in a form that will not be sent to {brand}!.\n    "+d+"\n",m='\n    You are about to send information to someone other than {brand}.\n    If you do not want anyone outside of {brand} to have this information, click "Cancel" now.\n    '+d+"\n",p=(0,i.defineMessages)({warning:{id:"message_pane.warning_title",defaultMessage:"Warning"}}),f=t.default.createClass({displayName:"MessagePaneWarnings",contextTypes:{intl:i.intlShape.isRequired},shouldComponentUpdate:function e(n){var t=n.warningType,a=n.targetElement,r=this.props,o=r.warningType,s=r.targetElement;return t!==o||a!==s},hidePasswordWarning:function e(n){this.props.onDialogClose(),n.warningShown=!0},submitForm:function e(n){this.props.onDialogClose(),n&&"FORM"===n.nodeName&&n.submit&&n.submit()},render:function e(){var n=this.context.intl.formatMessage,a=n(p.warning),o=this.props,l=o.warningType,d=o.targetElement,f=o.onDialogClose,c=t.default.createElement(i.FormattedMessage,{id:"message_pane.password_warning",defaultMessage:g,values:{brand:"Yahoo"}}),h=t.default.createElement(i.FormattedMessage,{id:"message_pane.form_warning",defaultMessage:m,values:{brand:"Yahoo"}});switch(l){case u.FORM:return t.default.createElement(s.default,{title:a,message:h,onAbort:f,onConfirm:this.submitForm.bind(this,d)});case u.PASSWORD:return t.default.createElement(r.default,{title:a,message:c,onAccept:this.hidePasswordWarning.bind(this,d)});default:return null}}});exports.default=f;
},{"../platform/utils/object":"./platform/utils/object","./dialog/alert":"./atoms/dialog/alert","./dialog/confirm":"./atoms/dialog/confirm","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/modal":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){e.stopPropagation()}exports.__esModule=!0;var n=require("react"),o=e(n),r=require("./layer.jsx"),a=e(r),i=require("react-atomic-css/css"),l=e(i),s=require("./styles/modal"),u=e(s),c=require("./constants/modal"),d=require("../platform/utils/object"),f=o.default.createClass({displayName:"Modal",getDefaultProps:function e(){return{kind:c.Kinds.DARK,ariaLabelledBy:null,ariaDescribedBy:null}},componentDidMount:function e(){this.forceFocus(),window.addEventListener("focus",this.forceFocus)},componentWillUnmount:function e(){window.removeEventListener("focus",this.forceFocus)},forceFocus:function e(){this.refs.content&&this.refs.content.focus()},handleBlurCapture:function e(t){var n=t.relatedTarget||t.nativeEvent.explicitOriginalTarget||t.nativeEvent.srcElement;this.refs.content.contains(n)||setTimeout(this.forceFocus,0)},handleKeyDown:function e(t){var n=this.props,o=n.onKeyDown,r=n.onClose;t.stopPropagation(),"Escape"===t.key?(t.preventDefault(),t.stopPropagation(),r(t)):o&&o(t)},handleOuterPartClick:function e(t){return t.stopPropagation(),this.props.onOuterClick?this.props.onOuterClick(t):void this.props.onClose(t)},render:function e(){var n=this.props,r=n.children,i=n.kind,s=n.ariaLabelledBy,c=n.ariaDescribedBy,d=(0,l.default)(u.default,{kind:i});return o.default.createElement(a.default,null,o.default.createElement("div",{onClick:this.handleOuterPartClick,className:d.grayOverlay,"data-test-id":"modal-outer",id:"modal-outer",role:s||c?"alertdialog":null,"aria-labelledby":s,"aria-describedby":c},o.default.createElement("div",{"data-test-id":"modal-content",className:d.container,ref:"content",onBlurCapture:this.handleBlurCapture,onKeyDown:this.handleKeyDown,onClick:t,tabIndex:0,role:s||c?"document":null},r)))}});exports.default=f,module.exports=exports.default;
},{"../platform/utils/object":"./platform/utils/object","./constants/modal":"./atoms/constants/modal","./layer.jsx":"./atoms/layer","./styles/modal":"./atoms/styles/modal","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/navigable_list":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),r=require("react-dom"),i=require("react-atomic-css/css"),n=e(i),o=require("./constants/list"),a=require("../platform/utils/object"),u=require("./styles/navigable_list"),c=e(u),l=require("./constants/navigable_list"),d=function e(){},h=s.default.createClass({displayName:"NavigableList",getDefaultProps:function e(){return{disabled:!1,tabIndex:-1,circularNavigation:!0,focusOnMount:!1,onShow:d,onHide:d,onEscape:d,isRestrictedHeight:!1}},getInitialState:function e(){return{cursorIndex:-1}},componentDidMount:function e(){var t=this;this.props.focusOnMount&&setTimeout(function(){return t.list&&t.list.focus()},0),this.props.onShow()},escape:function e(){(0,r.findDOMNode)(this).focus(),(0,r.findDOMNode)(this).blur(),this.setState({cursorIndex:-1}),this.props.onEscape()},handleKeyDown:function e(t){switch(t.key){case"ArrowLeft":case"ArrowUp":t.preventDefault(),t.stopPropagation(),this.navigate(-1);break;case"ArrowRight":case"ArrowDown":t.preventDefault(),t.stopPropagation(),this.navigate(1);break;case"Tab":return void this.setState({cursorIndex:-1});case"Escape":return t.preventDefault(),void this.escape();default:return}},navigate:function e(t){var s=Math.min,i=Math.max,n=(0,r.findDOMNode)(this),o=n.getElementsByTagName("li"),a=0,u=o.length-1,c=void 0;this.props.circularNavigation?(c=this.state.cursorIndex+t,c>u?c=a:c<a&&(c=u)):c=s(i(this.state.cursorIndex+t,0),u);var l=o[c];if(n.querySelector("button")||n.querySelector("a")||n.querySelector('[role="checkbox"]')){var d=l.querySelector("button")||l.querySelector("a")||l.querySelector('[role="checkbox"]');d?(this.setState({cursorIndex:c}),d.focus()):this.setState({cursorIndex:c},function(){this.navigate(t)})}},getRole:function e(){switch(this.props.kind){case l.Kinds.MENU:return"menu";case l.Kinds.TOOLBAR:return"menubar";default:return"list"}},handleBlur:function e(){var t=this,s=(0,r.findDOMNode)(this);setTimeout(function(){t.isMounted()&&!s.contains(document.activeElement)&&t.props.onHide()},0)},render:function e(){var t=this,r=this.getRole(),i=(0,n.default)(c.default,{layout:this.props.layout,kind:this.props.kind,disabled:this.props.disabled,isRestrictedHeight:this.props.isRestrictedHeight});return s.default.createElement("ul",{"data-test-id":this.props["data-test-id"]||"navigable-list",ref:function e(s){return t.list=s},tabIndex:this.props.tabIndex,role:r,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:i.list},this.props.children)}});exports.default=h,module.exports=exports.default;
},{"../platform/utils/object":"./platform/utils/object","./constants/list":"./atoms/constants/list","./constants/navigable_list":"./atoms/constants/navigable_list","./styles/navigable_list":"./atoms/styles/navigable_list","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js"}],"./atoms/overlay":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),o=require("react-dom"),l=e(o),i=require("react-atomic-css/css"),r=e(i),s=require("./styles/overlay"),a=e(s),u=require("./layer"),d=e(u),f=require("./utils/overlay_utils"),c=require("./constants/corners"),p=function e(){},y=(0,r.default)(a.default),h=n.default.createClass({displayName:"Overlay",getInitialState:function e(){return{overlayDimensionStyles:null}},getDefaultProps:function e(){return{alignmentPoints:[c.Corners.TopLeft,c.Corners.TopLeft],offsetTop:0,offsetLeft:0,left:null,top:null,onShow:p,onClick:p,onKeyDown:p,useShim:!1}},componentDidMount:function e(){if(this.refs.boundingBox){var t=this.props,n=t.alignmentPoints,o=t.alignTo,i=t.onShow,r=this.state.overlayDimensionStyles;if(o){var s=l.default.findDOMNode(o),a=s.getBoundingClientRect(),u=l.default.findDOMNode(this.refs.boundingBox),d=u.getBoundingClientRect();r=(0,f.calcOverlayPos)(a,d,n),this.setState({overlayDimensionStyles:r},i),window.addEventListener("keydown",this.props.onKeyDown)}}},componentWillUnmount:function e(){window.removeEventListener("keydown",this.props.onKeyDown)},handleShimClick:function e(t){t.stopPropagation(),this.props.onClick({overlayClicked:!1})},handleOverlayClick:function e(t){t.stopPropagation(),this.props.onClick({overlayClicked:!0})},renderOverlayContent:function e(t){return n.default.createElement("div",{"data-test-id":"overlay-boundingbox",ref:"boundingBox",style:t,className:y.overlay,onClick:this.handleOverlayClick},this.props.children)},renderOverlay:function e(t){return this.props.useShim?n.default.createElement("div",{className:y.shim,onClick:this.handleShimClick,"data-test-id":"overlay-shim"},this.renderOverlayContent(t)):this.renderOverlayContent(t)},render:function e(){var t=this.props,o=t.left,l=t.top,i=t.offsetTop,r=t.offsetLeft,s=t.alignTo,a=null,u=null,f=null,c=this.state.overlayDimensionStyles;return null!==o&&null!==l?(u=o,f=l):c?(u=c.left,f=c.top):s&&(u=-1e4,f=-1e4),null!==u&&null!==f&&(u+=r,f+=i,a={left:u,top:f,position:"absolute"}),n.default.createElement(d.default,null,this.renderOverlay(a))}});exports.default=h,module.exports=exports.default;
},{"./constants/corners":"./atoms/constants/corners","./layer":"./atoms/layer","./styles/overlay":"./atoms/styles/overlay","./utils/overlay_utils":"./atoms/utils/overlay_utils","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js"}],"./atoms/pill":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.strings=void 0;var t=require("react"),i=e(t),a=require("react-dom"),r=e(a),l=require("react-intl"),n=require("./hover_colored_fuji_icon_button.jsx"),s=e(n),o=require("./fuji_icon.jsx"),d=e(o),c=require("./xavatar.jsx"),p=e(c),u=require("../platform/utils/index.js"),g=require("../platform/utils/object"),h=require("../platform/utils/mail_ui_vars"),m=require("../platform/utils/generic"),f=require("./drag_image.jsx"),v=e(f),D=require("./constants/fuji_icon"),C=require("./styles/pill"),S=e(C),E=require("react-atomic-css/css"),N=e(E),x=require("lodash/isEqual"),y=e(x),I=exports.strings=(0,l.defineMessages)({remove_contact:{id:"compose.remove_contact",defaultMessage:"Remove"},encryptionUnsupportedContact:{id:"compose.encryption_unsupported_contact",defaultMessage:"{contact} cannot receive encrypted emails"}}),P=i.default.createClass({displayName:"Pill",contextTypes:{intl:l.intlShape.isRequired,config:t.PropTypes.object},getDefaultProps:function e(){return{onPillClick:function e(){},useEllipsis:!1,isDark:!1,isFolderPill:!1,isDragged:!1,selectedPills:[],dragDropPill:!0}},handleDragEnter:function e(){this.setState({isDragHovered:!0})},handleDragOnPill:function e(t,i){this.setState({dragSide:i})},handleDragLeave:function e(){this.setState({dragSide:""}),this.state.isDragHovered&&this.setState({isDragHovered:!1})},shouldHandleDrop:function e(t){return t===this.refs.leftDragNode||t===this.refs.rightDragNode},handleDragOver:function e(t){this.shouldHandleDrop(t.target)&&t.preventDefault()},handleDragEnd:function e(){this.removeDragImage(),this.props.handleDragState(!1),this.setState({isDragHovered:!1,isSelfDrag:!1})},renderDragImage:function e(t,a){var l=t.cloneNode(!0),n=(0,N.default)(S.default,{isDragImg:!0}),s=(0,N.default)(S.default),o=l.getElementsByClassName("pill-close")[0],d=t.clientHeight,c=t.clientWidth;if(this.imgContainer.id="drag-img",this.imgContainer.style.height=d+"px",this.imgContainer.style.maxWidth=c+10+"px",this.imgContainer.style.opacity=1,l.classList.remove.apply(l.classList,s.pillContent.split(" ")),l.classList.add.apply(l.classList,n.pillContent.split(" ")),o&&l.removeChild(o),this.imgContainer.appendChild(l),a>1){var p=document.createElement("div");p.style.position="absolute",r.default.render(i.default.createElement(v.default,{count:a,x:c-40,y:-14,iconKind:D.Kinds.CONTACT_CARD}),p),this.imgContainer.appendChild(p)}return this.imgContainer},removeDragImage:function e(){if(this.imgContainer&&this.imgContainer.parentNode){var t=document.getElementById("icon-div");t&&t.parentNode&&(r.default.unmountComponentAtNode(t),t.parentNode.removeChild(t)),this.imgContainer.parentNode.removeChild(this.imgContainer)}this.imgContainer=null},handleDragStart:function e(t){var i=t.target,a=this,r=this.props.selectedPills,l={email:this.props.contactEmail,name:this.props.value,id:this.props.contactId},n=r.length,s=r.findIndex(function(e){return(0,y.default)(l,e)});this.imgContainer||(this.imgContainer=document.createElement("div"),document.body.appendChild(this.imgContainer)),t.dataTransfer.setData("text",JSON.stringify({contact:l,dragFromField:this.props.inputField})),t.dataTransfer.effectAllowed="move",(0,m.supportsSetDragImage)()&&(n>0&&s===-1&&(n+=1),t.dataTransfer.setDragImage(this.renderDragImage(i,n),0,0)),setTimeout(function(){a.props.handleDragState(!0),a.setState({isSelfDrag:!0})})},handleDrop:function e(t,i){this.shouldHandleDrop(t.target)&&(this.removeDragImage(),this.setState({dragSide:"",isDragHovered:!1}),this.props.handleDrop(t,i,this.props.contactId))},getInitialState:function e(){return{hovered:!1,isDragHovered:!1,dragSide:"",isSelfDrag:!1}},handleHover:function e(t){this.setState({hovered:t})},renderPillImage:function e(t){var a=this.props,r=a.isFolderPill,l=a.contactEmail,n=a.contactId,s=a.pillFujiKind,o=a.pillFujiSize,g=a.pillFujiColorState,h=(0,u.isValidEmail)(l);return r?i.default.createElement("div",{"data-test-id":"pill-folder",className:t.pillDiv},i.default.createElement(d.default,{kind:s,colorState:g,size:o})):h?i.default.createElement("div",{"data-test-id":"pill-avatar",className:t.avatar},i.default.createElement(p.default,{contact:{id:n,email:l},size:c.Sizes.S})):null},render:function e(){var t=this,a=this.state,r=a.hovered,l=a.isDragHovered,n=a.dragSide,o=a.isSelfDrag,d=this.props,c=d.useEllipsis,p=d.isSelected,g=d.maxWidth,h=d.isDark,m=d.isFolderPill,f=d.isDragged,v=d.hasEncryptionError,C=(0,u.isValidEmail)(this.props.contactEmail),E=!C||v,x=(0,N.default)(S.default,{isHovered:r,hasError:E,isSelected:p,useEllipsis:c,isDark:h,isFolderPill:m,dragSide:n,isDragged:o||f}),y=void 0;c&&g&&(y={maxWidth:g});var P=this.props.title;return v&&(P=this.context.intl.formatMessage(I.encryptionUnsupportedContact,{contact:P})),i.default.createElement("div",{className:"pill-container "+x.pillContainer},i.default.createElement("div",{"data-test-id":"pill",title:P,"aria-label":this.props.value,className:"pill-content "+x.pillContent,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.props.onPillClick,onDoubleClick:this.props.onPillEdit,draggable:this.props.dragDropPill&&this.props.isCompose,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter},this.renderPillImage(x),i.default.createElement("div",{"data-test-id":"pill-text",className:x.pillText,style:y},this.props.value),(this.props.isSelected||r)&&this.props.onPillRemove&&i.default.createElement("div",{className:"pill-close "+x.pillRemove},i.default.createElement(s.default,{kind:D.Kinds.CLOSE_MINI,size:D.Sizes.XXS,colorStates:C?{normal:D.ColorStates.DISABLED,hovered:D.ColorStates.SELECTED}:{normal:D.ColorStates.DISABLED,hovered:D.ColorStates.WARNING},onClick:this.props.onPillRemove,style:{padding:0},title:this.context.intl.formatMessage(I.remove_contact)}))),l?i.default.createElement("div",{className:x.dragHoverContent,"data-test-id":"drag-hover-content"},i.default.createElement("div",{ref:"leftDragNode",className:x.dragHoverLeft,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:function e(i){return t.handleDragOnPill(i,"left")},onDrop:function e(i){return t.handleDrop(i,"left")}}),i.default.createElement("div",{ref:"rightDragNode",className:x.dragHoverRight,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:function e(i){return t.handleDragOnPill(i,"right")},onDrop:function e(i){return t.handleDrop(i,"right")}})):null)}});exports.default=P;
},{"../platform/utils/generic":"./platform/utils/generic","../platform/utils/index.js":"./platform/utils","../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../platform/utils/object":"./platform/utils/object","./constants/fuji_icon":"./atoms/constants/fuji_icon","./drag_image.jsx":"./atoms/drag_image","./fuji_icon.jsx":"./atoms/fuji_icon","./hover_colored_fuji_icon_button.jsx":"./atoms/hover_colored_fuji_icon_button","./styles/pill":"./atoms/styles/pill","./xavatar.jsx":"./atoms/xavatar","lodash/isEqual":"./node_modules/lodash/isEqual.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/popover/asymmetric_popover":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return function t(o,r){var n=o[r],i=Object.keys(e),s=i.reduce(function(t,o){return t+e[o]},0);if("number"!=typeof n||n<=0||n>s)throw new RangeError('"'+r+'" is out of bound ('+n+" > "+s+"). Needs "+i)}}exports.__esModule=!0,exports.OffTriggers=exports.OnTriggers=void 0;var o=require("react"),r=e(o),n=require("./popover_content.jsx"),i=e(n),s=require("../constants/popover"),a=require("./popover_anchor.jsx"),u=e(a),h=require("../../platform/utils/object"),p=require("../../platform/utils/mail_ui_vars"),l=exports.OnTriggers={MOUNT:1,CLICK:2,HOVER:4,HOVER_DELAYED:8},c=exports.OffTriggers={HOVER_OUT_ANCHOR:1,HOVER_OUT:2,CLICK:4,DRAG_START:8},f=r.default.createClass({displayName:"AsymmetricPopover",getDefaultProps:function e(){return{disabled:!1,stopClickPropagation:!1,onShown:function e(){},onHide:function e(){},onContentMouseOver:function e(){},onContentMouseOut:function e(){},persistent:!1,zAltitude:p.ZIndices.POPOVER.MEDIUM,isArrowVisible:!0}},getInitialState:function e(){return{popoverShown:!1}},componentWillUnmount:function e(){clearTimeout(this._shownTimeout),clearTimeout(this._hideTimeout)},componentDidMount:function e(){var t=this.props,o=t.triggerOn;t.disabled||(o&l.MOUNT===l.MOUNT?this.setState({popoverShown:!0}):this.forceUpdate())},componentDidUpdate:function e(t,o){this.state.popoverShown!==o.popoverShown&&(this.state.popoverShown?this.props.onShown():this.props.onHide())},handleClick:function e(){var t=this.state.popoverShown,o=this.props,r=o.triggerOn,n=o.triggerOff;t||(r&l.CLICK)!==l.CLICK?t&&(n&c.CLICK)===c.CLICK&&this.setState({popoverShown:!1}):this.setState({popoverShown:!0})},handleDragStart:function e(){var t=this.state.popoverShown,o=this.props.triggerOff;t&&(o&c.DRAG_START)===c.DRAG_START&&this.setState({popoverShown:!1})},handleMouseOver:function e(){var t=this;clearTimeout(this._hideTimeout);var o=this.props,r=o.triggerOn,n=o.triggerDelayTime;(r&l.HOVER)===l.HOVER?this.setState({popoverShown:!0}):(r&l.HOVER_DELAYED)===l.HOVER_DELAYED&&(this._shownTimeout=setTimeout(function(){t.setState({popoverShown:!0})},n))},handleMouseOut:function e(t){var o=this,r=this.state.popoverShown,n=this.props.triggerOff;clearTimeout(this._shownTimeout),r&&(this.refs.anchor!==t.target&&!this.refs.anchor.contains(t.target)||(n&c.HOVER_OUT_ANCHOR)!==c.HOVER_OUT_ANCHOR?(n&c.HOVER_OUT)===c.HOVER_OUT&&(this._hideTimeout=setTimeout(function(){o.setState({popoverShown:!1})},0)):this.setState({popoverShown:!1}))},handlePopoverHide:function e(){clearTimeout(this._shownTimeout),this.setState({popoverShown:!1})},render:function e(){var t=this,o=this.props,n=o.align,s=o.arrowSize,a=o.disabled,u=o.isArrowVisible,h=o.offset,p=o.permittedArrowDirections,l=o.persistent,c=o.zAltitude,f=r.default.Children.toArray(this.props.children),d=f[0],O=f[1],v=!a&&this.state.popoverShown,S={onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onDragStart:this.handleDragStart,ref:"anchor"};return r.default.createElement("span",null,r.default.cloneElement(d,a?{ref:"anchor"}:S),v&&this.refs.anchor?r.default.createElement(i.default,{popoverAnchor:this.refs.anchor,arrowSize:s,align:n,offset:h,permittedArrowDirections:p,zAltitude:c,onMouseOver:function e(o){t.handleMouseOver(o),t.props.onContentMouseOver(o)},onMouseOut:function e(o){t.handleMouseOut(o),t.props.onContentMouseOut(o)},onClick:this.handleClick,onHide:this.handlePopoverHide,persistent:l,isArrowVisible:u},O):null)}});exports.default=f;
},{"../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../constants/popover":"./atoms/constants/popover","./popover_anchor.jsx":"./atoms/popover/popover_anchor","./popover_content.jsx":"./atoms/popover/popover_content","react":"./node_modules/react/react.js"}],"./atoms/popover/popover_anchor":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var o=require("react"),t=e(o),r=t.default.createClass({displayName:"PopoverAnchor",render:function e(){var o=t.default.Children.only(this.props.children);return t.default.cloneElement(o,{onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})}});exports.default=r,module.exports=exports.default;
},{"react":"./node_modules/react/react.js"}],"./atoms/popover/popover_container":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var o=require("react"),t=e(o),r=require("../constants/popover"),i=require("../../platform/invariant"),s=e(i),n=t.default.createClass({displayName:"PopoverContainer",componentDidMount:function e(){this.forceUpdate()},getInitialState:function e(){return{visiblePopoverTypes:[r.Triggers.MOUNT]}},toggle:function e(o){this.state.visiblePopoverTypes.indexOf(o)>-1?this.hide(o):this.show(o)},show:function e(o){var t=this.state.visiblePopoverTypes;t.indexOf(o)>-1||(t.push(o),this.setState({visiblePopoverTypes:t}))},hide:function e(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=this.state.visiblePopoverTypes,i=r.indexOf(o);i!==-1&&(r.splice(i,1),this.setState({visiblePopoverTypes:r},t))},showContextualPopovers:function e(o){t.default.Children.toArray(this.props.children).some(function(e){return e.props.triggerOn===r.Triggers.RIGHTCLICK})&&(o.preventDefault(),this.show(r.Triggers.RIGHTCLICK))},toggleClickPopovers:function e(){this.toggle(r.Triggers.CLICK)},showHoverPopovers:function e(){this.show(r.Triggers.HOVER)},hideHoverPopovers:function e(){this.hide(r.Triggers.HOVER)},render:function e(){var o=this,r=t.default.Children.toArray(this.props.children),i=r.shift(),s=t.default.cloneElement(i,{ref:"popoverAnchor",onClick:this.toggleClickPopovers,onContextMenu:this.showContextualPopovers,onMouseOver:this.showHoverPopovers,onMouseOut:this.hideHoverPopovers}),n=[];return this.refs.popoverAnchor&&(n=r.filter(function(e){return o.state.visiblePopoverTypes.indexOf(e.props.triggerOn)>-1}).map(function(e){var r=e.props.onHide;return t.default.cloneElement(e,{onHide:o.hide.bind(o,e.props.triggerOn,r),popoverAnchor:o.refs.popoverAnchor})})),t.default.createElement("div",this.props,s,n)}});exports.default=n,module.exports=exports.default;
},{"../../platform/invariant":"./platform/invariant","../constants/popover":"./atoms/constants/popover","react":"./node_modules/react/react.js"}],"./atoms/popover/popover_content":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r=require("react"),o=e(r),i=require("react-dom"),n=require("../styles/popover"),s=e(n),a=require("../styles/popover_arrow_small"),p=e(a),l=require("../styles/popover_arrow_medium"),d=e(l),u=require("../styles/popover_arrow_large"),c=e(u),f=require("react-atomic-css/css"),h=e(f),w=require("../layer.jsx"),v=e(w),g=require("./popover_positioning"),m=require("../../platform/utils/mail_ui_vars"),A=require("../../platform/utils/object"),D=require("../constants/popover"),y=o.default.createClass({displayName:"PopoverContent",childContextTypes:{notifyPopoverChanged:r.PropTypes.func},getChildContext:function e(){return{notifyPopoverChanged:this.updatePosition}},getDefaultProps:function e(){return{permittedArrowDirections:[D.PermittedArrowDirections.ANY],boundingBox:void 0,triggerOn:D.Triggers.MOUNT,align:D.Align.CENTER,arrowSize:D.ArrowSizes.M,offset:0,bg:D.BackgroundKinds.DEFAULT,zAltitude:m.ZIndices.POPOVER.LOW,onHide:function e(){},onShow:function e(){},overflowScroll:!0,persistent:!1,isArrowVisible:!0,customPositioning:!1}},getInitialState:function e(){return{isVisible:!1,arrowDirection:this.props.permittedArrowDirections[0]}},handleKeyDown:function e(t){switch(t.key){case"Escape":return t.preventDefault(),t.stopPropagation(),void this.hide();default:return}},handleClick:function e(){this.props.persistent||this.hide()},getArrowClassNames:function e(t){var r=d.default;return this.props.arrowSize===D.ArrowSizes.S?r=p.default:this.props.arrowSize===D.ArrowSizes.L&&(r=c.default),(0,h.default)(r,{arrowDirectionDown:t===D.PermittedArrowDirections.DOWN,arrowDirectionLeft:t===D.PermittedArrowDirections.LEFT,arrowDirectionRight:t===D.PermittedArrowDirections.RIGHT,bg:this.props.bg,zAltitude:this.props.zAltitude,align:this.props.align})},componentDidMount:function e(){var t=this;this.updatePosition(),this.props.onShow(),this.setState({isVisible:!0},function(){t.props.persistent||(window.addEventListener("resize",t.hide,!1),window.addEventListener("mousedown",t.handleWindowMouseDown,!1))})},componentWillUnmount:function e(){clearTimeout(this.positionTimeout),window.removeEventListener("resize",this.hide,!1),window.removeEventListener("mousedown",this.handleWindowMouseDown,!1)},componentDidUpdate:function e(){var t=this;this.positionTimeout=setTimeout(function(){t.refs.popoverContent&&t.updatePosition()},0)},updatePosition:function e(){var t=this,r=this.props,o=r.overflowScroll,n=r.popoverAnchor,s=r.align,a=r.offset,p=r.arrowSize,l=r.isArrowVisible,d=r.permittedArrowDirections,u=r.customPositioning,c=(0,g.getPopoverLayerStyles)((0,i.findDOMNode)(n),(0,i.findDOMNode)(this.refs.popoverContent),s,p,a,d),f=c.arrowDirection,h=c.positioningStyles,w=c.innerContentScrollingStyles;u&&(h=null),o||(w=null),l&&Object.assign(this.refs.popoverArrow.style,this.getArrowStyle()),f!==this.state.arrowDirection?this.setState({arrowDirection:f},function(){Object.assign(t.refs.popoverContent.style,h),Object.assign(t.refs.popoverInnerContent.style,w)}):(Object.assign(this.refs.popoverContent.style,h),Object.assign(this.refs.popoverInnerContent.style,w))},handleWindowMouseDown:function e(t){var r=(0,i.findDOMNode)(this.refs.popoverContent),o=(0,i.findDOMNode)(this.props.popoverAnchor),n=!r.contains(t.target)&&r!==t.target,s=o.contains(t.target)||o===t.target;n&&!s&&this.hide()},hide:function e(){this.props.onHide()},getArrowStyle:function e(){var t=this.props,r=t.offset,o=t.align,n=t.arrowSize,s=t.popoverAnchor,a=(0,i.findDOMNode)(s).getBoundingClientRect(),p=this.state.arrowDirection,l=D.ArrowWidths[n],d=r-l,u="",c="";if(o!==D.Align.CENTER){var f=void 0;return p===D.PermittedArrowDirections.LEFT||p===D.PermittedArrowDirections.RIGHT?(f=D.Orientations.VERTICAL,d+=a.height/2):(f=D.Orientations.HORIZONTAL,d+=a.width/2),o===D.Align.END&&(d*=-1),p!==D.PermittedArrowDirections.DOWN&&p!==D.PermittedArrowDirections.RIGHT||(u="rotate(180deg)",o===D.Align.END?c="flex-start":o===D.Align.START&&(c="flex-end")),{transform:f===D.Orientations.HORIZONTAL?"translateX("+d+"px) "+u:"translateY("+d+"px) "+u,justifyContent:c}}},render:function e(){var r=this.state.isVisible?"visible":"hidden",i=this.state.arrowDirection,n=this.getArrowClassNames(i),a=(0,h.default)(s.default,{bg:this.props.bg,zAltitude:this.props.zAltitude});return o.default.createElement(v.default,null,o.default.createElement("div",t({"data-test-id":"popover-content",className:a.popover,onClick:this.handleClick,onKeyDown:this.handleKeyDown},this.props,{style:{visibility:r},ref:"popoverContent"}),o.default.createElement("div",{className:a.popoverContent,ref:"popoverInnerContent"},this.props.children),o.default.createElement("div",{className:n.pointerWrapper,ref:"popoverArrow"},this.props.isArrowVisible?o.default.createElement("div",{"data-test-id":"popover-content-arrow",className:n.pointer}):null)))}});exports.default=y,module.exports=exports.default;
},{"../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../constants/popover":"./atoms/constants/popover","../layer.jsx":"./atoms/layer","../styles/popover":"./atoms/styles/popover","../styles/popover_arrow_large":"./atoms/styles/popover_arrow_large","../styles/popover_arrow_medium":"./atoms/styles/popover_arrow_medium","../styles/popover_arrow_small":"./atoms/styles/popover_arrow_small","./popover_positioning":"./atoms/popover/popover_positioning","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js"}],"./atoms/popover/popover_positioning":[function(require,module,exports){
"use strict";function t(t,i,o,r,h,n){var l=i.getBoundingClientRect(),g=e.ArrowWidths[r],w=Math.sqrt(2*Math.pow(g,2)),d=Math.sqrt(Math.pow(g,2)-Math.pow(w/2,2)),p={height:t.ownerDocument.documentElement.offsetHeight,width:t.ownerDocument.documentElement.offsetWidth},s=t.getBoundingClientRect(),a=t.ownerDocument.body.scrollLeft,f=t.ownerDocument.body.scrollTop,c={top:s.top+f,right:s.right+a,bottom:s.bottom+f,left:s.left+a,height:s.height,width:s.width},m={x:-(c.width/2+l.width/2),y:c.height/2-l.height/2},D={below:p.height-c.bottom,above:c.top,left:c.left,right:p.width-c.right},b={},x=.95,A=Math.floor(Math.max(D.above,D.below)-p.height*(1-x)),v=Math.floor(Math.max(D.left,D.right)-p.width*(1-x)),P=void 0,u=void 0;if(l.height+d>A&&(P=A-d),l.width+d>v&&(u=v-d),P||u){var y=P||l.height,T=u||l.width;l=Object.assign({},l,{height:y,bottom:l.top+y,width:T,right:l.left+T}),b.overflow="auto",P&&(b.maxHeight=P+"px"),u&&(b.maxWidth=u+"px")}var M={below:D.below*x-l.height>=0,above:D.above*x-l.height>=0,left:D.left*x-l.width>=0,right:D.right*x-l.width>=0};n[0]===e.PermittedArrowDirections.ANY&&(n=[e.PermittedArrowDirections.UP,e.PermittedArrowDirections.DOWN,e.PermittedArrowDirections.LEFT,e.PermittedArrowDirections.RIGHT]);var S=function t(){for(var i={},r=void 0,g=0;g<=n.length;g++){if(r=n[g],r===e.PermittedArrowDirections.UP&&M.below){i.top=c.bottom+d+"px",i.left=c.right+m.x+"px";break}if(r===e.PermittedArrowDirections.DOWN&&M.above){i.top=c.top-(l.height+d)+"px",i.left=c.right+m.x+"px";break}if(r===e.PermittedArrowDirections.LEFT&&M.right){i.top=c.top+m.y+"px",i.left=c.right+d+"px";break}if(r===e.PermittedArrowDirections.RIGHT&&M.left){i.top=c.top+m.y+"px",i.left=c.left-(l.width+d)+"px";break}}return r===e.PermittedArrowDirections.UP||r===e.PermittedArrowDirections.DOWN?o===e.Align.START?i.left=c.left-h+"px":o===e.Align.END&&(i.left=c.right-l.width+h+"px"):r!==e.PermittedArrowDirections.LEFT&&r!==e.PermittedArrowDirections.RIGHT||(o===e.Align.START?i.top=c.top-h+"px":o===e.Align.END&&(i.top=c.bottom-l.height+h+"px")),{positioningStyles:i,arrowDirection:r}},E=S();return{positioningStyles:E.positioningStyles,innerContentScrollingStyles:b,arrowDirection:E.arrowDirection}}exports.__esModule=!0,exports.getPopoverLayerStyles=t;var e=require("../constants/popover");
},{"../constants/popover":"./atoms/constants/popover"}],108:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),r=e(a),s=require("./styles/progress_bar"),t=e(s),l=require("react-atomic-css/css"),u=e(l),d=(0,u.default)(t.default),o=r.default.createClass({displayName:"ProgressBar",render:function e(){var a=this.props.value,s=a+"%",t={width:s};return r.default.createElement("div",{className:d.progress},r.default.createElement("div",{className:d.placeholder}),r.default.createElement("div",{className:d.value,style:t,"data-test-id":"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":a},r.default.createElement("span",{className:d.label,"data-test-id":"progress-value",role:"presentation"},s)))}});exports.default=o,module.exports=exports.default;
},{"./styles/progress_bar":118,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],109:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),s=require("./styles/search_header"),r=e(s),a=require("../atoms/button.jsx"),o=e(a),i=require("./segmented_control.jsx"),l=e(i),u=require("./suggested_word.jsx"),c=e(u),d=require("../platform/mail_constants"),p=require("./search_suggest_contact.jsx"),f=e(p),g=require("./lazy_component"),m=require("./popover/popover_content.jsx"),h=e(m),C=require("./constants/popover"),_=require("../platform/utils/mail_ui_vars"),E=require("../platform/utils"),S=require("../platform/rapid_client/constants"),T=require("react-intl"),y=[d.ListContentTypes.MESSAGES,d.ListContentTypes.IMAGES,d.ListContentTypes.DOCUMENTS],M=(0,T.defineMessages)({messages_aria_label:{id:"search.messages_aria_label",defaultMessage:"Messages, selected"},images_aria_label:{id:"search.images_aria_label",defaultMessage:"Images, selected"},documents_aria_label:{id:"search.documents_aria_label",defaultMessage:"Documents, selected"},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"search.content_filter_images",defaultMessage:"Photos"},content_filter_documents:{id:"search.content_filter_documents",defaultMessage:"Documents"}}),v=n.default.createClass({displayName:"SearchHeader",contextTypes:{getCss:t.PropTypes.func,intl:T.intlShape.isRequired},handleContentTypeChange:function e(t,n){var s=S.MKEYS["FILTER_"+n],r=s?{mKey:s,sec:S.SEC_VALUES.HEADER_LIST,interactionType:(0,E.getInteractionFromEvent)(t)}:null;this.props.onContentTypeChange({listContentType:n,i13nModel:r})},renderContentTypeFilter:function e(t){var s=this,r=this.props.activeContentType,a=this.context.intl.formatMessage,i=r===d.ListContentTypes.MESSAGES,u=r===d.ListContentTypes.IMAGES,c=r===d.ListContentTypes.DOCUMENTS;return n.default.createElement(l.default,{activeIndex:y.indexOf(r)},n.default.createElement(o.default,{className:t.filterItem,"data-iskeynav":!0,tabIndex:_.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":i?a(M.messages_aria_label):null,onClick:function e(t){return s.handleContentTypeChange(t,d.ListContentTypes.MESSAGES)},"data-test-id":"btn-messages-tab"},a(M.content_filter_messages)),n.default.createElement(o.default,{className:t.filterItem,"data-iskeynav":!0,tabIndex:_.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":u?a(M.images_aria_label):null,onClick:function e(t){return s.handleContentTypeChange(t,d.ListContentTypes.IMAGES)},ref:"imagesHeader","data-test-id":"btn-photos-tab"},a(M.content_filter_images)),n.default.createElement(o.default,{className:t.filterItem,"data-iskeynav":!0,tabIndex:_.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":c?a(M.documents_aria_label):null,onClick:function e(t){return s.handleContentTypeChange(t,d.ListContentTypes.DOCUMENTS)},"data-test-id":"btn-documents-tab"},a(M.content_filter_documents)),this.renderSearchCue(),this.renderHSNarrowSearchCue())},updateContent:function e(){this.popoverContent&&this.popoverContent.updatePosition()},updateHSContent:function e(){this.hsPopoverContent&&this.hsPopoverContent.updatePosition()},renderSearchCue:function e(){var t=this;return this.props.showSearchCue&&this.refs.imagesHeader?n.default.createElement(h.default,{popoverAnchor:this.refs.imagesHeader,align:C.Align.CENTER,triggerOn:C.Triggers.MOUNT,permittedArrowDirections:[C.PermittedArrowDirections.UP],offset:16,ref:function e(n){t.popoverContent=n},zAltitude:_.ZIndices.POPOVER.HIGH},n.default.createElement(g.LazyComponent,{import:"../molecules/scout_cue/",cueName:"searchCue",onShow:this.updateContent,close:this.props.activeContentType!==d.ListContentTypes.MESSAGES,_moduleGetter:function e(){return require("../molecules/scout_cue/")}})):null},renderHSNarrowSearchCue:function e(){var t=this;return this.props.showHSNarrowSearchCue&&this.refs.imagesHeader?n.default.createElement(h.default,{popoverAnchor:this.refs.imagesHeader,align:C.Align.CENTER,triggerOn:C.Triggers.MOUNT,permittedArrowDirections:[C.PermittedArrowDirections.UP],offset:16,ref:function e(n){t.hsPopoverContent=n},bg:C.BackgroundKinds.GRADIENT,zAltitude:_.ZIndices.POPOVER.HIGH},n.default.createElement(g.LazyComponent,{import:"../molecules/scout_cue/",cueName:"HSNarrowSearchCue",onShow:this.updateHSContent,close:this.props.activeContentType!==d.ListContentTypes.MESSAGES,_moduleGetter:function e(){return require("../molecules/scout_cue/")}})):null},renderSuggestedWords:function e(){var t=this.props,s=t.suggestedWords,r=t.keyword,a=s[0];return a?n.default.createElement(c.default,{suggestedWord:a,keyword:r}):null},renderSuggestedContacts:function e(){var t=this.props,s=t.suggestedContacts,r=t.suggestedWords,a=t.dragDropPill;return r.length?null:!this.props.isPeopleSearch&&s&&s.length>0&&n.default.createElement(f.default,{contacts:s,onClick:this.props.onContactClick,dragDropPill:a})},render:function e(){var t=this.context.getCss(r.default);return n.default.createElement("div",{className:t.searchHeader,"data-test-id":"search-header"},this.renderContentTypeFilter(t),this.renderSuggestedWords(),this.renderSuggestedContacts())}});exports.default=v,module.exports=exports.default;
},{"../atoms/button.jsx":"./atoms/button","../molecules/scout_cue/":"./molecules/scout_cue","../platform/mail_constants":"./platform/mail_constants","../platform/rapid_client/constants":"./platform/rapid_client/constants","../platform/utils":"./platform/utils","../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","./constants/popover":"./atoms/constants/popover","./lazy_component":"./atoms/lazy_component","./popover/popover_content.jsx":"./atoms/popover/popover_content","./search_suggest_contact.jsx":110,"./segmented_control.jsx":111,"./styles/search_header":120,"./suggested_word.jsx":125,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],110:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var t=require("react"),a=e(t),s=require("react-intl"),r=require("../types"),l=require("./styles/search_suggest_contact"),i=e(l),n=require("../molecules/hover_card/email_pill.jsx"),c=e(n),d=require("./pill.jsx"),o=e(d),u=require("../platform/utils/mail_ui_vars"),m=require("../platform/theming/themes"),f=(0,s.defineMessages)({related_searches:{id:"search.related_searches",defaultMessage:"Related searches:"},related_search:{id:"search.related_search",defaultMessage:"Related search:"}}),h=a.default.createClass({displayName:"SearchSuggestContact",contextTypes:{intl:s.intlShape.isRequired,getCss:a.default.PropTypes.func,getThemeMode:a.default.PropTypes.func},statics:{filterContacts:function e(t,a){var s=a.map(function(e){return e.email});return t.length&&(t=t.filter(function(e){var t=e.email,a=e.emails,r=void 0===a?[]:a;return!(!t&&!r[0])&&s.indexOf(t)===-1})),t}},getDefaultProps:function e(){return{tabIndex:-1,maxContactsVisible:2,selectedContacts:[],contacts:[]}},renderPill:function e(t,s,r,l){var i=this,n=t.name,d=t.position,f=t.xobniId,h=t.email,p=t.emails,g=void 0===p?[]:p,_=h||g[0],x=this.context.getThemeMode()===m.ThemeModes.DARK;return a.default.createElement(c.default,{key:f,email:_,isCompose:!1},a.default.createElement(o.default,{value:n,title:d,contactId:f,contactEmail:_,isLastElement:s===r.length-1,isSelected:l,onPillClick:function e(){return i.props.onClick(t)},contact:t,useEllipsis:!0,maxWidth:u.PillMaxWidths.S,isDark:x,dragDropPill:this.props.dragDropPill}))},render:function e(){var t=this,r=[],l=this.props.maxContactsVisible,n=h.filterContacts(this.props.contacts,r).slice(0,l),c=n.length>1?f.related_searches:f.related_search,d=this.context.getCss(i.default);return n.length>0&&a.default.createElement("div",{className:d.container,"data-test-id":"search-suggest-contact"},a.default.createElement("div",{className:d.labelPadding},a.default.createElement(s.FormattedMessage,c)),n.map(function(e,a){return t.renderPill(e,a,n,!1)}))}});module.exports=h;
},{"../molecules/hover_card/email_pill.jsx":219,"../platform/theming/themes":"./platform/theming/themes","../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../types":"./types","./pill.jsx":"./atoms/pill","./styles/search_suggest_contact":121,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],111:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),r=require("./styles/segmented_control"),a=e(r),s=n.default.createClass({displayName:"SegmentedControl",contextTypes:{getCss:t.PropTypes.func},getDefaultProps:function e(){return{activeIndex:-1}},renderSegment:function e(t,r,a,s){return a===r?n.default.createElement("div",{className:s.activeSegment},t):n.default.createElement("div",{className:s.inactiveSegment},t)},render:function e(){var t=this,r=this.context.getCss(a.default),s=this.props,d=s.children,l=s.activeIndex;return n.default.createElement("div",{className:r.container,"data-test-id":"segmented-control"},n.default.Children.map(d,function(e,n){return t.renderSegment(e,n,l,r)}))}});exports.default=s,module.exports=exports.default;
},{"./styles/segmented_control":122,"react":"./node_modules/react/react.js"}],112:[function(require,module,exports){
module.exports={className:{default:{account:"en_0 E_6MGW ac_C C_52qC",menuButton:"I_T b_0 C_52qC ir3_Z1HO9zT",button:"D_F ab_C y_ZwubDW A_6EqO",accountText:"E_eo6",menuName:"u_b D_B J_x o_h G_e",menuAddress:"D_B J_x o_h G_e",menuContainer:"s_3nV5V a_3v1qi H_7iGr D_F ek_BB gl_C X_6Fd5",logoutLink:"H_72FG i_72FG X_6Fd5 D_B I_ZnkeaL ir3_1IO2sY cZ11XJIl_0"}},_key:"2dkkw0"};
},{}],113:[function(require,module,exports){
module.exports={className:{default:{accountList:"M_0 P_0 hd_n",listItem:"D_F H_6NIX P_0 ab_C ir3_1IO2sY it3_dRA p3_R",text:"em_N A_6EWk X_6DEy o_h G_e C_Z1YRXYn J_x",activeText:"em_N A_6EWk X_6DEy o_h G_e C_Z1YRXYn J_x u_b",unreadCount:"en_0 E_fq7",settingGear:"P_Z26qe3x p_R R_fq7 Q_6DEy cdPFi_Z26U5se cdPFi4_Z291T0t",statusIcon:"E_fq7",expiredIcon:"E_eDQ"},"themeMode-MEDIUM":{text:"C_ak5m8",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn"},"themeMode-DARK":{text:"C_ak5m8",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn"},"themeCombo-LIGHT_DEFAULT":{listItem:"I4_2iedUU",activeText:"C_Z2aVTcY"},"themeCombo-MEDIUM_DEFAULT":{listItem:"I4_2iedUU",activeText:"C_Z21zYBA"},"themeCombo-DARK_DEFAULT":{listItem:"I4_2iedUU",activeText:"C_Z21zYBA"},"themeCombo-LIGHT_SUNRISE":{listItem:"I4_iPGvQ",activeText:"C_ZmlXUP"},"themeCombo-MEDIUM_SUNRISE":{listItem:"I4_iPGvQ",activeText:"C_ZmlXUP"},"themeCombo-DARK_SUNRISE":{listItem:"I4_iPGvQ",activeText:"C_ZmlXUP"},"themeCombo-LIGHT_AQUA_GREEN":{listItem:"I4_2sGXKL",activeText:"C_Z1UHURv"},"themeCombo-MEDIUM_AQUA_GREEN":{listItem:"I4_2sGXKL",activeText:"C_Z1UHURv"},"themeCombo-DARK_AQUA_GREEN":{listItem:"I4_2sGXKL",activeText:"C_Z1UHURv"},"themeCombo-LIGHT_AQUA_BLUE":{listItem:"I4_ZzKE3L",activeText:"C_Z280Xf5"},"themeCombo-MEDIUM_AQUA_BLUE":{listItem:"I4_ZzKE3L",activeText:"C_Z280Xf5"},"themeCombo-DARK_AQUA_BLUE":{listItem:"I4_ZzKE3L",activeText:"C_Z280Xf5"},"themeCombo-LIGHT_DEEP_PURPLE":{listItem:"I4_Z1I2xFu",activeText:"C_Zwa5YI"},"themeCombo-MEDIUM_DEEP_PURPLE":{listItem:"I4_Z1I2xFu",activeText:"C_Zwa5YI"},"themeCombo-DARK_DEEP_PURPLE":{listItem:"I4_Z1I2xFu",activeText:"C_Zwa5YI"},"themeCombo-LIGHT_BLUE_NIGHT":{listItem:"I4_NDpE4",activeText:"C_Z21zYBA"},"themeCombo-MEDIUM_BLUE_NIGHT":{listItem:"I4_NDpE4",activeText:"C_Z21zYBA"},"themeCombo-DARK_BLUE_NIGHT":{listItem:"I4_NDpE4",activeText:"C_Z21zYBA"}},_key:"WdJkC"};
},{}],114:[function(require,module,exports){
module.exports={className:{default:{container:"e_eo6 o_h",actionButton:"J_x e_dRA I_T cn_dRA cg_FJ l_Z2aVTcY C_Z2aVTcY r_P P_fQoXz",link:"e_eo6 H_74ed X_dRA o_h A_6EqO ab_C p_R D_ZKxLmw v_g9505 I_ZnIF8Y cdPFi_Z291T0t k_w I4_ZpQYvz",imageContainer:"W_7jIs X_dRA D_F ab_C k_w en_0 i_0",previewVideo:"W_6NIX H_6NIX e_e5X o_h ab_C D_F gl_C p_R",previewVideoPlayer:"e_e5X W_6NIX H_6NIX im_BH",videoOverlay:"p_a T_0 W_6NIX H_6NIX",spacer:"D_F en_0 ab_C W_6LEV H_6D6F P_Z1feoPS",sponsoredContainer:"D_F ab_C",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_E8xte C_Z2drWk6 cdPFi_Z2drWk6",advertiserContainer:"D_F ek_BB gl_C s_0",advertiser:"o_h J_x G_e em_N E_6Fd5 u_b D_B",message:"D_F ab_CI o_h H_6D6F E_72FG J_x em_N ek_BB gl_C i_CS k_w",subjectContainer:"en_0 a_6D6F D_F ab_C gl_FM",subject:"o_h G_e J_x a_6D6F en_N u_b",snippetContainer:"D_F ab_C a_6D6F H_dw4",snippet:"J_x o_h G_e C_Z1VRpVF a_6D6F",sponsored:"i_dw4 A_6EqO C_Z1VRpVF N_eo6",mbBeacon:"D_n",adFeedbackContainer:"P_3Y3Gk",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F ab_C H_6D6F o_h em_sL ej_0"},isCompactLayout:{link:"H_7rdk X_0",imageContainer:"W_74JI X_fq7",snippet:"Q_0",sponsored:"N_0 A_6DUj",spacer:"D_n",iconContainer:"gl_CH W_A",gridB2:"em_qk ej_7kKt",gridB1:"o_v W_74JI em_0 ej_CS a_n",subjectContainer:"W_6D6F",snippetContainer:"W_6D6F gl_FM",message:"M_0 N_6LEV"},"themeMode-DARK":{link:"C_ZpQYvz cdPFi_52qC I_sgPuo I4_sgPuT",snippet:"C_ZvsWfq",sponsored:"C_ZvsWfq"}},_key:"M7GWw"};
},{}],115:[function(require,module,exports){
module.exports={className:{default:{buttonContainer:"I_52qC D_F M_3gJOe ab_C"}},_key:"Mr5Pj"};
},{}],"./atoms/styles/alert_dialog":[function(require,module,exports){
module.exports={className:{default:{container:"W_3zKan k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdQ8b D_F el_Z1mLfFl ab_AJ",icon:"p_a M_6Fd5",title:"em_N u_e69 A_6FsP M_ZlnAYq",close:"Q_6Eb4 ac_C",message:"P_kT94R",controls:"P_kT94R"}},_key:"11hA3I"};
},{}],"./atoms/styles/attachment_icon":[function(require,module,exports){
module.exports={className:{default:{attachmentIcon:"W_6UbO H_6UbO"}},_key:"1we298"};
},{}],"./atoms/styles/bidi_input":[function(require,module,exports){
module.exports={className:{default:{inputContainer:"p_R D_F W_6D6F",input:"y_ZwubDW je_0 jb_0 X_fq7 N_fq7",clearButtonContainer:"p_a T_0 R_0 B_0 W_6VdP D_F gl_C ab_C"},showClear:{input:"N_6VdP"},"dir-rtl":{input:"N_0 X_6VdP",clearButtonContainer:"L_0 R_A"}},_key:"Zd1xsN"};
},{}],"./atoms/styles/button":[function(require,module,exports){
module.exports={className:{default:{button:"P_0 C_Z291T0t r_P y_ZwubDW A_6EqO ir3_1IO2sY cZ11XJIl_0"},decorated:{button:"k_w e_dRA D_X M_6LEV o_v p_R V_M t_C cZ1RN91d_n A_6EqO u_e69 i_3qGKe P_1EudUu H_A cn_dBP cg_FJ l_T j_n S_n S4_n"},"kind-PRIMARY":{button:"I_Z2aVTcY C_52qC l_Z2aVTcY I3_Z2bdAhD l3_Z2bdIi1 I0_Z2bdAhD l0_Z2bdIi1"},"kind-CUE":{button:"I_Z2aVTcY C_52qC b_0 P_ZGAgNS E_fq7 i_6FIA u_e69 I3_Z2bdAhD I0_Z2aVTcY I4_Z29WjXl"},"primaryHover-true_false":{button:"I4_Z2bdAhD l4_Z2bdIi1"},"primaryHover-true_true":{button:"I4_Z2aVTcY l4_Z2aVTcY"},"kind-SECONDARY":{button:"I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY_BORDERLESS":{button:"I_52qC b_0 C_Z2aVTcY H_q P_1EudUu M_0 I4_2iedUU C4_Z29WjXl"},"kind-DANGER":{button:"I_52qC C_ZnTFMv l_ZnTFMv M_0 I4_v5hft I3_v5hft I0_v5hft"},"kind-ICON":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q q_T O_cMu O4_N I4_2ieea9"},"kind-PARENT_TEXT_COLOR":{":hover":"C_q"},"kind-ICON_HIGHLIGHTED":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q I_7l9bL i_0 O_N"},"kind-CHROMELESS":{button:"q_T C_Z1VRpVF u_e69 b_0 C4_Z2dyg2z C3_Z2aVTcY"},"kind-MENUITEM":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_Znwqu5 I3_Znwqu5 it3_689y"},"kind-MENUITEM_PARENT_TEXT_COLOR":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_Znwqu5 C4_Z2aVTcY I3_Znwqu5 it3_689y"},"kind-TOUCH_PRIMARY":{button:"A_6Fd5 i_6Mbr q_T b_0 C_Z2aVTcY u_e69 P_fq7"},disabled:{button:"O_cMq r_A"},paddingLess:{button:"P_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"}},_key:"Z2953Iu"};
},{}],"./atoms/styles/carousel":[function(require,module,exports){
module.exports={className:{default:{carouselContainer:"D_F ir_n em_N",carousel:"D_F o_h p_R em_N M_3gIgH",list:"D_F ha_n p_a J_x lv_1Ys0hR L_0 B_0 P_0 M_0",prevNavHandle:"em_0 en_0",nextNavHandle:"em_0 en_0"},prevDisabled:{prevNavHandle:"r_BN"},nextDisabled:{nextNavHandle:"r_BN"}},_key:"ZvbBIO"};
},{}],116:[function(require,module,exports){
module.exports={className:{default:{link:"e_dRA l_T cn_dBP cg_FJ k_w r_P A_6EqO u_e69 p_R S_n C_52qC I_Z2aVTcY D_F H_6VdP gl_C ab_C en_0 M_1Eu7sD ir3_1IO2sY it3_dRA",badgeContainer:"p_a h_Z1ffcnk L_0 T_67SN"},"themeMode-MEDIUM":{link:"ir3_Z1FS2Mn"},"themeMode-DARK":{link:"ir3_Z1FS2Mn"},"theme-DEFAULT":{link:"I_Z2aVTcY"},"theme-SUNRISE":{link:"I_ZmlXUP"},"theme-AQUA_GREEN":{link:"I_Z1UHURv"},"theme-AQUA_BLUE":{link:"I_Z280Xf5"},"theme-DEEP_PURPLE":{link:"I_Zwa5YI"},"theme-BLUE_NIGHT":{link:"I_Z21zYBA"}},_key:"1dQ4yn"};
},{}],"./atoms/styles/drag_image":[function(require,module,exports){
module.exports={className:{default:{dragIcon:"H_6FIA Z_7G9S p_a",counter:"D_X H_6Fd5 W_6Fd5 Z_7G9T p_a L_fFR T_6Fd5 e_e5X t_C q_ZnTFMv C_52qC"}},_key:"1HvlCH"};
},{}],"./atoms/styles/dual_action":[function(require,module,exports){
module.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_Qw4gz A_6FsP u_e69 D_F el_Z1mLfFl ab_AJ",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_ZG0ms9 w_AS ix_AS",controls:"P_ZG0ms9"},hideIcon:{header:"P_JMQ5f",message:"P_Z2fgN7g",controls:"P_ZG120x"},showCustomTitle:{header:"u_dPo i_6MGW je_6DEy"}},_key:"Z24rjxn"};
},{}],"./atoms/styles/fancy_input":[function(require,module,exports){
module.exports={className:{default:{inputContainer:"D_F F_cV1 ek_BB p_R W_6D6F",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1TsNWR",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZkiIcp",inputField:"z_0 n_0 x_0 q_T m_2w4l8N H_6VdP em_N A_6EqO C_Z291T0t ir3_0 m3_2fAfSG"},"kind-DARK_BORDER_BOTTOM":{inputField:"m_2rYSBD"},"kind-LEFT_ICON":{inputField:"q_ptT19 m_0 b_0 je_0 jb_0 X_6MGW N_6MGW m3_0 ir3_0",inputIcon:"B_0 L_eo6 p_a M_A T_0 D_F ab_C"}},_key:"Z15gwdL"};
},{}],"./atoms/styles/flex_spacer":[function(require,module,exports){
module.exports={className:{default:{flexSpacer:"em_N en_N"}},_key:"93Fn1"};
},{}],117:[function(require,module,exports){
module.exports={className:{default:{container:"D_F",label:"D_F ab_C y_ZwubDW A_6EqO P_eo6",itemLabel:"em_N P_0 o_h G_e",labelText:"X_eo6",customGroup:"K_3rehn iz_A iy_h P_3HLUz",systemGroup:"hd_n P_cFf M_0 m_Z14vXdP",lastGroup:"hd_n P_Z26RiTK M_0 m_0",popoverContainer:"D_F",popoverContent:"P_Z1gGUOP",shortcut:"ab_CH Q_fq7 Z_0",fullLabel:"D_F W_6D6F",anchorButton:"a_3rtg7",noResultContainer:"D_F ab_C C_Z1Xxgu2 i_6VdP k_w",inputContainer:"D_F ab_C k_w",inputField:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO C_Z291T0t ir3_0"}},_key:"Z1Sox2a"};
},{}],"./atoms/styles/fuji_icon":[function(require,module,exports){
module.exports={className:{default:{icon:"D_X W_6MGW H_6MGW cdPFi_Z291T0t cZW7ROP_n en_0"},allowPointerEvents:{icon:"cZW7ROP_A"},"colorState-FIRST_LEVEL_GRAY":{icon:"cdPFi_Z1VRpVF"},"colorState-NORMAL_LESS_DIM":{icon:"cdPFi_Z26U5qH"},"colorState-DARK":{icon:"cdPFi_Z291T0t"},"colorState-TRANSPARENT":{icon:"cdPFi_T"},"colorState-FAINT":{icon:"cdPFi_ZpQYvz"},"colorState-LESS_IMPORTANT":{icon:"cdPFi_Z1Xxgu2"},"colorState-COOL_FAINT":{icon:"cdPFi_ZvsWfq"},"colorState-INHERITED":{icon:"cdPFi_q"},"colorState-INVERTED":{icon:"cdPFi_52qC"},"colorState-INVERTED_DIM":{icon:"cdPFi_ak5kB"},"colorState-INVERTED_LESS_DIM":{icon:"cdPFi_ak5m8"},"colorState-SELECTED":{icon:"cdPFi_Z2aVTcY"},"colorState-SELECTED_DARK_THEME_MODE":{icon:"cdPFi_Z21zYBA"},"colorState-STARRED":{icon:"cdPFi_ZkhR3R"},"colorState-STARRED_DARK":{icon:"cdPFi_ZkcwU0"},"colorState-DISABLED":{icon:"cdPFi_Z1TsNWR"},"colorState-WARNING":{icon:"cdPFi_Znn46r"},"colorState-HEADING":{icon:"cdPFi_Z1XBA33"},"colorState-SMARTVIEW_DARK":{icon:"cdPFi_2sqbQg"},"colorState-IMPROVED_GRAY_DARK":{icon:"cdPFi_Z1YRXYn"},"colorState-SECOND_LEVEL_GRAY":{icon:"cdPFi_Z1TsNWR"},"colorState-YBADGE":{icon:"cdPFi_Z25iliW"},"colorState-SUCCESS":{icon:"cdPFi_Z2ak3tK"},"colorState-ATTACH_MEDIA":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_CAL":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_EXCEL":{icon:"cdPFi_Zjgrcs"},"colorState-ATTACH_DOC":{icon:"cdPFi_euEfy"},"colorState-ATTACH_SLIDE":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_PDF":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_GENERIC":{icon:"cdPFi_1k4EMl"},"colorState-ATTACH_COMPRESSED":{icon:"cdPFi_1k4EMl"},"colorState-WARNING_GRAD_RED":{icon:"cdPFi_Z1rD0qn"},"colorState-TOUCH_PRIMARY":{icon:"cdPFi_Z2aVTcY"},"size-XXXS":{icon:"W_6Eb4 H_6Eb4"},"size-XXS":{icon:"W_6Fd5 H_6Fd5"},"size-XS":{icon:"W_6LEV H_6LEV"},"size-S":{icon:"W_6MGW H_6MGW"},"size-M":{icon:"W_6UbO H_6UbO"},"size-L":{icon:"W_74JI H_74JI"},"size-XL":{icon:"W_7rdk H_7rdk"},"size-XXL":{icon:"W_7Ig6 H_7Ig6"},"rotate-D90":{icon:"h_22ufi4"},"rotate-D180":{icon:"h_ZQwKon"},"rotate-D270":{icon:"h_9u8MW"}},_key:"1phquH"};
},{}],"./atoms/styles/fuji_icon_button":[function(require,module,exports){
module.exports={className:{default:{button:"c27KHO0_n b_0 M_0 i_0 I_T y_ZwubDW A_6EqO r_P C_q ir3_1IO2sY",content:"D_F ab_C gl_C W_6D6F",label:"D_X em_N i_6MGW o_h X_eo6 G_e J_x"},"size-XXXS":{button:"P_dBP",label:"i_6Eb4"},"size-XXS":{button:"P_dRA",label:"i_6Fd5"},"size-XS":{button:"P_eo6",label:"i_6LEV"},"size-S":{button:"P_fq7",label:"i_6MGW"},"size-M":{button:"P_fq7",label:"i_6UbO"},"size-L":{button:"P_6Eb4",label:"i_74JI"},"size-XL":{button:"P_6Fd5",label:"i_7rdk"},"size-XXL":{button:"P_6Fd5",label:"i_7Ig6"},paddingLess:{button:"P_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},isCompact:{content:"W_72FG ek_BB",label:"A_6DUj X_0"},disabled:{button:"r_BN"}},_key:"hX0nX"};
},{}],"./atoms/styles/hover_fuji_icon_button":[function(require,module,exports){
module.exports={className:{default:{button:"C4_Z2aVTcY"}},_key:"Zt4S9c"};
},{}],"./atoms/styles/infinite_scroll":[function(require,module,exports){
module.exports={className:{default:{main:"H_6D6F W_6D6F",scroll:"p_R Z_0 iy_h iz_A H_6D6F W_6D6F X_6Fd5 N_6Fd5 k_w",container:"hd_n P_0 M_0 p_R",item:"p_a T_0 L_0 R_0",newItem:"p_a T_0 L_0 R_0 ah_Z19ro7u",oldItem:"p_a T_0 L_0 R_0 ah_fqorO",maskItem:"cZ1RN91d_n p_a T_0 L_0 R_0",stickyHeader:"p_a T_0 L_0 R_0 X_6Fd5 I_ZD6Uwa Z_N j_n",scrollToTop:"D_F ab_C gl_C p_a B_6Fd5 R_0 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P",loading:"p_a B_0 L_0 R_0",focusStealer:"H_0"},"theme-DEFAULT":{scrollToTop:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{scrollToTop:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{scrollToTop:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{scrollToTop:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{scrollToTop:"I_ZMqghf I4_Z21zYBA"}},_key:"Z24KNG3"};
},{}],"./atoms/styles/list_item":[function(require,module,exports){
module.exports={className:{default:{listItem:"G_e p_R",icon:"i_0"},"kind-WRAP_CONTENT":{listItem:"H_A i_N"},"kind-GRID":{listItem:"P_0 f_l M_dRA ir4_2hvg6c"}},_key:"Z2ovjOp"};
},{}],"./atoms/styles/loading_indicator":[function(require,module,exports){
module.exports={className:{default:{wrapper:"D_F en_0 gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1PEzoz",spinner:"W_6MGW H_6MGW ah_Zq6hUs",arc:"cdPFi_n cZ13pKbK_Z2aVTcY cZ1XO2Ji_dRA c2abBOT_EY cZ1vNhDV_rd cZV8aCd_pI ah_14s73"},"size-S":{container:"W_6Fd5 H_6Fd5",spinner:"W_6Fd5 H_6Fd5"}},_key:"Z1M2mPq"};
},{}],"./atoms/styles/menu":[function(require,module,exports){
module.exports={className:{default:{menu:"I_52qC b_Z14vXdP e_dRA j_Z2jsUnk C_Z291T0t Z_3nxNR p_a ir_0 P_3HLUz"}},_key:"ZyUtep"};
},{}],"./atoms/styles/menu_button_container":[function(require,module,exports){
module.exports={className:{default:{buttonContainer:""},active:{buttonContainer:"I_7l9bL"}},_key:"ZTqMOv"};
},{}],"./atoms/styles/modal":[function(require,module,exports){
module.exports={className:{default:{grayOverlay:"p_f T_0 R_0 B_0 L_0 Z_3mRud I_Z26U5rI D_F ab_C gl_C",container:"j_1v4Vmf ir3_0"},"kind-LIGHT":{grayOverlay:"I_ZS20V7"}},_key:"WRioz"};
},{}],"./atoms/styles/navigable_list":[function(require,module,exports){
module.exports={className:{default:{list:"hd_n P_0 H_6D6F M_0 ir3_0"},"layout-HORIZONTAL":{list:"D_F"},"layout-GRID":{list:"D_F eo_HB W_6D6F"},disabled:{list:"O_6uB4 cZW7ROP_n"},"kind-TOOLBAR":{list:"D_F ab_C M_0 P_0"},isRestrictedHeight:{list:"iz_A K_3v1qi"}},_key:"Z1bnxvY"};
},{}],"./atoms/styles/overlay":[function(require,module,exports){
module.exports={className:{default:{overlay:"Z_7G9R",shim:"Z_7G9R T_0 B_0 L_0 R_0 p_a q_T"}},_key:"1HLIBC"};
},{}],"./atoms/styles/pill":[function(require,module,exports){
module.exports={className:{default:{pillContent:"C_Z291T0t k_w e_6Eb4 b_Z14vXdP M_dRA H_6MGW i_6Mbr ac_C ab_C D_F p_R o_h I_52qC Z_N",avatar:"D_F P_dBP",pillRemove:"D_F p_a R_0 T_0 q_q H_6D6F P_3gIgH M_0 en_0",pillText:"P_oRhLS",dragHoverContent:"D_F H_6D6F W_6D6F p_a T_0 L_0 Z_N",dragHoverLeft:"em_N",dragHoverRight:"em_N",pillContainer:"p_R"},isHovered:{pillContent:"I_ZoExDJ J_x l_ZoExDJ"},isDragImg:{pillContent:"b_2fAfSG"},isSelected:{pillContent:"l_Z2aVTcY I_ZoExDJ"},hasError:{pillContent:"b_Z1222NH I_Zkgkoa",pillText:"P_3gJOe"},useEllipsis:{pillText:"k_BF J_x o_h G_e"},isDark:{pillContent:"C_52qC I_2sqbPK b_efTvb"},isFolderPill:{pillDiv:"W_6LEV H_6LEV I_ZnIF8Y D_F ab_C gl_C e_e5X"},isDragged:{pillContainer:"D_n"},"dragSide-left":{pillContent:"Q_3nx4N",dragHoverRight:"em_0"},"dragSide-right":{pillContent:"E_3nx4N",dragHoverLeft:"em_0"}},_key:"KCAJj"};
},{}],"./atoms/styles/popover":[function(require,module,exports){
module.exports={className:{default:{popover:"p_a Z_d48",popoverAnchor:"D_X",popoverContent:"p_R e_dRA I_52qC j_ZlOSbd"},"bg-DARK":{popoverContent:"C_52qC I_Z291T0t j_n"},"zAltitude-500":{popover:"Z_e69",popoverContent:"j_nWwhY"},"zAltitude-900":{popover:"Z_f8a",popoverContent:"j_ZqTdtW"},"zAltitude-9000":{popover:"Z_7G9R",popoverContent:"j_ZqTdtW"}},_key:"Z1daoJ"};
},{}],"./atoms/styles/popover_arrow_large":[function(require,module,exports){
module.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6MGW T_36SjV",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6MGW H_6MGW M_6Eb4"},arrowDirectionDown:{pointerWrapper:"T_A B_36SjV h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 L_36SjV"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 R_36SjV h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_ZqTdtW"},"bg-DARK":{pointer:"I_Z291T0t j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"}},_key:"Z10diRe"};
},{}],"./atoms/styles/popover_arrow_medium":[function(require,module,exports){
module.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6Eb4 T_36JN3",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6Eb4 H_6Eb4 M_eTB"},arrowDirectionDown:{pointerWrapper:"T_A B_36Jxi h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 L_36JN3"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 R_36Jxi h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_nWwhY"},"bg-DARK":{pointer:"I_Z291T0t j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"bg-LIGHTGRAY":{pointer:"I_ZnkeaL"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"}},_key:"Z24b1gd"};
},{}],"./atoms/styles/popover_arrow_small":[function(require,module,exports){
module.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_eTB T_69bz",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_eTB H_eTB M_e8l"},arrowDirectionDown:{pointerWrapper:"T_A B_69bz h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 L_69bz"},arrowDirectionRight:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 R_69bz h_ZQwKon"},"zAltitude-500":{pointer:"j_ZlOSbd"},"zAltitude-900":{pointer:"j_ZlOSbd"},"bg-DARK":{pointer:"I_Z291T0t j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"}},_key:"zE2jN"};
},{}],118:[function(require,module,exports){
module.exports={className:{default:{progress:"k_w W_6D6F H_6Fd5 I_52qC p_R",placeholder:"b_Z14vXdP e_fq7 H_6EGz W_dbGOz",value:"p_a T_0 H_6D6F s_6Nds e_fq7 q_199zcl D_F gl_CH N_fq7 lv_ZLoey2",label:"C_52qC A_6DUj u_b i_6Fd5"}},_key:"2ms606"};
},{}],119:[function(require,module,exports){
module.exports={className:{default:{container:"s_3vhr3 k_w I_52qC D_F el_QDCVj M_1vskfw",messageContainer:"i_6Nds t_l A_6EqO",message:"E_6Eb4",subtitle:"C_Z24Sbth t_l A_6Eb4",cancel:"E_68F4 P_eo6 q_T C_Z2aVTcY A_6EqO y_ZwubDW b_0 r_P",bar:"Y_6Eb4"}},_key:"Z25skVy"};
},{}],120:[function(require,module,exports){
module.exports={className:{default:{searchHeader:"P_Z2eaBRY m_Z14vXdP D_F en_0 ek_EZ gl_FM",filterItem:"I_T b_n W_6D6F D_B C_q r_q y_q u_q P_0 A_6EqO ir3_1IO2sY it3_dRA"},"themeMode-DARK":{searchHeader:"m_ZYfFPt"}},_key:"Z1LuJjM"};
},{}],121:[function(require,module,exports){
module.exports={className:{default:{container:"D_F ab_C J_x r_P",labelPadding:"N_eo6"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z2wd6cK"};
},{}],122:[function(require,module,exports){
module.exports={className:{default:{container:"C_Z291T0t D_F ek_EZ H_6VdP p_R J_x",inactiveSegment:"p_R r_P D_F u_b M_Z98QD2 m_tw30f",activeSegment:"p_R r_P D_F u_b M_Z98QD2 m_Z1dQEKn C_Z2aVTcY Z_O"},"themeMode-DARK":{container:"C_52qC"},"theme-DEFAULT":{inactiveSegment:"cdPFi4_Z21zYBA",activeSegment:"C_Z21zYBA bj_Z21zYBA"},"theme-SUNRISE":{inactiveSegment:"cdPFi4_ZmlXUP",activeSegment:"C_ZmlXUP bj_ZmlXUP"},"theme-AQUA_GREEN":{inactiveSegment:"cdPFi4_Z1UHURv",activeSegment:"C_Z1UHURv bj_Z1UHURv"},"theme-AQUA_BLUE":{inactiveSegment:"cdPFi4_Z280Xf5",activeSegment:"C_Z280Xf5 bj_Z280Xf5"},"theme-DEEP_PURPLE":{inactiveSegment:"cdPFi4_Zwa5YI",activeSegment:"C_Zwa5YI bj_Zwa5YI"},"theme-BLUE_NIGHT":{inactiveSegment:"cdPFi4_Z21zYBA",activeSegment:"C_Z21zYBA bj_Z21zYBA"}},_key:"29E0Pc"};
},{}],123:[function(require,module,exports){
module.exports={className:{default:{didYouMean:"A_6EqO C_q u_q i_6UbO J_x",didYouMeanKeyword:"S_U kz_ZkiIcp lc_BK D_X A_6EqO u_b",didYouMeanWord:"D_X A_6EqO u_b"},"themeMode-DARK":{didYouMeanKeyword:"C_52qC",didYouMean:"C_52qC",didYouMeanWord:"C_52qC"}},_key:"1wLOYs"};
},{}],"./atoms/styles/suggestion_item":[function(require,module,exports){
module.exports={className:{default:{suggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 ab_C",keywordSuggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionAvatar:"W_6UbO H_6UbO E_6Eb4",personSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h",emailAddressLabel:"J_x G_e o_h C_Z1VRpVF",keyworSuggestionLabel:"J_x G_e o_h H_6MGW",keywordSuggestionIcon:"X_eTB N_eTB E_fq7"}},_key:"T48O9"};
},{}],"./atoms/styles/syncing_indicator":[function(require,module,exports){
module.exports={className:{default:{wrapper:"D_F en_0 gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1Ozsbb"},"size-XS":{wrapper:"H_6LEV",container:"W_6LEV H_6LEV"}},_key:"ZjGm2r"};
},{}],"./atoms/styles/toggle_button":[function(require,module,exports){
module.exports={className:{default:{background:"e_6Fd5 P_dRA lv_Z2uYb45 ir_0 D_B W_6UbO H_6Fd5 p_R r_P I_52qC b_Z1a7UWG",handle:"p_R D_B W_fq7 H_fq7 I_52qC e_6Fd5 lv_Z2uYb45 L_dRA b_Z1a7UWG"},isEnabled:{background:"I_Z2aVTcY b_0",handle:"L_6Fd5 b_6i9dl"}},_key:"2qdp7E"};
},{}],124:[function(require,module,exports){
module.exports={className:{default:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA Q_A t_C e_3mS2U C_Z1YRXYn I_ZpQYvz",activeContainer:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA Q_A t_C e_3mS2U C_52qC I_T u_b"},whiteBackground:{container:"C_2sqbRh I_ajP4A"},isAccountSwitcher_MEDIUM:{activeContainer:"I_ajP4A"},isAccountSwitcher_DARK:{activeContainer:"I_ajP4A"},isAccountSwitcher_LIGHT:{activeContainer:"I_ZpQYvz"},"highlightThemeCombo-true_DEFAULT":{container:"C_52qC I_Z2aVTcY"},"highlightThemeCombo-true_SUNRISE":{container:"C_52qC I_ZmlXUP"},"highlightThemeCombo-true_AQUA_GREEN":{container:"C_52qC I_Z1UHURv"},"highlightThemeCombo-true_AQUA_BLUE":{container:"C_52qC I_Z280Xf5"},"highlightThemeCombo-true_DEEP_PURPLE":{container:"C_52qC I_Zwa5YI"},"highlightThemeCombo-true_BLUE_NIGHT":{container:"C_52qC I_Z21zYBA"},"themeMode-LIGHT":{activeContainer:"C_Z291T0t"}},_key:"Z2qYF0K"};
},{}],"./atoms/styles/virtual_list":[function(require,module,exports){
module.exports={className:{default:{scroller:"p_R Z_0 iy_h iz_A H_6D6F W_6D6F k_w em_N c22hqzz_GN",list:"M_0 P_0",item:"H_A hd_n",heightPlaceHolder:"p_a T_0 L_0 W_dBP I_T cZW7ROP_n Z_nF"}},_key:"ZjTNUw"};
},{}],125:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var d=t.getCss(r.default);return s.default.createElement("div",{"data-test-id":"did-you-mean",className:d.didYouMean},s.default.createElement(u.FormattedMessage,{id:"search.did_you_mean",defaultMessage:"{keyword} not found. Showing search results for {suggestedWord}.",values:{keyword:s.default.createElement("span",{className:d.didYouMeanKeyword},e.keyword),suggestedWord:s.default.createElement("span",{className:d.didYouMeanWord,"data-test-id":"did-you-mean-word"},e.suggestedWord)}}))}exports.__esModule=!0,exports.default=t;var d=require("react"),s=e(d),a=require("./styles/suggested_word"),r=e(a),u=require("react-intl");t.contextTypes={getCss:d.PropTypes.func},module.exports=exports.default;
},{"./styles/suggested_word":123,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/suggestion_item":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react-intl"),a=require("react"),s=e(a),r=require("react-atomic-css/css"),n=e(r),i=require("./styles/suggestion_item"),l=e(i),u=require("./xavatar.jsx"),d=e(u),o=require("./highlighter.jsx"),c=e(o),m=require("../types"),g=require("../platform/mail_constants"),f=require("../atoms/fuji_icon.jsx"),p=e(f),E=require("../atoms/constants/fuji_icon"),S=(0,n.default)(l.default),h=(0,t.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),v=s.default.createClass({displayName:"SuggestionItem",contextTypes:{intl:t.intlShape.isRequired},getDefaultProps:function e(){return{inputValue:""}},renderAvatar:function e(){var t=this.props.suggestion,a=void 0;switch(t.type){case g.SuggestionType.PERSON:a=s.default.createElement(d.default,{contact:{id:t.serviceId},size:u.Sizes.M});break;default:a=null}return s.default.createElement("span",{className:S.suggestionAvatar},a)},renderSuggestionLabel:function e(){var t=this.props,a=t.suggestion,r=t.inputValue;return s.default.createElement(c.default,{haystack:a.name,title:a.name,needle:r,formatter:function e(t){return s.default.createElement("strong",null,t)}})},renderEmailAddressLabel:function e(){var t=this.props,a=t.suggestion,r=t.inputValue,n=this.context.intl.formatMessage,i=a.emailIds,l=void 0===i?[]:i,u=l.length-1,d=l[0],o=u>0?n(h.search_email_addresses,{emailAddress:d,extraEmailCount:u}):d;return s.default.createElement(c.default,{haystack:o,title:o,needle:r,formatter:function e(t){return s.default.createElement("strong",null,t)}})},render:function e(){var t=this.props.suggestion,a=void 0;switch(t.type){case g.SuggestionType.PERSON:a=s.default.createElement("div",{className:S.suggestionOption},this.renderAvatar(),s.default.createElement("div",{className:S.personSuggestionLabel},s.default.createElement("div",{className:S.suggestionLabel},this.renderSuggestionLabel()),s.default.createElement("div",{className:S.emailAddressLabel},this.renderEmailAddressLabel())));break;case g.SuggestionType.KEYWORD:a=s.default.createElement("div",{className:S.keywordSuggestionOption},s.default.createElement("span",{className:S.keywordSuggestionIcon},s.default.createElement(p.default,{kind:E.Kinds.SEARCH_MAIL,size:E.Sizes.S,colorState:E.ColorStates.NORMAL_LESS_DIM})),s.default.createElement("div",{className:S.keyworSuggestionLabel},this.renderSuggestionLabel()));break;default:a=null}return a}});exports.default=v,module.exports=exports.default;
},{"../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../platform/mail_constants":"./platform/mail_constants","../types":"./types","./highlighter.jsx":"./atoms/highlighter","./styles/suggestion_item":"./atoms/styles/suggestion_item","./xavatar.jsx":"./atoms/xavatar","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],126:[function(require,module,exports){
"use strict";function o(o){return o&&o.__esModule?o:{default:o}}function e(){return t.default.createElement("svg",{height:"0"},t.default.createElement("defs",null,E,t.default.createElement("clipPath",{id:"clip-orb"},s._svg.ORB)))}exports.__esModule=!0,exports.default=e;var r=require("react"),t=o(r),l=require("../platform/utils/mail_ui_vars"),a=require("../atoms/constants/fuji_icon"),s=require("./fuji_icon.jsx"),i=[{id:"fuji-blue",viewBox:20,startColor:l.PALETTE.ycolorTurquoise8a,stopColor:l.PALETTE.ycolorBlue10a},{id:"fuji-red",viewBox:20,startColor:l.PALETTE.ycolorOrange4a,stopColor:l.PALETTE.ycolorPink1a},{id:a.ColorStates.ATTACH_EXCEL,viewBox:48,startColor:l.PALETTE.ycolorTurquoise8a,stopColor:l.PALETTE.ycolorGreen6a},{id:a.ColorStates.ATTACH_SLIDE,viewBox:48,startColor:l.PALETTE.ycolorOrange4a,stopColor:l.PALETTE.ycolorPink1a},{id:a.ColorStates.ATTACH_GENERIC,viewBox:48,startColor:l.PALETTE.ycolorTurquoise8a,stopColor:l.PALETTE.ycolorBlue10a},{id:a.ColorStates.ATTACH_DOC,viewBox:48,startColor:l.PALETTE.ycolorBlue10a,stopColor:l.PALETTE.ycolorPurple14a},{id:a.ColorStates.ATTACH_MEDIA,viewBox:48,startColor:l.PALETTE.ycolorPink1a,stopColor:l.PALETTE.ycolorPurple14a},{id:a.ColorStates.WARNING_GRAD_RED,viewBox:48,startColor:l.PALETTE.ycolorSalmon3b,stopColor:l.PALETTE.ycolorFuchsia18a}],E=i.map(function(o){var e=o.id,r=o.viewBox,l=o.startColor,a=o.stopColor;return t.default.createElement("linearGradient",{key:e,id:e,x1:"0",x2:r,y1:r,y2:"0",gradientUnits:"userSpaceOnUse"},t.default.createElement("stop",{offset:"40%",stopColor:l}),t.default.createElement("stop",{offset:"60%",stopColor:a}))});module.exports=exports.default;
},{"../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","./fuji_icon.jsx":"./atoms/fuji_icon","react":"./node_modules/react/react.js"}],"./atoms/svg_image":[function(require,module,exports){
"use strict";function M(M){return M&&M.__esModule?M:{default:M}}exports.__esModule=!0,exports.SVGImages=void 0;var L,N=require("react"),j=M(N),D=require("./constants/svg_image"),T=require("../platform/utils/object"),I="data:image/svg+xml;base64,",u=exports.SVGImages=(L={},L[D.Kinds.EMPTY_FOLDER]=I+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjAgMTYwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxNjAgMTYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJpbGx1c3RyYXRpb25zIj4NCgk8cG9seWdvbiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgcG9pbnRzPSI5MS45MjIsMzkuMjY4IDEyMS4wMjUsMzkuMjY4IDEyMS41MjcsMjkgMTE0LDI5DQoJCTExNCwzNi43MDEgOTEuOTIyLDM2LjcwMSAJIi8+DQoJPGNpcmNsZSBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgY3g9IjkxLjkyMiIgY3k9IjE5Ljk0IiByPSIyLjQxNiIvPg0KCTxjaXJjbGUgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFMEU0RTkiIGN4PSIxMjAuMzE4IiBjeT0iMTkuOTQiIHI9IjIuNDE2Ii8+DQoJPHBhdGggZmlsbD0iI0UwRTRFOSIgZD0iTTEyOS45NDUsMTAuNjE4Yy0xLjYyNi0xLjMwMi0zLjM2OS0yLjE5LTUuMTE2LTIuNzQyQzEyMy43NjMsNy41NCwxMjIuMDIzLDcsMTIwLjI3LDdTNTYuMjkzLDcsNTYuMjkzLDcNCgkJYy0xMS42NzUsMC0yMS4xMzYsOS40NjQtMjEuMTM2LDIxLjE0djM1LjA5NGwtOS4yNjUsMTEuNDYybC0wLjA3NywwLjEwNGMtMS4zMzUsMS45NzktMi4xNTksNC4xMDktMi41MjEsNi4yNThsLTAuMTA3LTAuMDQ0DQoJCWMtMC4xNTksMC4zODctMC4zODEsMS4wNDctMC41OTgsMS45MzFjLTAuOTE1LDMuNzIyLTAuODU5LDcuNzIyLDAuODQ3LDExLjUxOGMwLjk2LDIuMTM3LDIuNDEsNC4wOCw0LjM5Miw1Ljc3OA0KCQljOS4yMTYsNy44OTgsMjYuMjg4LDMuOTc2LDM1Ljk3OC04LjA1YzEuMzcxLTEuNzAxLDIuODMyLTMuNTUxLDQuMzcxLTUuNTMyYzAuNTUzLTAuNzExLDEuMTE0LTEuNDM4LDEuNjg0LTIuMTc5DQoJCWMzLjI4Ny00LjI3NCw2LjcxNi04Ljg1MiwxMC4wODUtMTMuNDNjMS4wNzItMS40NTYsMi4wNjItMi44MTIsMi45NjMtNC4wNWMwLjkyNy0wLjMzNCwxLjc1My0wLjg3NSwyLjQyMi0xLjU3Mmg1LjU3NQ0KCQlsLTAuMzY1LDczLjE3NmwtMC43NDMtMC44OTNsLTEuMjMyLTEuNDgybC0xLjEzNCwxLjU1OWwtNy42NTEsMTAuNTE3Yy0wLjQ4NywwLjY3LTAuMzM5LDEuNjA4LDAuMzMxLDIuMDk1DQoJCWMwLjY3LDAuNDg3LDEuNjA4LDAuMzM5LDIuMDk1LTAuMzMxbDYuNTE3LTguOTU5bDcuNTEyLDkuMDM1bDEuMjgxLDEuNTQxbDEuMTE3LTEuNjY0bDUuMzAzLTcuODk4bDQuMjIzLDYuMzg2bDEuMTkyLDEuODAzDQoJCWwxLjI3Mi0xLjc0OGw2LjQzOC04Ljg1bDYuNDM4LDguODVsMS4wMTMsMS4zOTJsMS4yNC0xLjE5NGw0LjUwMi00LjMzMmw0LjQzNCwzLjY1N2MwLjYzOSwwLjUyNywxLjU4NCwwLjQzNiwyLjExMi0wLjIwMw0KCQlzMC40MzYtMS41ODQtMC4yMDMtMi4xMTJsLTUuNDY1LTQuNTA4bC0xLjAzMS0wLjg1MWwtMC45NjMsMC45MjdsLTQuMjI1LDQuMDY1bC02LjYzOC05LjEyNWwtMS4yMTMtMS42NjdsLTEuMjEzLDEuNjY3DQoJCWwtMi4yNzMsMy4xMjVWNjUuNDI5aDIyLjE2N2gxLjV2LTEuNXYtMi42MzF2LTcuMjZjMC0xMC40ODMsMC0xMC40ODMsMC0yNC41OTlDMTM3LjI0MiwyMC40MTksMTM0LjUyNCwxNC4yODUsMTI5Ljk0NSwxMC42MTh6DQoJCSBNMzguMTU4LDI4LjE0YzAtMTAuMDE5LDguMTE4LTE4LjE0LDE4LjEzNi0xOC4xNGMxMC4wMiwwLDE4LjEzNiw4LjExNSwxOC4xMzYsMTguMTR2MzQuMTI1aC0zLjE3SDM4LjE1OFYyOC4xNHogTTI4LjI4MSw3Ni41MTQNCgkJbDguOTYtMTEuMDg0aDM1LjU5MUw1OC40MSw4NC45MjJjLTcuNzg0LDkuNDQ2LTE4Ljg5MywxMy4yODQtMjUuNjY2LDkuNDg4bC0wLjIxNS0wLjEyQzI2LjAxMyw5MC42MzcsMjQuMTI0LDgyLjcxNSwyOC4yODEsNzYuNTE0DQoJCXogTTc3LjUyOCw2OS4yNzRjLTMuMzU3LDQuNTYyLTYuNzc0LDkuMTIzLTEwLjA0NiwxMy4zNzljLTAuNTY3LDAuNzM3LTEuMTI1LDEuNDYtMS42NzUsMi4xNjcNCgkJYy0xLjUyOSwxLjk2OC0yLjk3OSwzLjgwNC00LjMzOCw1LjQ5Yy04LjcyNCwxMC44MjctMjMuOTE1LDE0LjMxNy0zMS42OSw3LjY1NGMtMS42NDUtMS40MS0yLjgyOC0yLjk5NS0zLjYwNy00LjczDQoJCWMtMC4xODMtMC40MDYtMC4zMzktMC44MTctMC40NzctMS4yMzFjMS4zMjIsMS45NDMsMy4xMTMsMy42NCw1LjM2OCw0LjkwNGwwLjIxNSwwLjEyYzguMjI5LDQuNjEyLDIwLjgzNCwwLjI1NywyOS40OTctMTAuMjU5DQoJCUw3Ni40MDgsNjUuNjRjMC43NDQsMC43MDYsMS42NTksMS4yMzEsMi42NzcsMS41MUM3OC41ODYsNjcuODMyLDc4LjA3NCw2OC41MzEsNzcuNTI4LDY5LjI3NHogTTgwLjc2Miw2NC4zODINCgkJYy0xLjg0MSwwLTMuMzMzLTEuNDkyLTMuMzMzLTMuMzMyczEuNDkyLTMuMzMyLDMuMzMzLTMuMzMyYzEuODQxLDAsMy4zMzMsMS40OTIsMy4zMzMsMy4zMzJTODIuNjAzLDY0LjM4Miw4MC43NjIsNjQuMzgyeg0KCQkgTTk3LjI1OSwxNDYuNjg4bC0zLjczOC00LjQ5NmwwLjM4Mi03Ni43NjNoOC41ODh2NzMuNDY3TDk3LjI1OSwxNDYuNjg4eiBNMTA5LjQ2OSwxNDUuMDU1bC0zLjk3Ny02LjAxNFY2NS40NTZoNS4wODR2NzguMDc4DQoJCUwxMDkuNDY5LDE0NS4wNTV6IE0xMzQuMjQyLDU0LjAzOHY3LjI2djEuMTMxSDg2Ljk0YzAuMDk5LTAuNDQ1LDAuMTU1LTAuOTA1LDAuMTU1LTEuMzhjMC0zLjQ5Ny0yLjgzNi02LjMzMi02LjMzMy02LjMzMg0KCQljLTEuMjI1LDAtMi4zNjQsMC4zNTMtMy4zMzMsMC45NTVWMjguMTRjMC03LjcyMS00LjE0Ni0xNC40NTEtMTAuMzItMTguMTQxYzE4LjAzMi0wLjAwMSw1Mi4zNTMtMC4wMDMsNTMuMDUyLTAuMDAzDQoJCWMwLjk1LDAsMy4yNzcsMC41ODgsMy43NjUsMC43NDJjMS40MSwwLjQ0NSwyLjgyMywxLjE2NSw0LjE0NCwyLjIyMmMzLjgzOSwzLjA3NSw2LjE3Miw4LjMzOSw2LjE3MiwxNi40NzkNCgkJQzEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNTQuMDM4eiIvPg0KPC9nPg0KPC9zdmc+DQo=",L[D.Kinds.SELECTED_MESSAGES]=I+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJNQUlMX3g1Rl9TRUxFQ1RFRCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IgoJIHk9IjBweCIgdmlld0JveD0iNjEgLTYxIDEzOCAxMzgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgNjEgLTYxIDEzOCAxMzg7ZmlsbDojRTBFNEU5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggZD0iTTEyNC41LDQ5LjJMNjUsNC4xdjYyLjNjMCwzLjksMi44LDYuNiw3LDYuNmgxMTZjNC4xLDAsNy0yLjcsNy02LjZWNGwtNTkuNiw0NS4yQzEzMi4yLDUxLjcsMTI3LjcsNTEuNywxMjQuNSw0OS4yeiIvPgo8cGF0aCBkPSJNMTI3LDQ1LjZjMS42LDEuMiwzLjgsMS4yLDUuNCwwbDYwLjItNDQuMmMxLjItMC45LDEuMi0yLjcsMC0zLjZsLTU4LTUzLjNjLTIuNy0yLTYuNS0yLTkuMiwwbC01OCw1My4zCgljLTEuMiwwLjktMS4yLDIuNywwLDMuNkwxMjcsNDUuNnoiLz4KPC9zdmc+",L[D.Kinds.ATTACHMENT_PREVIEW_ERROR]=I+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OCA0ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPiAuc3Qwe2ZpbGw6I0UwRTRFOTt9IDwvc3R5bGU+IDxnPiA8cmVjdCB4PSIxNiIgeT0iMjEiIGNsYXNzPSJzdDAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4gPHJlY3QgeD0iMTYuMDAwNDMiIHk9IjMxLjk5NTg1IiBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMi4wMDgzIi8+IDxyZWN0IHg9IjMwIiB5PSIyMSIgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPiA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzkuNTU1MDUsMTEuNzY0MzRjLTAuMDAwMzctMC4wMDAxOC03LjE4NjUyLTcuMDg5NTQtOC45MDY4LTguNzg2OCBDMzAuMjMxMDIsMi41NjU4NiwyOS43OTEzMiwyLjA2MzE3LDI4Ljk5OTY5LDJIOS44Nzg5MUM4Ljg0MTE5LDIsOCwyLjg0MTE5LDgsMy44Nzg5MVY0NGMwLDEuMDk5OTgsMC45MDAwMiwyLDIsMmgyOCBjMS4wOTk5OCwwLDItMC45MDAwMiwyLTJWMTIuOTM4MTdDNDAsMTIuMzk1OTQsMzkuNzkxODEsMTIuMDA2MDQsMzkuNTU1MDUsMTEuNzY0MzR6IE0zOCw0NEgxMFY0aDE4djguNSBjMCwwLjgyNTAxLDAuNjc0OTksMS41LDEuNSwxLjVIMzhWNDR6Ii8+IDwvZz4gPC9zdmc+",L[D.Kinds.PLAY_VIDEO]=I+"PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgeDE9IjIuMDY2JSIgeTE9Ijk2Ljc1MSUiIHgyPSI5NS42NTklIiB5Mj0iMi45NjklIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iIzZEMDBGNiIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiMwMDNBQkMiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEyLjY3NiA3Ny4zNzZjMy45ODMgMy42MDggOC42NjcgNi4yOCAxNC4wMjcgOC4wMTdDMzIuMDc4IDg3LjEyNSAzNy44OSA4OCA0NC4xNjMgODhjNi4xNjQgMCAxMS45MzQtLjg3NSAxNy4yOTYtMi42MDcgMi4xNTQtLjY5NCA0LjE4Ni0xLjU0NyA2LjExNi0yLjU0MyAyLjg4NC0xLjQ5IDUuNTMtMy4zMTIgNy45MTYtNS40NzQgMy45OS0zLjYwNyA3LjA5Ny04LjE4MyA5LjMzLTEzLjcwN0M4Ny4wNSA1OC4xMzYgODguMTY4IDUxLjU4IDg4LjE2OCA0NGMwLTcuNTg2LTEuMTE4LTE0LjE0LTMuMzQ2LTE5LjY3LTIuMjMzLTUuNTMtNS4zNC0xMC4xLTkuMzMtMTMuNzA1LTMuOTg1LTMuNjE3LTguNjYtNi4yODUtMTQuMDMzLTguMDJDNTYuMDk2Ljg3IDUwLjMyNiAwIDQ0LjE2MiAwYy02LjI3MyAwLTEyLjA4NS44NjgtMTcuNDYgMi42MDYtMS43NDMuNTYtMy40MTIgMS4yMzYtNS4wMSAyLjAwNS0zLjMyIDEuNTgzLTYuMzMgMy41NzgtOS4wMTcgNi4wMTVDOC42ODggMTQuMjMgNS41NzggMTguOCAzLjM0NiAyNC4zMyAxLjExNiAyOS44NiAwIDM2LjQxNCAwIDQ0YzAgNy41ODIgMS4xMTcgMTQuMTM3IDMuMzQ2IDE5LjY3IDIuMjMyIDUuNTIzIDUuMzQyIDEwLjEgOS4zMyAxMy43MDZ6IiBmaWxsLW9wYWNpdHk9Ii42NSIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGQ9Ik0zNi43MyA1OWgtLjA2NmMtLjkyIDAtMS42NjQtLjc0Mi0xLjY2NC0xLjY1NlYzMC42NTZjMC0uOTE1Ljc0LTEuNjU2IDEuNjY0LTEuNjU2LjAzIDAgLjA2IDAgLjA5LjAwMi4zOC0uMDczLjc4OC0uMDE0IDEuMTUyLjE5NmwyMi42MjIgMTMuMDZjLjc5OC40NiAxLjA3NSAxLjQ3NC42MTMgMi4yNzYtLjAyMy4wNC0uMDQ4LjA4LS4wNzUuMTE4LS4xMzcuMjctLjM1LjUwMy0uNjMuNjdsLTIyLjQ0IDEzLjQ4NGMtLjM5NS4yNC0uODUuMjk1LTEuMjY1LjE5M3oiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+",L),z=j.default.createClass({displayName:"SVGImage",getDefaultProps:function M(){return{width:48,height:48,altText:""}},render:function M(){var L=u[this.props.kind];return j.default.createElement("img",{src:L,width:this.props.width,height:this.props.height,alt:this.props.altText,"data-test-id":"svg-image"})}});exports.default=z;
},{"../platform/utils/object":"./platform/utils/object","./constants/svg_image":"./atoms/constants/svg_image","react":"./node_modules/react/react.js"}],"./atoms/syncing_indicator":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.size,r=e.title,i=(0,u.default)(l.default,{size:t});return s.default.createElement("div",{className:i.wrapper},s.default.createElement("div",{className:i.container,title:r,"aria-label":r},s.default.createElement(n.default,{kind:d.Kinds.REFRESH,size:t,colorState:d.ColorStates.SUCCESS})))}exports.__esModule=!0,exports.Sizes=void 0,exports.default=t;var r=require("react"),s=e(r),i=require("../platform/utils/object"),a=require("./styles/syncing_indicator"),l=e(a),o=require("react-atomic-css/css"),u=e(o),c=require("../atoms/fuji_icon.jsx"),n=e(c),d=require("../atoms/constants/fuji_icon"),f=exports.Sizes=(0,i.mirrorKeys)([d.Sizes.XS,d.Sizes.S]);t.defaultProps={size:d.Sizes.S};
},{"../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../platform/utils/object":"./platform/utils/object","./styles/syncing_indicator":"./atoms/styles/syncing_indicator","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./atoms/toggle_button":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var a=e.isEnabled,o=e.ariaLabel,n=e.onClick,r=t.intl,i=(0,d.default)(u.default,{isEnabled:a});return l.default.createElement(s.default,{className:i.background,role:"checkbox","aria-checked":a,onClick:n,"aria-label":o,title:r.formatMessage(a?g.toggleButtonEnabled:g.toggleButtonDisabled)},l.default.createElement("span",{className:i.handle}))}exports.__esModule=!0,exports.default=t;var a=require("react"),l=e(a),o=require("./button.jsx"),s=e(o),n=require("./styles/toggle_button"),u=e(n),r=require("react-atomic-css/css"),d=e(r),i=require("react-intl"),g=(0,i.defineMessages)({toggleButtonEnabled:{id:"toggleButtonEnabled",defaultMessage:"Toggle button, enabled"},toggleButtonDisabled:{id:"toggleButtonDisabled",defaultMessage:"Toggle button, disabled"}});t.contextTypes={intl:i.intlShape},module.exports=exports.default;
},{"./button.jsx":"./atoms/button","./styles/toggle_button":"./atoms/styles/toggle_button","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],127:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){}exports.__esModule=!0;var s=require("react"),r=e(s),a=require("react-intl"),i=require("../fuji_icon_button.jsx"),o=e(i),n=require("../../platform/theming/themes"),l=require("../constants/fuji_icon"),d=(0,a.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected messages to Inbox"},archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected messages"}}),c=r.default.createClass({displayName:"ArchiveButton",contextTypes:{intl:a.intlShape.isRequired,getThemeMode:s.PropTypes.func},getDefaultProps:function e(){return{size:l.Sizes.XS,showLabel:!0,onClick:t}},_renderLabel:function e(){return this.props.restore?r.default.createElement(a.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}):r.default.createElement(a.FormattedMessage,{id:"archive_button.archive_label",defaultMessage:"Archive"})},render:function e(){var t=this.context.intl.formatMessage,s=this.props,a=s.restore,i=s.disabled,c=s.onClick,u=s.showLabel,h=s.isCompact,f=s.size,m=t(a?d.restore_msgs:d.archive_msgs),_=this.context.getThemeMode()===n.ThemeModes.DARK;return r.default.createElement(o.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+(a?"archive-restore":"archive"),"aria-label":m,title:m,kind:a?l.Kinds.RESTORE_TO_INBOX:l.Kinds.ARCHIVE,disabled:i,onClick:c,size:f,colorState:l.ColorStates.INHERITED,isOnDarkBackground:_,isCompact:h},u&&this._renderLabel())}});exports.default=c,module.exports=exports.default;
},{"../../platform/theming/themes":"./platform/theming/themes","../constants/fuji_icon":"./atoms/constants/fuji_icon","../fuji_icon_button.jsx":"./atoms/fuji_icon_button","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/toolbar/delete_button":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){}exports.__esModule=!0;var s=require("react"),a=e(s),l=require("react-intl"),r=require("../fuji_icon_button.jsx"),i=e(r),d=require("../../platform/theming/themes"),n=require("../constants/fuji_icon"),o=(0,l.defineMessages)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected messages"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected messages"}}),u=a.default.createClass({displayName:"DeleteButton",getDefaultProps:function e(){return{size:n.Sizes.XS,showLabel:!0,onClick:t}},contextTypes:{intl:l.intlShape.isRequired,getThemeMode:s.PropTypes.func},render:function e(){var t=this.context.intl.formatMessage,s=this.props,r=s.permanent,u=s.disabled,m=s.onClick,c=s.showLabel,f=s.isCompact,p=s.size,g=t(r?o.perm_delete_msgs:o.delete_msgs),_=r?"perm-delete":"delete",h=this.context.getThemeMode()===d.ThemeModes.DARK;return a.default.createElement(i.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+_,"aria-label":g,title:g,kind:n.Kinds.DELETE,disabled:u,onClick:m,size:p,colorState:n.ColorStates.INHERITED,isOnDarkBackground:h,isCompact:f},c?a.default.createElement(l.FormattedMessage,{id:"delete_icon_label",defaultMessage:"Delete"}):null)}});exports.default=u,module.exports=exports.default;
},{"../../platform/theming/themes":"./platform/theming/themes","../constants/fuji_icon":"./atoms/constants/fuji_icon","../fuji_icon_button.jsx":"./atoms/fuji_icon_button","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],128:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),l=require("react-intl"),s=require("../../platform/utils/mail_ui_vars"),n=require("../constants/fuji_icon"),r=require("../constants/button"),d=require("../constants/list_item"),o=require("../button.jsx"),i=e(o),c=require("../fuji_icon_button.jsx"),u=e(c),f=require("../advanced_checkbox.jsx"),m=e(f),p=require("../list_item.jsx"),E=e(p),g=require("../navigable_list.jsx"),_=e(g),M=require("../popover/popover_container.jsx"),h=e(M),S=require("../popover/popover_anchor.jsx"),k=e(S),C=require("../popover/popover_content.jsx"),N=e(C),v=require("../constants/popover"),T=require("./styles/selection_controls"),I=e(T),x=require("../../platform/theming/themes"),q=require("../../platform/mail_constants"),A=(0,l.defineMessages)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}}),O=a.default.createClass({displayName:"SelectionControls",contextTypes:{intl:l.intlShape.isRequired,getCss:t.PropTypes.func,getThemeMode:t.PropTypes.func},getDefaultProps:function e(){return{onMenuShow:function e(){},selectedGroupIds:[]}},handleCheckboxClicked:function e(t){var a=this.props,l=a.onSelectNone,s=a.onSelectAll,n=a.itemsSelected;t.preventDefault(),t.stopPropagation(),n?l(t,!0):s(t,!0)},render:function e(){var t=this.context.getCss(I.default),o=this.context.getThemeMode()===x.ThemeModes.DARK,c=this.context.intl,p=c.formatMessage,g=c.formatNumber,M=this.props,S=M.itemsSelected,C=M.allItemsSelected,T=M.selectedGroupIds,O=M.allItemsCount,D=M.previewpane,P=C?O:T.length,U=f.CheckTypes.NONE;return S&&C?U=f.CheckTypes.ALL:S&&(U=f.CheckTypes.PARTIAL),a.default.createElement("div",{className:t.container},a.default.createElement("ul",{className:t.list},a.default.createElement(E.default,{kind:d.Kinds.MESSAGE_SELECTION_CHECKBOX},a.default.createElement("span",{className:t.checkboxWrapper},a.default.createElement(m.default,{type:U,highContrast:!0,isInverted:o,onClick:this.handleCheckboxClicked,"aria-label":p(S?A.deselect_all:A.select_all),isOnDarkBackground:o,"data-iskeynav":!0,paddingLess:!0}))),a.default.createElement(E.default,{kind:d.Kinds.MESSAGE_SELECTION_CHEVRON},a.default.createElement(h.default,null,a.default.createElement(k.default,null,a.default.createElement("span",{className:t.chevronWrapper},a.default.createElement(u.default,{kind:n.Kinds.CHEVRON_UP,size:n.Sizes.XS,rotate:n.Rotate.D180,title:p(A.select_messages),"aria-label":p(A.select_messages),colorState:n.ColorStates.INHERITED,isOnDarkBackground:o,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),a.default.createElement(N.default,{permittedArrowDirections:[v.PermittedArrowDirections.UP,v.PermittedArrowDirections.DOWN],triggerOn:v.Triggers.CLICK,offset:4*s.GRID_UNIT,align:v.Align.START,zAltitude:s.ZIndices.POPOVER.HIGH,onShow:this.props.onMenuShow},a.default.createElement("div",{className:t.popoverListWrapper},a.default.createElement(_.default,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},a.default.createElement(E.default,{name:"select-all"},a.default.createElement(i.default,{onClick:this.props.onSelectAll,kind:r.Kinds.MENUITEM},a.default.createElement(l.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),a.default.createElement(E.default,{name:"select-none"},a.default.createElement(i.default,{onClick:this.props.onSelectNone,kind:r.Kinds.MENUITEM},a.default.createElement(l.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),a.default.createElement(E.default,{name:"select-read"},a.default.createElement(i.default,{onClick:this.props.onSelectRead,kind:r.Kinds.MENUITEM},a.default.createElement(l.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),a.default.createElement(E.default,{name:"select-unread"},a.default.createElement(i.default,{onClick:this.props.onSelectUnread,kind:r.Kinds.MENUITEM},a.default.createElement(l.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),a.default.createElement(E.default,{name:"select-starred"},a.default.createElement(i.default,{onClick:this.props.onSelectStarred,kind:r.Kinds.MENUITEM},a.default.createElement(l.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),a.default.createElement(E.default,{name:"select-unstarred"},a.default.createElement(i.default,{onClick:this.props.onSelectUnstarred,kind:r.Kinds.MENUITEM},a.default.createElement(l.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),a.default.createElement(E.default,null,a.default.createElement("div",null,D===q.PreviewPaneSettings.NO&&P>0?g(P):""))))}});exports.default=O,module.exports=exports.default;
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/theming/themes":"./platform/theming/themes","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../advanced_checkbox.jsx":"./atoms/advanced_checkbox","../button.jsx":"./atoms/button","../constants/button":"./atoms/constants/button","../constants/fuji_icon":"./atoms/constants/fuji_icon","../constants/list_item":"./atoms/constants/list_item","../constants/popover":"./atoms/constants/popover","../fuji_icon_button.jsx":"./atoms/fuji_icon_button","../list_item.jsx":"./atoms/list_item","../navigable_list.jsx":"./atoms/navigable_list","../popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../popover/popover_container.jsx":"./atoms/popover/popover_container","../popover/popover_content.jsx":"./atoms/popover/popover_content","./styles/selection_controls":130,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],129:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function a(){}exports.__esModule=!0;var s=require("react"),t=e(s),r=require("react-intl"),o=require("../fuji_icon_button.jsx"),i=e(o),n=require("../../platform/theming/themes"),l=require("../constants/fuji_icon"),m=(0,r.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"}}),d=t.default.createClass({displayName:"SpamButton",getDefaultProps:function e(){return{size:l.Sizes.XS,showLabel:!0,onClick:a}},contextTypes:{intl:r.intlShape.isRequired,getThemeMode:s.PropTypes.func},_renderLabel:function e(){return this.props.markAsSpam?t.default.createElement(r.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"}):t.default.createElement(r.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"})},render:function e(){var a=this.context.intl.formatMessage,s=this.props,r=s.disabled,o=s.markAsSpam,d=s.onClick,u=s.showLabel,_=s.isCompact,p=s.size,c=a(o?m.mark_msgs_as_spam:m.mark_msgs_as_not_spam),f=o?"spam":"not-spam",g=this.context.getThemeMode()===n.ThemeModes.DARK;return t.default.createElement(i.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+f,"aria-label":c,title:c,kind:l.Kinds.SPAM,disabled:r,onClick:d,size:p,colorState:l.ColorStates.INHERITED,isOnDarkBackground:g,isCompact:_},u&&this._renderLabel())}});exports.default=d,module.exports=exports.default;
},{"../../platform/theming/themes":"./platform/theming/themes","../constants/fuji_icon":"./atoms/constants/fuji_icon","../fuji_icon_button.jsx":"./atoms/fuji_icon_button","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],130:[function(require,module,exports){
module.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1Xxgu2 cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"ZrlMA4"};
},{}],131:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),s=require("./styles/unread_count"),n=e(s),a=require("../platform/mail_constants"),i=r.default.createClass({displayName:"UnreadCount",contextTypes:{getCss:t.PropTypes.func,getTheme:t.PropTypes.func,getThemeMode:t.PropTypes.func},getDefaultProps:function e(){return{whiteBackground:!1}},getClassName:function e(){var t=this.props,r=t.isActive,s=t.highlight,a=t.whiteBackground,i=t.isAccountSwitcher,o=this.context.getTheme(),u=this.context.getThemeMode(),c=this.context.getCss(n.default,{whiteBackground:a&&!s,highlightThemeCombo:s+"_"+o,isAccountSwitcher_LIGHT:r&&i&&"LIGHT"===u,isAccountSwitcher_MEDIUM:r&&i&&"MEDIUM"===u,isAccountSwitcher_DARK:r&&i&&"DARK"===u});return r?c.activeContainer:c.container},render:function e(){var t=this.props.value;if(!t||t<0)return null;var s=this.getClassName();return r.default.createElement("span",{className:s,"data-test-id":"displayed-count"},t>a.MAX_UNREAD_EMAILS?a.MORE_THAN_999_EMAILS:t)}});exports.default=i,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","./styles/unread_count":124,"react":"./node_modules/react/react.js"}],132:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),t=e(a),n=require("react-intl"),s=(0,n.defineMessages)({hasUnsavedMessage:{id:"warning.has_unsaved_message",defaultMessage:"You are about to leave with unsaved data. Continue?"}}),r=t.default.createClass({displayName:"UnsavedDataWarner",contextTypes:{intl:n.intlShape.isRequired},componentDidMount:function e(){var a=this;window.addEventListener("beforeunload",function(e){if(a.props.isUnsafe){var t=a.context.intl.formatMessage(s.hasUnsavedMessage);return e.returnValue=t,t}})},render:function e(){return null}});exports.default=r,module.exports=exports.default;
},{"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./atoms/utils/menu_utils":[function(require,module,exports){
"use strict";function t(t,e){var i=e.getBoundingClientRect(),h={height:t.ownerDocument.documentElement.offsetHeight,width:t.ownerDocument.documentElement.offsetWidth},o=t.getBoundingClientRect(),g={x:-o.width,y:8},n={below:h.height-o.bottom-g.y,above:o.top-g.y,left:o.left-g.x,right:h.width-o.right-g.x},r={},l=.9,a=Math.floor(Math.max(n.above,n.below)*l),d=Math.floor(Math.max(n.left,n.right)*l);if(i.height>a&&(r.maxHeight=a),i.width>d&&(r.maxWidth=d),r.maxHeight||r.maxWidth){r.overflow="auto";var f=r.maxHeight||i.height,m=r.maxWidth||i.width;i=Object.assign({},i,{height:f,width:m,bottom:i.top+f,right:i.left+m})}var w={below:n.below*l-i.height>=0,above:n.above*l-i.height>=0,left:n.left*l-i.width>=0,right:n.right*l-i.width>=0};return w.right?r.left=o.right+g.x:w.left&&(r.left=o.left-i.width-g.x),w.below?r.top=o.bottom+g.y:w.above&&(r.top=o.top-i.height-g.y),r}function e(t,e,h,o){var g=(0,i.getWinSize)(h),n=o.getBoundingClientRect();return e=Math.min(e,g.height-n.height),t+n.width>g.width&&(t-=n.width),{left:t,top:e}}exports.__esModule=!0,exports.getMenuLayerStyles=t,exports.getContextMenuPosition=e;var i=require("../../platform/utils/dom");
},{"../../platform/utils/dom":"./platform/utils/dom"}],"./atoms/utils/overlay_utils":[function(require,module,exports){
"use strict";function e(e,r,o){var s=o[0],a=o[1],h=0,i=0,n=0,c=0;switch(s){case t.Corners.BottomRight:n=-r.width,c=-r.height;break;case t.Corners.TopLeft:n=0,c=0;break;case t.Corners.TopRight:n=-r.width,c=0;break;case t.Corners.BottomLeft:n=0,c=-r.height;break;case t.Corners.CenterRight:n=-r.width,c=-r.height/2;break;case t.Corners.CenterLeft:n=0,c=-r.height/2;break;case t.Corners.TopCenter:n=-r.width/2,c=0;break;case t.Corners.BottomCenter:n=-r.width/2,c=-r.height;break;default:n=0,c=0}switch(a){case t.Corners.BottomRight:h=e.left+e.width,i=e.top+e.height;break;case t.Corners.TopLeft:h=e.left,i=e.top;break;case t.Corners.TopRight:h=e.left+e.width,i=e.top;break;case t.Corners.BottomLeft:h=e.left,i=e.top+e.height;break;case t.Corners.CenterRight:h=e.left+e.width,i=e.top+e.height/2;break;case t.Corners.CenterLeft:h=e.left,i=e.top+e.height/2;break;case t.Corners.TopCenter:h=e.left+e.width/2,i=e.top;break;case t.Corners.BottomCenter:h=e.left+e.width/2,i=e.top+e.height;break;default:h=e.left,i=e.top}return{left:h+n+window.pageXOffset,top:i+c+window.pageYOffset}}exports.__esModule=!0,exports.calcOverlayPos=e;var t=require("../constants/corners");
},{"../constants/corners":"./atoms/constants/corners"}],133:[function(require,module,exports){
"use strict";function e(e){var r=e.name,i=void 0===r?"":r,a=e.email,n=void 0===a?"":a,o=e.hasEncryptionError,s=void 0!==o&&o,l=n.match(t)||[],m=l[2],c=void 0===m?i:m,d=l[3],v=void 0===d?n:d,p=void 0;return p=c&&v?c+" <"+v+">":c?c:v,{name:c||v,email:v,title:p,hasEncryptionError:s}}function r(e){if(i.test(e)){var r=void 0,t=e.match(i),a=t[0],n=e.replace(a,"").trim();return a=a.substring(1,a.length-1),r=n&&a?n+" <"+a+">":n?n:a,{email:a,name:n,title:r}}return{email:e,name:e}}exports.__esModule=!0,exports.preparePillContact=e,exports.createAddress=r;var t=/^(['"]?)(.*?)\1\s*<(\S+@\S+\.\w+)>\s*$/,i=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/;
},{}],"./atoms/utils/search_input_parser":[function(require,module,exports){
"use strict";function e(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/([a-z]*:"[^"]*")|([a-z]*:[^\s]*)/g)||[]).reduce(function(e,a){var r,c=a.match(/^([a-z]*):(.*)$/),n=c[1],T=c[2];return Object.assign(e,(r={},r[n]=[].concat(e[n]||[],[T]),r))},{})}function a(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=new RegExp("("+e+':"[^"]*")|('+e+":[^\\s]*)","g");return r?a.replace(c,""):a.replace(c,"").trim()}function r(r){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r)return{};var d=e(r),t={},A=r;["FOLDERS","FROM","TO","SUBJECT","AFTER","BEFORE"].forEach(function(e){var r=T[e],E=d[r]||[],s="BEFORE"===e||"AFTER"===e;1===E.length&&(t[n.AdvancedSearchFields[e]]=s?E[0].replace(/"/g,""):E[0],A=a(r,A,c))});var s=d[T.HAS]||[];["ATTACHMENT","PHOTO"].forEach(function(e){t[n.AdvancedSearchFields[e]]=s.indexOf(E[e])!==-1,A=A.replace(T.HAS+":"+E[e],"")});var h=d[T.ATTACHMENT_TYPE]||[];return t[n.AdvancedSearchFields.CALENDAR_INVITE]=h.indexOf(E.CALENDAR_INVITE)!==-1,A=A.replace(T.ATTACHMENT_TYPE+":"+E.CALENDAR_INVITE,""),A=A.replace(new RegExp("^\\s*"),""),A.trim()&&(t[n.AdvancedSearchFields.KEYWORD]=A),t}function c(e){var a=[],r=e[n.AdvancedSearchFields.FOLDERS],c=e[n.AdvancedSearchFields.FROM],d=e[n.AdvancedSearchFields.TO],t=e[n.AdvancedSearchFields.SUBJECT],A=e[n.AdvancedSearchFields.KEYWORD],s=e[n.AdvancedSearchFields.BEFORE],h=e[n.AdvancedSearchFields.AFTER],i=e[n.AdvancedSearchFields.ATTACHMENT],o=e[n.AdvancedSearchFields.PHOTO],u=e[n.AdvancedSearchFields.CALENDAR_INVITE];return r&&a.push(T.FOLDERS+":"+r),c&&a.push(T.FROM+":"+c),d&&a.push(T.TO+":"+d),t&&a.push(T.SUBJECT+":"+t),i&&a.push(T.HAS+":"+E.ATTACHMENT),o&&a.push(T.HAS+":"+E.PHOTO),u&&a.push(T.ATTACHMENT_TYPE+":"+E.CALENDAR_INVITE),h&&a.push(T.AFTER+':"'+h+'"'),s&&a.push(T.BEFORE+':"'+s+'"'),A&&a.push(A),a.join(" ")}exports.__esModule=!0,exports.Tokens=void 0,exports.getSearchInputTokens=e,exports.filterToken=a,exports.parseSearchInput=r,exports.createSearchInputValue=c;var n=require("../../platform/mail_constants"),T=exports.Tokens={FOLDERS:"in",FROM:"from",TO:"to",SUBJECT:"subject",BEFORE:"before",AFTER:"after",HAS:"has",ATTACHMENT_TYPE:"attachmenttype"},E={ATTACHMENT:"attachment",PHOTO:"image",CALENDAR_INVITE:"calendar"};
},{"../../platform/mail_constants":"./platform/mail_constants"}],"./atoms/utils/window_utils":[function(require,module,exports){
"use strict";function t(t){var o=!1;if(!e.test(t))return o;var r=window.open();if(r){r.opener=null;try{r.location=t,o=!0}catch(t){}}return o}exports.__esModule=!0,exports.openWindow=t;var e=/^(?:https?|ftp|mailto):(?:\/\/)?/i;
},{}],"./atoms/utils/xavatar_utils":[function(require,module,exports){
"use strict";function t(t,o,a){var n=t.id,r=t.email,i=t.iataCode,s={spsize:o+"X"+o,fallback_url:a,alphatar_photo:!0},p=void 0;if(i)p="/v4/tags/iata/"+i+"/photo";else if(n&&n!==r)p="/v4/contacts/"+n+"/photo",s.badge=!0;else{if(!r)return a;p="/v4/endpoints/smtp:"+r+"/photo",s.format="image"}return e.XOBNI_HOST+p+"?"+Object.keys(s).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(s[t])}).join("&")}exports.__esModule=!0,exports.getXavatarURI=t;var e=require("../../platform/mail_constants");
},{"../../platform/mail_constants":"./platform/mail_constants"}],"./atoms/virtual_list":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=require("react"),i=t(e),s=require("lodash/isEqual"),l=t(s),r=require("./styles/virtual_list"),o=t(r),n=require("react-atomic-css/css"),a=t(n),c=require("react-atomic-css/merge"),h=t(c),m=function t(){},d=(0,a.default)(o.default),u=i.default.createClass({displayName:"VirtualList",isScrolling:!1,shouldComponentUpdate:function t(e,i){return this.state.scrollTop!==i.scrollTop||this.state.clientHeight!==i.clientHeight||!(0,l.default)(this.props.items,e.items)},getDefaultProps:function t(){return{items:[],bufferSize:0,loadMoreItems:m,onScroll:m,onScrollTop:m,onScrollBottom:m,styles:{},clientHeight:800,scrollTop:0,scrollerClassName:"",listClassName:""}},getInitialState:function t(){return this.itemStartIndex=0,this.itemEndIndex=this.props.items.length,this.computeItemHeights(this.props),this.computeClassNames(this.props),{scrollTop:0,clientHeight:this.props.clientHeight}},computeItemHeights:function t(e){var i=e.items,s=e.getItemHeight;this.itemHeights=i.map(s),this.heightPlaceHolderStyles={height:this.itemHeights.reduce(function(t,e){return t+=e},0)}},computeClassNames:function t(e){var i=e.scrollerClassName,s=e.listClassName;this.scrollerClassName=(0,h.default)(d.scroller,i),this.listClassName=(0,h.default)(d.list,s)},componentWillReceiveProps:function t(e){var i=(0,l.default)(this.props.items,e.items);this.loading=this.loading&&i,i||(this.computeItemHeights(e),this.computeClassNames(e))},componentDidMount:function t(){this.scroller.clientHeight!==this.state.clientHeight&&this.setState({clientHeight:this.scroller.clientHeight}),this.scrollToItemStart(),this.loadMoreOnScrollBottom()},scrollToItemStart:function t(){var e=this.props,i=e.items,s=e.itemStart,l=e.getItemHeight;if(s){var r=i.findIndex(function(t){return t.id===s.id}),o=i.slice(0,r).reduce(function(t,e){return t+l(e)},0);this.scroller.scrollTop=o}},handleScroll:function t(){var e=this;this.isScrolling=!0;var i=this.props,s=i.items,l=i.loadMoreItems,r=i.onScrollTop,o=i.onScroll,n=i.onScrollBottom,a=this.scroller,c=a.scrollTop,h=a.scrollHeight;this.raf||(this.raf=window.requestAnimationFrame(function(){var t=e.scroller.scrollTop;e.setState(function(){return{scrollTop:t}},function(){o({scrollTop:t,itemStart:s[e.itemStartIndex],itemEnd:s[e.itemEndIndex],itemStartIndex:e.itemStartIndex,itemEndIndex:e.itemEndIndex}),e.isScrolling=!1}),e.raf=null})),0===c&&r(),c+this.state.clientHeight===h&&n(),!this.loading&&c+this.state.clientHeight>.8*h&&(this.loading=!0,l())},loadMoreOnScrollBottom:function t(){!this.loading&&this.props.loadMoreItems&&(this.scroller.scrollHeight>this.state.clientHeight||(this.loading=!0,this.props.loadMoreItems()))},isListScrolling:function t(){return this.isScrolling},getViewportItemIndex:function t(e){var i=this,s=e.viewportPosition,l=e.index;return this.props.items.reduce(function(t,e,s){var l=t.viewportPosition,r=t.index;return l>=0?{viewportPosition:l-i.itemHeights[s],index:s}:{viewportPosition:l,index:r}},{viewportPosition:s,index:l}).index},setScrollRef:function t(e){this.scroller=e},render:function t(){var e=this.props,s=e.items,l=e.bufferSize,r=e.styles,o=this.state,n=o.scrollTop,a=o.clientHeight;this.itemStartIndex=this.getViewportItemIndex({viewportPosition:n,index:0}),this.itemEndIndex=s.length>1?this.getViewportItemIndex({viewportPosition:n+a,index:s.length}):s.length;for(var c=Math.max(this.itemStartIndex-l,0),h=Math.min(this.itemEndIndex+l,s.length),m=this.itemHeights.slice(0,c).reduce(function(t,e){return t+=e},0),u=[],p=c;p<h;p++){var g=s[p];u.push(i.default.createElement("li",{key:g.id,className:d.item},this.props.formatItem(g,{isScrolling:this.isListScrolling,itemIndex:p,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex})))}return i.default.createElement("div",{ref:this.setScrollRef,className:this.scrollerClassName,style:r,onScroll:this.handleScroll,"data-test-id":"virtual-list"},i.default.createElement("ul",{key:"itemsContainer",className:this.listClassName,style:{transform:"translateY("+m+"px)"}},u),i.default.createElement("div",{key:"heightPlaceHolder",className:d.heightPlaceHolder,style:this.heightPlaceHolderStyles}))}});exports.default=u,module.exports=exports.default;
},{"./styles/virtual_list":"./atoms/styles/virtual_list","lodash/isEqual":"./node_modules/lodash/isEqual.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-atomic-css/merge":"./node_modules/react-atomic-css/merge.js"}],"./atoms/xavatar":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.Sizes=void 0;var i=require("react"),r=t(i),a=require("../platform/utils/mail_ui_vars"),A=e(a),l=require("../platform/utils/object"),s=require("../types"),n=require("./utils/xavatar_utils"),o=64,u="https://s.yimg.com/dh/ap/social/profile/profile_a64.png",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAACGElEQVRYw83WWXPaMBSG4fz/XyUdSba8yLKN3WwlNyFt4ialKc3SFKwCLZhYR8QeJzO81995xgzLcEQGdkRGnwY0WgLlyYDKgwCK4wEV7wEMfhc+ECh0kqTFm0BeOoqJryJBuB/qwrXJ9wAZnZplL98vTwREhRvICjQljs22b5Ljs8wFjIR/+tQApj6HrBcgdW1ed86dwMguJY+tezOHBBm6gCA3VkXgANLcjlc28EUgwxQHNJnbwCPJOgPKN0hU44DOrOIQA0DZS+0AAhRIcCBJrSKJP4G9THAg9jAAWzoAgb2EmkkcULqdIi/YE9wTjUwxIGLYvflDko6AIjUGPDieIE6s6E8MqLi9jHFAXGBA4eFApKwCuHq2XsAlRZYRDigfTttAxgLVHVAhtL6PT/huBYQxFr96DXzm6Cx0Ar5s/aAFbiBCo3e7wIThqz2AUDv3C+G7gSBEC+BrA4xZ6Fg5AekB/bG5vybgyT6A5EDV+ObXBpjdjBUFLnFABq0Eo+Xtov1BWtyWlIn2VlqAFOBN5ujX2cwnHgi5F5CchlVtnNVVSLlsAb7c5DOip+aNpnr5l6M52QUETWemQ7N8+RQ7gOf/i0FlOnbH2f8jrwE4fzCd+x2wNuCRe9OjZxBbQHirmDa9Ktn6TDTAWT/grAG4WAV9AVif8YMAGF8FQvVKwPqMbQEGPWMNMKiDAGBQ7wHQQR0EMLC/CsyEDBnhc8AAAAAASUVORK5CYII=",g=exports.Sizes={C:A.AVATAR_SIZE_COMPACT,S:A.AVATAR_SIZE_S,M:A.AVATAR_SIZE_M,L:A.AVATAR_SIZE_L},p=r.default.createClass({displayName:"Xavatar",getDefaultProps:function e(){return{size:g.M,useFallbackImage:!1}},getInitialState:function e(){return{imageLoaded:!1}},componentDidMount:function e(){var t=this,i=this.props.useFallbackImage?null:this.src();i&&(this.image=new Image,this.image.onload=function(){t.isMounted()&&t.setState({imageLoaded:!0})},this.image.src=i,window.requestAnimationFrame(function(){t.refs.image&&(t.refs.image.removeAttribute("clip-path","url(#clip-orb)"),t.refs.image.setAttribute("clip-path","url(#clip-orb)"))}))},src:function e(){var t=this.props,i=t.fallback,r=void 0===i?u:i,a=t.contact;return(0,n.getXavatarURI)(a,o,r)},render:function e(){var t=this.state.imageLoaded,i=this.props,a=i.size,A=i.useFallbackImage;return r.default.createElement("svg",{width:a,height:a,viewBox:"0 0 20 20"},r.default.createElement("image",{ref:"image",xlinkHref:t&&!A?this.src():c,width:"20",height:"20",clipPath:"url(#clip-orb)"}))}});exports.default=p;
},{"../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../platform/utils/object":"./platform/utils/object","../types":"./types","./utils/xavatar_utils":"./atoms/utils/xavatar_utils","react":"./node_modules/react/react.js"}],134:[function(require,module,exports){
"use strict";require("array.prototype.find");
},{"array.prototype.find":"./node_modules/array.prototype.find/index.js"}],135:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){var r=f.default.getRapidInstance();r&&r.beaconPerformanceData(e);var t={};if(e.perf_commontime&&e.perf_commontime.initialPageLoad){var n={};if(window.performance&&window.performance.timing){var i=window.performance.timing,o=window,a=o.appServerTimings;if(n={firstByte:i.responseStart-i.connectEnd,onLoad:i.loadEventStart-i.navigationStart,serverResp:i.responseEnd-i.requestStart,domInt:i.domInteractive-i.navigationStart},Array.isArray(a))for(var m=0;m<a.length;m++){var u=a[m],s=u[0],c=u[1];n[s]=c}}t=Object.assign(n,e.perf_commontime.initialPageLoad)}e.perf_usertime&&e.perf_usertime.utm&&Object.assign(t,e.perf_usertime.utm),(0,p.isEmpty)(t)||l.feature("rum_beacon",t).logSuccess()}function t(e,r){if(r)return!1;var t=Math.round(e.aft),n=Math.round(e.visuallyComplete),o=Math.round(e.startRender);return t&&(i("common","AFT",t),i("common","AFT1",t)),n&&i("common","VIC",n),o&&i("common","STR",o),!0}function n(){o()}function i(e,r,t){return"common"===e?(v.perf_commontime||(v.perf_commontime={}),v.perf_commontime.initialPageLoad||(v.perf_commontime.initialPageLoad={}),v.perf_commontime.initialPageLoad[r]=t,!0):"user"===e&&(v.perf_usertime||(v.perf_usertime={}),v.perf_usertime.utm||(v.perf_usertime.utm={}),v.perf_usertime.utm[r]=t,!0)}function o(){r({perf_navigationtime:2}),v={}}function a(){r(v),v={}}function m(e,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],m=window.YAFT,u=window.performance;if(!u||g)return!1;if(g=!0,i&&(u&&u.timing&&u.timing.loadEventEnd?o():window.addEventListener("load",n,!1)),m){var s={modules:e.modules,modulesExclude:[],canShowVisualReport:e.yaftCanShowVisualReport,maxWaitTime:4e3,generateHAR:!0,useNativeStartRender:!0},f=0;u.getEntriesByName&&u.getEntriesByName("norrinStartRender").length&&(f=u.getEntriesByName("norrinStartRender")[0].startTime,s.customStartRender=function(){return f}),m.init(s,function(e,n){var i=t(e,n);r?r():i&&a()}),f&&m.triggerCustomTiming("norrin_main",f,f)}return!0}function u(){g=!1,v={},window.removeEventListener("load",n,!1)}exports.__esModule=!0,exports.recordPerfData=i,exports.fireNavTimingBeacon=o,exports.firePerfData=a,exports.init=m,exports.reset=u;var s=require("../platform/rapid_client"),f=e(s),c=require("norrin-logger"),d=e(c),p=require("../platform/utils/object"),l=d.default.create("norrin/rum"),g=!1,v={};
},{"../platform/rapid_client":"./platform/rapid_client","../platform/utils/object":"./platform/utils/object","norrin-logger":"./node_modules/norrin-logger/index.js"}],136:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.indexOf("fc.yahoo.com")!==-1?v:e.indexOf(".yahoo.com")===-1&&e.indexOf(".yimg.com")===-1?v:m}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error,r=void 0;return r=e.stack?o(e):n()}function o(e){var r=[];return e.stack.split(h).forEach(function(e){var t=e.split("@");2===t.length?r.push("at "+t[0]+"("+t[1]+")"):r.push(e)}),r.join("\n")}function n(){var e=[];try{for(var r=void 0,t=void 0,o=arguments,n=[];!t&&(r=o.caller?o.caller.callee:o.callee.caller);){e.length>50&&(t="*** stack too deep, stopping");for(var s=0;s<n.length;s++)r===n[s]&&(t="*** recursion, stopping");o=r.arguments,n.push(r),t?e.push(t):e.push(a(r.toString()))}}catch(r){e.push("*** error going to next level, may be the end of the JS stack")}return e.join(" >> ")}function a(e){var r=e.match(f),t=void 0;return r&&r.length>1&&(t=r[1]),t=t||"{?}",t=t.replace(d,"$2")}function s(e){var r=" index=idx_norrin sourcetype=apache_error ",t=[];for(var o in e)t.push(o+"=\"'"+e[o]+"'\"");return p.SPLUNK_SEARCH_LINK+"?q=search"+encodeURIComponent(r+t.join(" "))}function c(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],a=arguments[3],c=arguments[4],i="generic_error",f=c?c.name+":"+c.message:"",d=r(o),h={error:e+" "+[o,n,a].join(":"),errorMessage:f,stack:t(c),source:d},v=s({platform:"browser",message:i,data_errorMessage:f}),S=window.context.getActionContext(),k=(0,g.selectors)(window.context.store.getState()),C=k.getFeaturesSelectors,N=C(),O=N.isEnabled(p.Features.EXCEPTION_NOTIFICATION),I=h.error;O&&d===m&&S.dispatch(u.mail.EXCEPTION_OCCURRED,{splunkUrl:v}),_!==I&&(E=0),E++,E<=x?l.default.error(i,h):E%x===0&&(h.jseOverLimit=E,l.default.error(i,h)),_=I}exports.__esModule=!0,exports.getCallStack=t,exports.formatCallStack=o,exports.getStack=n,exports.getFunctionName=a,exports.getSearchLink=s,exports.handleUncaughtBrowserError=c;var i=require("../platform/logger"),l=e(i),u=require("../platform/react_action_constants"),p=require("../platform/mail_constants"),g=require("../reducers_selectors"),f=/function\s+([^\s(]+)/,d=/^(\s+)?(.*\S)(\s+)?$/g,h=/\r\n|\r|\n/,m="INTERNAL",v="EXTERNAL",x=1e3,_="",E=0;
},{"../platform/logger":"./platform/logger","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../reducers_selectors":"./reducers_selectors"}],137:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),o=e(t),s=require("./constants"),n=o.default.createClass({displayName:"AdComponent",contextTypes:{registerAdPosition:t.PropTypes.func,removeAdPosition:t.PropTypes.func,executeAction:t.PropTypes.func},componentDidMount:function e(){this.context.registerAdPosition({darlaPos:this.props.id})},componentWillUnmount:function e(){this.context.removeAdPosition({darlaPos:this.props.id})},shouldComponentUpdate:function e(t){return this.props.className!==t.className},render:function e(){var t=s.adConfiguration[this.props.id],n=t.yaftName,r=t.darla,a=r.clean,i=r.dest;return o.default.createElement("div",{id:a,"data-yaft-module":n,className:this.props.className},o.default.createElement("div",{id:i}))}});exports.default=n,module.exports=exports.default;
},{"./constants":146,"react":"./node_modules/react/react.js"}],138:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.AdDebugView=void 0;var t=require("react"),s=e(t),a=require("../../atoms/modal.jsx"),r=e(a),o=require("../keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),i=e(o),n=require("../../platform/keyboard_shortcuts"),l=require("../../atoms/button.jsx"),d=e(l),u=require("../../types"),c=require("../../reducers_selectors"),p=require("react-redux"),m=require("./styles/ad_debug"),h=e(m),f=require("react-atomic-css/css"),E=e(f),g="META+SHIFT+/,CTRL+SHIFT+/,META+SHIFT+COMMA,CTRL+SHIFT+COMMA",w=(0,n.createShortcutGroup)({invisible:!0,keys:{show:{key:g}}}),y=exports.AdDebugView=s.default.createClass({displayName:"AdDebugView",getInitialState:function e(){return{shown:!1}},show:function e(t){t.preventDefault(),t.stopPropagation(),this.state.shown||this.setState({shown:!0})},handleDismiss:function e(){this.setState({shown:!1})},handleKeyDown:function e(t){"Enter"!==t.key&&"Escape"!==t.key||(t.preventDefault(),t.stopPropagation(),this.handleDismiss())},render:function e(){var t=this.state.shown,a=(0,E.default)(h.default),o=this.props.darlaAdCallResult,n=o.spaceId,l=o.positions,u=void 0===l?[]:l,c=u.map(function(e){return s.default.createElement("div",{key:e.position,className:a.positionRow},s.default.createElement("span",{className:a.positionCol},"Position:",e.position),s.default.createElement("span",{className:a.positionCol},"Booking Id:",e.bookId))});return s.default.createElement(i.default,{keys:[w.show(this.show)]},t?s.default.createElement(r.default,{onClose:this.handleDismiss,onKeyDown:this.handleKeyDown},s.default.createElement("div",{className:a.container},s.default.createElement("div",{className:a.header},"Ad Information"),s.default.createElement("div",{className:a.spaceid},"Space Id:",n),c,this.props.darlaErrorMessage?s.default.createElement("div",{className:a.spaceid},"Err:",this.props.darlaErrorMessage):null,s.default.createElement(d.default,{onClick:this.handleDismiss,className:a.button},"OK"))):null)}}),D=exports.mapStateToProps=function e(t){var s=(0,c.selectors)(t),a=s.getAdsSelectors,r=a().getDarlaAdData();return{darlaAdCallResult:r.ads,darlaErrorMessage:r.errorMessage}};exports.default=(0,p.connect)(D)(y);
},{"../../atoms/button.jsx":"./atoms/button","../../atoms/modal.jsx":"./atoms/modal","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../reducers_selectors":"./reducers_selectors","../../types":"./types","../keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","./styles/ad_debug":149,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-redux":"./node_modules/react-redux/lib/index.js"}],139:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),a=require("../../platform/utils/beacon.js"),o=require("../../actions/ads.js"),c=require("./atoms/thank_you_message.jsx"),r=e(c),d=require("./atoms/feedback_list_item.jsx"),u=e(d),i=require("../../reducers_selectors"),n=require("../../platform/mail_constants"),l=s.default.createClass({displayName:"AdFeedback",contextTypes:{executeAction:t.PropTypes.func,store:s.default.PropTypes.object},sendFeedbackBeacon:function e(t){var s=this.props.adFeedbackBeacon.replace("$(AD_FEEDBACK)",t);return(0,a.sendBeacon)(s)},onAdFeedbackClose:function e(t){t.preventDefault(),this.context.executeAction(o.closeAdFeedback)},submitAdFeedback:function e(){this.context.executeAction(o.submitAdFeedback)},render:function e(){var t=this.props.adFeedbackSubmitted,a=(0,i.selectors)(this.context.store.getState()).getFeaturesSelectors();return t?s.default.createElement(r.default,{onAdFeedbackClose:this.onAdFeedbackClose,isCompactLayout:this.props.isCompactLayout,mailProEligible:a.isEnabled(n.Features.MAIL_PRO_ELIGIBLE)}):s.default.createElement(u.default,{onAdFeedbackClose:this.onAdFeedbackClose,submitAdFeedback:this.submitAdFeedback,isCompactLayout:this.props.isCompactLayout,sendFeedbackBeacon:this.sendFeedbackBeacon})}});exports.default=l,module.exports=exports.default;
},{"../../actions/ads.js":"./actions/ads","../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/beacon.js":"./platform/utils/beacon","../../reducers_selectors":"./reducers_selectors","./atoms/feedback_list_item.jsx":140,"./atoms/thank_you_message.jsx":145,"react":"./node_modules/react/react.js"}],140:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.FeedbackOptions=void 0;var t=require("react"),a=e(t),s=require("react-atomic-css/css"),d=e(s),n=require("./styles/feedback_list_item.js"),i=e(n),l=require("../../../atoms/fuji_icon_button.jsx"),o=e(l),c=require("../../../atoms/button.jsx"),r=e(c),u=require("../../../atoms/constants/fuji_icon"),f=require("../../../atoms/constants/button"),m=require("react-intl"),E=(0,m.defineMessages)({ad_offensive:{id:"ad.offensive",defaultMessage:"It's offensive"},ad_notRelevant:{id:"ad.notRelevant",defaultMessage:"It's not relevant"},ad_keepSeeing:{id:"ad.keepSeeing",defaultMessage:"I keep seeing this"},ad_somethingElse:{id:"ad.somethingElse",defaultMessage:"Something else:"},close_ad_feedback:{id:"ad.close_feedback",defaultMessage:"close"},ad_done:{id:"ad.feedback_done",defaultMessage:"Done"},ad_cancel:{id:"ad.feedback_cancel",defaultMessage:"Cancel"}}),p=exports.FeedbackOptions={OFFENSIVE:"offensive",NOT_RELEVANT:"notRelevant",KEEP_SEEING:"keepSeeing",SOMETHING_ELSE:"somethingElse"},_=a.default.createClass({displayName:"FeedbackListItem",contextTypes:{intl:m.intlShape.isRequired},getInitialState:function e(){return{active:"",started:!1}},componentDidMount:function e(){this.props.sendFeedbackBeacon("(type$fdb_start)")},getChoice:function e(){return this.state.active},onChange:function e(t){this.setState({active:t,started:!0})},onAdFeedbackSubmit:function e(t){t.preventDefault();var a=this.props,s=a.submitAdFeedback;(0,a.sendFeedbackBeacon)("(type$fdb_submit,subo"+this.getChoice()+",cmnt"+(this.state.active===p.SOMETHING_ELSE?this.refs.input.value:"")+")"),s()},renderRadio:function e(t){var s=t===p.SOMETHING_ELSE,n=this.props.isCompactLayout,l=this.state.active===p.SOMETHING_ELSE,o=(0,d.default)(i.default,{freeTextFocused:l,isCompactLayout:n});return a.default.createElement("div",{className:o.optionContainer},a.default.createElement("input",{className:o.radio,type:"radio",name:"adFeedbackRadio",onChange:this.onChange.bind(this,t),checked:s?l:null}),a.default.createElement("span",{className:o.text},a.default.createElement(m.FormattedMessage,E["ad_"+t])),s?a.default.createElement("input",{className:o.freeText,onFocus:this.onChange.bind(this,p.SOMETHING_ELSE),ref:"input",onKeyDown:function e(t){return t.stopPropagation()}}):null)},render:function e(){var t=this.state.started,s=this.props.isCompactLayout,n=this.context.intl.formatMessage,l=(0,d.default)(i.default,{isCompactLayout:s});return a.default.createElement("form",{className:l.container,"data-test-id":"feedback-list-item"},a.default.createElement("div",{className:l.header},a.default.createElement("span",{className:l.title},a.default.createElement(m.FormattedMessage,{id:"ad.form_question",defaultMessage:"Before you close this ad, would you tell us why you didn't like it?"})),a.default.createElement("span",{className:l.close},a.default.createElement(o.default,{kind:u.Kinds.CLOSE,size:u.Sizes.XXS,colorState:u.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:n(E.close_ad_feedback)}))),a.default.createElement("div",{className:l.columns},a.default.createElement("div",{className:l.gridB1},this.renderRadio(p.OFFENSIVE),this.renderRadio(p.NOT_RELEVANT)),a.default.createElement("div",{className:l.spacerB1}),a.default.createElement("div",{className:l.gridB2},a.default.createElement("div",{className:l.inputWrapper},this.renderRadio(p.KEEP_SEEING),this.renderRadio(p.SOMETHING_ELSE)),a.default.createElement("div",{className:l.spacerB2}),a.default.createElement("div",{className:l.buttonGroup},a.default.createElement(r.default,{"data-test-id":"feedback-cancel",kind:f.Kinds.SECONDARY,onClick:this.props.onAdFeedbackClose,title:n(E.ad_cancel)},a.default.createElement(m.FormattedMessage,E.ad_cancel)),a.default.createElement(r.default,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:n(E.ad_done),disabled:!t},a.default.createElement(m.FormattedMessage,E.ad_done))))))}});exports.default=_;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","./styles/feedback_list_item.js":142,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],141:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),r=require("react-intl"),o=require("../../../atoms/popover/popover_container.jsx"),i=e(o),s=require("../../../atoms/popover/popover_anchor.jsx"),n=e(s),d=require("../../../atoms/popover/popover_content.jsx"),u=e(d),l=require("../../../atoms/constants/popover"),c=require("../../../atoms/fuji_icon_button.jsx"),f=e(c),m=require("../../../atoms/fuji_icon.jsx"),p=e(m),_=require("../../../atoms/navigable_list.jsx"),h=e(_),k=require("../../../platform/utils/mail_ui_vars"),v=require("../../../atoms/list_item.jsx"),C=e(v),b=require("../../../atoms/button.jsx"),q=e(b),x=require("../../../atoms/constants/button"),E=require("../../../atoms/constants/fuji_icon"),g=require("react-atomic-css/css"),j=e(g),M=require("./styles/feedback_menu.js"),A=e(M),y=(0,r.defineMessages)({chevron_title:{id:"ad_feedback.chevron_title",defaultMessage:"Ad Feedback"},why_this_ad:{id:"why_this_ad",defaultMessage:"Why this ad?"},start_ad_feedback_form:{id:"start_ad_feedback_form",defaultMessage:"I don't like this ad"}}),I=a.default.createClass({displayName:"FeedbackMenu",contextTypes:{intl:r.intlShape.isRequired},getDefaultProps:function e(){return{size:E.Sizes.XXS}},onChevronClicked:function e(t){t.preventDefault(),t.stopPropagation()},renderAdFeedbackChoices:function e(){var t=this.context.intl.formatMessage;return[{option:"why_this_ad",onClick:this.props.onAdChoiceClicked},{option:"start_ad_feedback_form",onClick:this.props.onAdFeedbackRequest,testId:"feedback-menu-start"}].map(function(e){return a.default.createElement(C.default,{key:e.option},a.default.createElement(q.default,{onClick:e.onClick,kind:x.Kinds.MENUITEM,"data-test-id":e.testId},t(y[e.option])))})},render:function e(){var t=this.context.intl.formatMessage,r=this.props,o=r.isCompactLayout,s=r.hideFeedbackChevron,d=(0,j.default)(A.default,{isCompactLayout:o,hideFeedbackChevron:s});return a.default.createElement("div",{onClick:this.onChevronClicked,"data-test-id":"feedback-menu"},a.default.createElement(i.default,null,a.default.createElement(n.default,null,a.default.createElement("span",{className:d.chevronDown},a.default.createElement(f.default,{kind:E.Kinds.CHEVRON_UP,size:this.props.size,rotate:E.Rotate.D180,colorState:E.ColorStates.INHERITED,title:t(y.chevron_title),tabIndex:"-1"}))),a.default.createElement(u.default,{triggerOn:l.Triggers.CLICK,permittedArrowDirections:[l.PermittedArrowDirections.UP,l.PermittedArrowDirections.DOWN],offset:16,zAltitude:k.ZIndices.POPOVER.HIGH,align:l.Align.START},a.default.createElement("div",{className:d.adFeedbackContainer},a.default.createElement(h.default,{focusOnMount:!0},this.renderAdFeedbackChoices())))))}});exports.default=I,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/list_item.jsx":"./atoms/list_item","../../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","./styles/feedback_menu.js":143,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],142:[function(require,module,exports){
module.exports={className:{default:{container:"I_Znwqu5 A_6EqO X_dRA H_7Ig6 D_F ek_BB gl_C e_dRA",header:"jb_fq7 X_fq7",title:"u_b C_Z291T0t",close:"f_r N_eTB r_P",columns:"D_F",optionContainer:"jb6_fq7 D_F ab_C",gridB1:"em_qk ej_0 a_3vhr3 s_3o4BO X_fq7",radio:"c37wHw10_Z1gAvbx D_X H_6Fd5 W_6Fd5 e_6Fd5 I_52qC M_E8xte",spacerB1:"W_6VdP",gridB2:"em_sL ej_0 D_F",freeText:"A_6EqO y_ZwubDW Q_fq7 o_h I_T cn_ZmdUJf m_58SWm em_N W_7yHc",buttonGroup:"t_r",inputWrapper:"em_N",spacerB2:"W_74ed",text:"J_x"},freeTextFocused:{freeText:"m_2hvg6c"},isCompactLayout:{container:"H_3r6Mv",header:"D_F N_eTB gl_FM",columns:"D_X N_6DEy",spacerB1:"D_n",spacerB2:"D_n",radio:"M_E8xte",gridB1:"D_B",close:"N_0",gridB2:"D_B X_fq7",optionContainer:"jb_fq7",done:"M_1JNshU f_r"}},_key:"1oFfTA"};
},{}],143:[function(require,module,exports){
module.exports={className:{default:{chevronDown:"V_GI P_Z2rzFgL",adFeedbackContainer:"P_3Y3Gk"},isCompactLayout:{chevronDown:"V_ P_0"},hideFeedbackChevron:{chevronDown:"v_h Q_36RhU"}},_key:"B55jU"};
},{}],144:[function(require,module,exports){
module.exports={className:{default:{thankYouContainer:"I_Znwqu5 H_74JI D_F gl_FM X_6DEy e_dRA",textContainer:"D_F ek_BB gl_C em_N r_P",header:"u_b",thankYouHeader:"E_eo6",caption:"A_6DUj C_Z1TsNWR",close:"N_eTB je_dRA H_6Fd5 r_P",upgradeNow:"H_6NIX e_dRA M_1GMufD I_T b_2fAfSG p_R C_Z2aVTcY r_P P_fQoXz"},isCompactLayout:{thankYouContainer:"H_7rdk",header:"D_F gl_FM jb_eo6 i_6Eb4",close:"je_0 N_eo6",upgradeNow:"H_6VdP"}},_key:"2cIjHU"};
},{}],145:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),t=e(a),s=require("../../../atoms/fuji_icon_button.jsx"),l=e(s),o=require("../../../atoms/constants/fuji_icon"),n=require("react-intl"),d=require("../../../atoms/button.jsx"),i=e(d),r=require("react-atomic-css/css"),u=e(r),c=require("./styles/thank_you_message"),_=e(c),m=(0,n.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},close_ad_thank_you:{id:"ad.close_thank_you",defaultMessage:"close"},upgrade_now_btn_label:{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."}}),p=t.default.createClass({displayName:"ThankYouMessage",contextTypes:{intl:n.intlShape.isRequired,config:a.PropTypes.object},openPaymentPage:function e(){this.props.mailProEligible&&window.open(this.context.config.adFreeMailUrl,"_blank")},render:function e(){var a=this.props,s=a.isCompactLayout,d=a.mailProEligible,r=this.context.intl.formatMessage,c=(0,u.default)(_.default,{isCompactLayout:s});return t.default.createElement("div",{className:c.thankYouContainer,"data-test-id":"feedback_thank_you"},t.default.createElement("div",{className:c.textContainer,onClick:this.openPaymentPage},t.default.createElement("div",{className:c.header},t.default.createElement("span",{className:c.thankYouHeader},t.default.createElement(n.FormattedMessage,{id:"ad.thank_you_message",defaultMessage:"Thank you for your feedback."})),d?t.default.createElement("span",null,r(m.upsell_message_caption,{YahooMailProBrand:r(m.yahoo_mail_pro_branding)})):null),d?null:t.default.createElement("div",{className:c.caption},t.default.createElement(n.FormattedMessage,{id:"ad.thank_you_message_caption",defaultMessage:"We'll review your feedback and make changes as needed."}))),d?t.default.createElement(i.default,{onClick:this.openPaymentPage,className:c.upgradeNow,title:r(m.upgrade_now_btn_label),"data-test-id":"upgrade-now"},r(m.upgrade_now_btn_label)):null,t.default.createElement("div",{className:c.close,"data-test-id":"close"},t.default.createElement(l.default,{kind:o.Kinds.CLOSE,size:o.Sizes.XXS,colorState:o.ColorStates.DISABLED,onClick:this.props.onAdFeedbackClose,title:r(m.close_ad_thank_you)})))}});exports.default=p,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","./styles/thank_you_message":144,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],146:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=exports.tl1Theme={darkTheme:{textColor:"#E0E4E9",hoverColor:"#FFFFFF"},lightTheme:{textColor:"#26282A",hoverColor:"#188FFF"},getCss:function e(t,o){return[".ad-tl2b {overflow:hidden; text-align:left; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility;}","p {margin:0px;}",".y-fp-pg-controls {margin-top:5px; margin-bottom:5px;}","#tl1_slug {font-family:Helvetica Neue,Helvetica,Segoe UI,Arial,sans-serif; font-size:12px; color: "+t+";}","a {font-family:Helvetica Neue,Helvetica,Segoe UI,Arial,sans-serif; font-size:11px; color: "+t+"; }","a:link {text-decoration:none;}","a:hover {color: "+o+";}"].join(" ")}},t=exports.adConfiguration={SKY:{yaftName:"norrin_ad_sky",darla:{pos:"SKY",clean:"boxSKY",dest:"tgtSKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},TL1:{yaftName:"norrin_ad_tl1",darla:{pos:"TL1",clean:"boxTL1",dest:"tgtTL1",w:140,h:170,fdb:!0,css:e.getCss(e.lightTheme.textColor,e.lightTheme.hoverColor)}},LREC:{yaftName:"norrin_ad_lrec",darla:{pos:"LREC",dest:"tgtLREC",clean:"slot_LREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC4:{yaftName:"norrin_ad_lrec4",darla:{pos:"LREC4",dest:"tgtLREC4",clean:"slot_LREC4",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},MON:{yaftName:"norrin_ad_mon",darla:{pos:"MON",dest:"tgtMON",clean:"slot_MON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}}};
},{}],147:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.StackedLrecAdComponent=exports.LrecAdComponent=exports.SkyAdComponent=exports.Tl1AdComponent=exports.MonAdComponent=void 0;var t=require("react"),d=e(t),n=require("./ad.jsx"),a=e(n);exports.default=a.default;var r=exports.MonAdComponent=d.default.createClass({displayName:"MonAdComponent",render:function e(){return d.default.createElement(a.default,{id:"MON"})}}),o=exports.Tl1AdComponent=d.default.createClass({displayName:"Tl1AdComponent",render:function e(){return d.default.createElement(a.default,{id:"TL1"})}}),l=exports.SkyAdComponent=d.default.createClass({displayName:"SkyAdComponent",render:function e(){return d.default.createElement(a.default,{id:"SKY"})}}),s=exports.LrecAdComponent=d.default.createClass({displayName:"LrecAdComponent",render:function e(){return d.default.createElement(a.default,{id:"LREC"})}}),u=exports.StackedLrecAdComponent=d.default.createClass({displayName:"StackedLrecAdComponent",render:function e(){return d.default.createElement("div",{"data-test-id":"stackedLRECs"},d.default.createElement(a.default,{id:"LREC",className:this.props.lrecClassName}),d.default.createElement(a.default,{id:"LREC4"}))}});
},{"./ad.jsx":137,"react":"./node_modules/react/react.js"}],148:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),i=e(t),o=require("../../atoms/ads/ad_list_item.jsx"),a=e(o),n=require("../../types"),s=require("react-intl"),c=require("../../actions/ads.js"),r=require("../../platform/utils/route"),l=require("../../platform/utils/beacon.js"),d=require("../../platform/gemini_api_client/constants.js"),p=require("../../platform/utils"),u=require("../../platform/rapid_client/constants"),h=require("../../platform/mail_constants"),f=require("../../reducers_selectors"),A=require("../../platform/utils/object"),k=i.default.createClass({displayName:"PencilAd",contextTypes:{executeAction:t.PropTypes.func,navigateTo:t.PropTypes.func,config:t.PropTypes.object,intl:s.intlShape.isRequired,registerAdPosition:t.PropTypes.func,removeAdPosition:t.PropTypes.func,store:t.PropTypes.object},componentDidMount:function e(){this.context.registerAdPosition({pencilPos:this.props.id}),this.fallbackCount=0},componentWillUnmount:function e(){this.context.removeAdPosition({pencilPos:this.props.id})},getFallback:function e(){var t=this.props.pencilAdFallbacks;return t[this.fallbackCount++%t.length]},shouldFallback:function e(t){var i=t.pencilAdData,o=t.pencilAdError;return this.adBlocked||!i||!i.clickUrl||o},handleAdClicked:function e(t){var i=this.props,o=i.pencilAdData,a=i.listId,n=i.feedbackEnabled;if(this.adBlocked?this.context.executeAction(c.fallbackClicked,{i13nModel:{mKey:u.MKEYS.PENCIL_AD_FALLBACK_CLICKED,interactionType:(0,p.getInteractionFromEvent)(t)}}):n&&this.context.executeAction(c.geminiClicked,{i13nModel:{mKey:u.MKEYS.PENCIL_AD_GEMINI_CLICKED,interactionType:(0,p.getInteractionFromEvent)(t)}}),o.type===d.UsageType.NativeAdType||o.type===d.UsageType.VideoAdType){switch(t.preventDefault(),o.type){case d.UsageType.NativeAdType:(0,l.sendBeacon)(o.clickUrl,!1);break;case d.UsageType.VideoAdType:(0,l.sendBeacon)((0,A.getIn)(o,"actionUrls.IMPR_INTERNAL.0"),!1)}this.context.navigateTo({route:(0,r.buildSponsoredMessageRoute)(a,o.creativeId)})}},onAdChoiceClicked:function e(t){var i=(0,f.selectors)(this.context.store.getState()),o=i.getFeaturesSelectors,a=o(),n=a.getSetting(h.Settings.ABOUT_AD_URL);t.preventDefault(),t.stopPropagation(),window.open(n,"_blank")},onAdFeedbackRequest:function e(){this.context.executeAction(c.startAdFeedback)},shouldComponentUpdate:function e(t){var i=this.shouldFallback(t)&&this.props.adRotationId!==t.adRotationId;return t.adRotationId===this.props.adRotationId&&!this.shouldFallback(t)&&t.pencilAdData.clickUrl!==this.props.pencilAdData.clickUrl||t.isCompactLayout!==this.props.isCompactLayout||i},render:function e(){var t=this.props,o=t.anchor,n=t.anchorRef,s=t.adRotationId,c=t.isCompactLayout,r=t.feedbackEnabled,l=t.geminiViewability,p=this.props.pencilAdData;return!this.adBlocked&&o&&o.hasAttribute("style")&&(this.adBlocked=!0),this.shouldFallback(this.props)&&(p=this.getFallback()),p&&p.clickUrl?i.default.createElement(a.default,{key:p.type,anchorRef:n,pencilAdData:p,adRotationId:s,onAdChoiceClicked:this.onAdChoiceClicked,isCompactLayout:c,onAdFeedbackRequest:this.onAdFeedbackRequest,onClick:this.handleAdClicked,feedbackEnabled:r&&p.type!==d.UsageType.FallbackAdType,geminiViewability:l}):null}});exports.default=k,module.exports=exports.default;
},{"../../actions/ads.js":"./actions/ads","../../atoms/ads/ad_list_item.jsx":92,"../../platform/gemini_api_client/constants.js":355,"../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils":"./platform/utils","../../platform/utils/beacon.js":"./platform/utils/beacon","../../platform/utils/object":"./platform/utils/object","../../platform/utils/route":"./platform/utils/route","../../reducers_selectors":"./reducers_selectors","../../types":"./types","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],149:[function(require,module,exports){
module.exports={className:{default:{container:"s_3zJDR d_3mS2U k_w I_52qC D_F el_QDCVj ab_FT",header:"M_0 P_2Xpez D_F ab_AJ A_6FsP",spaceid:"P_Z1E2XDm",positionRow:"P_Z1E2XDm D_F",positionCol:"F_N",button:"ac_C I_Z2aVTcY C_52qC M_1aQVuq b_0 H_6NIX P_2aKXbq"}},_key:"Z5vnm3"};
},{}],150:[function(require,module,exports){
"use strict";function i(i,e,n,t,r){var a=i.rules,o=i.actionUrls,c=Date.now();if("partialView"===r)return o&&o.PARTIAL_VIEW&&!t[r]&&n>0;if(a){var s="viewabilityDefStatic3P"===r&&a[r]?a[r][0]:a[r];return s&&!t[r]&&c-e>=1e3*s.d&&n>=s.p}}function e(e,n,a,o,c){var s=t(n,a);for(var f in o)i(e,c,s,o,f)&&(r(e,f),o[f]=!0);return o}function n(i){if(i){var e=i.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=window.innerHeight&&e.right<=window.innerWidth}}function t(i,e){var n=i-e;return n<=0?0:Math.floor(n/i*100)}function r(i,e){var n=i.actionUrls,t=i.beacon,r=i.impressionTrackingUrls;"viewabilityDefStatic"===e?(r.forEach(function(i){i&&(0,a.sendBeacon)(i,!1)}),(0,a.sendBeacon)(t,!1)):"viewabilityDefStatic3P"===e?(0,a.sendBeacon)(n.STATIC_VIEW_3P[0],!1):"partialView"===e&&(0,a.sendBeacon)(n.PARTIAL_VIEW[0],!1)}exports.__esModule=!0,exports.handleViewabilityBeacons=e,exports.isAdInViewport=n;var a=require("../../platform/utils/beacon");
},{"../../platform/utils/beacon":"./platform/utils/beacon"}],"./molecules/advanced_search_pane/atoms/strings":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("react-intl");exports.default=(0,e.defineMessages)({all_mail_title:{id:"advanced_search.all_mail_title",defaultMessage:"All mail"},unknown_folder_title:{id:"advanced_search.unknown_folder_title",defaultMessage:"Unknown Folder"},system_folder_label:{id:"advanced_search.system_folder_label",defaultMessage:"Select this system folder for searching"},custom_folder_label:{id:"advanced_search.custom_folder_label",defaultMessage:"Select this custom folder for searching"},yahoo_account_description:{id:"advanced_search.yahoo_brand_name",defaultMessage:"Yahoo"},gmail_account_description:{id:"advanced_search.gmail_brand_name",defaultMessage:"Gmail"},aol_account_description:{id:"advanced_search.aol_brand_name",defaultMessage:"Aol"},outlook_account_description:{id:"advanced_search.outlook_brand_name",defaultMessage:"Outlook"},unknown_account_description:{id:"advanced_search.unknown_account_description",defaultMessage:"Unknown"}}),module.exports=exports.default;
},{"react-intl":"./node_modules/react-intl/lib/index.js"}],151:[function(require,module,exports){
"use strict";function i(i,t){i.dispatch(a.mail.WINDOW_RESIZING,t)}function t(i){i.dispatch(a.mail.WINDOW_RESIZED)}function o(i){i.dispatch(a.mail.LAUNCH_FAILED)}exports.__esModule=!0,exports.notifyMailWindowResizing=i,exports.notifyMailWindowResized=t,exports.clearLaunchError=o;var a=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],152:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),i=require("../route_handler"),r=e(i),a=require("../../apps/mail/controller_views/navigation.jsx"),s=e(a),o=require("../../platform/mail_constants"),u=require("./styles"),c=e(u),l=require("./actions"),d=require("../../apps/mail/controller_views/right_rail.jsx"),p=e(d),h=require("../../atoms/lazy_component"),m=require("react-intl"),_="norrin-wide",f=(0,m.defineMessages)({main_nav:{id:"landmark.folders_nav",defaultMessage:"Folder"}}),v=n.default.createClass({displayName:"AppLayoutMolecule",contextTypes:{executeAction:t.PropTypes.func,intl:m.intlShape.isRequired,getCss:t.PropTypes.func},_renderMainNav:function e(t){var i=this.context.intl.formatMessage;return n.default.createElement("nav",{className:t.mainNavigation,role:"navigation","aria-label":i(f.main_nav),"data-yaft-module":"norrin_navigation"},n.default.createElement(s.default,this.props))},_renderLeftRail:function e(t){return n.default.createElement("div",{className:t.leftRail,"data-test-id":"mail-left-rail"},this._renderMainNav(t))},_renderRightRail:function e(){return n.default.createElement(p.default,this.props)},_renderCue:function e(t){return n.default.createElement(h.LazyComponent,{import:"../scout_cue/",cueName:t,_moduleGetter:function e(){return require("../scout_cue/")}})},_renderUpdateWiderMailCue:function e(){return n.default.createElement(h.LazyComponent,{import:"../scout_cue/",cueName:"updateWiderMailCue",userDisplayName:this.props.userDisplayName,_moduleGetter:function e(){return require("../scout_cue/")}})},_renderThemesCueV2:function e(){return n.default.createElement(h.LazyComponent,{import:"../scout_cue/",cueName:"themesCueV2",userDisplayName:this.props.userDisplayName,_moduleGetter:function e(){return require("../scout_cue/")}})},_renderSSABreachAlert:function e(){return n.default.createElement(h.LazyComponent,{import:"../ssa_breach_security_alert/",_moduleGetter:function e(){return require("../ssa_breach_security_alert/")}})},_executeWindowResizingAction:function e(){this._innerContainer&&this.context.executeAction(l.notifyMailWindowResizing,{innerWidth:window.innerWidth,contentAndRightRailWidth:this._innerContainer.clientWidth,contentAndRightRailHeight:this._innerContainer.clientHeight})},_updateAppMinWidth:function e(t){t.hasAttachmentPreview||t.previewPaneSetting===o.PreviewPaneSettings.RIGHT?document.body.classList.add(_):document.body.classList.remove(_)},componentWillReceiveProps:function e(t){this.props.hasAttachmentPreview===t.hasAttachmentPreview&&this.props.previewPaneSetting===t.previewPaneSetting||this._updateAppMinWidth(t)},componentDidMount:function e(){this._updateAppMinWidth(this.props),this._executeWindowResizingAction(),window.addEventListener("resize",this._executeWindowResizingAction),this.props.launchError&&this.context.executeAction(l.clearLaunchError)},componentDidUpdate:function e(){this.props.isWindowResizingDone&&this.context.executeAction(l.notifyMailWindowResized)},componentWillUnmount:function e(){this._innerContainer=null,window.removeEventListener("resize",this._executeWindowResizingAction)},render:function e(){var t=this,i=this.props,a=i.previewPaneSetting,s=i.isSettings,u=a===o.PreviewPaneSettings.RIGHT,l=this.context.getCss(c.default,{verticalPreviewPane:u});return n.default.createElement("div",{className:l.shadedContainer,"data-test-id":"content-area"},n.default.createElement("div",{className:l.container,"data-test-id":"content-below-tabs"},s?null:this._renderLeftRail(l),this.props.showThemesCueV2&&this._renderThemesCueV2(),this.props.showAptSecurityCue&&this._renderCue("aptSecurityCue"),this.props.showSsaBreachSecurityAlert&&this._renderSSABreachAlert(),this.props.showMailOnboardingCue&&this._renderCue("mailOnboardingCue"),this.props.showNewUserOnboardingCue&&this._renderCue("newUserOnboardingCue"),this.props.showUpdateWiderMailCue&&this._renderUpdateWiderMailCue(),n.default.createElement("div",{className:l.widthRestrictor,ref:function e(n){t._innerContainer=n}},n.default.createElement("div",{className:l.mainContent,"data-yaft-module":"norrin_main","data-test-id":"mail-app-component",id:"mail-app-component"},n.default.createElement(r.default,this.props)),s?null:this._renderRightRail())))}});exports.default=v,module.exports=exports.default;
},{"../../apps/mail/controller_views/navigation.jsx":56,"../../apps/mail/controller_views/right_rail.jsx":61,"../../atoms/lazy_component":"./atoms/lazy_component","../../platform/mail_constants":"./platform/mail_constants","../route_handler":308,"../scout_cue/":"./molecules/scout_cue","../ssa_breach_security_alert/":"./molecules/ssa_breach_security_alert","./actions":151,"./styles":153,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],153:[function(require,module,exports){
module.exports={className:{default:{shadedContainer:"I_ZnwrMC D_F em_N o_h W_6D6F H_6D6F",container:"D_F em_N o_h s_1HLnlu a_1Ie4E3 cZTwBjA_1Ie4E3 cZTwBjK_1EAG48",leftRail:"a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU D_F ek_BB em_0",mainContent:"em_N I_52qC j_ZlOSbd o_h p_R D_F s_e5X",widthRestrictor:"D_F em_N ej_eUh",mainNavigation:"em_N je_6Fd5 D_F W_6D6F H_6D6F iz_A"},"verticalPreviewPane-false":{container:"s_1HCsWR"},"themeMode-MEDIUM":{shadedContainer:"I_sgPuT"},"themeMode-DARK":{shadedContainer:"I_sgPuT",mainContent:"I_sgPuT j_n"}},_key:"Z2l6kBH"};
},{}],154:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){(0,n.default)(e.task,"`task` must exist in payload for checking the progress");var a=t.getStore(c.default).getMailboxes()[0].id,s=e.task.id;if(s)return t.mailAPIClient.request("task.status",{mailboxId:a,taskId:s}).then(function(a){var s=a.task;return t.dispatch(r.mail.BULK_PROGRESS_RECEIVED,Object.assign({},e,{task:s})),s}).then(function(a){var s=t.getStore(d.default).getActivePageRoute(),i=k.ListActions.retryLoading;if(a.status===f.BulkTaskStatus.FAILED||a.status===f.BulkTaskStatus.COMPLETED){var r=e.actionPayload.listId;if(s.name===f.RouteNames.SEARCH)return(0,p.openSearchFromList)(t,{listId:r});if(s.name===f.RouteNames.FOLDER)return i(t,{listId:r})}})}function a(t,e){var a=e.successActionType,s=e.actionPayload;t.dispatch(a,s)}function s(t,e){var a=e.failureActionType,s=e.actionPayload;t.dispatch(a,s)}function i(t,e){(0,n.default)(e.task,"`task` must exist in payload for cancelling the progress");var a=t.getStore(c.default).getMailboxes()[0].id,s=e.task.id;if(s)return t.dispatch(r.mail.BULK_CANCEL_REQUESTED,e),t.mailAPIClient.request("task.abort",{mailboxId:a,taskId:s}).then(function(){t.dispatch(r.mail.BULK_CANCEL_SUCCEEDED,e)}).catch(function(a){t.dispatch(r.mail.BULK_CANCEL_FAILED,Object.assign({},e,{error:a}))})}exports.__esModule=!0,exports.checkBulkTaskProgress=e,exports.notifySuccess=a,exports.notifyFailure=s,exports.cancelBulkTask=i;var r=require("../../platform/react_action_constants"),o=require("../../platform/invariant"),n=t(o),u=require("../../stores/user_preferences"),c=t(u),l=require("../../stores/pages"),d=t(l),f=require("../../platform/mail_constants"),p=require("../../apps/mail/actions"),k=require("../../actions/folder_message_list");
},{"../../actions/folder_message_list":"./actions/folder_message_list","../../apps/mail/actions":"./apps/mail/actions","../../platform/invariant":"./platform/invariant","../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../stores/pages":"./stores/pages","../../stores/user_preferences":"./stores/user_preferences"}],155:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("react"),t=e(s),a=require("react-intl"),n=require("../../platform/mail_constants"),r=require("../../platform/utils/object"),o=require("../../atoms/dialog/progress.jsx"),l=e(o),u=require("../../atoms/folder_label"),c=e(u),i=require("../../types"),p=require("./actions"),d=require("../../apps/mail/actions"),m=require("../../platform/utils/folder"),g=t.default.createClass({displayName:"AsyncTaskProgress",contextTypes:{executeAction:s.PropTypes.func,getStore:s.PropTypes.func,config:s.PropTypes.object},componentDidMount:function e(){this.pollCount=0,this.checkProgress(),this.handleTerminalStates(this.props.task.status)},componentDidUpdate:function e(){var s=this.props.task.status;this.handleTerminalStates(s),s===n.BulkTaskStatus.PENDING&&(this.pollCount>=this.props.asyncTaskPollCount&&this.handleCancel(),this.cancelCheckProgress(),this.checkProgressTimer=setTimeout(this.checkProgress,this.props.asyncTaskPollInterval))},componentWillUnmount:function e(){this.cancelCheckProgress()},handleTerminalStates:function e(s){var t=this;s===n.BulkTaskStatus.COMPLETED&&this.context.executeAction(p.notifySuccess,this.props),s===n.BulkTaskStatus.FAILED&&this.context.executeAction(p.notifyFailure,this.props),s!==n.BulkTaskStatus.COMPLETED&&s!==n.BulkTaskStatus.ABORTED&&s!==n.BulkTaskStatus.FAILED||(this.cancelCheckProgress(),setTimeout(function(){return t.context.executeAction(d.autoMessageCheckMail)},0))},checkProgress:function e(){this.props.task.status===n.BulkTaskStatus.PENDING&&(this.pollCount++,this.context.executeAction(p.checkBulkTaskProgress,this.props))},cancelCheckProgress:function e(){clearTimeout(this.checkProgressTimer)},handleCancel:function e(){this.cancelCheckProgress(),this.context.executeAction(p.cancelBulkTask,this.props)},isTaskCancelable:function e(){var s=this.props.task;return s.id&&s.status===n.BulkTaskStatus.PENDING},renderMessage:function e(){var s=this.props.actionType,r=this.props.actionPayload,o=r.folder,l=r.count,u=r.conversations;switch(s){case n.BulkActionTypes.MARK_READ:return t.default.createElement(a.FormattedMessage,{id:"progress.mark_read",defaultMessage:"Marking {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                        } in {folderName} as read...\n                    ",values:{emailsNum:l,folderName:t.default.createElement(c.default,{folderDisplayType:(0,m.getFolderDisplayType)(o),name:o.name})}});case n.BulkActionTypes.DELETE:return t.default.createElement(a.FormattedMessage,{id:"progress.delete",defaultMessage:"Deleting {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{emailsNum:l,folderName:t.default.createElement(c.default,{folderDisplayType:(0,m.getFolderDisplayType)(o),name:o.name})}});case n.BulkActionTypes.ARCHIVE:return t.default.createElement(a.FormattedMessage,{id:"progress.archive",defaultMessage:"Archiving {count, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{count:l,folderName:t.default.createElement(c.default,{folderDisplayType:(0,m.getFolderDisplayType)(o),name:o.name})}});case n.BulkActionTypes.MESSAGES_DELETE:return t.default.createElement(a.FormattedMessage,{id:"progress.messages_delete",defaultMessage:"Deleting {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:u,count:l}});case n.BulkActionTypes.MESSAGES_MOVE:return t.default.createElement(a.FormattedMessage,{id:"progress.messages_move",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:u,count:l}});case n.BulkActionTypes.MOVE_QUERY:return t.default.createElement(a.FormattedMessage,{id:"progress.move_query",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:u,count:l}});case n.BulkActionTypes.MARK_QUERY:return t.default.createElement(a.FormattedMessage,{id:"progress.mark_query",defaultMessage:"Updating {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:u,count:l}});case n.BulkActionTypes.MESSAGES_ARCHIVE:return t.default.createElement(a.FormattedMessage,{id:"progress.messages_archive",defaultMessage:"Archiving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:u,count:l}});case n.BulkActionTypes.MESSAGES_RESTORE:case n.BulkActionTypes.MESSAGES_MARK_NOT_SPAM:return t.default.createElement(a.FormattedMessage,{id:"progress.messages_restore",defaultMessage:"Restoring {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } to Inbox",values:{conversations:u,count:l}});case n.BulkActionTypes.MESSAGES_MARK_SPAM:return t.default.createElement(a.FormattedMessage,{id:"progress.messages_mark_spam",defaultMessage:"Marking {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } as Spam",values:{conversations:u,count:l}})}return null},renderStatus:function e(){switch(this.props.task.status){case n.BulkTaskStatus.ABORTING:return t.default.createElement(a.FormattedMessage,{id:"progress.aborting",defaultMessage:"Cancelling"});case n.BulkTaskStatus.ABORTED:return t.default.createElement(a.FormattedMessage,{id:"progress.aborted",defaultMessage:"Successfully cancelled"});case n.BulkTaskStatus.ABORT_FAILED:return t.default.createElement(a.FormattedMessage,{id:"progress.abort_failed",defaultMessage:"Failed to cancel. Please Retry"});default:return null}},render:function e(){var s=this.props.task;return t.default.createElement(l.default,{isCancelable:this.isTaskCancelable(),onCancel:this.handleCancel,progress:s.progress,message:this.renderMessage(),subtitle:this.renderStatus()})}});exports.default=g,module.exports=exports.default;
},{"../../apps/mail/actions":"./apps/mail/actions","../../atoms/dialog/progress.jsx":96,"../../atoms/folder_label":"./atoms/folder_label","../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/folder":"./platform/utils/folder","../../platform/utils/object":"./platform/utils/object","../../types":"./types","./actions":154,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/attachment_tray/actions":[function(require,module,exports){
"use strict";function t(t,e){var s=e.csid,c=e.files,i=e.newContentIds;t.dispatch(n.mail.FILE_ATTACHMENT_ADDED,{csid:s,files:c,newContentIds:i})}function e(t,e){t.dispatch(n.mail.ATTACHMENT_REMOVED,{contentId:e.contentId,csid:e.csid})}exports.__esModule=!0,exports.addAttachment=t,exports.removeAttachment=e;var n=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],"./molecules/attachment_tray/atoms/item":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=require("react-intl"),s=require("react"),i=t(s),r=require("../../../types"),l=require("../../../platform/mail_constants"),o=require("../../../atoms/loading_indicator.jsx"),d=t(o),u=require("../../../atoms/attachment_icon.jsx"),m=t(u),c=require("../../../atoms/fuji_icon.jsx"),h=t(c),f=require("../../../atoms/hover_colored_fuji_icon_button.jsx"),v=t(f),p=require("../../../atoms/popover/asymmetric_popover.jsx"),E=t(p),M=require("../../../atoms/constants/popover"),g=require("../../../atoms/navigable_list.jsx"),w=t(g),C=require("../../../atoms/constants/navigable_list"),N=require("../../../platform/utils/mail_ui_vars"),_=require("../../../platform/utils/binstring"),b=require("../../../atoms/constants/fuji_icon"),O=require("../../../atoms/button.jsx"),T=t(O),I=require("../../../atoms/constants/button"),S=require("react-atomic-css/css"),A=t(S),P=require("../styles/attachment_item"),D=t(P),k=require("../../../platform/utils/path"),y=e(k),q=require("../../../platform/utils/attachments"),L=require("../../../platform/utils/"),x=require("../../../atoms/list_item.jsx"),R=t(x),j=(0,n.defineMessages)({download:{id:"attachment_item.download",defaultMessage:"Download"},untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"}}),U=(0,A.default)(D.default),z=i.default.createClass({displayName:"AttachmentItem",contextTypes:{intl:n.intlShape.isRequired},defaultProps:{smallPreview:!1,previewWithoutDownload:!1},getInitialState:function e(){return this._hoverTimer=null,{hover:!1,anchorHover:!1}},componentWillUnmount:function e(){clearTimeout(this._hoverTimer)},handleSendAsImage:function e(){this.props.onSendAsInlineImage(this.props.attachment)},renderContent:function e(t,n){var s=t.state,r=this.props.mayContainVirus,o=void 0;switch(n){case l.Attachments.SimplifiedTypes.AUDIO:o="audio";break;case l.Attachments.SimplifiedTypes.VIDEO:o="video";break;case l.Attachments.SimplifiedTypes.IMAGE:o="img"}if(s===l.AttachmentStates.LOADING)return n===l.Attachments.SimplifiedTypes.IMAGE?i.default.createElement("div",null,i.default.createElement(o,{src:t.thumbnailUrl||t.downloadUrl,className:U.media,style:{opacity:"0.3"}}),i.default.createElement("div",{className:U.loadingIconContainer},i.default.createElement(d.default,null))):i.default.createElement(d.default,null);if(s===l.AttachmentStates.ERROR)return i.default.createElement(h.default,{kind:b.Kinds.ATTENTION,size:b.Sizes.L,colorState:b.ColorStates.WARNING});if(r)return i.default.createElement(m.default,a({},t,{disabled:!0}));if(o){var u=(0,q.getThumbnailUrl)(t.thumbnailUrl,150);return i.default.createElement(o,{src:u,className:U.media,"data-test-id":"attachment-thumbnail"})}return i.default.createElement(m.default,t)},onMouseEnterChange:function e(t){var a=this;clearTimeout(this._hoverTimer),t?this.state.hover!==t&&this.setState({hover:t}):this._hoverTimer=setTimeout(function(){a.state.hover!==t&&a.setState({hover:t})},0)},onMouseEventChange:function e(t){this.setState({anchorHover:t})},renderPopoverMenu:function e(t){return i.default.createElement(E.default,{permittedArrowDirections:[M.PermittedArrowDirections.UP],zAltitude:N.ZIndices.POPOVER.HIGH,align:M.Align.END,offset:2*N.GRID_UNIT,triggerOn:p.OnTriggers.CLICK,triggerOff:p.OffTriggers.CLICK,className:U.popoverContainer,onContentMouseOver:this.onMouseEnterChange.bind(this,!0),onContentMouseOut:this.onMouseEnterChange.bind(this,!1),isArrowVisible:!1},i.default.createElement("div",{className:U.itemMenu,onMouseEnter:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1),"data-test-id":"more-option-button"},i.default.createElement(v.default,{kind:b.Kinds.MORE,colorStates:{normal:b.ColorStates.COOL_FAINT,hovered:b.ColorStates.SELECTED},size:b.Sizes.XXS})),i.default.createElement("div",{className:U.menuContainer,"data-test-id":"attachment-menu"},i.default.createElement(w.default,{kind:C.Kinds.MENU,focusOnMount:!0},t===l.Attachments.Types.IMAGE&&this.props.richTextMode?i.default.createElement(R.default,{className:U.menuItem,"data-test-id":"send-as-image-item"},i.default.createElement(T.default,{kind:I.Kinds.MENUITEM_PARENT_TEXT_COLOR,onClick:this.handleSendAsImage},i.default.createElement(n.FormattedMessage,{id:"attachment.send_as_images",defaultMessage:"Send as image"}))):null,i.default.createElement(R.default,{className:U.menuItem,"data-test-id":"remote-att-item"},i.default.createElement(T.default,{kind:I.Kinds.MENUITEM_PARENT_TEXT_COLOR,onClick:this.props.onRemove},i.default.createElement(n.FormattedMessage,{id:"attachment.remove",defaultMessage:"Remove"}))))))},_renderPreviewMask:function e(t,a){var s=this.props,r=s.onClick,l=s.allowDownload,o=l?t.previewButtonWrapper:t.previewWrapperMsgList,d=l?t.previewButton:t.previewButtonMsgList;return i.default.createElement("div",{className:o,onClick:function e(t){return r((0,L.getInteractionFromEvent)(t))}},i.default.createElement(T.default,{"data-test-id":"attachment-item-preview",kind:I.Kinds.PLAIN,className:d},i.default.createElement(n.FormattedMessage,{id:"attachment_item.preview",defaultMessage:"Preview"})),l?i.default.createElement("div",{className:t.downloadIconOnPreview,"data-test-id":"download-icon",onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:a},i.default.createElement(h.default,{kind:b.Kinds.DOWNLOAD,size:b.Sizes.XS,colorState:b.ColorStates.INVERTED})):null)},_renderDownloadMask:function e(t,a){var s=this.props.allowDownload,r=s?t.noPreviewText:t.noPreviewTextMsgList,l=s?t.noPreviewWrapper:t.noPreviewWrapperMsgList;return i.default.createElement("div",{className:l,"data-test-id":"attachment-no-preview"},i.default.createElement("span",{className:r},i.default.createElement(n.FormattedMessage,{id:"attachment_item.no_preview",defaultMessage:"No Preview"})),s?i.default.createElement("div",{"data-test-id":"download-icon",className:t.downloadIconOnPreview,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:a},i.default.createElement(h.default,{kind:b.Kinds.DOWNLOAD,size:b.Sizes.XS,colorState:b.ColorStates.INVERTED})):null)},_handleDownloadClick:function e(t){t.preventDefault(),t.stopPropagation(),this.props.onDownload(this.props.attachment)},render:function e(){var t=this.props,a=t.attachment,n=void 0===a?{}:a,s=t.allowDownload,r=t.readOnly,o=t.isPreviewEnabled,d=t.mayContainVirus,u=t.previewWithoutDownload,m=t.smallPreview,c=n.filename,h=n.subtype,f=n.type,v=n.state,p=n.size,E=this.context.intl.formatMessage,M=v===l.AttachmentStates.LOADING,g=(0,q.getAttachmentType)(f,h),w=(0,q.isPreviewable)(n),C=s&&!M,N=y.extname(c),b=c?y.basename(c,N):E(j.untitled),O=E(j.download),T=(0,_.prettyPrintBytes)(p,1),I=(0,A.default)(D.default,{type:g,state:v,anchorHover:this.state.anchorHover,spam:d,smallPreview:m,isPreviewEnabled:o,hover:this.state.hover});return i.default.createElement("div",{className:I.container,"data-test-id":"attachment-item"},!r&&this.state.hover&&this.renderPopoverMenu(g),i.default.createElement("div",{"data-test-id":"attachment-container",className:I.content,onMouseOver:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1)},i.default.createElement("div",{className:I.mediaContent},this.renderContent(n,g)),o&&(s||u)&&r&&this.state.hover?i.default.createElement("div",{className:I.hoverMask},w?this._renderPreviewMask(I,O):this._renderDownloadMask(I,O)):null),i.default.createElement("div",{className:I.label,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},C?i.default.createElement("div",{className:I.downloadIcon,onClick:this._handleDownloadClick,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},i.default.createElement("a",{"data-test-id":"attachment-download",href:n.downloadUrl,className:I.downloadIconWrapper},i.default.createElement("span",{className:I.downloadFilename,title:n.filename},i.default.createElement("div",{className:I.filename},i.default.createElement("span",{className:I.labelBaseName},i.default.createElement("span",null,b)),i.default.createElement("span",null,N)),i.default.createElement("div",{className:I.fileSize},T)))):i.default.createElement("span",{className:I.filenameContainer,title:n.filename},i.default.createElement("div",{className:I.filename},i.default.createElement("span",{className:I.labelBaseName},i.default.createElement("span",null,b)),i.default.createElement("span",null,N)),m?null:i.default.createElement("div",{className:I.fileSize},T))))}});exports.default=z,module.exports=exports.default;
},{"../../../atoms/attachment_icon.jsx":"./atoms/attachment_icon","../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/navigable_list":"./atoms/constants/navigable_list","../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/hover_colored_fuji_icon_button.jsx":"./atoms/hover_colored_fuji_icon_button","../../../atoms/list_item.jsx":"./atoms/list_item","../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../../atoms/popover/asymmetric_popover.jsx":"./atoms/popover/asymmetric_popover","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/":"./platform/utils","../../../platform/utils/attachments":"./platform/utils/attachments","../../../platform/utils/binstring":"./platform/utils/binstring","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../../platform/utils/path":"./platform/utils/path","../../../types":"./types","../styles/attachment_item":"./molecules/attachment_tray/styles/attachment_item","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],156:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&/[a-z0-9]/i.test(e)?e.replace(/ /g,"_").replace(/\W/g,"").replace(/_+$/,"").replace(/^_+/,"").substring(0,20):(new Date).toISOString().split("T")[0].replace(/-/g,"")}exports.__esModule=!0,exports.mapDispatchToProps=exports.mapStateToProps=exports.AttachmentTray=void 0;var a=require("react"),n=e(a),o=require("react-intl"),l=require("../../types"),r=require("../../platform/utils/attachments"),s=require("./atoms/item.jsx"),i=e(s),d=require("../../actions/attachment"),c=require("react-atomic-css/css"),m=e(c),u=require("./styles/attachment_tray"),h=e(u),p=require("../../platform/rapid_client/constants"),f=require("../../atoms/fuji_icon.jsx"),w=e(f),A=require("../../atoms/constants/fuji_icon"),g=require("../../atoms/dialog/alert"),M=e(g),S=require("../../atoms/fuji_icon_button"),E=e(S),_=require("react-redux"),T=require("../../reducers_selectors"),D=(0,m.default)(h.default),v=(0,o.defineMessages)({title:{id:"learnmore.title",defaultMessage:"Attachments cannot be downloaded"},content:{id:"learnmore.content",defaultMessage:"Attachments in emails marked as Spam may contain harmful content.            To download attachments in this email, please move the email out of the Spam folder."},warningIcon:{id:"learnmore.warning",defaultMessage:"Warning"}}),y=exports.AttachmentTray=n.default.createClass({displayName:"AttachmentTray",contextTypes:{executeAction:a.PropTypes.func,config:a.PropTypes.object,intl:o.intlShape.isRequired},getDefaultProps:function e(){return{onAttachmentRemove:function e(){},onAttachmentPreview:function e(){},richTextMode:!0}},getInitialState:function e(){var a=this.props.message;return{combinedZipFilename:a?t(a.headers.subject):"",learnMoreShown:!1}},onItemRemove:function e(t){this.props.readOnly||this.props.onAttachmentRemove(t)},onItemDownloaded:function e(t){this.props.handleDownload({attachment:t,i13nModel:{mKey:p.MKEYS.DOWNLOAD_ATTACHMENT,sec:p.SEC_VALUES.MSG_READ_ATTACHMENT,mKeyGroup:p.MKEY_GROUPS.dwnld_attmnt}})},_handleDownloadAllClick:function e(t,a){t.stopPropagation(),t.preventDefault();var n=this.getDownloadAllFilename(),o=this.props.message,l=o.id,r=o.downloadAllUrl;this.props.handleDownloadAll({attachments:a,downloadId:l,downloadUrl:r,filename:n,i13nModel:{mKey:p.MKEYS.DOWNLOAD_ATTACHMENT_ALL,sec:p.SEC_VALUES.MSG_READ_ATTACHMENT,mKeyGroup:p.MKEY_GROUPS.dwnld_attmnt}})},getDownloadAllFilename:function e(){return"Attachments_"+this.state.combinedZipFilename+".zip"},_renderWarningMsg:function e(){var t=this,a=this.context.intl.formatMessage,l=this.state.learnMoreShown;return n.default.createElement("div",{className:D.spamDownloadWarning},n.default.createElement(E.default,{colorState:A.ColorStates.WARNING,className:D.attentionIcon,kind:A.Kinds.ATTENTION,size:A.Sizes.XXS,title:a(v.warningIcon)}),n.default.createElement(o.FormattedMessage,{id:"attachment.dl.warning",defaultMessage:"Attachments cannot be downloaded.","data-test-id":"dl-warning"}),n.default.createElement("button",{className:D.learnMore,onClick:function e(){return t.setState({learnMoreShown:!0})},"data-test-id":"learn-more"},n.default.createElement(o.FormattedMessage,{id:"attachment.learnmore",defaultMessage:"Learn more"})),l?n.default.createElement(M.default,{title:a(v.title),message:a(v.content),onAccept:function e(){return t.setState({learnMoreShown:!1})}}):null)},render:function e(){var t=this,a=(0,r.getAttachmentsForTray)(this.props.attachments||[]),l=this.props,s=l.readOnly,d=l.allowDownload,c=l.mayContainVirus,m=l.onAttachmentPreview,u=l.message,h=l.attachmentPreview,p=a.length;return p?n.default.createElement("div",{className:D.tray},u&&u.downloadAllUrl&&d&&p>1?n.default.createElement("a",{className:D.downloadAllLink,href:u.downloadAllUrl,"data-test-id":"download-all-attachments",onClick:function e(n){return t._handleDownloadAllClick(n,a)}},n.default.createElement("span",{className:D.downloadAllIcon},n.default.createElement(w.default,{kind:A.Kinds.DOWNLOAD,size:A.Sizes.XS,colorState:A.ColorStates.SELECTED})),n.default.createElement(o.FormattedMessage,{id:"attachment_tray.downloadAll",defaultMessage:"Download all attachments as a zip file"})):null,c?this._renderWarningMsg():null,n.default.createElement("ul",{className:D.ul},a.map(function(e,a){return n.default.createElement("li",{key:a,className:D.item,"data-test-id":"attachment-tray-list-item"},n.default.createElement(i.default,{attachment:e,readOnly:s,allowDownload:d,mayContainVirus:c,onDownload:t.onItemDownloaded,onRemove:t.onItemRemove.bind(null,e),onClick:m.bind(null,e.id),isPreviewEnabled:d&&Boolean(h),onSendAsInlineImage:t.props.onSendAsInlineImage,richTextMode:t.props.richTextMode}))}))):null}}),N=exports.mapStateToProps=function e(t){return{attachmentPreview:(0,(0,T.selectors)(t).getFeaturesSelectors)().isEnabled("attachmentPreview")}},I=exports.mapDispatchToProps=function e(t){return{handleDownload:function e(a){var n=a.attachment,o=a.i13nModel;t((0,d.downloadAttachment)({attachment:n,i13nModel:o}))},handleDownloadAll:function e(a){var n=a.attachments,o=a.downloadId,l=a.downloadUrl,r=a.filename,s=a.i13nModel;t((0,d.downloadAllAttachments)({attachments:n,downloadId:o,downloadUrl:l,filename:r,i13nModel:s}))}}};exports.default=(0,_.connect)(N,I,null,{areOwnPropsEqual:function e(){return!1}})(y);
},{"../../actions/attachment":"./actions/attachment","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/dialog/alert":"./atoms/dialog/alert","../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../atoms/fuji_icon_button":"./atoms/fuji_icon_button","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/attachments":"./platform/utils/attachments","../../reducers_selectors":"./reducers_selectors","../../types":"./types","./atoms/item.jsx":"./molecules/attachment_tray/atoms/item","./styles/attachment_tray":157,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js"}],"./molecules/attachment_tray/styles/attachment_item":[function(require,module,exports){
module.exports={className:{default:{container:"W_3n93F p_R",content:"I_2iedTo k_w H_7yHc p_R o_h",mediaContent:"D_F ab_C gl_C H_6D6F",media:"W_6D6F",button:"c27KHO0_n b_0 I_ZS20TA C_52qC A_6EqO W_6D6F H_6D6F D_F gl_FM ab_C P_3gJOe",itemMenu:"p_a Z_O T_36JN3 R_36JN3 W_6MGW H_6MGW e_6MGW I_52qC j_20lmjm D_F gl_C ab_C r_P",menuContainer:"P_3HLUz",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",label:"A_6Eb4 i_6FIA J_x D_F r_P",filename:"D_F u_e69",labelBaseName:"G_e o_h",fileSize:"u_dzD A_6DUj",filenameContainer:"D_F ek_BB o_h J_x C_Z1VRpVF Q_eo6",downloadFilename:"D_F ek_BB o_h J_x C_Z1VRpVF Q_67SN W_3mS2U",loadingIconContainer:"p_a T_0 L_0 W_6D6F H_6D6F D_F gl_C ab_C",hoverMask:"p_a T_0 B_0 L_0 R_0 D_F gl_C",previewButtonWrapper:"I_Z26U5rI D_F ek_BB gl_C em_N r_P",downloadIconOnPreview:"p_R I_Z26U5qc e_dRA Q_7He5 E_fq7 i_dBP U_fq7 r_P b_1Ea0ib",noPreviewWrapper:"I_Z26U5rI D_F ek_BB gl_C em_N",noPreviewWrapperMsgList:"I_ZnIF8Y b_Z14vXdP D_F ek_BB gl_C em_N P_fq7",previewWrapperMsgList:"I_a0zME D_F ek_BB gl_C em_N",previewButtonMsgList:"A_6EqO u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N",previewButton:"A_6Eb4 u_e69 C_52qC P_Z1E2YFn r_P q_n b_0 F_N Y_6LEV",noPreviewText:"A_6Eb4 u_e69 C_52qC P_Z1E2YFn gl_C t_C q_n b_0 F_N Y_6LEV",noPreviewTextMsgList:"A_6EqO u_e69 C_Z1TsNWR D_F gl_C t_C i_6EWk y_Z1i1UbM",downloadIcon:"en_0",downloadIconWrapper:"D_F",popover:"P_Z1E2YFn u_e69"},smallPreview:{container:"W_7Ig6",content:"H_7jIs",label:"A_6DUj i_6EqO Y_eTB"},anchorHover:{downloadFilename:"C_Z2aVTcY",content:"b_2fAfSG",filenameContainer:"C_Z2aVTcY",downloadIconOnPreview:"b_Z36iSS"},spam:{filenameContainer:"C_ZroviD r_BN",label:"r_BN"},hover:{content:"b_2fAfSG",mediaContent:"O_cMp"},"type-image":{mask:"I_A5561"},"type-xls":{content:"I_2m2209"},"type-ppt":{content:"I_Z2gRbsK"},"type-doc":{content:"I_Z1gjdlg"},"type-pdf":{content:"I_Z2gRbsK"},"type-compressed":{content:"I_Z21PQN4"},"type-video":{content:"I_18K0L5"},"type-audio":{content:"I_18K0L5"},"type-cal":{content:"I_18K0L5"},"state-ERROR":{content:"I_2iedTo P_dRA",mediaContent:"I_ZnIF8Y",label:"C_Znn46r"}},_key:"2ba7hk"};
},{}],157:[function(require,module,exports){
module.exports={className:{default:{attentionIcon:"p_R T_e8l",tray:"P_0 je_fq7",ul:"hd_n D_F eo_HB M_gQyVX P_0",downloadAllLink:"D_F ab_GM C_Z2aVTcY A_6Eb4 r_P",downloadAllIcon:"E_eo6",spamDownloadWarning:"C_Znn46r",learnMore:"I_T b_0 C_Z2aVTcY r_P Q_fq7",item:"E_6Fd5 Y_6LEV"}},_key:"Z15XFcA"};
},{}],158:[function(require,module,exports){
"use strict";function t(t,i){var r=i.listId;t.dispatch(s.mail.BROWSER_NOTIFICATIONS_DISPLAYED,{listId:r})}exports.__esModule=!0,exports.browserNotificationsDisplayed=t;var s=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],159:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var i=require("react"),e=t(i),o=require("../../../types"),n=e.default.createClass({displayName:"BrowserNotification",contextTypes:{config:i.PropTypes.object},componentDidMount:function t(){var i=this.props.notification,e=i.title,o=i.options,n=i.onClick;this._displayNotification({title:e,options:o,onClick:n})},_displayNotification:function t(i){var e=i.title,o=i.options,n=i.onClick,r=new window.Notification(e,o);n&&r.addEventListener("click",n)},render:function t(){return null}});exports.default=n,module.exports=exports.default;
},{"../../../types":"./types","react":"./node_modules/react/react.js"}],160:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),i=e(t),o=require("react-intl"),n=require("../../../types"),r=require("../actions"),s=require("../../../atoms/utils/xavatar_utils"),a=require("./utils.js"),u=require("../atoms/browser_notification"),l=e(u),f=require("../../../platform/utils/list"),d=require("../../../platform/utils/route"),c=require("../../../platform/mail_constants"),m=require("../../../platform/utils/folder"),g="https://s.yimg.com/nq/a/img/desktop-notification-mail-100x100_1.png",p=(0,o.defineMessages)({summaryNotificationTitle:{id:"summary_notification_title",defaultMessage:"You have {newMessageCount, number} new messages"},summaryNotificationBody:{id:"summary_notification_body",defaultMessage:"From {senderCount, plural,\n            =1 {{senderOne}}\n            =2 {{senderOne} and {senderTwo}}\n            =3 {{senderOne}, {senderTwo}, and {senderThree}}\n            other {{senderOne}, {senderTwo}, {senderThree}, and {remainingSenderCount} more}\n        }"},singleNotificationMissingSubject:{id:"single_notification_missing_subject",defaultMessage:"No Subject"}}),y=i.default.createClass({displayName:"NewMessageBrowserNotification",contextTypes:{intl:o.intlShape,config:t.PropTypes.object,executeAction:t.PropTypes.func,navigateTo:t.PropTypes.func},componentDidMount:function e(){var t=this.props.listId;this.context.executeAction(r.browserNotificationsDisplayed,{listId:t})},_transformMessageGroupsToNotifications:function e(t){var i=this._filterSystemFolders(t),o=this._filterMessageGroups(i);return 0===o.length?[]:o.length>1?[this._generateSummaryNotification(o)]:this._generateSingleNotifications(o)},_filterMessageGroups:function e(t){return this.props.peopleNotifications?t.filter(function(e){return(0,a.isClassifiedAsPeopleMessage)(e.messages[e.messages.length-1])}):t},_filterSystemFolders:function e(t){return t.filter(function(e){var t=e.messages[e.messages.length-1];return!t.folder.isSystem||(0,m.getPrimaryFolderType)(t.folder)===c.FolderTypes.INBOX})},_generateSummaryNotification:function e(t){var i=this.context.intl.formatMessage,o=t.map(function(e){return e.messages[e.messages.length-1]}),n=(0,a.getSummaryNotificationFormatOptions)(o),r=n.titleFormatOptions,s=n.bodyFormatOptions,u=i(p.summaryNotificationTitle,r),l=i(p.summaryNotificationBody,s),f=this._getSummaryNotificationIcon(),d=(0,a.getNotificationMetadataFromMessage)(o[0]),c=d.timestamp,m=d.id,g=d.folderId;return this._transformNotification({title:u,body:l,icon:f,timestamp:c,id:m,folderId:g})},_generateSingleNotifications:function e(t){var i=this,o=this.context.intl.formatMessage;return t.map(function(e){var t=e.messages[e.messages.length-1],n=(0,a.getSingleNotificationTitle)(t),r=(0,a.getSingleNotificationBody)(t)||o(p.singleNotificationMissingSubject),s=i._getSingleNotificationIcon(t),u=(0,a.getNotificationMetadataFromMessage)(t),l=u.timestamp,f=u.id,d=u.folderId,c=e.id;return i._transformNotification({title:n,body:r,icon:s,timestamp:l,id:f,folderId:d,groupId:c})})},_transformNotification:function e(t){var i=t.title,o=t.body,n=t.icon,r=t.timestamp,s=t.id,a=t.folderId,u=t.groupId;return{title:i,options:{body:o,icon:n,lang:this.context.intl.locale,timestamp:r,tag:s},onClick:this._getClickHandler({folderId:a,groupId:u})}},_getSummaryNotificationIcon:function e(){return g},_getSingleNotificationIcon:function e(t){var i={email:t.headers.from.length?t.headers.from[0].email:""};return(0,s.getXavatarURI)(i,"160",g)},_getClickHandler:function e(t){var i=this,o=t.folderId,n=t.groupId;return function(e){e.preventDefault(),e.target.close(),window.focus(),i.context.navigateTo({route:n?(0,d.buildMessageRouteFromGroupId)((0,f.getListIdFromFolderId)(o),n):(0,d.buildFolderRouteFromFolderId)(o)})}},render:function e(){var t=this.props.messageGroups,o=this._transformMessageGroupsToNotifications(t);return i.default.createElement("div",null,o.map(function(e){return i.default.createElement(l.default,{key:e.options.tag,notification:e})}))}});exports.default=y,module.exports=exports.default;
},{"../../../atoms/utils/xavatar_utils":"./atoms/utils/xavatar_utils","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/folder":"./platform/utils/folder","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/route":"./platform/utils/route","../../../types":"./types","../actions":158,"../atoms/browser_notification":159,"./utils.js":161,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],161:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return"P"===e.classification}function n(e){return{timestamp:1e3*e.headers.date,id:e.id,folderId:e.folder.id}}function r(e){return d(e)}function i(e){return e.headers.subject}function o(e){return{titleFormatOptions:s(e),bodyFormatOptions:a(e)}}function s(e){return{newMessageCount:e.length}}function a(e){var t=u(e),n={senderCount:t.length};return t.length>=1&&(n.senderOne=t[0]),t.length>=2&&(n.senderTwo=t[1]),t.length>=3&&(n.senderThree=t[2]),t.length>3&&(n.remainingSenderCount=t.length-3),n}function u(e){return(0,f.default)(e.map(d))}function d(e){var t=e.headers.from[0]||{};return t.name||t.email||""}exports.__esModule=!0,exports.isClassifiedAsPeopleMessage=t,exports.getNotificationMetadataFromMessage=n,exports.getSingleNotificationTitle=r,exports.getSingleNotificationBody=i,exports.getSummaryNotificationFormatOptions=o;var l=require("lodash/uniq"),f=e(l);
},{"lodash/uniq":"./node_modules/lodash/uniq.js"}],"./molecules/categorization/categorization":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),r=require("react-intl"),s=require("react-atomic-css/css"),o=e(s),i=require("./styles/categorization"),n=e(i),l=require("../../platform/mail_constants/index"),d=require("../settings/atoms/section_title"),u=e(d),c=require("../../actions/settings"),f=require("../../atoms/hover_colored_fuji_icon_button"),g=e(f),m=require("../../atoms/constants/fuji_icon"),C=require("./strings.js"),h=e(C),S=a.default.createClass({displayName:"Categorization",contextTypes:{intl:r.intlShape.isRequired,executeAction:t.PropTypes.func},getDefaultProps:function e(){return{isMenuMode:!1}},getInitialState:function e(){return{selectedIndex:-1}},onChange:function e(t){var a=this.props.categories,r=a.slice();r[t].status=a[t].status?0:1,this.saveCategories(r)},saveCategories:function e(t){this.context.executeAction(c.updateSetting,{name:l.Settings.SYSTEM_TABS,value:t.filter(function(e){var t=e.name;return!!l.DecoIds[t]}).map(function(e){var t=e.name,a=e.status;return l.DecoIds[t]+":"+a})})},moveCategories:function e(t,a){var r=this,s=this.props.categories,o=s.slice(),i=Object.assign({},o[a]),n=a+(t?-1:1);n>=0&&n<o.length&&(o[a]=Object.assign({},o[n]),o[n]=i,this.setState({selectedIndex:n},function(){r.saveCategories(o)}))},renderReorderControls:function e(){var t=this,s=(0,o.default)(n.default),i=this.context.intl.formatMessage,l=this.state.selectedIndex,d=l<=-1;return a.default.createElement("div",{className:s.categoriesReorderContainer},a.default.createElement("div",{className:s.categoriesReorderTitle},a.default.createElement(r.FormattedMessage,{id:"categories_list_header_text",defaultMessage:"Priority list"})),a.default.createElement("div",{className:s.categoriesReorderBtnsContainer},a.default.createElement(g.default,{"data-test-id":"move-category-up",size:m.Sizes.XS,kind:m.Kinds.ARROW_UP,title:i(h.default.moveCategoryUp),"aria-label":i(h.default.moveCategoryUp),onClick:function e(){t.moveCategories(!0,l)},colorStates:{normal:d?m.ColorStates.DISABLED:m.ColorStates.NORMAL,hovered:d?m.ColorStates.DISABLED:m.ColorStates.SELECTED},disabled:d}),a.default.createElement(g.default,{"data-test-id":"move-category-down",size:m.Sizes.XS,kind:m.Kinds.ARROW_UP,rotate:m.Rotate.D180,title:i(h.default.moveCategoryDown),"aria-label":i(h.default.moveCategoryDown),onClick:function e(){t.moveCategories(!1,l)},colorStates:{normal:d?m.ColorStates.DISABLED:m.ColorStates.NORMAL,hovered:d?m.ColorStates.DISABLED:m.ColorStates.SELECTED},disabled:d})))},setSelectedIndex:function e(t){this.setState({selectedIndex:t})},handleClick:function e(t,a){a.stopPropagation(),this.props.isMenuMode||this.setSelectedIndex(t)},renderCategories:function e(){var t=this,r=this.context.intl.formatMessage,s=this.state.selectedIndex,i=this.props,l=i.categories,d=i.isMenuMode,c=(0,o.default)(n.default,{isMenuMode:d});return a.default.createElement("ol",{className:c.categoriesList},l.map(function(e,o){var i=e.name,n=e.status,l=s===o;return a.default.createElement("li",{className:l?c.categorySelected:c.category,onClick:t.handleClick.bind(t,o),key:"category-"+o},a.default.createElement(u.default,{key:i,canToggle:!0,subHeader:!0,toggleEnabled:!!n,header:r(h.default[i+"_HEADER"]),hint:r(d?h.default[i+"_SHORT_HINT"]:h.default[i+"_HINT"]),onToggle:function e(){return t.onChange(o)}}))}))},renderHeader:function e(){var t=(0,o.default)(n.default);return a.default.createElement("div",null,a.default.createElement("h4",{className:t.categoriesHeader,"data-test-id":"categories-header"},a.default.createElement(r.FormattedMessage,{id:"tab_menu_categorization_header",defaultMessage:"Categories"})))},render:function e(){var t=this.props.isMenuMode,r=(0,o.default)(n.default,{isMenuMode:t});return a.default.createElement("div",{className:r.categoriesContainer},t&&this.renderHeader(),!t&&this.renderReorderControls(),this.renderCategories())}});exports.default=S,module.exports=exports.default;
},{"../../actions/settings":"./actions/settings","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/hover_colored_fuji_icon_button":"./atoms/hover_colored_fuji_icon_button","../../platform/mail_constants/index":"./platform/mail_constants","../settings/atoms/section_title":"./molecules/settings/atoms/section_title","./strings.js":"./molecules/categorization/strings","./styles/categorization":"./molecules/categorization/styles/categorization","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/categorization/strings":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("react-intl");exports.default=(0,e.defineMessages)({ALL_HEADER:{id:"category.all_header",defaultMessage:"All"},PEOPLE_HEADER:{id:"category.people_header",defaultMessage:"People"},PEOPLE_HINT:{id:"category.people_hint",defaultMessage:"Messages from real people, not businesses or promotions"},PEOPLE_SHORT_HINT:{id:"category.people_short_hint",defaultMessage:"Messages from real people"},SHOPPING_HEADER:{id:"category.shopping_header",defaultMessage:"Shopping"},SHOPPING_HINT:{id:"category.shopping_hint",defaultMessage:"Subscriptions, coupons, deals and order confirmations"},SHOPPING_SHORT_HINT:{id:"category.shopping_short_hint",defaultMessage:"Subscriptions, coupons, deals and orders"},SOCIAL_HEADER:{id:"category.social_header",defaultMessage:"Social"},SOCIAL_HINT:{id:"category.social_hint",defaultMessage:"Updates from social networks like Facebook, LinkedIn and others"},SOCIAL_SHORT_HINT:{id:"category.social_short_hint",defaultMessage:"Updates from social networks"},FINANCE_HEADER:{id:"category.finance_header",defaultMessage:"Finance"},FINANCE_HINT:{id:"category.finance_hint",defaultMessage:"Banks, credit card and transaction notifications"},FINANCE_SHORT_HINT:{id:"category.finance_short_hint",defaultMessage:"Banks, credit card and transaction notifications"},TRAVEL_HEADER:{id:"category.travel_header",defaultMessage:"Travel"},TRAVEL_HINT:{id:"category.travel_hint",defaultMessage:"Flights, hotel reservations and travel confirmations"},TRAVEL_SHORT_HINT:{id:"category.travel_short_hint",defaultMessage:"Messages about flights, hotel reservations"},moveCategoryUp:{id:"move_category_up",defaultMessage:"Move category up"},moveCategoryDown:{id:"move_category_down",defaultMessage:"Move category down"}}),module.exports=exports.default;
},{"react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/categorization/styles/categorization":[function(require,module,exports){
module.exports={className:{default:{categoriesContainer:"W_A",categoriesHeader:"A_6EqO i_6Fd5 P_6Fd5 M_0",categoriesReorderContainer:"m_Z14vXdP D_F gl_FM",categoriesReorderTitle:"u_b A_6EqO i_6LEV M_E8xte",categoriesReorderBtnsContainer:"ab_C D_F",categoriesList:"hd_n M_0 P_0",category:"P_fq7 m_Z12nDQf m8_n",categorySelected:"P_fq7 q_2ieeaE"},isMenuMode:{categoriesContainer:"W_3v2sj I_ZnkeaL",category:"P_Z1E2XDm"}},_key:"1j6nEV"};
},{}],162:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=exports.CHECKMAIL_MIN_INTERVAL=1e3;
},{}],163:[function(require,module,exports){
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=require("react"),r=require("../../apps/mail/actions"),c=require("./constants"),i=function(o){function i(){return e(this,i),t(this,o.apply(this,arguments))}return n(i,o),i.prototype.componentDidMount=function e(){var t=this.props.checkMailInterval;t>=c.CHECKMAIL_MIN_INTERVAL&&(this.checkMailIntervalHandle=setInterval(this.checkMail.bind(this),t))},i.prototype.componentWillUnmount=function e(){clearInterval(this.checkMailIntervalHandle)},i.prototype.checkMail=function e(){this.context.executeAction(r.autoMessageCheckMail)},i.prototype.render=function e(){return null},i}(o.Component);i.contextTypes={config:o.PropTypes.object,executeAction:o.PropTypes.func},exports.default=i,module.exports=exports.default;
},{"../../apps/mail/actions":"./apps/mail/actions","./constants":162,"react":"./node_modules/react/react.js"}],164:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},a=require("react"),r=e(a),i=require("react-intl"),n=require("./styles/comms_properties"),o=e(n),s=require("../../../atoms/fuji_icon.jsx"),d=e(s),l=require("../../../atoms/constants/fuji_icon"),c=require("../../../platform/rapid_client/constants"),p=require("../../../platform/utils/"),u=require("../../mim/index.jsx"),m=e(u),f=(0,i.defineMessages)({mail_icon:{id:"properties.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"properties.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"properties.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"properties.notepad_icon",defaultMessage:"Notepad"},subproperties_nav:{id:"landmark.subproperties_nav",defaultMessage:"Navigate to other Yahoo properties like Messenger, Calendar, Contacts and Notepad"}}),h=r.default.createClass({displayName:"CommsProperties",contextTypes:{config:a.PropTypes.object,intl:i.intlShape.isRequired,getCss:a.PropTypes.func},handle:function e(t,a){var r=(0,p.getInteractionFromEvent)(t),i=this.props.onPropertyClick;t.stopPropagation(),i(r,a)},renderProperty:function e(t,a){var i=this,n=t.href,o=t.kind,s=t.text,c=t.propertyClassNames,p=void 0===c?"":c,u=this.context.intl.formatMessage(s);return r.default.createElement("a",{key:s.id,onClick:function e(a){return i.handle(a,t)},href:n,className:a.property+" "+p,"aria-label":u,title:u,target:o,"data-iskeynav":!0,tabIndex:-1},r.default.createElement(d.default,{kind:o,size:l.Sizes.XS,colorState:l.ColorStates.INHERITED}))},render:function e(){var a=this,i=this.props,n=i.verticalLayout,s=i.calendarTabEnabled,d=i.notepadTabEnabled,p=i.calendarURL,u=i.mimEnabled,h=i.onPropertyClick,_=i.windowDimensions,y=this.context.intl.formatMessage,C=this.context.getCss(o.default,{verticalLayout:n}),v=[{kind:l.Kinds.INBOX,text:f.mail_icon,mKey:c.MKEYS.MAIL_ICON,hidden:!this.props.showMailIcon},{href:"https://address.yahoo.com/",kind:l.Kinds.CONTACTS,text:f.contacts_icon,mKey:c.MKEYS.CONTACTS_ICON},{href:p,kind:l.Kinds.CALENDAR,text:f.calendar_icon,mKey:c.MKEYS.CALENDAR_ICON,hidden:!s},{href:"https://calendar.yahoo.com/?view=notepad",kind:l.Kinds.NOTEPAD,text:f.notepad_icon,mKey:c.MKEYS.NOTEPAD_ICON,hidden:!d}];return r.default.createElement("div",{"data-test-id":"comms-properties",role:"navigation","aria-label":y(f.subproperties_nav),className:C.properties},r.default.createElement(m.default,t({},this.props,{mimEnabled:u,onPropertyClick:h,verticalLayout:n,windowDimensions:_})),v.map(function(e){return!e.hidden&&a.renderProperty(e,C)}))}});exports.default=h,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../../platform/utils/":"./platform/utils","../../mim/index.jsx":267,"./styles/comms_properties":166,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],165:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.feedbackTextMaxLength=exports.otherReasonLabelKey=exports.strings=void 0;var t=require("react"),a=e(t),o=require("../../feedback_panel/atoms/confirm_cancel.jsx"),s=e(o),n=require("react-atomic-css/css"),r=e(n),c=require("react-intl"),l=require("../../../actions/settings"),i=require("../../../platform/mail_constants"),u=require("../../../platform/rapid_client/constants"),d=require("../styles/opt_out_survey.js"),p=e(d),_=(0,r.default)(p.default),f=exports.strings=(0,c.defineMessages)({cancelBtn:{id:"feedback.cancel_btn_text",defaultMessage:"Cancel"},confirmBtn:{id:"feedback.confirm_btn_text",defaultMessage:"Send feedback"},optOutButtonTitle:{id:"feedback.opt_out_title_text",defaultMessage:"Tell us why you are leaving new Mail:"},optout_classic_better:{id:"feedback.optout_classic_better",defaultMessage:"I like the look of classic Mail"},optout_clicked_accident:{id:"feedback.optout_clicked_accident",defaultMessage:"I clicked into new Mail by accident"},optout_not_ready:{id:"feedback.optout_not_ready",defaultMessage:"I'm not ready to switch now but might later"},optout_other_reason:{id:"feedback.optout_other_reason",defaultMessage:"Other reasons"},optout_placeholder_text:{id:"feedback.optout_placeholder_text",defaultMessage:"Please write your feedback here"},optout_empty_error:{id:"feedback.optout_empty_error",defaultMessage:"Message cannot be empty"},optout_counter:{id:"feedback.optout_counter",defaultMessage:"{msgLength, number} {msgLength, plural,            =1 {character}            other {characters}        } remaining"}}),h=exports.otherReasonLabelKey="optOutOther",m=[{className:_.optoutClassicBtn,labelKey:"optoutClassicBtn",string:f.optout_classic_better},{className:_.inputBtn,labelKey:"optoutClickedBtn",string:f.optout_clicked_accident},{className:_.inputBtn,labelKey:"optoutNotReadyBtn",string:f.optout_not_ready},{className:_.inputBtn,labelKey:h,string:f.optout_other_reason,textArea:!0}],b=exports.feedbackTextMaxLength=1e3,g=a.default.createClass({displayName:"OptOutSurvey",contextTypes:{executeAction:t.PropTypes.func,intl:c.intlShape,config:t.PropTypes.object},getInitialState:function e(){return{selectedOption:h,optOutFeedbackText:"",remainingChars:b,showErrorMessage:!1}},_optionSelected:function e(t){var a=t.target.value;this.setState({selectedOption:a})},_optOutFeedbackTextFocused:function e(t){var a=t.target;this.setState({selectedOption:h},a.focus.bind(a))},_optOutFeedbackTextChanged:function e(t){var a=t.target.value.substr(0,b);this.state.optOutFeedbackText!==a&&this.setState({optOutFeedbackText:a,remainingChars:b-a.length,showErrorMessage:!1})},redirectWindow:function e(t){window.location.href=t},_onConfirm:function e(){if(this.state.selectedOption===h&&0===this.state.optOutFeedbackText.length)return void this.setState({showErrorMessage:!0});var t={};this.state.selectedOption&&(t.feedbackOption=this.state.selectedOption),this.state.selectedOption===h&&(t.optOutFeedbackText=this.state.optOutFeedbackText),this.context.executeAction(l.optOutSubmitFeedback,{i13nModel:{mKey:u.MKEYS.OPT_OUT_SUBMIT_FEEDBACK,sec:u.SEC_VALUES.SETTINGS_POPUP,actionData:t}}),this.redirectWindow(i.NORRIN_OPT_OUT_PATH)},render:function e(){var t=this,o=this.context.intl.formatMessage,n=a.default.createElement("ul",{className:_.optionsContainer},m.map(function(e){return a.default.createElement("li",{key:e.labelKey},a.default.createElement("label",null,a.default.createElement("input",{className:e.className,type:"radio",name:"options",value:e.labelKey,onChange:t._optionSelected,checked:t.state.selectedOption===e.labelKey}),a.default.createElement("span",null,o(e.string),e.textArea?a.default.createElement("div",null,a.default.createElement("textarea",{className:_.textArea,onChange:t._optOutFeedbackTextChanged,onClick:t._optOutFeedbackTextFocused,value:t.state.optOutFeedbackText,placeholder:o(f.optout_placeholder_text),"data-test-id":"opt-out-text-area"}),a.default.createElement("span",{"data-test-id":"opt-out-empty-error",className:_.error},t.state.showErrorMessage?t.context.intl.formatMessage(f.optout_empty_error):""),a.default.createElement("span",{"data-test-id":"opt-out-msg-counter",className:_.counter},o(f.optout_counter,{msgLength:t.state.remainingChars}))):null)))}));return a.default.createElement(s.default,{title:o(f.optOutButtonTitle),message:n,acceptLabel:f.confirmBtn,cancelLabel:f.cancelBtn,onConfirm:this._onConfirm,onAbort:this.props._onCancel,onCancel:this.props._onCancel})}});exports.default=g;
},{"../../../actions/settings":"./actions/settings","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../feedback_panel/atoms/confirm_cancel.jsx":"./molecules/feedback_panel/atoms/confirm_cancel","../styles/opt_out_survey.js":169,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],166:[function(require,module,exports){
module.exports={className:{default:{properties:"D_F W_A",property:"D_F U_0 E_6EGz cdPFi_Z1TsNWR cdPFi4_Z2aVTcY ir3_1IO2sY"},verticalLayout:{properties:"ek_BB Y_6EGz",property:"E_0 U_6EGz"},"themeMode-MEDIUM":{property:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn"},"themeMode-DARK":{property:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn"}},_key:"Z8qEos"};
},{}],167:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.getStore(E.default),r=e.getStore(m.default),a=(0,T.selectors)(e.store.getState()),s=a.getFeaturesSelectors,o=a.getRouterSelectors,n=s(),i=n.getSetting(b.Settings.PREVIEW_PANE),u=o(),l=u.getQueryParams(),p="1"===l.openSettingsPopover||r.getAutoOpenSettingsPopover(),c=n.isEnabled(b.Features.CALENDAR_TAB),d=n.isEnabled(b.Features.NOTEPAD_TAB),S=n.getSetting(b.Settings.CALENDAR_URL);return{showSettingsCue:n.isEnabled("settingsCue"),showSettingsBadge:t.isEnabled("HSSettingsBadge"),showHSSettingsCue:t.isEnabled("HSSettingsCue"),optOutSurvey:n.isEnabled("optOutSurvey"),mimEnabled:t.isEnabled("mim"),previewPaneSetting:i,autoOpenSettingsPopover:p,calendarTabEnabled:c,notepadTabEnabled:d,calendarURL:S}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};exports.getStateFromStores=t;var a=require("react"),s=e(a),o=require("./atoms/comms_properties.jsx"),n=e(o),i=require("../../apps/mail/controller_views/settings_menu"),u=e(i),l=require("./styles/comms_properties"),p=e(l),c=require("../../apps/mail/actions"),d=require("../../platform/rapid_client/constants"),S=require("../../stores/features"),E=e(S),O=require("../../stores/application/index.js"),m=e(O),g=require("fluxible-addons-react"),_=require("../../atoms/keyboard_navigation_focus_group.jsx"),f=require("../../platform/utils/mail_ui_vars"),b=require("../../platform/mail_constants"),T=require("../../reducers_selectors"),h=require("./atoms/opt_out_survey.jsx"),y=e(h),C=require("../../actions/settings"),A=require("../../platform/utils"),v=s.default.createClass({displayName:"CommsProperties",contextTypes:{executeAction:a.PropTypes.func,getCss:a.PropTypes.func,config:a.PropTypes.object},getInitialState:function e(){return{showOptOutSurvey:!1}},onPropertyClick:function e(t,r){this.context.executeAction(c.handleHeaderNavigation,{i13nModel:{mKey:r.mKey,sec:d.SEC_VALUES.HEADER_NAV,interactionType:t}})},onOptOut:function e(t){this.props.optOutSurvey&&this.setState({showOptOutSurvey:!0}),this.context.executeAction(C.optOut,{i13nModel:{mKey:d.MKEYS.SETTINGS_POPUP_SWITCH_TO_CLASSIC,sec:d.SEC_VALUES.SETTINGS_POPUP,interactionType:(0,A.getInteractionFromEvent)(t)}})},onOptOutCancel:function e(){this.setState({showOptOutSurvey:!1}),this.context.executeAction(C.optOutCancelFeedback,{i13nModel:{mKey:d.MKEYS.OPT_OUT_CANCEL_FEEDBACK,sec:d.SEC_VALUES.SETTINGS_POPUP}})},render:function e(){var t=this.props,a=t.verticalLayout,o=t.windowDimensions,i=t.calendarURL,l=this.context.getCss(p.default,{verticalLayout:a}),c=this.state.showOptOutSurvey;return s.default.createElement(_.KeyboardNavigationFocusGroup,{axis:a?_.NAVIGATION_AXES.VERTICAL:_.NAVIGATION_AXES.HORIZONTAL,"data-test-id":"comms-properties-bar",groupTabIndex:f.TabIndices.COMMS_PROPERTIES_BAR,className:l.properties},a&&s.default.createElement(u.default,r({},this.props,{onOptOutFeedback:this.onOptOut})),s.default.createElement(n.default,r({},this.props,{calendarURL:i,onPropertyClick:this.onPropertyClick,verticalLayout:this.props.verticalLayout,calendarTabEnabled:this.props.calendarTabEnabled,notepadTabEnabled:this.props.notepadTabEnabled,windowDimensions:o,mimEnabled:this.props.mimEnabled})),!a&&s.default.createElement(u.default,r({},this.props,{onOptOutFeedback:this.onOptOut,hasContactCard:this.props.hasContactCard})),c?s.default.createElement(y.default,{_onCancel:this.onOptOutCancel}):null)}});exports.default=(0,g.connectToStores)(v,[E.default,m.default],t,{store:a.PropTypes.object});
},{"../../actions/settings":"./actions/settings","../../apps/mail/actions":"./apps/mail/actions","../../apps/mail/controller_views/settings_menu":67,"../../atoms/keyboard_navigation_focus_group.jsx":"./atoms/keyboard_navigation_focus_group","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils":"./platform/utils","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../reducers_selectors":"./reducers_selectors","../../stores/application/index.js":"./stores/application","../../stores/features":"./stores/features","./atoms/comms_properties.jsx":164,"./atoms/opt_out_survey.jsx":165,"./styles/comms_properties":168,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],168:[function(require,module,exports){
module.exports={className:{default:{properties:"D_F en_0 gl_FM Y_6Fd5 U_6Fd5 N_6Fd5 X_6Fd5"},verticalLayout:{properties:"ek_BB gl_CI H_CS"}},_key:"1ovMGE"};
},{}],169:[function(require,module,exports){
module.exports={className:{default:{optionsContainer:"hd_n P_0 M_0",textArea:"H_7ALe W_3vqYW V_GM e_dRA b_Z29KkLb Q_6DEy Y_fq7 y_ZwubDW A_6EqO jw_n N_eo6 X_eo6",inputBtn:"Y_6Eb4 E_fq7 Q_0",optoutClassicBtn:"Y_0 E_fq7 Q_0",error:"D_B Y_fq7 Q_6Eb4 A_6DUj C_ZnTFMv d_6FIA",counter:"Q_6Eb4"}},_key:"Z1SSk4y"};
},{}],"./molecules/compose/actions":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.files;return t||t.length?Y+z*t.length:Y}function a(e,t,a){if(a){var s=e.getStore(W.default),i=s.getActivePageRoute();return(0,Q.heroListId)(i,t)}}function s(e){e.autoSuggestClient.isUserXobnified().then(function(t){e.dispatch(L.mail.XOBNIFIED_RESPONDED,{isXobnified:t}),e.autoSuggestClient.search({limit:50,query:""},function(t,a){t||e.dispatch(L.mail.IMPORTANT_CONTACTS_PRELOADED,{contacts:a.contacts})})})}function i(e,t){var a=t.csid;e.dispatch(L.mail.CLEARED_SUGGESTIONS,{csid:a})}function o(e,t){var a=Math.random();e.dispatch(L.mail.SEARCH_CONTACT_BEGAN,{token:a}),e.autoSuggestClient.search(t,function(s,i){s||e.dispatch(L.mail.SEARCH_CONTACT_SUCCEEDED,{query:t.query,csid:t.csid,token:a,data:i})})}function r(e,t){var a=t.csid;e.dispatch(L.mail.CONTACT_ADDED,{csid:a})}function n(e,t){var a=t.csid,s=t.draftStatus,i=t.messageId,o=e.getStore(W.default).getActivePageRoute(),r=(0,Q.getListIdFromRoute)(o);if(e.dispatch(L.mail.DELETE_DRAFT_REQUESTED,{csid:a,messageId:i,listId:r}),s!==J.INIT&&s!==J.SENT&&i){var n=e.getStore(U.default),d=n.getMailboxes()[0].id,c=[i];return e.mailAPIClient.request("messages.delete",{mailboxId:d,messageIds:c}).then(function(){e.dispatch(L.mail.DELETE_DRAFT_SUCCEEDED,{messageIds:c})}).catch(function(t){e.dispatch(L.mail.DELETE_DRAFT_FAILED,{messageIds:c,error:t})})}}function d(e,t){var a=t.csid;e.dispatch(L.mail.UPDATE_EDIT_DRAFT_STATE,{csid:a})}function c(e,t){var a=t.csid,s=t.subject;e.dispatch(L.mail.DRAFT_SUBJECT_UPDATED,{csid:a,subject:s})}function l(e){e.dispatch(L.mail.HANDLE_RTE_TOOLBAR_ACTIONS)}function E(e){e.dispatch(L.mail.CONTACT_DRAG_DROP)}function u(e,t){var a=t.userInputtedValues,s=t.composeData,i=t.mailboxId,o=t.attachmentsArray,r=void 0===o?[]:o,n=s.csid,d=s.captchaAnswer,c=s.attachments,l=void 0===c?[]:c,E=s.files,u=s.folderId,m=s.composeMode,I=s.inReplyTo,A=r.length?r:l,S=Object.keys(E).filter(function(e){var t=A.find(function(t){var a=t.contentId;return a&&a===e});return t&&/^blob/.test(t.downloadUrl)}).map(function(e){return E[e]}),p=A.filter(function(e){return e.state===w.AttachmentStates.LOADED||e.state===w.AttachmentStates.LOADING}),f=a.to,T=a.cc,_=a.bcc,g=a.from,D=a.subject,h=a.html,R=[{name:g.sendingName||g.email,email:g.email}],v=g.replyToAddress?[{name:g.sendingName||g.replyToAddress,email:g.replyToAddress}]:[],C=(0,j.selectors)(e.store.getState()),N=C.getFeaturesSelectors,O=N(),M=O.isEnabled(w.Features.CONVERSATIONS),F={csid:n,mailboxId:encodeURIComponent(i),subject:D,captchaAnswer:d,from:R,replyTo:v,to:f,cc:T,bcc:_,html:h,folderId:u,attachments:p,files:S,conversationsMode:M};return[X.REPLY,X.REPLY_ALL,X.FORWARD].indexOf(m)>-1?(F.newMessage=!1,F.inReplyTo={messageReference:{id:s.inReplyTo.id},replied:X.FORWARD!==m,forwarded:X.FORWARD===m}):m===X.EDIT&&I&&I.messageReference?(F.newMessage=!1,F.inReplyTo={messageReference:I.messageReference,replied:!!I.replied,forwarded:!!I.forwarded}):F.newMessage=!0,F}function m(e,s,i){var o=s.userInputtedValues,r=s.csid,n=s.mailboxId,d=i.pendingActionType,c=i.successActionType,l=i.failureActionType,E=i.isAutoSave,m=void 0!==E&&E;if(!(0,(0,j.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled(w.Features.COMPOSE_V3)){var A=e.getStore(W.default).getActivePageRoute(),S=e.getStore(G.default),p=S.getComposeData(r);if(p){var T=p.draftStatus,_=p.composeMode;if(!(T===J.SENDING||T===J.SAVING&&[X.NEW,X.EDIT].indexOf(_)>-1)){var g=o.to,D=o.cc,h=o.bcc,R=!!b.default.getInvalidEmails(g,D,h).length,v=u(e,{userInputtedValues:o,composeData:p,mailboxId:n,attachmentsArray:[]}),C=I(v)?"messages.saveWithAttachment":"messages.save";return e.dispatch(d,{csid:r,isPartial:R}),e.mailAPIClient.request(m?"messages.autosave":C,v,{strategy:B.default.STRATEGIES.BROWSER_TO_JEDI,timeout:t(v)},v.files).then(function(t){var s=t.message,i=f(A,s.folder.id),n=(0,j.selectors)(e.store.getState()),d=n.getFeaturesSelectors,l=d(),E=a(e,i,l.isEnabled("hero")),u=l.isEnabled(w.Features.CONVERSATIONS);e.dispatch(c,{csid:r,listId:i,cursorId:E,conversationsMode:u,groupId:u?s.conversationId:s.id,isPartial:R,message:s,simpleBody:{html:o.html,htmlAnnotations:p.htmlAnnotations},previousGroupId:p.groupId})}).catch(function(t){e.dispatch(l,{csid:r,error:t})})}}}}function I(e){var t=e.attachments;return Array.isArray(t)&&t.length>0}function A(e,t){return m(e,t,{pendingActionType:L.mail.MESSAGE_SAVE_REQUESTED,successActionType:L.mail.MESSAGE_SAVE_SUCCEEDED,failureActionType:L.mail.MESSAGE_SAVE_FAILED})}function S(e,t){return m(e,t,{pendingActionType:L.mail.MESSAGE_AUTO_SAVE_REQUESTED,successActionType:L.mail.MESSAGE_AUTO_SAVE_SUCCEEDED,failureActionType:L.mail.MESSAGE_AUTO_SAVE_FAILED,isAutoSave:!0})}function p(e,s){var i=s.userInputtedValues,o=s.composeData,r=s.mailboxId,n=s.attachments,d=void 0===n?[]:n,c=(0,j.selectors)(e.store.getState()),l=c.getFeaturesSelectors,E=l();if(!E.isEnabled(w.Features.COMPOSE_V3)){var m=e.getStore(W.default).getActivePageRoute(),A=e.getStore(G.default),S=o.csid,p=o.accountId,T=i.to,_=i.cc,g=i.bcc,D=!!b.default.getInvalidEmails(T,_,g).length,h=u(e,{userInputtedValues:i,composeData:o,mailboxId:r,attachmentsArray:d}),R=!E.isEnabled(w.Settings.SHOW_IMAGES),v=I(h)?"messages.saveAndSendWithAttachment":"messages.saveAndSend";return h.sentFolderId=A.getFolderIdForAccount(w.FolderTypes.SENT,p),h.secure=R,e.dispatch(L.mail.MESSAGE_SAVE_REQUESTED,{csid:S,isPartial:D}),e.dispatch(L.mail.SEND,{csid:S}),e.mailAPIClient.request(v,h,{strategy:B.default.STRATEGIES.BROWSER_TO_JEDI,timeout:t(h)},h.files).then(function(t){var s=t.message,i=t.simpleBody,r=(0,j.selectors)(e.store.getState()),n=r.getFeaturesSelectors,d=n(),c=d.isEnabled(w.Features.CONVERSATIONS),l=c?s.conversationId:s.id,E=f(m,s.folder.id),u=a(e,E,d.isEnabled("hero"));e.dispatch(L.mail.MESSAGE_SAVE_SUCCEEDED,{csid:S,listId:E,cursorId:u,groupId:l,message:s,simpleBody:i,isPartial:!1,conversationsMode:c}),"C"===s.spame?e.dispatch(L.mail.CAPTCHA_BEGAN,{csid:S}):e.dispatch(L.mail.SEND_SUCCESS,{csid:S,listId:E,conversationsMode:c,prevMessageId:o.lastSavedMessageId,messageId:s.id,currentRoute:e.getStore(W.default).getActivePageRoute()})}).catch(function(t){e.dispatch(L.mail.SEND_FAILURE,{csid:S,error:t})})}}function f(e,t){return e.name===w.RouteNames.EDIT_DRAFT||e.name===w.RouteNames.NEW_DRAFT?(0,Q.getListIdFromFolderId)(t):(0,Q.getListIdFromRoute)(e)}function T(e,t){var a=t.composeData,s=t.mailboxId,i=t.captchaAnswer,o=e.getStore(W.default).getActivePageRoute(),r=e.getStore(G.default),n=a.spame,d=a.csid,c=a.lastSavedMessageId,l=a.folderId,E=a.accountId,u=a.inReplyTo,m=r.getMessageById(c),I=(0,j.selectors)(e.store.getState()),A=I.getFeaturesSelectors,S=A(),p=S.isEnabled(w.Features.CONVERSATIONS);return"C"!==n||i?(e.dispatch(L.mail.SEND,{csid:d}),e.mailAPIClient.request("messages.send",{csid:d,messageId:c,mailboxId:encodeURIComponent(s),folderId:l,sentFolderId:r.getFolderIdForAccount(w.FolderTypes.SENT,E),captchaAnswer:i,inReplyTo:u},{strategy:B.default.STRATEGIES.BROWSER_TO_JEDI}).then(function(t){var a=t.message;e.dispatch(L.mail.SEND_SUCCESS,{csid:d,conversationsMode:p,listId:f(o,m.folder.id),prevMessageId:c,messageId:a.id,currentRoute:e.getStore(W.default).getActivePageRoute()})}).catch(function(t){e.dispatch(L.mail.SEND_FAILURE,{csid:d,error:t})})):e.dispatch(L.mail.CAPTCHA_BEGAN,{csid:d})}function _(e,t){var a=t.userInputtedValues,s=t.csid,i=t.mailboxId,o=t.captchaAnswer,r=t.forceSave,n=void 0!==r&&r,d=t.attachments,c=void 0===d?[]:d,l=e.getStore(G.default),E=l.getComposeData(s);if(E){var u=E.draftStatus,m=b.default.hasInvalidComposeField(a);if(m)switch(m.name){case L.mail.COMPOSE_ADDRESSING_FAILED:return e.dispatch(m.name,m.params);case L.mail.COMPOSE_NO_ADDRESS_DETECTED:case L.mail.COMPOSE_RECIPIENT_LIMIT_EXCEEDED:return e.dispatch(m.name)}if(u!==J.SENDING)return(!n&&(u===w.Draft.Status.SAVED||u===w.Draft.Status.CAPTCHAING&&o)?T:p)(e,{userInputtedValues:a,composeData:E,mailboxId:i,captchaAnswer:o,attachments:c})}}function g(e,t){var a=t.csid;e.dispatch(L.mail.COMPOSE_CLOSED,{csid:a})}function D(e,t){var a=t.csid,s=t.files,i=t.newContentIds;e.dispatch(L.mail.INLINE_FILE_ATTACHMENT_ADDED,{csid:a,files:s,newContentIds:i})}function h(e,t){var a=t.csid,s=t.dataId,i=e.getStore(G.default),o=i.getComposeData(a),r=o.attachments.find(function(e){return e.dataId===s});if(r&&r.disposition===k.INLINE){var n=r.contentId;e.dispatch(L.mail.INLINE_FILE_ATTACHMENT_REMOVED,{csid:a,contentId:n})}}function R(e,t){var a=t.csid,s=t.dataId;e.dispatch(L.mail.REMOVE_INLINE_IMAGE,{csid:a,dataId:s})}function v(e,t){var a=t.csid,s=t.dataId,i=t.isNewCompose,o=t.pid;e.dispatch(L.mail.INLINE_ATTACHMENT_MOVED_TO_TRAY,{csid:a,dataId:s,isNewCompose:i,pid:o})}function C(e,t){var a=t.csid,s=t.contentId;e.dispatch(L.mail.ATTACHMENT_MOVED_TO_INLINE,{csid:a,contentId:s})}function N(e,t){var a=t.csid;e.dispatch(L.mail.REMOVE_NON_LOADED_ATTACHMENTS,{csid:a})}function O(e,t){e.dispatch(L.mail.INLINE_ATTACHMENT_RESTORED,t)}function M(e,t){var a=t.csid;e.dispatch(L.mail.SUBJECT_FOCUSED,{csid:a})}function F(e,t){e.dispatch(L.mail.INLINE_IMAGE_LOAD_FAILED,t)}function x(e,t){e.dispatch(L.mail.INLINE_IMAGE_LOADED,t)}exports.__esModule=!0,exports.SAVE_REQUEST_TIMEOUT_PER_FILE=exports.SAVE_REQUEST_TIMEOUT_BASE=void 0,exports.checkUserIsXobnified=s,exports.clearSuggestions=i,exports.fetchSuggestions=o,exports.addRecipient=r,exports.deleteDraft=n,exports.updateDraftEditState=d,exports.updateDraftSubject=c,exports.handleToolbarActions=l,exports.dragDropContact=E,exports._createSaveApiPayload=u,exports.saveDraft=A,exports.autoSaveDraft=S,exports.send=_,exports.close=g,exports.addInlineAttachment=D,exports.removeInlineAttachment=h,exports.removeInlineImage=R,exports.moveInlineAttachmentToTray=v,exports.moveImageAttachmentInline=C,exports.removeNonloadedAttachments=N,exports.handleInlineImageRestored=O,exports.subjectFocused=M,exports.handleInlineImgFailure=F,exports.handleInlineImageLoaded=x;var L=require("../../platform/react_action_constants"),y=require("./utils/utils"),b=e(y),P=require("../../stores/user_preferences"),U=e(P),V=require("../../stores/mail"),G=e(V),w=require("../../platform/mail_constants"),q=require("../../platform/mail_api_client"),B=e(q),H=require("../../stores/pages"),W=e(H),Q=require("../../platform/utils/list"),j=require("../../reducers_selectors"),J=w.Draft.Status,X=w.Compose.Modes,k=w.Attachments.Dispositions,Y=exports.SAVE_REQUEST_TIMEOUT_BASE=35e3,z=exports.SAVE_REQUEST_TIMEOUT_PER_FILE=6e4;
},{"../../platform/mail_api_client":"./platform/mail_api_client","../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils/list":"./platform/utils/list","../../reducers_selectors":"./reducers_selectors","../../stores/mail":"./stores/mail","../../stores/pages":"./stores/pages","../../stores/user_preferences":"./stores/user_preferences","./utils/utils":"./molecules/compose/utils/utils"}],170:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var t=require("react"),n=e(t),a=require("../../../atoms/menu/menu_button_container.jsx"),s=e(a),l=require("../../../atoms/menu/menu_button.jsx"),u=e(l),r=require("../../../atoms/menu/menu.jsx"),c=e(r),i=require("./account_select_item.jsx"),o=e(i),d=require("../../../types"),m=require("../../../atoms/fuji_icon.jsx"),f=e(m),p=require("../../../atoms/constants/fuji_icon"),h=require("../styles/account_select"),g=e(h),E=require("react-atomic-css/css"),_=e(E),b=function e(){},q=n.default.createClass({displayName:"AccountSelect",getDefaultProps:function e(){return{onFocus:b,onBlur:b,onChange:b}},handleAccountChange:function e(t){this.props.selected!==t&&this.props.onChange(t)},getMenuItems:function e(){var t=this,a=this.props,s=a.sendingAccounts,l=a.selected,u=a.dir;return s.map(function(e){return n.default.createElement(o.default,{key:e.email,dir:u,account:e,selected:e===l,onClick:t.handleAccountChange.bind(t,e)})})},render:function e(){var t=this.props,a=t.selected,l=t.sendingAccounts,r=(0,_.default)(g.default);if(!l.length)return null;var i="<"+a.email+">",o=n.default.createElement("div",{className:r.menuLabelEmail,"data-test-id":"compose-sending-address"},i);return 1===this.props.sendingAccounts.length?n.default.createElement("div",{tabIndex:0,"aria-label":this.props.selectLabel+" "+a.email,className:r.fromField,ref:"accountSelect"},n.default.createElement("span",null,a.sendingName," "),o):n.default.createElement("div",{className:r.select},n.default.createElement(s.default,{onFocus:this.props.onFocus,onBlur:this.props.onBlur,className:r.menuContainer},n.default.createElement(u.default,{"aria-label":this.props.selectLabel+" "+a.email,hasText:!0},n.default.createElement("span",{className:r.label},n.default.createElement("span",null,a.sendingName," "),o,n.default.createElement(f.default,{kind:p.Kinds.CHEVRON_UP,size:p.Sizes.XXS,rotate:p.Rotate.D180}))),n.default.createElement(c.default,null,this.getMenuItems(r))))}});module.exports=q;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/menu/menu.jsx":"./atoms/menu/menu","../../../atoms/menu/menu_button.jsx":"./atoms/menu/menu_button","../../../atoms/menu/menu_button_container.jsx":"./atoms/menu/menu_button_container","../../../types":"./types","../styles/account_select":183,"./account_select_item.jsx":171,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],171:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.account,a=e.selected,r=e.dir,u=e.onClick;return s.default.createElement(l.default,{dir:r,ariaLabel:t.email,kind:n.Kinds.ACCOUNT_PICKER,name:t.email},s.default.createElement(c.default,{kind:d.Kinds.MENUITEM,onClick:u,style:{backgroundColor:a?"#f9faff":""}},s.default.createElement("div",{className:C.buttonContent},s.default.createElement("span",{className:C.checkmarkWrapper},a&&s.default.createElement(m.default,{kind:f.Kinds.CHECKMARK,size:f.Sizes.XS})),"rtl"!==r&&s.default.createElement("span",null,t.sendingName),s.default.createElement("span",{className:C.itemAddress},t.email),"rtl"===r&&s.default.createElement("span",null,t.sendingName))))}exports.__esModule=!0,exports.default=t;var a=require("react"),s=e(a),r=require("../../../atoms/list_item.jsx"),l=e(r),n=require("../../../atoms/constants/list_item"),u=require("../../../types"),i=require("../../../atoms/button.jsx"),c=e(i),d=require("../../../atoms/constants/button"),o=require("../../../atoms/fuji_icon.jsx"),m=e(o),f=require("../../../atoms/constants/fuji_icon"),E=require("../styles/account_select_item"),p=e(E),_=require("react-atomic-css/css"),q=e(_),C=(0,q.default)(p.default);module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/list_item":"./atoms/constants/list_item","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/list_item.jsx":"./atoms/list_item","../../../types":"./types","../styles/account_select_item":184,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],172:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),s=require("react-dom"),a=e(s),o=require("lodash/unescape"),i=e(o),r=require("../../../platform/invariant"),c=e(r),l=n.default.createClass({displayName:"CaptchaComponent",contextTypes:{cspToken:n.default.PropTypes.string},handleEvent:function e(t){switch(t.type){case"message":this.handlePostMessage(t);break;case"load":this.handleCaptchaLoaded(t)}},handlePostMessage:function e(t){var n=this._callbacks[t.data.type];n&&n.length&&n.forEach(function(e){e(t.data.payload)})},handleCaptchaLoaded:function e(){var t=a.default.findDOMNode(this);window.addEventListener("message",this,!1),t.contentWindow.postMessage("register",window.location.href)},on:function e(t,n){this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(n)},off:function e(t,n){(0,c.default)(Array.isArray(this._callbacks[t]),"Invalid eventName. Perhaps you should call on before off");var s=this._callbacks[t].indexOf(n);s>-1&&this._callbacks[t].splice(s,1)},wrapContent:function e(t,n){var s=this.context.cspToken;return n=n.replace("<script ",'<script nonce="'+s+'" '),'<html>\n                 <head>\n                     <script nonce="'+s+'">\n                        function listener(event) {\n                            if (event.data !== "register") { return; }\n                            YAHOO.CAPTCHA.hook.complete = function(answer) {\n                                event.source.postMessage({\n                                    type: "complete",\n                                    payload: answer\n                                }, event.origin);\n                            }\n                            YAHOO.CAPTCHA.hook();\n                        };\n                        window.addEventListener("message", listener);\n                        '+t+"\n                     </script>\n                 </head>\n                 <body>\n                    "+n+"\n                 </body>\n             </html>\n        "},componentDidMount:function e(){this._callbacks=Object.create(null),a.default.findDOMNode(this).addEventListener("load",this,!1),this.on("complete",this.props.onComplete)},componentWillUnmount:function e(){this.off("complete",this.props.onComplete),window.removeEventListener("message",this,!1),a.default.findDOMNode(this).removeEventListener("load",this,!1)},sanitize:function e(t){return t?(0,i.default)(t).replace(/http:\/\/l.yimg.com\//g,"https://s.yimg.com/"):""},render:function e(){var t=this.wrapContent(this.sanitize(this.props.script),this.sanitize(this.props.markup));return n.default.createElement("iframe",{srcDoc:t,style:{display:"none"}})}});exports.default=l,module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant","lodash/unescape":"./node_modules/lodash/unescape.js","react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js"}],"./molecules/compose/atoms/color_picker":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){(0,s.default)(6===e.length,"Expect input to be 6 digit hex color");var t=parseInt(e.slice(0,2),16)/255,a=parseInt(e.slice(2,4),16)/255,l=parseInt(e.slice(4,6),16)/255;return(Math.max(t,a,l)+Math.min(t,a,l))/2<.55}function a(e){var t=e.color,a=e.selected,l=e.name,r=e.isDark,n=e.onClick,s={backgroundColor:t,boxShadow:"#ffffff"===t?"inset 0 0 0 1px #e2e2e6":null};return o.default.createElement(B.default,{name:l,kind:O.Kinds.GRID},o.default.createElement("div",{className:I.colorElement},o.default.createElement(L.default,{title:t,className:I.color,style:s,onClick:n},a&&o.default.createElement(M.default,{kind:S.Kinds.CHECKMARK,size:S.Sizes.XXS,colorState:r?S.ColorStates.INVERTED:S.ColorStates.NORMAL}))))}exports.__esModule=!0,exports._isColorDark=t,exports.ColorElement=a;var l=require("react"),o=e(l),r=require("react-intl"),n=require("../../../platform/invariant"),s=e(n),u=require("../../../atoms/menu/menu.jsx"),c=e(u),i=require("../../../atoms/menu/menu_button.jsx"),d=e(i),f=require("../../../atoms/menu/menu_button_container.jsx"),m=e(f),_=require("../utils/utils"),b=e(_),p=require("../styles/color_picker"),C=e(p),x=require("../styles/expanded_more_tools"),E=e(x),h=require("react-atomic-css/css"),g=e(h),k=require("../../../atoms/fuji_icon.jsx"),M=e(k),S=require("../../../atoms/constants/fuji_icon"),q=require("../../../atoms/fuji_icon_button.jsx"),y=e(q),R=require("../../../atoms/button.jsx"),L=e(R),N=require("../../../atoms/navigable_list.jsx"),v=e(N),D=require("../../../atoms/list_item.jsx"),B=e(D),O=require("../../../atoms/constants/list_item"),j=require("../../../atoms/constants/list"),I=(0,g.default)(C.default),T=(0,g.default)(E.default),w=["000000","808080","ffffff","9d1811","cd232c","d36a53","a46016","dd902f","e4ac64","ac9e19","fdef2b","fdf869","5b8828","8fca40","add773","4c76a2","70aced","7dbef1","440062","652191","845aa7","9c005c","cb008e","d264aa"],G=(0,r.defineMessages)({foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}}),A=o.default.createClass({displayName:"ColorPicker",contextTypes:{intl:r.intlShape.isRequired},statics:{DEFAULTS:{FG_COLOR:"#000000",BG_COLOR:"#ffffff"}},getDefaultProps:function e(){return{swatchColors:w,parentMenu:null}},handleBackButton:function e(t){t.stopPropagation(),this.props.goToMainMenu()},onColorChange:function e(t,a){t(a)},render:function e(){var l=this,n=this.context.intl.formatMessage,s=n(G.foreground_color_text_label),u=this.props,i=u.onFGColorChange,f=u.onBGColorChange,_=u.swatchColors,p=u.selectedFGColor,C=u.selectedBGColor,x=n(G.background_color_text_label),E=b.default.getSixDigitHexColor(p),h=b.default.getSixDigitHexColor(C),g=_.map(function(e){var r="#"+e;return o.default.createElement(a,{key:"fc-"+e,name:"fc-"+e,color:r,selected:E===r,onClick:l.onColorChange.bind(l,i,r),isDark:t(e)})}),k=_.map(function(e){var r="#"+e;return o.default.createElement(a,{key:"bc-"+e,name:"bc-"+e,color:r,selected:h===r,onClick:l.onColorChange.bind(l,f,r),isDark:t(e)})});return o.default.createElement(m.default,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?o.default.createElement(d.default,{style:{display:"none"}}):o.default.createElement(d.default,{"data-test-id":"icon-btn-text_color",title:s,"aria-label":s},o.default.createElement(M.default,{kind:S.Kinds.TEXT_COLOR,size:S.Sizes.XS,colorState:S.ColorStates.NORMAL})),o.default.createElement(c.default,{onHide:this.handleMenuHide,menuLayout:j.Layout.VERTICAL},this.props.parentMenu?o.default.createElement(y.default,{title:n(G.back_button_text_label),kind:S.Kinds.ARROW_UP,size:S.Sizes.XS,rotate:S.Rotate.D270,colorState:S.ColorStates.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_color_back"},o.default.createElement("span",{className:T.backButtonLabel},o.default.createElement(r.FormattedMessage,G.back_button_text_label))):"",o.default.createElement("div",{className:this.props.parentMenu?I.subColorMenu:I.colorMenu},o.default.createElement(v.default,{layout:j.Layout.HORIZONTAL},o.default.createElement("li",{className:I.swatchItem},o.default.createElement("div",{className:I.swatchTitleBase},o.default.createElement(r.FormattedMessage,G.foreground_color_text_label)),o.default.createElement("div",{className:I.swatchContent},o.default.createElement(v.default,{layout:j.Layout.GRID},g))),o.default.createElement("li",{className:I.swatchItem},o.default.createElement("div",{className:I.swatchTitleBase},o.default.createElement(r.FormattedMessage,G.background_color_text_label)),o.default.createElement("div",{className:I.swatchContent},o.default.createElement(v.default,{layout:j.Layout.GRID,title:x},k)))))))}});exports.default=A;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/list":"./atoms/constants/list","../../../atoms/constants/list_item":"./atoms/constants/list_item","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/list_item.jsx":"./atoms/list_item","../../../atoms/menu/menu.jsx":"./atoms/menu/menu","../../../atoms/menu/menu_button.jsx":"./atoms/menu/menu_button","../../../atoms/menu/menu_button_container.jsx":"./atoms/menu/menu_button_container","../../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../../platform/invariant":"./platform/invariant","../styles/color_picker":"./molecules/compose/styles/color_picker","../styles/expanded_more_tools":"./molecules/compose/styles/expanded_more_tools","../utils/utils":"./molecules/compose/utils/utils","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],173:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),t=e(a),r=require("react-atomic-css/css"),s=e(r),i=require("../styles/dragdrop_overlay"),l=e(i),n=require("react-intl"),o=require("../../../atoms/fuji_icon.jsx"),d=e(o),u=require("../../../atoms/constants/fuji_icon"),c=(0,s.default)(l.default),p="Files",f=t.default.createClass({displayName:"DragDropOverlay",getInitialState:function e(){return{dragOverlayVisible:!1}},handleDragOver:function e(a){Array.prototype.slice.call(a.dataTransfer.types).some(function(e){return e===p})&&(this.state.dragOverlayVisible||this.setState({dragOverlayVisible:!0}),a.preventDefault(),a.stopPropagation())},handleDragLeave:function e(a){a.preventDefault(),a.stopPropagation(),this.state.dragOverlayVisible&&this.setState({dragOverlayVisible:!1})},handleDrop:function e(a){var t=this;a.preventDefault(),a.stopPropagation();var r=a.dataTransfer.files;this.setState({dragOverlayVisible:!1},function(){return t.props.onDrop(Array.prototype.slice.call(r))})},render:function e(){return t.default.createElement("div",{onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,className:c.attachmentDragContainer},this.props.children,this.state.dragOverlayVisible?t.default.createElement("div",{className:c.dragOverlay},t.default.createElement("div",{className:c.dragDescriptionContainer},t.default.createElement(d.default,{kind:u.Kinds.ATTACH_GENERIC_48,colorState:u.ColorStates.ATTACH_GENERIC,size:u.Sizes.L}),t.default.createElement("div",{className:c.dragTextDescription},t.default.createElement(n.FormattedMessage,{id:"compose.rte_dragdrop_overlay",defaultMessage:"Drag and drop files here"})))):null)}});exports.default=f,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../styles/dragdrop_overlay":187,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/compose/atoms/editor":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n=require("react"),i=e(n),o=require("react-dom"),a=require("ymail-editor"),r=e(a),s=require("lodash/debounce"),l=e(s),h=require("react-atomic-css/css"),d=e(h),u=require("../styles/editor"),c=e(u),m=require("react-intl"),g=require("../../../types"),f=require("../../../atoms/fuji_icon.jsx"),p=e(f),v=require("../utils/utils"),P=e(v),_=require("../../../platform/mail_constants"),y=require("../constants"),C=require("../../../platform/invariant"),E=e(C),S=require("../../../atoms/constants/fuji_icon"),I=require("../../../platform/utils/message_quote_finder"),k=require("../../../platform/utils/object"),A=require("../../../atoms/lazy_component"),T=require("../plugins/hyperlink_plugin"),b=e(T),O=require("../../../platform/utils/inline_image.js"),x=_.Attachments.Dispositions,L=(0,m.defineMessages)({inlineImageAltText:{id:"compose.inline_image",defaultMessage:"Inline image"},gifPickerAttribution:{id:"compose.gif_picker_attr",defaultMessage:"Via {htmlImage}"},gifPickerAttributionForTumbler:{id:"compose.gif_picker_attr_tumbler",defaultMessage:"By {ownerId} on {htmlImage}"}}),z=function e(){},M=i.default.createClass({displayName:"Editor",contextTypes:{config:n.PropTypes.object,intl:m.intlShape.isRequired,executeAction:n.PropTypes.func,linkEnhancerClient:g.LinkEnhancerClientType},getInitialState:function e(){return{rtePlaceholderVisible:!0,hiddenQuotedText:"",imgFromGifPicker:!0,showSendAsAttachmentBtn:!0,showRemoveOnly:!1,isErrorState:!1,imageSize:y.CURRENT_IMAGE_SIZE_STATUS.SMALL}},getDefaultProps:function e(){return{kind:y.EditorTypes.COMPOSE,onStationeryThemeChange:z,onStationeryDefaultThemeChange:z,setEditState:z,autoExpandQuotedText:!1,contentEditable:!0}},componentDidMount:function e(){document.execCommand("enableObjectResizing",!1,"false"),this.editorSetup(this.props),this.props.autoExpandQuotedText&&setTimeout(this.expandQuote),this.debouncedUpdateOnContentChange=(0,l.default)(this.updateOnContentChange,500)},componentWillReceiveProps:function e(t){if(t.csid!==this.props.csid&&this.editorSetup(t),this._inlineImagePlugin){this._inlineImagePlugin.setScrollableArea(t.scrollableAreaRef);var n=t.attachments.filter(function(e){return e.disposition===x.INLINE});n.length>0&&this._inlineImagePlugin.update(n)}this._linkEnhancerPlugin&&this._linkEnhancerPlugin.setScrollableArea(t.scrollableAreaRef)},shouldComponentUpdate:function e(t,n){var i=this.props,o=this.state;return t.csid!==i.csid||t.content!==i.content||n.hiddenQuotedText!==o.hiddenQuotedText||n.rtePlaceholderVisible!==o.rtePlaceholderVisible||n.imgFromGifPicker!==o.imgFromGifPicker||n.showSendAsAttachmentBtn!==o.showSendAsAttachmentBtn||n.imageSize!==o.imageSize||n.cardSize!==o.cardSize||n.showRemoveOnly!==o.showRemoveOnly||n.isErrorState!==o.isErrorState||t.contentEditable!==i.contentEditable},editorSetup:function e(t){var n=this.refs.rte,i=t.content,o=t.htmlAnnotations;if(!this.rte){var a;this.rte=new r.default({element:n,isRich:!0,shouldTabIndent:!0}),this.rte.addPlugin({contentChanged:this.onContentChange}),this.rte.addPlugin({commands:{add_attachment:{action:function e(){t.onAttachmentShortcut(t.csid)}}},keydownCommands:(a={},a[y.RTEKeyModifier.SPECIAL|y.RTEKeyModifier.SHIFT]={85:"add_attachment"},a[y.RTEKeyModifier.SPECIAL]={75:"createlink"},a)}),this._lazyLoadedPlugins&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins,t)}if(i){var s=(0,I.separateQuote)(i,o),l=s.quote,h=s.nonQuote;this.setState({rtePlaceholderVisible:!1,hiddenQuotedText:l}),this.rte.setHTML(h,{skipContentChanged:!0}),(0,O.fixImageSrc)(this.rte.element,this.props.attachments),this._inlineImagePlugin&&this._inlineImagePlugin.contentChanged("sethtml"),this._linkEnhancerPlugin&&this._linkEnhancerPlugin.contentChanged("sethtml")}t.initialFocus&&this.rte.focus(),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft()},handleSendAsAttachment:function e(){var t=this.getHoverImageDataId();if(t)this.props.onSendAsAttachment(!0,t,null);else{var n=this.getHoverImagePid();this.props.onSendAsAttachment(!1,null,n)}this.removeHoverImage()},removeHoverImage:function e(){this._inlineImagePlugin.removeHoverImage()},removeNonloadedAttachments:function e(){this._inlineImagePlugin.removeNonloadedAttachments()},resizeHoverImage:function e(t){this._inlineImagePlugin.resizeHoverImage(t)},getHoverImageDataId:function e(){return this._inlineImagePlugin.getHoverImageDataId()},getHoverImagePid:function e(){return this._inlineImagePlugin.getHoverImagePid()},fixOverlayPosition:function e(){this._inlineImagePlugin.fixOverlayPosition()},_resizeLinkEnhancerCard:function e(t){this._linkEnhancerPlugin.handleResizeCard({newSize:t})},_removeLinkEnhancerCard:function e(){this._linkEnhancerPlugin.handleRemoveCard()},_moveLinkEnhancerCard:function e(){this._linkEnhancerPlugin.handleMoveCardToBottom()},positionOverlayOverCard:function e(){this._linkEnhancerPlugin.positionOverlayOverCard()},getOffsetFromEditorContainer:function e(t){for(var n={offsetTop:0,offsetLeft:0};t&&t!==this.refs.editorContainer&&t!==document.body;)n.offsetTop+=t.offsetTop,n.offsetLeft+=t.offsetLeft,t=t.offsetParent;return n},componentWillUnmount:function e(){this.debouncedUpdateOnContentChange.cancel(),this.rte&&(this.rte._mutationObserver&&this.rte._mutationObserver.disconnect(),this.rte.destroy())},onContentChange:function e(t){this.props.setEditState(!0),this.debouncedUpdateOnContentChange(t)},updateOnContentChange:function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.updateOnContentChangeTimeout&&(clearTimeout(this.updateOnContentChangeTimeout),this.updateOnContentChangeTimeout=null);var o=void 0,a=void 0;try{o=document.queryCommandValue("foreColor"),a=document.queryCommandValue("backColor")}catch(e){(0,E.default)(i<10,e.toString()),this.updateOnContentChangeTimeout=setTimeout(function(){n.onContentChange(t,i+1)},100*i+10)}(0,E.default)(this.rte.element,"RTE should be available at this point");var r=this.rte.isRich;this.props.onContentChange({format:{foreColor:o,backgroundColor:a,richTextMode:r},content:this.getRawMessageContent(),caret:this.rte.getCaretCoordinates(),type:t&&t.type}),this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})},insertGif:function e(t){return this._inlineImagePlugin&&this._inlineImagePlugin.insertGif(t)},insertEmoji:function e(t){return this._inlineImagePlugin&&this._inlineImagePlugin.insertEmoji(t)},getInnerHtml:function e(){return this.rte.getRawHTML()},getRawMessageContent:function e(){return this.rte.getRawHTML()+this.state.hiddenQuotedText},getSanitizedContent:function e(){return this.rte.getContent()+this.state.hiddenQuotedText},needsOutlookSupport:function e(){return this._linkEnhancerPlugin?this._linkEnhancerPlugin.hasCards():!!this.rte.element.querySelector('div[class*="yahoo-link-enhancr-card"]')},containsStationery:function e(){return!!this._stationeryPlugin&&this._stationeryPlugin.isStationeryUsed()},handleMouseDown:function e(){this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})},handleKeyDown:function e(t){this.props.onKeyDown&&this.props.onKeyDown(t)},handleQuoteExpand:function e(t){t.preventDefault(),t.stopPropagation(),this.expandQuote()},expandQuote:function e(){this.rte.setHTML(this.state.hiddenQuotedText,{isAppend:!0,skipContentChanged:!0}),this.setState({hiddenQuotedText:""}),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft()},updateImgHoverOverlayProps:function e(n){this.setState(t({imgFromGifPicker:!1,showSendAsAttachmentBtn:!1,showRemoveOnly:!1,isErrorState:!1,imageSize:y.CURRENT_IMAGE_SIZE_STATUS.SMALL},n))},updateCurrentCardState:function e(t){var n=t.newCardSize;this.setState({cardSize:n})},handlePluginsLoaded:function e(t){this._lazyLoadedPlugins=t,this.rte&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins)},_initializeLazyLoadedPlugins:function e(t,n){var i=t.InlineImagePlugin,a=t.StationeryPlugin,r=t.LinkEnhancerPlugin,s=t.TableFormatterPlugin;if(this.props.linkEnhancer&&!this._linkEnhancerPlugin&&(this._linkEnhancerPlugin=new r({rte:this.rte,overlay:(0,o.findDOMNode)(this.refs.linkEnhancerOverlay),apiClient:this.context.linkEnhancerClient,getOffsetFromEditorContainer:this.getOffsetFromEditorContainer,blacklist:this.props.linkEnhancerUrlBlacklist,scrollableArea:this.props.scrollableAreaRef,onCardHovered:this.updateCurrentCardState,context:this.context}),this.rte.addPlugin(this._linkEnhancerPlugin)),this.props.stationery&&!this._stationeryPlugin){var l=n||this.props,h=l.htmlAnnotations,d=void 0===h?[]:h,u=this.props,c=u.onStationeryThemeChange,m=u.onStationeryDefaultThemeChange,g=u.rtl;this._stationeryPlugin=new a({rte:this.rte,htmlAnnotations:d,onThemeChange:c,onDefaultThemeChange:m,context:this.context,fontFamily:this.props.composeFontFamily,rtl:g}),this.rte.addPlugin(this._stationeryPlugin),this._stationeryPlugin.checkAndSetDraft()}this.props.inlineAttachment&&!this._inlineImagePlugin&&(this._inlineImagePlugin=new i({rte:this.rte,altText:this.context.intl.formatMessage(L.inlineImageAltText),gifPickerAttribution:L.gifPickerAttribution,gifPickerAttributionTumbler:L.gifPickerAttributionForTumbler,formatMessage:this.context.intl.formatMessage,attachments:this.props.attachments.filter(function(e){return e.disposition===x.INLINE}),onImageRemove:this.props.onImageRemove,onImageRestored:this.props.onImageRestored,onImagePaste:this.props.onImagePaste,updateImgHoverOverlayProps:this.updateImgHoverOverlayProps,handleInlineImgFailure:this.props.handleInlineImgFailure,getOffsetFromEditorContainer:this.getOffsetFromEditorContainer,onInlineImageLoaded:this.props.onInlineImageLoaded,_overlay:(0,o.findDOMNode)(this.refs.imageOverlay),setEditState:this.props.setEditState}),this.rte.addPlugin(this._inlineImagePlugin)),this._tableFormatterPlugin||(this._tableFormatterPlugin=new s,this.rte.addPlugin(this._tableFormatterPlugin))},formatMessage:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.context.intl.formatMessage(t,n)},_notifyPlugins:function e(){var t=this.props,n=t.linkEnhancer;t.inlineAttachment&&this._inlineImagePlugin&&(this._inlineImagePlugin.setOverylayNode((0,o.findDOMNode)(this.refs.imageOverlay)),this._inlineImagePlugin.contentChanged("sethtml")),n&&this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setOverylayNode((0,o.findDOMNode)(this.refs.linkEnhancerOverlay)),this._inlineImagePlugin.contentChanged("sethtml"))},render:function e(){var t=this.props,n=t.ariaLabel,o=t.kind,a=t.contentEditable,r=t.inlineAttachment,s=(0,d.default)(c.default,{kind:o}),l=this.state,h=l.hiddenQuotedText,u=l.imgFromGifPicker,g=l.showSendAsAttachmentBtn,f=l.showRemoveOnly,v=l.isErrorState,_=l.imageSize,C=l.cardSize,E={fontFamily:this.props.composeFontFamily,fontSize:P.default.getFontSizeStyle(this.props.composeFontSize)};return i.default.createElement("div",{tabIndex:-1,onBlur:this.props.onBlur,"data-test-id":"editorWrapper",className:s.editorWrapper},i.default.createElement("div",{className:s.placeholder,"data-test-id":"rte_placeholder"},this.state.rtePlaceholderVisible?i.default.createElement(m.FormattedMessage,{id:"compose.rte_placeholder",defaultMessage:"Write something..."}):null),i.default.createElement(b.default,{editor:this.rte},i.default.createElement(A.LazyComponent,{import:"./editor_plugin_loader.jsx",onLoad:this.handlePluginsLoaded,_moduleGetter:function e(){return require("./editor_plugin_loader.jsx")}}),i.default.createElement("div",{className:s.editorContainer,id:"editor-container",ref:"editorContainer"},i.default.createElement("div",{"data-test-id":"rte",role:"textbox",spellCheck:!0,autoCorrect:!1,"aria-multiline":!0,contentEditable:a,"aria-label":n,className:"rte "+s.rte,ref:"rte",style:E,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.props.onFocus}),r?i.default.createElement(A.LazyComponent,{import:"./img_hover_overlay.jsx",ref:"imageOverlay",onload:this._notifyPlugins,overlayType:y.RTEHoverOverlayTypes.IMAGE,onHoverImageRemove:this.removeHoverImage,onImageResize:this.resizeHoverImage,onSendAsAttachment:this.handleSendAsAttachment,fixOverlayPosition:this.fixOverlayPosition,imgFromGifPicker:u,showSendAsAttachmentBtn:g,showRemoveOnly:f,isErrorState:v,imageSize:_,_moduleGetter:function e(){return require("./img_hover_overlay.jsx")}}):null,this.props.linkEnhancer?i.default.createElement(A.LazyComponent,{import:"./img_hover_overlay.jsx",onload:this._notifyPlugins,ref:"linkEnhancerOverlay",overlayType:y.RTEHoverOverlayTypes.LINK_ENHANCER_CARD,onCardResize:this._resizeLinkEnhancerCard,onCardRemove:this._removeLinkEnhancerCard,onCardMove:this._moveLinkEnhancerCard,fixOverlayPosition:this.positionOverlayOverCard,cardSize:C,_moduleGetter:function e(){return require("./img_hover_overlay.jsx")}}):null)),h?i.default.createElement("div",null,i.default.createElement("button",{"data-test-id":"compose-show-quoted-text",onClick:this.handleQuoteExpand,className:s.button},i.default.createElement("span",{className:s.buttonInner},i.default.createElement(p.default,{kind:S.Kinds.CHEVRON_UP,size:S.Sizes.XXS,rotate:S.Rotate.D90,colorState:S.ColorStates.DISABLED}),i.default.createElement(m.FormattedMessage,{id:"compose.show_quote",defaultMessage:"Show Original Message"})))):null)}});exports.default=M,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/lazy_component":"./atoms/lazy_component","../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/inline_image.js":"./platform/utils/inline_image","../../../platform/utils/message_quote_finder":"./platform/utils/message_quote_finder","../../../platform/utils/object":"./platform/utils/object","../../../types":"./types","../constants":"./molecules/compose/constants","../plugins/hyperlink_plugin":"./molecules/compose/plugins/hyperlink_plugin","../styles/editor":"./molecules/compose/styles/editor","../utils/utils":"./molecules/compose/utils/utils","./editor_plugin_loader.jsx":"./molecules/compose/atoms/editor_plugin_loader","./img_hover_overlay.jsx":"./molecules/compose/atoms/img_hover_overlay","lodash/debounce":"./node_modules/lodash/debounce.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js","ymail-editor":"./node_modules/ymail-editor/index.js"}],"./molecules/compose/atoms/expanded_more_tools":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),l=require("../../../atoms/list_item.jsx"),n=e(l),s=require("../../../atoms/fuji_icon.jsx"),i=e(s),o=require("../../../atoms/constants/fuji_icon"),d=require("../../../atoms/button.jsx"),c=e(d),u=require("../../../atoms/menu/menu_button_container.jsx"),m=e(u),r=require("../../../atoms/menu/menu_button.jsx"),f=e(r),E=require("../../../atoms/menu/menu.jsx"),p=e(E),b=require("./font_name_size.jsx"),h=e(b),_=require("./color_picker.jsx"),g=e(_),M=require("../../../atoms/constants/list"),N=require("react-atomic-css/css"),k=e(N),L=require("../styles/expanded_more_tools"),I=e(L),C=require("react-intl"),x=(0,C.defineMessages)({plaintext_icon_label:{id:"compose.plaintext_icon_label",defaultMessage:"Switch to plain text mode"},plaintext:{id:"compose.plaintext",defaultMessage:"Switch to plain text mode"},plaintext_text_label:{id:"compose.plaintext_text_label",defaultMessage:"Plain Text"},leftAlign:{id:"compose.left_align_icon",defaultMessage:"Left align"},rightAlign:{id:"compose.right_align_icon",defaultMessage:"Right align"},centerAlign:{id:"compose.center_align_icon",defaultMessage:"Center align"},bulletedList:{id:"compose.bulleted_list_icon",defaultMessage:"Bulleted List"},numberedList:{id:"compose.numbered_list_icon",defaultMessage:"Numbered list"},increaseIndent:{id:"compose.increase_indent_icon",defaultMessage:"Increase indent"},decreaseIndent:{id:"compose.decrease_indent_icon",defaultMessage:"Decrease indent"},bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},color:{id:"compose.color",defaultMessage:"Color"}}),S=(0,k.default)(I.default),z=a.default.createClass({displayName:"ExpandedMoreTools",contextTypes:{intl:C.intlShape.isRequired},getInitialState:function e(){return{showMainMenu:!0,showColorMenu:!1,showFontMenu:!1}},onClickColor:function e(t){this.setState({showMainMenu:!1,showColorMenu:!0,showFontMenu:!1}),t.stopPropagation()},onClickFont:function e(t){this.setState({showMainMenu:!1,showColorMenu:!1,showFontMenu:!0}),t.stopPropagation()},onShowMenu:function e(){this.props.onMenuShow(),this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})},focusBackEditor:function e(){this.setState({showColorMenu:!1,showFontMenu:!1}),this.refs.expandedmoretoolsmenu.hideMenu(),this.props.focusBackEditor()},goToMainMenu:function e(){this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})},render:function e(){var t=this.props,l=t.tooltip,s=t.onChange,d=t.showPlainTextToggle,u=this.context.intl.formatMessage;return a.default.createElement("div",null,a.default.createElement(m.default,{ref:"expandedmoretoolsmenu",afterMenuHide:this.focusBackEditor,showMenuActiveState:!1,onMenuShow:this.onShowMenu},a.default.createElement(f.default,{"aria-label":l,"data-test-id":"icon-btn-expanded_more_tools",title:l},a.default.createElement(i.default,{kind:o.Kinds.MORE,size:o.Sizes.XS,colorState:o.ColorStates.INHERITED})),this.state.showMainMenu?a.default.createElement(p.default,{menuLayout:M.Layout.VERTICAL},a.default.createElement("div",{className:S.menuContainer},a.default.createElement("div",null,a.default.createElement(n.default,{key:"link",name:"link",className:S.menuListItem,ariaLabel:u(x.link_icon_label),onClick:this.props.onAddLink},a.default.createElement(c.default,{className:S.button,title:u(x.link),"data-test-id":"icon-btn-link"},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.LINK,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.link))))),a.default.createElement(n.default,{key:"font",name:"font",className:S.menuListItem,ariaLabel:u(x.font_name_size),onClick:this.onClickFont,"data-test-id":"icon-btn-font"},a.default.createElement(c.default,{className:S.button,title:u(x.font_name_size),"data-test-id":"icon-btn-text_expanded"},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.TEXT,size:o.Sizes.XS,colorState:o.ColorStates.NORMAL})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.font_name_size))))),a.default.createElement(n.default,{key:"color",name:"color",className:S.menuListItem,ariaLabel:u(x.color),onClick:this.onClickColor,"data-test-id":"icon-btn-color"},a.default.createElement(c.default,{className:S.button,title:u(x.color),"data-test-id":"icon-btn-text_color_expanded"},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.TEXT_COLOR,size:o.Sizes.XS,colorState:o.ColorStates.NORMAL})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.color))))),a.default.createElement("span",{className:S.sectionDivider}),a.default.createElement(n.default,{key:"align-l",name:"align-l",className:S.menuListItem,ariaLabel:u(x.leftAlign),onClick:s.bind(null,"left")},a.default.createElement(c.default,{className:S.button,title:u(x.leftAlign)},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.ALIGN_LEFT,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.leftAlign))))),a.default.createElement(n.default,{key:"align-c",name:"align-c",className:S.menuListItem,ariaLabel:u(x.centerAlign),onClick:s.bind(null,"center")},a.default.createElement(c.default,{className:S.button,title:u(x.centerAlign)},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.ALIGN_CENTER,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.centerAlign))))),a.default.createElement(n.default,{key:"align-r",name:"align-r",className:S.menuListItem,ariaLabel:u(x.rightAlign),onClick:s.bind(null,"right")},a.default.createElement(c.default,{className:S.button,title:u(x.rightAlign)},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.rightAlignIcon},a.default.createElement(i.default,{kind:o.Kinds.ALIGN_LEFT,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.rightAlign))))),a.default.createElement(n.default,{name:"indent",key:"indent",className:S.menuListItem,ariaLabel:u(x.increaseIndent),onClick:s.bind(null,"indent")},a.default.createElement(c.default,{className:S.button,title:u(x.increaseIndent)},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.INDENT,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.increaseIndent)))))),a.default.createElement("div",{className:S.spaceBetween}),a.default.createElement("div",null,a.default.createElement(n.default,{key:"bold",name:"bold",className:S.menuListItem,ariaLabel:u(x.bold_icon_label),onClick:this.props.onClickBold},a.default.createElement(c.default,{className:S.button,title:u(x.bold),"data-test-id":"icon-btn-bold"},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.BOLD,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.bold))))),a.default.createElement(n.default,{key:"italic",name:"italic",className:S.menuListItem,ariaLabel:u(x.italic_icon_label),onClick:this.props.onClickItalic},a.default.createElement(c.default,{className:S.button,title:u(x.italic),"data-test-id":"icon-btn-italic"},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.ITALIC,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.italic))))),d?a.default.createElement(n.default,{key:"turn-off-richtext",name:"turn-off-richtext",className:S.menuListItem,ariaLabel:u(x.plaintext_icon_label),onClick:s.bind(null,"plaintext")},a.default.createElement(c.default,{className:S.button,title:u(x.plaintext),"data-test-id":"richtext_off"},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.RICHTEXT_OFF,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.plaintext_text_label))))):a.default.createElement(n.default,{className:S.menuListItem}),a.default.createElement("span",{className:S.sectionDivider}),a.default.createElement(n.default,{key:"bullet",name:"bullet",className:S.menuListItem,ariaLabel:u(x.bulletedList),onClick:s.bind(null,"bullet")},a.default.createElement(c.default,{className:S.button,title:u(x.bulletedList)},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.LIST_UNORDERED,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.bulletedList))))),a.default.createElement(n.default,{key:"number",name:"number",className:S.menuListItem,ariaLabel:u(x.numberedList),onClick:s.bind(null,"number")},a.default.createElement(c.default,{className:S.button,title:u(x.numberedList)},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.LIST_ORDERED,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.numberedList))))),a.default.createElement(n.default,{key:"outdent",name:"outdent",className:S.menuListItem,ariaLabel:u(x.decreaseIndent),onClick:s.bind(null,"outdent")},a.default.createElement(c.default,{className:S.button,title:u(x.decreaseIndent)},a.default.createElement("div",{className:S.menuItem},a.default.createElement("span",{className:S.menuIcon},a.default.createElement(i.default,{kind:o.Kinds.OUTDENT,size:o.Sizes.XS})),a.default.createElement("span",{className:S.menuLabel},a.default.createElement(C.FormattedMessage,x.decreaseIndent)))))))):a.default.createElement(p.default,{style:{display:"none"}})),this.state.showColorMenu?a.default.createElement("span",null,a.default.createElement(g.default,{selectedFGColor:this.props.foreColor,selectedBGColor:this.props.backgroundColor,onFGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"forecolor"),onBGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"backcolor"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"",this.state.showFontMenu?a.default.createElement("span",null,a.default.createElement(h.default,{selectedFontSize:this.props.fontSize,selectedFontFamily:this.props.fontFamily,onFontSizeChange:this.props.onChooseFont.bind(this.props.toolbar,"fontsize"),onFontFamilyChange:this.props.onChooseFont.bind(this.props.toolbar,"fontname"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"")}});exports.default=z,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/list":"./atoms/constants/list","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/list_item.jsx":"./atoms/list_item","../../../atoms/menu/menu.jsx":"./atoms/menu/menu","../../../atoms/menu/menu_button.jsx":"./atoms/menu/menu_button","../../../atoms/menu/menu_button_container.jsx":"./atoms/menu/menu_button_container","../styles/expanded_more_tools":"./molecules/compose/styles/expanded_more_tools","./color_picker.jsx":"./molecules/compose/atoms/color_picker","./font_name_size.jsx":"./molecules/compose/atoms/font_name_size","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],174:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r){var t={};for(var a in e)r.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}function t(e){var t=e.hasFocus,s=r(e,["hasFocus"]),u=(0,c.default)(l.default,{hasFocus:t});return o.default.createElement("div",a({},s,{className:u.input}),e.children)}exports.__esModule=!0;var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};exports.default=t;var s=require("react"),o=e(s),u=require("react-atomic-css/css"),c=e(u),n=require("../styles/focus_bordered"),l=e(n);module.exports=exports.default;
},{"../styles/focus_bordered":189,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./molecules/compose/atoms/font_name_size":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),n=require("react-intl"),l=require("../../../atoms/fuji_icon.jsx"),s=e(l),o=require("../../../atoms/fuji_icon_button.jsx"),i=e(o),u=require("../../../atoms/menu/menu_button_container.jsx"),r=e(u),_=require("../../../atoms/menu/menu_button.jsx"),d=e(_),f=require("../../../atoms/menu/menu.jsx"),m=e(f),c=require("./font_name_size_menuitem.jsx"),p=e(c),b=require("../constants"),z=require("../../../atoms/constants/fuji_icon"),g=require("../../../atoms/navigable_list.jsx"),x=e(g),M=require("../../../atoms/list_item.jsx"),S=e(M),y=require("../../../atoms/constants/list"),k=require("react-atomic-css/css"),E=e(k),h=require("../styles/expanded_more_tools"),F=e(h),q=require("../utils/utils"),L=(0,E.default)(F.default),C=(0,n.defineMessages)({font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}}),j=a.default.createClass({displayName:"FontNameSize",contextTypes:{intl:n.intlShape.isRequired},getDefaultProps:function e(){return{parentMenu:null}},handleBackButton:function e(t){t.stopPropagation(),this.props.goToMainMenu()},render:function e(){var t,l=this,o=this.context.intl.formatMessage,u=(t={},t[b.FontSizes[0].name]=o(C.font_size_label_tiny),t[b.FontSizes[1].name]=o(C.font_size_label_small),t[b.FontSizes[2].name]=o(C.font_size_label_medium),t[b.FontSizes[3].name]=o(C.font_size_label_large),t[b.FontSizes[4].name]=o(C.font_size_label_xlarge),t[b.FontSizes[5].name]=o(C.font_size_label_huge),t),_=parseInt(this.props.selectedFontSize,10),f=this.props.selectedFontFamily,c=b.FontSizes.map(function(e){var t=e.name,n=e.fontSize;return a.default.createElement(p.default,{key:t,kind:t,text:u[t]||"",onClick:l.props.onFontSizeChange.bind(null,n),selected:n===_})}),g=b.Fonts.map(function(e){var t=e.name,n=e.label,s=e.fontFamily,i=s.replace(/['," ]/g,"").toLowerCase(),u=f.replace(/['," ]/g,"").toLowerCase(),r=i===u;return a.default.createElement(p.default,{key:t,kind:t,text:(0,q.getLocalizedFontFamilyName)(o,t)||n,onClick:l.props.onFontFamilyChange.bind(null,s),selected:r})});return a.default.createElement(r.default,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?a.default.createElement(d.default,{style:{display:"none"}}):a.default.createElement(d.default,{"aria-label":o(C.font_name_size),"data-test-id":"icon-btn-text",title:o(C.font_name_size)},a.default.createElement(s.default,{kind:z.Kinds.TEXT,size:z.Sizes.XS,colorState:z.ColorStates.NORMAL})),a.default.createElement(m.default,{style:this.props.parentMenu?{marginLeft:"8px",marginTop:"4px"}:{},menuLayout:y.Layout.VERTICAL},this.props.parentMenu?a.default.createElement(i.default,{title:o(C.back_button_text_label),kind:z.Kinds.ARROW_UP,size:z.Sizes.XS,rotate:z.Rotate.D270,colorState:z.ColorStates.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_back"},a.default.createElement("span",{className:L.backButtonLabel},a.default.createElement(n.FormattedMessage,C.back_button_text_label))):"",a.default.createElement(x.default,{layout:y.Layout.HORIZONTAL},a.default.createElement(S.default,{key:"font-families"},a.default.createElement(x.default,null,g)),a.default.createElement(S.default,{key:"font-sizes"},a.default.createElement(x.default,null,c)))))}});exports.default=j,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/list":"./atoms/constants/list","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/list_item.jsx":"./atoms/list_item","../../../atoms/menu/menu.jsx":"./atoms/menu/menu","../../../atoms/menu/menu_button.jsx":"./atoms/menu/menu_button","../../../atoms/menu/menu_button_container.jsx":"./atoms/menu/menu_button_container","../../../atoms/navigable_list.jsx":"./atoms/navigable_list","../constants":"./molecules/compose/constants","../styles/expanded_more_tools":"./molecules/compose/styles/expanded_more_tools","../utils/utils":"./molecules/compose/utils/utils","./font_name_size_menuitem.jsx":"./molecules/compose/atoms/font_name_size_menuitem","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/compose/atoms/font_name_size_menuitem":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.kind,s=e.text,n=e.onClick,l=e.selected,o=(0,q.default)(_.default,{kind:t,selected:l});return a.default.createElement(m.default,{key:t,kind:r.Kinds.WRAP_CONTENT,name:t,text:s},a.default.createElement(i.default,{kind:u.Kinds.MENUITEM,onClick:n},a.default.createElement("div",{className:o.menuItem},a.default.createElement("span",{className:o.checkmarkWrapper},l&&a.default.createElement(d.default,{kind:c.Kinds.CHECKMARK,size:c.Sizes.XS})),s)))}exports.__esModule=!0;var s=require("react"),a=e(s),r=require("../../../atoms/constants/list_item"),n=require("../../../atoms/button.jsx"),i=e(n),u=require("../../../atoms/constants/button"),l=require("../../../atoms/fuji_icon.jsx"),d=e(l),c=require("../../../atoms/constants/fuji_icon"),o=require("../../../atoms/list_item.jsx"),m=e(o),f=require("../styles/font_name_size_menuitem"),_=e(f),k=require("react-atomic-css/css"),q=e(k);exports.default=t,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/list_item":"./atoms/constants/list_item","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/list_item.jsx":"./atoms/list_item","../styles/font_name_size_menuitem":"./molecules/compose/styles/font_name_size_menuitem","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./molecules/compose/atoms/go_to_link":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),r=require("../../../atoms/layer.jsx"),o=e(r),s=require("react-intl"),l=require("react-atomic-css/css"),n=e(l),i=require("../styles/go_to_link"),d=e(i),u=require("../../../atoms/utils/menu_utils"),c=/^(?:https?|ftp|mailto):/i,m=(0,n.default)(d.default),f=a.default.createClass({displayName:"GoToLink",editLink:function e(){this.props.onEdit()},removeLink:function e(){this.props.onRemove()},componentDidMount:function e(){var t=this.props.anchorNode,a=(0,u.getMenuLayerStyles)(t,this.container),r=a.left,o=a.top;Object.assign(this.container.style,{left:r+"px",top:o+"px"})},render:function e(){var t=this,r=this.props.goToLinkValue.trim(),l=c.test(r);return a.default.createElement(o.default,null,a.default.createElement("div",{className:m.container,ref:function e(a){return t.container=a}},a.default.createElement("div",{className:m.linkWrapper},a.default.createElement(s.FormattedMessage,{id:"compose.link_go_to",defaultMessage:"Go to"})," ",a.default.createElement("span",null,l?a.default.createElement("a",{className:m.link,href:r,rel:"noreferrer",target:"_blank","data-test-id":"anchor"},r):r)),a.default.createElement("div",{"data-test-id":"editControl",className:m.control,onClick:this.editLink},a.default.createElement(s.FormattedMessage,{id:"compose.link_edit",defaultMessage:"Edit"})),a.default.createElement("div",{"data-test-id":"removeControl",className:m.control,onClick:this.removeLink},a.default.createElement(s.FormattedMessage,{id:"compose.link_remove",defaultMessage:"Remove"}))))}});exports.default=f,module.exports=exports.default;
},{"../../../atoms/layer.jsx":"./atoms/layer","../../../atoms/utils/menu_utils":"./atoms/utils/menu_utils","../styles/go_to_link":"./molecules/compose/styles/go_to_link","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/compose/atoms/hyperlink_dropdown":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),s=require("../../../atoms/layer.jsx"),a=e(s),l=require("../../../atoms/button.jsx"),i=e(l),o=require("../../../atoms/fuji_icon_button.jsx"),r=e(o),u=require("react-intl"),d=require("react-atomic-css/css"),c=e(d),p=require("../styles/hyperlink_dropdown"),h=e(p),f=require("../../../atoms/constants/fuji_icon"),m=require("../../../atoms/dialog/alert.jsx"),k=e(m),v=require("../../../atoms/utils/menu_utils"),_=require("../../../atoms/utils/window_utils"),g=(0,u.defineMessages)({link_text_placeholder:{id:"compose.link_placeholder",defaultMessage:"Display text"},close:{id:"compose.link_close",defaultMessage:"Close"},error_title:{id:"compose.link_error_title",defaultMessage:"Error"},open_link_alert:{id:"compose.link_test_error",defaultMessage:"This link cannot be tested."}}),E=/^(?:https?|ftp|mailto):(?:\/\/)?/i,I=n.default.createClass({displayName:"HyperLinkDropdown",contextTypes:{intl:u.intlShape.isRequired},getInitialState:function e(){return{focusOnLinkInput:!1,saveBtnEnabled:!1,showTestAlert:!1}},componentDidMount:function e(){var t=this.props.anchorNode,n=(0,v.getMenuLayerStyles)(t,this.dropdown),s=n.left,a=n.top;Object.assign(this.dropdown.style,{left:s+"px",top:a+"px"}),this.linkInput.focus()},saveLink:function e(){var t=this.linkInput.value.trim(),n=this.textInput.value.trim()||t.replace(E,"");E.test(t)||(t="http://"+t),this.props.onSave(n,t)},handleClose:function e(){this.props.onClose()},handleKeyDown:function e(t){t.stopPropagation(),"Enter"===t.key?(t.preventDefault(),this.saveLink()):"Escape"===t.key&&(t.preventDefault(),this.handleClose())},toggleTestLink:function e(t){this.setState({focusOnLinkInput:t})},openTestLink:function e(){var t=this.linkInput.value.trim(),n=E.test(t);(0,_.openWindow)(n?t:"http://"+t)||this.setState({showTestAlert:!0})},handleLinkInput:function e(){var t=this.linkInput.value.trim();""===t||"http://"===t?this.setState({saveBtnEnabled:!1}):this.setState({saveBtnEnabled:!0})},hideTestAlertDialog:function e(){this.setState({showTestAlert:!1})},render:function e(){var t=this,s=this.props,l=s.textInput,o=s.linkInput,d=this.state,p=d.saveBtnEnabled,m=d.focusOnLinkInput,v=!(o||p),_=this.context.intl.formatMessage,E=(0,c.default)(h.default,{saveBtnEnabled:!v,focusOnLinkInput:m});return n.default.createElement(a.default,null,n.default.createElement("div",{ref:function e(n){return t.dropdown=n},className:E.container,onKeyDown:this.handleKeyDown,"data-test-id":"hyperlink-plugin"},this.state.showTestAlert?n.default.createElement(k.default,{title:_(g.error_title),message:_(g.open_link_alert),onAccept:this.hideTestAlertDialog}):null,n.default.createElement("div",{className:E.close},n.default.createElement(r.default,{onClick:this.handleClose,kind:f.Kinds.CLOSE,size:f.Sizes.XXS,title:_(g.close),"aria-label":_(g.close)})),n.default.createElement("div",{className:E.item},n.default.createElement("input",{ref:function e(n){return t.textInput=n},className:E.textInput,placeholder:_(g.link_text_placeholder),onFocus:this.handleLinkInput,defaultValue:l})),n.default.createElement("div",{className:E.item},n.default.createElement("input",{ref:function e(n){return t.linkInput=n},className:E.linkInput,placeholder:"http://www.yahoo.com",onFocus:this.toggleTestLink.bind(this,!0),onBlur:this.toggleTestLink.bind(this,!1),onChange:this.handleLinkInput,defaultValue:o}),n.default.createElement("span",{"data-test-id":"testLinkInput",className:E.testLink,onMouseDown:this.openTestLink},n.default.createElement(u.FormattedMessage,{id:"compose.test_hyperlink",defaultMessage:"Test"}))),n.default.createElement("div",{className:E.item},n.default.createElement(i.default,{onClick:this.saveLink,className:E.button,disabled:v},n.default.createElement(u.FormattedMessage,{id:"compose.save_hyperlink",defaultMessage:"Save"})))))}});exports.default=I,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/dialog/alert.jsx":"./atoms/dialog/alert","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/layer.jsx":"./atoms/layer","../../../atoms/utils/menu_utils":"./atoms/utils/menu_utils","../../../atoms/utils/window_utils":"./atoms/utils/window_utils","../styles/hyperlink_dropdown":"./molecules/compose/styles/hyperlink_dropdown","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],175:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),l=require("react-atomic-css/css"),s=e(l),r=require("../styles/labeled_input"),i=e(r);exports.default=a.default.createClass({displayName:"labeled_input",getDefaultProps:function e(){return{active:!1}},render:function e(){var t=(0,s.default)(i.default,{active:this.props.active});return a.default.createElement("div",{className:t.module,"data-test-id":"labeled-input"},a.default.createElement("label",{htmlFor:this.props.for,className:t.label,onClick:this.props.onLabelClick,"data-test-id":"label-input-"+this.props.label.props.defaultMessage},this.props.label),a.default.createElement("div",{className:t.children,"data-test-id":this.props.childrenId},this.props.children))}}),module.exports=exports.default;
},{"../styles/labeled_input":192,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./molecules/compose/atoms/more_tools":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),l=require("../../../atoms/list_item.jsx"),n=e(l),i=require("../../../atoms/fuji_icon.jsx"),s=e(i),d=require("../../../atoms/fuji_icon_button.jsx"),u=e(d),r=require("../../../atoms/constants/fuji_icon"),c=require("../../../atoms/menu/menu_button_container.jsx"),o=e(c),m=require("../../../atoms/menu/menu_button.jsx"),f=e(m),E=require("../../../atoms/menu/menu.jsx"),g=e(E),p=require("../../../atoms/constants/list"),_=require("react-atomic-css/css"),b=e(_),S=require("../styles/more_tools"),k=e(S),N=require("react-intl"),x=(0,N.defineMessages)({plaintext_icon_label:{id:"compose.plaintext_icon_label",defaultMessage:"Switch to plain text mode"},plaintext:{id:"compose.plaintext",defaultMessage:"Switch to plain text mode"},leftAlign:{id:"compose.left_align_icon",defaultMessage:"Left align"},rightAlign:{id:"compose.right_align_icon",defaultMessage:"Right align"},centerAlign:{id:"compose.center_align_icon",defaultMessage:"Center align"},bulletedList:{id:"compose.bulleted_list_icon",defaultMessage:"Bulleted List"},numberedList:{id:"compose.numbered_list_icon",defaultMessage:"Numbered list"},increaseIndent:{id:"compose.increase_indent_icon",defaultMessage:"Increase indent"},decreaseIndent:{id:"compose.decrease_indent_icon",defaultMessage:"Decrease indent"}}),h=(0,b.default)(k.default),z=a.default.createClass({displayName:"MoreTools",contextTypes:{intl:N.intlShape.isRequired},getDefaultProps:function e(){return{onMenuShow:function e(){}}},render:function e(){var t=this.props,l=t.tooltip,i=t.onChange,d=t.showPlainTextToggle,c=this.context.intl.formatMessage;return a.default.createElement(o.default,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1},a.default.createElement(f.default,{"aria-label":l,"data-test-id":"icon-btn-more_tools",title:l},a.default.createElement(s.default,{kind:r.Kinds.MORE,size:r.Sizes.XS,colorState:r.ColorStates.INHERITED})),a.default.createElement(g.default,{menuLayout:p.Layout.HORIZONTAL},a.default.createElement("span",{className:h.sectionDivider}),a.default.createElement(n.default,{key:"align-l",name:"align-l"},a.default.createElement("span",{className:h.icon},a.default.createElement(u.default,{"aria-label":c(x.leftAlign),title:c(x.leftAlign),kind:r.Kinds.ALIGN_LEFT,size:r.Sizes.XS,onClick:i.bind(null,"left")}))),a.default.createElement(n.default,{key:"align-c",name:"align-c"},a.default.createElement("span",{className:h.icon},a.default.createElement(u.default,{"aria-label":c(x.centerAlign),title:c(x.centerAlign),kind:r.Kinds.ALIGN_CENTER,size:r.Sizes.XS,onClick:i.bind(null,"center")}))),a.default.createElement(n.default,{key:"align-r",name:"align-r"},a.default.createElement("span",{className:h.icon},a.default.createElement(u.default,{className:h.rightAlignIcon,"aria-label":c(x.rightAlign),title:c(x.rightAlign),kind:r.Kinds.ALIGN_LEFT,rotate:r.Rotate.D0,size:r.Sizes.XS,onClick:i.bind(null,"right")}))),a.default.createElement("span",{className:h.sectionDivider}),a.default.createElement(n.default,{key:"bullet",name:"bullet"},a.default.createElement("span",{className:h.icon},a.default.createElement(u.default,{"aria-label":c(x.bulletedList),title:c(x.bulletedList),kind:r.Kinds.LIST_UNORDERED,size:r.Sizes.XS,onClick:i.bind(null,"bullet")}))),a.default.createElement(n.default,{key:"number",name:"number"},a.default.createElement("span",{className:h.icon},a.default.createElement(u.default,{"aria-label":c(x.numberedList),title:c(x.numberedList),kind:r.Kinds.LIST_ORDERED,size:r.Sizes.XS,onClick:i.bind(null,"number")}))),a.default.createElement("span",{className:h.sectionDivider}),a.default.createElement(n.default,{name:"indent",key:"indent"},a.default.createElement("span",{className:h.icon},a.default.createElement(u.default,{"aria-label":c(x.increaseIndent),title:c(x.increaseIndent),kind:r.Kinds.INDENT,size:r.Sizes.XS,onClick:i.bind(null,"indent")}))),a.default.createElement(n.default,{name:"outdent",key:"outdent"},a.default.createElement("span",{className:h.icon},a.default.createElement(u.default,{"aria-label":c(x.decreaseIndent),title:c(x.decreaseIndent),kind:r.Kinds.OUTDENT,size:r.Sizes.XS,onClick:i.bind(null,"outdent")}))),a.default.createElement("span",{className:h.sectionDivider}),d?a.default.createElement(n.default,{name:"turn-off-richtext",key:"turn-off-richtext"},a.default.createElement("span",{className:h.icon},a.default.createElement(u.default,{"data-test-id":"richtext_off",onClick:i.bind(null,"plaintext"),title:c(x.plaintext),"aria-label":c(x.plaintext_icon_label),kind:r.Kinds.RICHTEXT_OFF,size:r.Sizes.XS})),a.default.createElement("span",{className:h.sectionDivider})):null))}});exports.default=z,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/list":"./atoms/constants/list","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/list_item.jsx":"./atoms/list_item","../../../atoms/menu/menu.jsx":"./atoms/menu/menu","../../../atoms/menu/menu_button.jsx":"./atoms/menu/menu_button","../../../atoms/menu/menu_button_container.jsx":"./atoms/menu/menu_button_container","../styles/more_tools":"./molecules/compose/styles/more_tools","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],176:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),a=require("../../../atoms/constants/popover"),o=require("../../../platform/utils/mail_ui_vars"),i=require("../../../atoms/lazy_component"),n=require("../../../atoms/popover/popover_container.jsx"),s=e(n),l=require("../../../atoms/popover/popover_anchor.jsx"),c=e(l),u=require("../../../atoms/popover/popover_content.jsx"),p=e(u),d=require("react-atomic-css/css"),f=e(d),m=require("../styles/labeled_input"),_=e(m);exports.default=r.default.createClass({displayName:"recipient_input",getDefaultProps:function e(){return{active:!1}},render:function e(){var t=this,n=(0,f.default)(_.default,{active:this.props.active});return r.default.createElement("div",{className:n.module,"data-test-id":"recipient-input"},r.default.createElement(s.default,{ref:function e(r){return t._container=r}},r.default.createElement(c.default,null,r.default.createElement("label",{htmlFor:this.props.for,className:n.label,"data-test-id":"label-input-"+this.props.label.props.defaultMessage},this.props.label)),r.default.createElement(p.default,{isArrowVisible:!1,triggerOn:a.Triggers.CLICK,zAltitude:o.ZIndices.POPOVER.HIGH,onClick:function e(t){return t.stopPropagation()},align:a.Align.START},r.default.createElement(i.LazyComponent,{import:"../../contact_picker/contact_picker_connector.jsx",onClose:function e(){return t._container.hide(a.Triggers.CLICK)},addContactsToField:this.props.addContactsToField,_moduleGetter:function e(){return require("../../contact_picker/contact_picker_connector.jsx")}}))),r.default.createElement("div",{className:n.children,"data-test-id":this.props.childrenId},this.props.children))}}),module.exports=exports.default;
},{"../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/lazy_component":"./atoms/lazy_component","../../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../contact_picker/contact_picker_connector.jsx":"./molecules/contact_picker/contact_picker_connector","../styles/labeled_input":192,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./molecules/compose/atoms/toolbar":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),o=e(t),a=require("react-intl"),s=require("../../../atoms/button.jsx"),i=e(s),n=require("../../../platform/mail_constants"),l=require("./more_tools.jsx"),r=e(l),d=require("./expanded_more_tools.jsx"),c=e(d),u=require("./font_name_size.jsx"),h=e(u),f=require("./color_picker.jsx"),m=e(f),E=require("./uploader.jsx"),p=e(E),_=require("../../../atoms/fuji_icon_button.jsx"),S=e(_),C=require("../../stationery/theme_picker"),b=e(C),T=require("../../gif/gif_picker_connector.jsx"),O=e(T),M=require("../../emoji_picker"),g=e(M),k=require("../../../atoms/constants/fuji_icon"),A=require("react-atomic-css/css"),N=e(A),x=require("../styles/toolbar"),L=e(x),I=require("../constants"),y=require("../../../platform/utils/object"),R=require("../../../platform/rapid_client/constants"),D=n.Draft.Status,B={bullet:"insertunorderedlist",number:"insertorderedlist",left:"justifyleft",center:"justifycenter",right:"justifyright"},F=(0,a.defineMessages)({bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},select_more_tools:{id:"compose.select_more_tools",defaultMessage:"More options"},delete_draft:{id:"compose.delete_draft",defaultMessage:"Delete this draft"},send_button_title:{id:"compose.send_button_title",defaultMessage:"Send this email"}}),P=o.default.createClass({displayName:"Toolbar",contextTypes:{intl:a.intlShape.isRequired},getDefaultProps:function e(){return{uploadEnabled:!0,showDeleteButton:!0,showSendButton:!0,showPlainTextMode:!0,kind:I.ToolbarTypes.COMPOSE,fixed:!1,disabled:!1,onGifClick:function e(){},stationeryEnabled:!1,useRichText:!0}},_getToolbarStyle:function e(){var t={};return this.props.fixed&&this.props.width&&(t.maxWidth=this.props.width-I.HORIZONTAL_PADDING+"px"),t},_renderToolbarPlaceholder:function e(t){return o.default.createElement("div",{className:t.toolbarPlaceholder,"data-test-id":"compose-toolbar-placeholder"})},_renderRichTextOff:function e(t,a){return o.default.createElement("span",{className:t.icon},o.default.createElement(S.default,{"data-test-id":"richtext_on",onClick:this.onMoreMenuChange.bind(this,"richtext"),title:a(F.richtext),"aria-label":a(F.richtext_icon_label),kind:k.Kinds.RICHTEXT_ON,size:k.Sizes.XS}))},_renderRichTextOn:function e(t,a,s,i){var n=this.getFormatState(),l=n.foreColor,d=n.backgroundColor,u=n.fontSize,f=n.fontFamily;return s?o.default.createElement("div",{className:t.formattingTools},o.default.createElement("span",{className:t.menuIcon},o.default.createElement(c.default,{onChange:this.onMoreMenuChange,onHandleChange:this.handleChange,tooltip:a(F.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:i,onMenuShow:this.props.onMoreMenuClick,onAddLink:this.onAddLink,onClickBold:this.onClickBold,onClickItalic:this.onClickItalic,onChooseColor:this.chooseColor,onChooseFont:this.chooseFont,foreColor:l,backgroundColor:d,fontSize:u,fontFamily:f,toolbar:this}))):o.default.createElement("div",{className:t.formattingTools},o.default.createElement("span",{className:t.icon},o.default.createElement(S.default,{onClick:this.onAddLink,title:a(F.link),"aria-label":a(F.link_icon_label),kind:k.Kinds.LINK,size:k.Sizes.XS})),o.default.createElement("span",{className:t.icon},o.default.createElement(S.default,{onClick:this.onClickBold,title:a(F.bold),"aria-label":a(F.bold_icon_label),kind:k.Kinds.BOLD,size:k.Sizes.XS})),o.default.createElement("span",{className:t.icon},o.default.createElement(S.default,{onClick:this.onClickItalic,title:a(F.italic),"aria-label":a(F.italic_icon_label),kind:k.Kinds.ITALIC,size:k.Sizes.XS})),o.default.createElement("span",{className:t.menuIcon},o.default.createElement(m.default,{selectedFGColor:l,selectedBGColor:d,onFGColorChange:this.chooseColor.bind(this,"forecolor"),onBGColorChange:this.chooseColor.bind(this,"backcolor"),focusBackEditor:this.props.focusOnEditor})),o.default.createElement("span",{className:t.menuIcon},o.default.createElement(h.default,{selectedFontSize:u,selectedFontFamily:f,onFontSizeChange:this.chooseFont.bind(this,"fontsize"),onFontFamilyChange:this.chooseFont.bind(this,"fontname"),focusBackEditor:this.props.focusOnEditor})),o.default.createElement("span",{className:t.menuIcon},o.default.createElement(r.default,{onChange:this.onMoreMenuChange,tooltip:a(F.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:i,onMenuShow:this.props.onMoreMenuClick})))},render:function e(){var t=this.props,s=t.disabled,n=t.draftStatus,l=t.fixed,r=t.kind,d=t.showPlainTextMode,c=t.stationeryEnabled,u=t.gifFinderEnabled,h=t.uploadEnabled,f=t.emojiEnabled,m=t.width,E=t.stationeryRestrictedThemes,_=t.useRichText,C=(0,N.default)(L.default,{kind:r,fixed:l,disabled:s}),T=this.context.intl.formatMessage,M=this._getToolbarStyle(),A=_&&c,x=_&&u,y=_&&f,R={contentSection:h||A,formattersSection:_&&d},B=m<I.COMPOSE_MIN_WIDTH;return n||s?o.default.createElement("div",{"data-test-id":"compose-toolbar"},o.default.createElement("div",{"data-test-id":"compose-toolbar-styler",className:C.composeToolbar,style:M},this.props.showSendButton?o.default.createElement(i.default,{"data-test-id":"compose-send-button",className:C.sendButton,disabled:n===D.SENDING||this.props.disabled,onClick:this.handleChange.bind(this,I.ToolbarActions.SEND),title:T(F.send_button_title)},o.default.createElement(a.FormattedMessage,{id:"compose.send_button_label",defaultMessage:"Send"})):null,h?o.default.createElement("span",{className:C.icon},o.default.createElement(p.default,{onFileSelect:this.handleChange.bind(this,I.ToolbarActions.FILE_SELECT)})):null,x?o.default.createElement("span",{className:C.menuIcon},o.default.createElement(O.default,{onGifClick:this.props.onGifClick,focusBackEditor:this.props.focusOnEditor,left:this.props.left,width:this.props.width,csid:this.props.csid})):null,A?o.default.createElement("span",{className:C.menuIcon},o.default.createElement(b.default,{"data-test-id":"stationery-button",onThemeChange:this.onThemeChange,focusBackEditor:this.props.focusOnEditor,stationeryDefaultTheme:this.props.stationeryDefaultTheme,stationeryTheme:this.props.stationeryTheme,width:this.props.width,left:this.props.left,showStationeryCue:this.props.showStationeryCue,showHSStationeryCue:this.props.showHSStationeryCue,stationeryRestrictedThemes:E,rtl:this.props.rtl})):null,y?o.default.createElement("span",{className:C.menuIcon},o.default.createElement(g.default,{showEmojiCue:this.props.showEmojiCue,focusBackEditor:this.props.focusOnEditor,left:this.props.left,onEmojiClick:this.props.addEmoji})):null,R.contentSection?o.default.createElement("span",{"data-test-id":"section-divider-contentSection",className:C.sectionDivider}):null,_?this._renderRichTextOn(C,T,B,d):this._renderRichTextOff(C,T),o.default.createElement("span",{className:C.spacer}),n===D.SAVED||n===D.SAVED_PARTIAL||n===D.SAVING?o.default.createElement("span",{role:"status","data-test-id":"status",className:C.status},n===D.SAVING?o.default.createElement(a.FormattedMessage,{id:"compose.draft_saving_status",defaultMessage:"Saving"}):o.default.createElement(a.FormattedMessage,{id:"compose.draft_save_success_status",defaultMessage:"Saved"})):null,this.props.showDeleteButton?o.default.createElement("span",{className:C.deleteButton},o.default.createElement(S.default,{onClick:this.handleChange.bind(null,I.ToolbarActions.DELETE_DRAFT),title:T(F.delete_draft),"aria-label":T(F.delete_draft),kind:k.Kinds.DELETE,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,className:C.trashIcon,disabled:n===D.SAVING})):null),this.props.fixed&&this._renderToolbarPlaceholder(C)):null},onThemeChange:function e(t){var o={mKey:R.MKEYS.COMPOSE_ADD_STATIONERY,sec:R.SEC_VALUES.RTE_TOOLBAR};this.handleChange(I.ToolbarActions.UPDATE_STATIONERY,{data:t,i13nModel:o})},onAddLink:function e(t){var o={mKey:R.MKEYS.COMPOSE_ADD_LINK,sec:R.SEC_VALUES.RTE_TOOLBAR};this.handleChange("createlink",{data:t,i13nModel:o})},onClickBold:function e(t){var o={mKey:R.MKEYS.COMPOSE_BOLD,sec:R.SEC_VALUES.RTE_TOOLBAR};this.handleChange("bold",{data:t,i13nModel:o})},onClickItalic:function e(t){var o={mKey:R.MKEYS.COMPOSE_ITALIC,sec:R.SEC_VALUES.RTE_TOOLBAR};this.handleChange("italic",{data:t,i13nModel:o})},chooseColor:function e(t,o){var a={mKey:R.MKEYS.COMPOSE_CHOOSE_COLOR,sec:R.SEC_VALUES.RTE_TOOLBAR,actionData:{color:o}};this.handleChange(t,{data:o,i13nModel:a})},chooseFont:function e(t,o){var a={size:o};"fontname"===t&&(a={font:o});var s={mKey:R.MKEYS.COMPOSE_CHOOSE_FONT,sec:R.SEC_VALUES.RTE_TOOLBAR,actionData:a};this.handleChange(t,{data:o,i13nModel:s})},onMoreMenuChange:function e(t,o){var a=R.MKEYS.COMPOSE_OPEN_MORE_MENU,s="";switch(t){case"bullet":a=R.MKEYS.COMPOSE_CHOOSE_LIST_TYPE,s="unordrd";break;case"number":a=R.MKEYS.COMPOSE_CHOOSE_LIST_TYPE,s="ordrd";break;case"left":a=R.MKEYS.COMPOSE_ALIGN_TEXT,s="lft";break;case"right":a=R.MKEYS.COMPOSE_ALIGN_TEXT,s="rght";break;case"center":a=R.MKEYS.COMPOSE_ALIGN_TEXT,s="cntr"}var i={mKey:a,sec:R.SEC_VALUES.RTE_TOOLBAR,actionData:{setTo:s}};this.handleChange(t,{data:o,i13nModel:i})},handleChange:function e(t,o){this.props.onExecuteAction(B[t]||t,o)},getFormatState:function e(){return Object.assign({foreColor:m.default.DEFAULTS.FG_COLOR,backgroundColor:m.default.DEFAULTS.BG_COLOR,fontSize:"0",fontFamily:""},this.props.formatState)}});exports.default=P,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../../platform/utils/object":"./platform/utils/object","../../emoji_picker":"./molecules/emoji_picker","../../gif/gif_picker_connector.jsx":"./molecules/gif/gif_picker_connector","../../stationery/theme_picker":"./molecules/stationery/theme_picker","../constants":"./molecules/compose/constants","../styles/toolbar":"./molecules/compose/styles/toolbar","./color_picker.jsx":"./molecules/compose/atoms/color_picker","./expanded_more_tools.jsx":"./molecules/compose/atoms/expanded_more_tools","./font_name_size.jsx":"./molecules/compose/atoms/font_name_size","./more_tools.jsx":"./molecules/compose/atoms/more_tools","./uploader.jsx":"./molecules/compose/atoms/uploader","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/compose/atoms/uploader":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var l=e.onFileSelect,s=t.intl,u=s.formatMessage;return r.default.createElement("div",{className:q.container},r.default.createElement(o.default,{kind:n.Kinds.ATTACH,colorState:n.ColorStates.NORMAL,size:n.Sizes.XS}),r.default.createElement(i.default,{className:q.input,multiple:!0,onChange:a.bind(null,l),ariaLabel:u(h.attachFile)}))}function a(e,t){e({data:Array.prototype.slice.call(t.target.files)})}exports.__esModule=!0,exports.default=t;var l=require("react"),r=e(l),s=require("../../../atoms/html5uploader.jsx"),i=e(s),u=require("../../../atoms/fuji_icon.jsx"),o=e(u),n=require("../../../atoms/constants/fuji_icon"),c=require("../styles/uploader"),d=e(c),f=require("react-atomic-css/css"),m=e(f),p=require("react-intl"),q=(0,m.default)(d.default),h=(0,p.defineMessages)({attachFile:{id:"compose.attach_file",defaultMessage:"Attach files"}});t.contextTypes={intl:p.intlShape.isRequired},module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/html5uploader.jsx":"./atoms/html5uploader","../styles/uploader":"./molecules/compose/styles/uploader","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],177:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.rawComponent=void 0;var t=require("react"),s=e(t),i=require("lodash/debounce"),a=e(i),n=require("react-y-pills"),l=require("./styles/auto_suggest_contact"),r=e(l),o=require("react-atomic-css/css"),u=e(o),p=require("../../atoms/xavatar.jsx"),c=e(p),h=require("../../atoms/pill.jsx"),d=e(h),g=require("react-intl"),m=require("../../types"),f=require("../../atoms/utils/pills"),C=require("../hover_card/email_pill.jsx"),S=e(C),v=require("../../reducers_selectors"),y=require("react-redux"),R=require("./constants").KeyCodes,D=(0,g.defineMessages)({suggestions_available:{id:"compose.suggestions_available",defaultMessage:"{suggestionsNum, plural,\n                            =0 {No suggestions are available.}\n                            one {# suggestion is available.}\n                            other {# suggestions are available. Use up and down arrows to select.}\n                        }"},from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural,\n                            one {# contact}\n                            other {# contacts}\n                        }"}}),P=/([^\s,;]+?@[^\s,;]+?\.[a-z]+[>)]?)[\s,;]+([^\s,;])/gi,M=/[;,]+/,E=s.default.createClass({displayName:"AutoSuggestContact",contextTypes:{intl:g.intlShape.isRequired},statics:{splitByDelimiters:function e(t){return t.replace(P,"$1,$2").split(M)}},getDefaultProps:function e(){return{placeholder:"",tabIndex:-1,maxContactsVisible:6,debounceMilliseconds:180,selectedContacts:[],delimiters:[R.FF_COMMA,R.FF_SEMICOLON,R.SEMICOLON,R.COMMA,R.BREAK,R.TAB],shiftDelimiters:[R.BREAK,R.TAB],handleDrop:function e(){},handleDragState:function e(){},onPillSelection:function e(){},selectedPills:[],clearSelectedPills:function e(){},dragDropPill:!0,getSuggestions:function e(){},filterSuggestions:function e(){return[]}}},getInitialState:function e(){return{triggerSearchRequest:this.createSearchRequest(this.props.debounceMilliseconds),inputValue:""}},componentWillReceiveProps:function e(t){t.debounceMilliseconds!==this.props.debounceMilliseconds&&this.setState({triggerSearchRequest:this.createSearchRequest(t.debounceMilliseconds)})},createSearchRequest:function e(t){return(0,a.default)(this.triggerSearchRequest,t)},inputValueToContact:function e(){var t=this.state.inputValue;t.trim()&&(this.props.onInputContactAdd(t),this.setState({inputValue:""}))},handleOnFocus:function e(t){this.props.onFocus&&this.props.onFocus(t)},handleOnBlur:function e(t){this.inputValueToContact(),this.props.onBlur&&this.props.onBlur(t)},handleInputKeyDown:function e(t){var s=this.state.inputValue,i=this.props,a=i.shiftDelimiters,n=i.delimiters,l=t.ctrlKey,r=t.altKey,o=t.metaKey,u=t.shiftKey,p=t.which,c=t.keyCode,h=this._isDelimiterKey(p||c);l||r||o||s&&(u&&h(a)||!u&&h(n))&&(t.preventDefault(),this.inputValueToContact())},_isDelimiterKey:function e(t){return function(e){return e.indexOf(t)!==-1}},handleInputChange:function e(t){var s=this.constructor.splitByDelimiters(t);s.length>1&&s.splice(0,s.length-1).map(function(e){return e.trim()}).filter(Boolean).forEach(this.props.onInputContactAdd),this.setState({inputValue:s[0]}),this.state.triggerSearchRequest(s[0])},handleManualPillRemoval:function e(t,s){s.preventDefault(),this.handlePillRemoval([t])},handleManualPillEdit:function e(t){var s=t.email;t.name&&(s=t.name+" <"+t.email+">"),this.handlePillRemoval([t]),this.setState({inputValue:s})},handlePillRemoval:function e(t){this.props.onContactRemove(t)},handleDropdownSelection:function e(t){this.setState({inputValue:""}),this.props.onContactAdd(t)},triggerSearchRequest:function e(){this.props.onSuggestionRequested&&this.props.onSuggestionRequested(this.state.inputValue)},renderPill:function e(t,i,a,n){var l=(0,f.preparePillContact)(t),r=l.name,o=l.email,u=l.title,p=l.hasEncryptionError;return s.default.createElement(S.default,{email:o,isCompose:!0,isDisabled:this.props.isDragged||n},s.default.createElement(d.default,{value:r,title:u,contactId:t.id,contactEmail:o,hasEncryptionError:p,isLastElement:i===a.length-1,isSelected:n,onPillRemove:this.handleManualPillRemoval.bind(this,t),onPillEdit:this.handleManualPillEdit.bind(this,t),handleDrop:this.props.handleDrop,handleDragState:this.props.handleDragState,isDragged:this.props.isDragged&&n,inputField:this.props.id,isCompose:!0,selectedPills:this.props.selectedPills,dragDropPill:this.props.dragDropPill}))},renderHighlight:function e(t){var i=t.string,a=void 0===i?"":i,n=t.highlightedTextClassName,l=t.highlightRange,r=void 0===l?[]:l,o=[],u=0;return r.sort(function(e,t){return e.s===t.s?e.l-t.l:e.s-t.s}),r.reduce(this._mergeOverlappedRanges,[]).forEach(function(e,t,i){var l=e.s,r=e.l,p=l+r;o.push(a.slice(u,l)),o.push(s.default.createElement("span",{className:n,"data-test-id":"result-match",key:a+t},a.slice(l,p))),u=p,t===i.length-1&&o.push(a.slice(u))}),s.default.createElement("span",null,o.length?o.map(function(e){return e}):a)},_mergeOverlappedRanges:function e(t,s){if(!t.length)return[s];var i=s.s,a=s.l,n=i+a,l=t[t.length-1],r=l.s,o=l.l,u=r+o;return i>u?[].concat(t,[s]):t.slice(0,-1).concat({s:Math.min(r,i),l:Math.max(Math.max(n,u)-Math.min(r,i))})},render:function e(){var t=this,i=this.context.intl.formatMessage,a=this.props,l=a.getSuggestions,o=a.maxContactsVisible,h=a.filterSuggestions,d=l(this.state.inputValue),g=h(d).slice(0,o),m=this.props.selectedContacts,f=(0,u.default)(r.default,{showCcBcc:this.props.showCcBcc});return s.default.createElement(n.Pills,{ref:this.props.suggestionRef,id:this.props.id,inputId:this.props.inputId,autoBidi:this.props.autoBidi,tabIndex:this.props.tabIndex,selected:m,renderPill:this.renderPill,placeholder:0===m.length?this.props.placeholder:"",inputValue:this.state.inputValue,onInputKeyDown:this.handleInputKeyDown,onInputChange:this.handleInputChange,onBlur:this.handleOnBlur,onFocus:this.handleOnFocus,onRemove:this.handlePillRemoval,onSelect:this.handleDropdownSelection,notifyPillSelection:this.props.onPillSelection,messageForIncomingOptions:i(D.suggestions_available,{suggestionsNum:g.length}),className:f.pills,getMessageForOption:this.props.getMessageForOption,containerClassName:f.pillsContainer,containerChildClassName:f.pillsContainerChild,pillClassName:f.pillOuter,noInitialSelection:!0,dropdownVisibleByDefault:!0,typeaheadInputContainerClassName:f.typeahead,typeaheadInputClassName:"input-"+this.props.id+" "+f.typeaheadInput,typeaheadInputHintClassName:f.typeaheadInputHint,typeaheadAriaStatusClassName:f.typeaheadAriaStatus,typeaheadDropDownClassName:f.typeaheadDropDown,clearSelectedPills:this.props.clearSelectedPills},g.map(function(e,a){return s.default.createElement(n.Option,{className:f.typeaheadOption,key:a,value:e},s.default.createElement("div",{className:f.typeaheadOptionContainer},s.default.createElement("span",{className:f.contactIcon},s.default.createElement(c.default,{contact:{id:e.id},size:p.Sizes.M})),s.default.createElement("div",{className:f.textContainer},s.default.createElement("div",{className:f.name,"data-test-id":"result-name"},t.renderHighlight({string:e.name,highlightedTextClassName:f.highlight,highlightRange:e.filteredResults&&e.filteredResults.fullName})),s.default.createElement("div",{className:f.email,"data-test-id":"result-email"},e.list?i(D.from_group,{contactCount:e.list.length}):t.renderHighlight({string:e.email,highlightedTextClassName:f.highlight,highlightRange:e.filteredResults&&e.filteredResults.email})))))}))}}),N=exports.rawComponent=E,q=exports.mapStateToProps=function e(t){return{getSuggestions:(0,v.selectors)(t).getComposeSuggestions}};exports.default=(0,y.connect)(q)(E);
},{"../../atoms/pill.jsx":"./atoms/pill","../../atoms/utils/pills":133,"../../atoms/xavatar.jsx":"./atoms/xavatar","../../reducers_selectors":"./reducers_selectors","../../types":"./types","../hover_card/email_pill.jsx":219,"./constants":"./molecules/compose/constants","./styles/auto_suggest_contact":185,"lodash/debounce":"./node_modules/lodash/debounce.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js","react-y-pills":"./node_modules/react-y-pills/build/src/index.js"}],178:[function(require,module,exports){
"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function e(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0,exports.mapDispatchToProps=exports.mapStateToProps=exports.prepareShouldShowEmptySubjectAlert=exports.prepareShouldShowIncludeOriginalAttachmentsAlert=exports.rawCompose=exports.UiDataStore=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o=require("react-redux"),i=require("redux"),s=require("react"),a=e(s),r=require("react-dom"),c=require("react-intl"),d=require("lodash/difference"),l=e(d),u=require("./atoms/color_picker.jsx"),h=e(u),m=require("../../platform/rapid_client"),p=e(m),f=require("./header.jsx"),S=e(f),A=require("./atoms/editor.jsx"),g=e(A),E=require("./atoms/dragdrop_overlay.jsx"),C=e(E),T=require("./atoms/toolbar.jsx"),I=e(T),_=require("../../molecules/attachment_tray"),b=e(_),v=require("../../platform/invariant"),y=e(v),M=require("../../atoms/dialog/alert.jsx"),O=e(M),D=require("../../atoms/dialog/dual_action.jsx"),x=e(D),R=require("../../platform/mail_constants"),j=require("./actions"),w=t(j),F=require("../attachment_tray/actions"),N=t(F),L=require("../../reducers_selectors"),q=require("./constants"),U=require("../../platform/mail_error"),P=e(U),k=require("./atoms/captcha.jsx"),K=e(k),B=require("./utils/utils"),V=t(B),Y=require("../../platform/utils/object"),G=require("../../platform/utils"),z=require("../../platform/utils/route"),H=require("../../platform/rapid_client/constants"),W=require("../../atoms/lazy_component"),J=require("react-atomic-css/css"),Q=e(J),X=require("./styles/compose"),Z=e(X),$=require("../../actions/settings"),tt=require("../../molecules/keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),et=e(tt),nt=require("lodash/throttle"),ot=e(nt),it=require("lodash/debounce"),st=e(it),at=require("lodash/isEqual"),rt=e(at),ct=require("../../platform/keyboard_shortcut_groups"),dt=require("../../platform/keyboard_shortcuts/constants"),lt=require("../../platform/keyboard_shortcuts"),ut=require("../../atoms/dialog/modal_box.jsx"),ht=require("./utils/prepare_compose_content"),mt=e(ht),pt=require("../../action_creators/compose"),ft=require("../../platform/utils/attachments"),St=require("../../apps/mail/molecules/preserve_data_on_unmount"),At=e(St),gt=R.Draft.Status,Et=25,Ct=26214400,Tt=40,It=500,_t=R.Compose.Modes,bt=R.Attachments.Dispositions,vt=(0,c.defineMessages)({error_title:{id:"compose.error_title",defaultMessage:"Error"},bigAttachment:{id:"compose.too_big_attachment",defaultMessage:"The file exceeds the {maxFileSize}MB attachment limit. Large attachment support coming soon!"},compose_view:{id:"compose.view_aria_label",defaultMessage:"Compose view"},message_body:{id:"compose.message_body",defaultMessage:"Message body"},quoted_draft:{id:"quoted_draft",defaultMessage:"On {date}, {quotedName} &lt;{quotedAddress}&gt; wrote:"},forwarded_message:{id:"forwarded_message",defaultMessage:"Forwarded Message"},quoted_message_from:{id:"quoted_message_from",defaultMessage:"<b>From:</b> {from}"},quoted_message_to:{id:"quoted_message_to",defaultMessage:"<b>To:</b> {to}"},quoted_message_cc:{id:"quoted_message_cc",defaultMessage:"<b>Cc:</b> {cc}"},quoted_message_subject:{id:"quoted_message_subject",defaultMessage:"<b>Subject:</b> {subject}"},quoted_message_sentdate:{id:"quoted_message_sentdate",defaultMessage:"<b>Sent:</b> {sentDate}"},beingUploadedAlert:{id:"being_uploaded_alert",defaultMessage:"Attachment is still being uploaded. Wait and send?"},beingUploadedAlertOK:{id:"compose.beingUploadedAlert.ok",defaultMessage:"OK"},beingUploadedAlertSendWithout:{id:"compose.beingUploadedAlert.send_without",defaultMessage:"Send Without"},emptySubjectAlert:{id:"empty_subject_alert",defaultMessage:"Do you want to send the message without any subject?"},emptySubjectAlertSend:{id:"compose.emptySubjectAlert.send",defaultMessage:"Send"},emptySubjectAlertCancel:{id:"compose.emptySubjectAlert.cancel",defaultMessage:"Cancel"},includeOriginalAttachmentsAlert:{id:"include_original_attachments_alert",defaultMessage:"Include original attachments?"},includeOriginalAttachmentsAlertMsg:{id:"include_original_attachments_alert_msg",defaultMessage:"You added new recipients to your reply. Do you want to include attachments from the original message?"},includeOriginalAttachmentsAlertYes:{id:"compose.includeOriginalAttachmentsAlert.yes",defaultMessage:"Yes"},includeOriginalAttachmentsAlertNo:{id:"compose.includeOriginalAttachmentsAlert.no",defaultMessage:"No"}}),yt=function t(){},Mt=(0,Q.default)(Z.default),Ot=(0,lt.createShortcutGroup)({group:ct.Action,keys:Object.assign({},dt.commonMessageActionKeys,{escapeToFolder:{key:"ESC",description:a.default.createElement("strong",null,a.default.createElement(c.FormattedMessage,{id:"shortcut.message_group_escape_message",defaultMessage:"Escape to previous view"}))}})}),Dt=function t(e){return e.reduce(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.concat(e.map(function(t){return t.email}))},[]).filter(function(t){return(0,G.isValidEmail)(t)})},xt=exports.UiDataStore={_data:{},get:function t(e){return this._data[e]||{}},set:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._data[e]||(this._data[e]={}),Object.assign(this._data[e],n)}},Rt=a.default.createClass({displayName:"Compose",contextTypes:{executeAction:s.PropTypes.func,intl:c.intlShape.isRequired,config:s.PropTypes.object,navigateTo:s.PropTypes.func},getDefaultProps:function t(){return{showSubject:!0,getComposeFieldToFocus:yt,refToComposeContainer:yt,refToComposeHeader:yt,onChange:yt,onSend:yt,onMoreMenuClick:yt,handleToolbarActions:yt,shouldShowIncludeOriginalAttachmentsAlert:function t(){return!1},shouldShowEmptySubjectAlert:function t(){return!1},getContent:yt,composeV3:!1,isXobnified:!1,simpleCompose:!1,dateFormattingOption:0,showFrom:!1,showCloseButton:!0,isQuickReply:!1,showDeleteButton:!0,styles:{},onContentChanged:yt,toolbarFixed:!1,onResize:yt,isBccDisabled:!1,isSubjectEditingDisabled:!1,onContactAdd:function t(){},onContactRemove:function t(){},onMultipleContactsAdd:function t(){},getSavedAttachment:function t(e){return e}}},updateDraftSubjectAction:function t(e,n){this.context.executeAction(w.updateDraftSubject,{csid:e,subject:n})},getInitialState:function t(){var e=this.props,n=e.composeFontSize,o=e.composeFontFamily,i=this.props.getContent(this.context),s=i.from,a=i.to,r=i.cc,c=i.bcc,d=i.subject,l=void 0===d?"":d,u=i.body,m=void 0===u?"":u,p=i.htmlAnnotations,f=void 0===p?[]:p,S=i.attachmentsInfo,A=void 0===S?[]:S,g=i.stationeryTheme,E=void 0===g?"":g,C=i.uiState,T=void 0===C?{useRichText:!0}:C;return this.from=s,this.to=a,this.cc=r,this.bcc=c,this.subject=l,this.content=m,this.htmlAnnotations=f,this.attachmentsInfo=A,this.stationeryTheme=E,this.formatState={foreColor:h.default.DEFAULTS.FG_COLOR,backgroundColor:h.default.DEFAULTS.BG_COLOR,fontSize:n||"0",fontFamily:o||""},this.uiState=T,this.debouncedUpdateDraftSubjectAction=(0,st.default)(this.updateDraftSubjectAction,It),{imgHoverMenuVisible:!1,largeAttachmentAlert:!1,composeWidth:null,composeLeft:null}},componentDidMount:function t(){var e=this.props,n=e.composeData,o=e.csid,i=n.attachFiles,s=void 0===i?[]:i,a=xt.get(o),r=a.scrollPosition;this.context.executeAction(w.checkUserIsXobnified),this.props.saveInterval>0&&(this.saveInterval=setInterval(this.autoSaveDraft,this.props.saveInterval)),s.length>0&&this.addInlineAttachments(s),void 0!==r&&this._restoreScrollPosition(r),this._updateWidth(),this._handleWindowResize=(0,ot.default)(this._handleWindowResize,Tt),window.addEventListener("resize",this._handleWindowResize),this.props.getComposeFieldToFocus()===q.FocusableRefs.SUBJECT&&this.focusOnSubject()},componentDidUpdate:function t(e){e.hasAttachmentPreview!==this.props.hasAttachmentPreview&&this._handleWindowResize();var n=this.props.composeData.draftStatus,o=e.composeData;this.props.csid===e.csid&&n===gt.SENT&&o.draftStatus!==n&&this.props.onSendSuccess&&this.props.onSendSuccess(this.props.composeData)},componentWillUnmount:function t(){var e=(0,r.findDOMNode)(this.refs.editorContainer),n=e.scrollTop;xt.set(this.props.csid,{scrollPosition:n}),this.debouncedUpdateDraftSubjectAction.cancel(),clearInterval(this.saveInterval),window.removeEventListener("resize",this._handleWindowResize),this.saveDraft()},_updateWidth:function t(){var e=(0,r.findDOMNode)(this.container),n=e&&e.getBoundingClientRect();n&&this.setState({composeWidth:n.width,composeLeft:n.left})},_restoreScrollPosition:function t(e){(0,r.findDOMNode)(this.refs.editorContainer).scrollTop=e},_handleWindowResize:function t(){this._updateWidth(),this.props.onResize()},setEditState:function t(e){var n=this.props.composeData.draftStatus;n!==gt.SENDING&&n!==gt.EDITED&&e&&this.context.executeAction(w.updateDraftEditState,{csid:this.props.csid})},handleDragContactAdd:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2],i=o.side,s=void 0===i?"other":i,a=o.id,r=this[e],c=r.filter(function(t){return!n.find(function(e){return(0,rt.default)(t,e)})}),d={left:0,right:1,other:r.length+1}[s],l=Math.max(0,c.findIndex(function(t){return t.id===a})+d);this.addContact(e,c.slice(0,l).concat(n).concat(c.slice(l)))},handleContactAdd:function t(e,n){if(Array.isArray(n))return this.handleMultipleContactsAdd(e,n);if(n.hasOwnProperty("list"))return this.handleMultipleContactsAdd(e,n.list);var o=this[e];o.indexOf(n)===-1&&o.push(n),this.addContact(e,o),this.props.onContactAdd(n)},addContact:function t(e,n){this[e]=n,this.setEditState(!0),this.requestSuggestions({query:""}),this.context.executeAction(w.addRecipient,{csid:this.props.csid,i13nModel:{mKey:H.MKEYS.SELECT_CONTACT,sec:H.SEC_VALUES.COMPOSE_CONTACTS}})},handleMultipleContactsAdd:function t(e,n){var o=this[e];this[e]=o.concat(n),this.setEditState(!0),this.props.onMultipleContactsAdd(n)},handleContactRemove:function t(e,n,o){var i=this[e];o?(n.forEach(function(t){var e=i.findIndex(function(e){return(0,rt.default)(t,e)});i.splice(e,1)}),this[e]=i):this[e]=(0,l.default)(i,n),this.setEditState(!0),this.requestSuggestions({query:""}),this.props.onContactRemove(n)},requestSuggestions:function t(e){var n=e.query,o=Dt([this.to,this.cc,this.bcc]),i=this.from.email;this.context.executeAction(w.fetchSuggestions,{i13nModel:{mKey:H.MKEYS.CONTACT_SUGGEST,sec:H.SEC_VALUES.COMPOSE_CONTACTS},contextFrom:i,csid:this.props.csid,recipientList:o,query:n})},handleSuggestionRequested:function t(e){return this.props.isXobnified?void this.requestSuggestions({query:e}):void this.context.executeAction(w.clearSuggestions,{csid:this.props.csid})},onChange:function t(e,o){this.lastEditedTimeStamp=Date.now(),this.props.onChange(n({},e,{lastEditedTimeStamp:this.lastEditedTimeStamp}),o)},handleFromChange:function t(e){this.from=e,this.onChange(this._getUserInputtedValues()),this.setEditState(!0)},handleSubjectChange:function t(e){this.subject=e,this.onChange(this._getUserInputtedValues()),this.debouncedUpdateDraftSubjectAction(this.props.csid,e)},getUnsavedData:function t(){return{type:R.UnsavedDataTypes.COMPOSE,csid:this.props.csid,userInputtedValues:this._getUserInputtedValues()}},handleEditSubject:function t(){this.lastEditedTimeStamp=Date.now(),this.context.navigateTo({route:(0,z.buildComposeRouteFromCsid)(this.props.csid),isReplyingMessageSubjectEdited:!0})},handleEditorContentChange:function t(e){var o=e.format,i=e.caret,s=e.type;(0,Y.shallowEqual)(this.formatState,o)||(this.formatState=n({},this.formatState,o)),this.onChange(this._getUserInputtedValues(),e),this.setEditState(!0),this.props.onContentChanged({caret:i,type:s})},_getUserInputtedValues:function t(){var e=this.refs.editor.needsOutlookSupport(),n="<html"+(e?" "+q.OutlookSupportHTMLAttributes:"")+">"+("<head>"+(e?q.OutlookSupportHTMLHeadContent:"")+"</head>")+'<body><div style="font-family:'+this.props.composeFontFamily.replace(/"/g,"")+";font-size:"+V.getFontSizeStyle(this.props.composeFontSize)+';">'+this.refs.editor.getSanitizedContent()+"</div></body></html>";return{csid:this.props.csid,from:this.from,to:this.to,cc:this.cc,bcc:this.bcc,subject:this.subject,html:n,attachmentsInfo:this.attachmentsInfo.filter(function(t){return!t.deleted}),lastEditedTimeStamp:this.lastEditedTimeStamp,uiState:this.uiState}},_save:function t(e){var n=this.props,o=n.csid,i=n.composeData,s=n.mailboxId,a=n.accounts,r=i.draftStatus;this.refs.editor&&r===gt.EDITED&&(this.props.onSaveExecuteAction||this.context.executeAction).call(this,e,{csid:o,mailboxId:s,accounts:a,userInputtedValues:this._getUserInputtedValues()})},saveDraft:function t(){return this._save(w.saveDraft)},autoSaveDraft:function t(){return this._save(w.autoSaveDraft)},deleteDraft:function t(){var e=this.props.composeData,n=e.draftStatus,o=e.lastSavedMessageId;this.context.executeAction(w.deleteDraft,{listId:this.props.listId,csid:this.props.csid,draftStatus:n,messageId:o,i13nModel:{mKey:H.MKEYS.DELETE_DRAFT,sec:H.SEC_VALUES.COMPOSE_TOOLBAR,interactionType:H.INTERACTION_TYPES.click,mKeyGroup:H.MKEY_GROUPS.delete}})},send:function t(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=o.i13nModel,s=o.captchaAnswer,r=o.forcedSend,c=void 0!==r&&r,d=o.includeOriginalAttachments,l=void 0!==d&&d,u=this.props,h=u.composeData,m=u.csid,p=u.getSavedAttachment,f=u.composeV3,S=h.originalAttachments,A=void 0===S?[]:S,g=[],E=[],C=this._getUserInputtedValues(),T=V.hasInvalidComposeField(C),I=f?this.attachmentsInfo:h.attachments,_=I.map(function(t){return p(t)}),b=function t(){e.props.onSend(n({captchaAnswer:s},C,{i13nModel:n({mKey:H.MKEYS.SEND,sec:H.SEC_VALUES.COMPOSE_TOOLBAR,mKeyGroup:H.MKEY_GROUPS.send},i)})),(e.props.onSendExecuteAction||e.context.executeAction).call(e,w.send,{captchaAnswer:s,accounts:e.props.accounts,csid:m,mailboxId:e.props.mailboxId,userInputtedValues:C,containsStationery:e.refs.editor.containsStationery(),i13nModel:n({mKey:H.MKEYS.SEND,sec:H.SEC_VALUES.COMPOSE_TOOLBAR,mKeyGroup:H.MKEY_GROUPS.send},i),attachments:l?A.concat(_):_})};return _.forEach(function(t){t.state===R.AttachmentStates.LOADING?g.push(t):t.state===R.AttachmentStates.ERROR&&E.push(t)}),c||T||!g.length?((c||E.length)&&(this.refs.editor.removeNonloadedAttachments(),this.context.executeAction(w.removeNonloadedAttachments,{csid:m})),!c&&this.props.shouldShowEmptySubjectAlert(C)?void(0,ut.renderModalBox)(a.default.createElement(x.default,{title:this.context.intl.formatMessage(vt.emptySubjectAlert),primaryButtonLabel:vt.emptySubjectAlertSend,secondaryButtonLabel:vt.emptySubjectAlertCancel,onPrimaryButtonClick:function t(){return e.send({forcedSend:!0})},onSecondaryButtonClick:function t(){return e.focusOnSubject()},onClose:function t(){return e.focusOnSubject()},hideIcon:!0}),this.context):!c&&this.props.shouldShowIncludeOriginalAttachmentsAlert(C)?void(0,ut.renderModalBox)(a.default.createElement(x.default,{title:this.context.intl.formatMessage(vt.includeOriginalAttachmentsAlert),message:this.context.intl.formatMessage(vt.includeOriginalAttachmentsAlertMsg),primaryButtonLabel:vt.includeOriginalAttachmentsAlertYes,secondaryButtonLabel:vt.includeOriginalAttachmentsAlertNo,onPrimaryButtonClick:function t(){return e.send({forcedSend:!0,includeOriginalAttachments:!0})},onSecondaryButtonClick:function t(){return e.send({forcedSend:!0,includeOriginalAttachments:!1})},onClose:function t(){},hideIcon:!0}),this.context):void b()):void(0,ut.renderModalBox)(a.default.createElement(x.default,{title:this.context.intl.formatMessage(vt.beingUploadedAlert),primaryButtonLabel:vt.beingUploadedAlertOK,secondaryButtonLabel:vt.beingUploadedAlertSendWithout,onPrimaryButtonClick:function t(){},onSecondaryButtonClick:function t(){return e.send({forcedSend:!0})},onClose:function t(){},hideIcon:!0}),this.context)},execEditorCommand:function t(e,n){"plaintext"===e?(this.stationeryTheme="",this.execEditorCommand(q.ToolbarActions.UPDATE_STATIONERY,null),this.refs.editor.expandQuote(),this.uiState.useRichText=!1,this.props.onChange(this._getUserInputtedValues())):"richtext"===e&&(this.uiState.useRichText=!0,this.props.onChange(this._getUserInputtedValues())),e===q.ToolbarActions.UPDATE_STATIONERY&&(this.stationeryTheme=n?n.themeName:"");var o=document.activeElement;this.refs.editor.rte.focus(),this.refs.editor.rte.pushButton(e,n),o.focus()},handleToolbarAction:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.data,i=n.i13nModel;switch(i&&this.props.handleToolbarActions({i13nModel:i}),e){case q.ToolbarActions.FILE_SELECT:this.addFileAttachments(o);break;case q.ToolbarActions.SEND:this.send();break;case q.ToolbarActions.DELETE_DRAFT:this.deleteDraft();break;case q.ToolbarActions.CREATE_LINK:this.execEditorCommand(e,"");break;default:this.execEditorCommand(e,o)}},_handleStationeryDefaultThemeChange:function t(e){this.context.executeAction($.updateSetting,{name:R.Settings.STATIONERY_DEFAULT_THEME,value:e})},handleClose:function t(){this.props.onClose&&this.props.onClose(),this.context.executeAction(w.close,{i13nModel:{mKey:H.MKEYS.CANCEL_COMPOSE,sec:H.SEC_VALUES.COMPOSE_CLOSE,interactionType:H.INTERACTION_TYPES.click}})},handleDrop:function t(e){this.addInlineAttachments(e)},addAttachments:function t(e,n,o){var i=o.newContentIds,s=o.i13nModel;this.checkAttachmentSize(e)&&(this.context.executeAction(n,{files:e,csid:this.props.csid,newContentIds:i,i13nModel:Object.assign({interactionType:H.INTERACTION_TYPES.click},s)}),setTimeout(this.saveDraft,0))},addInlineAttachments:function t(e){if(this.uiState.useRichText){var o=e.map(ft.buildInlineAttachmentFromFile);this.attachmentsInfo=this.attachmentsInfo.concat(o);var i=o.map(function(t){return t.contentId});this.onChange(n({},this._getUserInputtedValues(),{files:e,newContentIds:i,i13nModel:{mKey:H.MKEYS.COMPOSE_ADD_ATTACHMENT,sec:H.SEC_VALUES.COMPOSE_TOOLBAR}})),this.addAttachments(e,w.addInlineAttachment,{newContentIds:i,i13nModel:{mKey:H.MKEYS.COMPOSE_DRAG_ATTACHMENT,sec:H.SEC_VALUES.COMPOSE_MSG}})}else this.addFileAttachments(e)},checkAttachmentSize:function t(e){var n=e.concat(this.props.composeData.attachments);return!(Ct<this.getAttachmentSize(n)&&(this.setState({largeAttachmentAlert:!0}),1))},getAttachmentSize:function t(e){return e.length?e.reduce(function(t,e){return e instanceof Blob||e.state===R.AttachmentStates.LOADED||e.state===R.AttachmentStates.LOADING?t+e.size:t},0):0},renderLargeAttachmentAlert:function t(){if(!this.state.largeAttachmentAlert)return null;var e=this.context.intl.formatMessage(vt.bigAttachment,{maxFileSize:Et});return a.default.createElement(O.default,{title:this.context.intl.formatMessage(vt.error_title),message:e,onAccept:this.hideLargeAttachmentAlert,hideIcon:!0})},hideLargeAttachmentAlert:function t(){this.setState({largeAttachmentAlert:!1})},moveImageAttachmentInline:function t(e){this.attachmentsInfo=this.attachmentsInfo.map(function(t){return t.contentId===e.contentId?n({},t,{disposition:bt.INLINE}):t}),this.context.executeAction(w.moveImageAttachmentInline,{csid:this.props.csid,contentId:e.contentId}),setTimeout(this.saveDraft,0)},addFileAttachments:function t(e){var o=this,i=e.map(ft.buildNonInlineAttachmentFromFile);this.attachmentsInfo=this.attachmentsInfo.concat(i);var s=i.map(function(t){return t.contentId});this.onChange(n({},this._getUserInputtedValues(),{files:e,newContentIds:s,i13nModel:{mKey:H.MKEYS.COMPOSE_ADD_ATTACHMENT,sec:H.SEC_VALUES.COMPOSE_TOOLBAR}})),this.addAttachments(e,N.addAttachment,{newContentIds:s,i13nModel:{mKey:H.MKEYS.COMPOSE_ADD_ATTACHMENT,sec:H.SEC_VALUES.COMPOSE_TOOLBAR}}),setTimeout(function(){var t=(0,r.findDOMNode)(o._attachmentTray);t&&t.scrollIntoView()},0)},handleAttachmentRemoval:function t(e){this.attachmentsInfo=this.attachmentsInfo.map(function(t){return t.contentId===e.contentId?n({},t,{deleted:!0}):t}),this.onChange(n({},this._getUserInputtedValues(),{removedContentIds:[e.contentId]})),this.context.executeAction(N.removeAttachment,{contentId:e.contentId,csid:this.props.csid}),setTimeout(this.saveDraft,0)},handleInlineAttachmentRemoval:function t(e){this.attachmentsInfo=this.attachmentsInfo.map(function(t){return t.dataId===e&&t.disposition===bt.INLINE?n({},t,{deleted:!0}):t}),this.onChange(n({},this._getUserInputtedValues(),{removedContentIds:[e]})),this.context.executeAction(w.removeInlineAttachment,{csid:this.props.csid,dataId:e}),setTimeout(this.saveDraft,0)},handleInlineImageRestored:function t(e){e.length&&(this.attachmentsInfo=this.attachmentsInfo.map(function(t){return e.findIndex(function(e){return e.dataId===t.dataId})!==-1&&t.disposition===bt.INLINE?n({},t,{disposition:bt.INLINE,deleted:!1}):t}),this.context.executeAction(w.handleInlineImageRestored,{csid:this.props.csid,restoredImages:e}))},moveInlineAttachmentToTray:function t(e,o,i){this.attachmentsInfo=this.attachmentsInfo.map(function(t){return t.contentId===o?n({},t,{disposition:bt.ATTACHMENT}):t}),this.context.executeAction(w.moveInlineAttachmentToTray,{csid:this.props.csid,isNewCompose:e,dataId:o,pid:i}),setTimeout(this.saveDraft,0)},handleInlineImgFailure:function t(e){this.context.executeAction(w.handleInlineImgFailure,n({},e,{csid:this.props.csid}))},onInlineImageLoaded:function t(e){this.context.executeAction(w.handleInlineImageLoaded,{attachmentData:e,csid:this.props.csid})},handleAttachmentTray:function t(e){var n=this,o=document.createElement("input");o.type="file",o.multiple=!0,o.id="inputFile",o.click(),o.addEventListener("change",function(t){var o=Array.prototype.slice.call(t.target.files);n.handleAttachmentTrayAdd(o,e)})},handleAttachmentTrayAdd:function t(e,n){this.context.executeAction(N.addAttachment,{files:e,csid:n,i13nModel:{mKey:H.MKEYS.COMPOSE_ADD_ATTACHMENT,sec:H.SEC_VALUES.COMPOSE_TOOLBAR,interactionType:H.INTERACTION_TYPES.shortcut}})},renderCaptcha:function t(){var e=this.props.composeData,n=e.captcha;if(e.draftStatus!==gt.CAPTCHAING)return null;var o=n.captchaPayload.createResponse.Content;return(0,y.default)("invisible"===o.Mode,"only 'invisible' captcha\n                mode is supported. mode: "+o.Mode),a.default.createElement(K.default,{onComplete:this.handleCaptchaComplete,script:o.Javascript.CONTENT,markup:o.Turnkey})},renderEmojiPreloader:function t(){return a.default.createElement(W.LazyComponent,{bundleName:"lazy_group2",import:"../emoji_picker/emoji_preloader.jsx",recentlyUsedEmoji:this.props.recentlyUsedEmoji,_moduleGetter:function t(){return require("../emoji_picker/emoji_preloader.jsx")}})},handleCaptchaComplete:function t(e){this.send({captchaAnswer:e})},onMoreMenuClick:function t(){var e={mKey:H.MKEYS.COMPOSE_OPEN_MORE_MENU,sec:H.SEC_VALUES.RTE_TOOLBAR};this.props.onMoreMenuClick({i13nModel:e})},handleKeyDown:function t(e){var n=e.metaKey||e.ctrlKey;switch(("Unidentified"===e.key?String.fromCharCode(e.which):e.key).toUpperCase()){case"ENTER":n&&(this.send({i13nModel:{interactionType:H.INTERACTION_TYPES.shortcut}}),e.preventDefault());break;case"S":n&&(this.saveDraft(),e.preventDefault())}},focusOnEditor:function t(){this.refs.editor.rte.focus()},focusOnSubject:function t(){this.header.focus(q.FocusableRefs.SUBJECT)},getKeyboardShortcutGroupKeys:function t(){return this.props.isQuickReply?[]:[Ot.escapeToFolder(this.handleClose)]},onGifClick:function t(e){if(p.default.sendI13nModel({i13nModel:{mKey:H.MKEYS.GIF_ADD,sec:H.SEC_VALUES.RTE_TOOLBAR,interactionType:H.INTERACTION_TYPES.click}}),this.refs.editor.insertGif(e),e.feedbackUrl){var n=new Image;n.crossorigin="anonymous",n.src=e.feedbackUrl}},addEmoji:function t(e){p.default.sendI13nModel({i13nModel:{mKey:H.MKEYS.EMOJI_ADD,sec:H.SEC_VALUES.RTE_TOOLBAR,interactionType:H.INTERACTION_TYPES.click,actionData:{emoji:e.source}}}),this.refs.editor.insertEmoji(e)},render:function t(){var e=this,n=this.props,o=n.accounts,i=n.composeData,s=n.composeFontFamily,r=n.composeFontSize,c=n.conversations,d=n.csid,l=n.dragDropPill,u=n.emoji,h=n.encryptDecryptButton,m=n.getSavedAttachment,p=n.gif,f=n.inlineAttachment,A=n.isBccDisabled,E=n.isSubjectEditingDisabled,T=n.linkEnhancer,_=n.linkEnhancerUrlBlacklist,v=n.preloadEmoji,y=n.refToComposeContainer,M=n.refToComposeHeader,O=n.secureRecipientsKeys,D=n.showCloseButton,x=n.showEmojiCue,R=n.showFrom,j=n.showHSStationeryCue,w=n.showStationeryCue,F=n.showSubject,N=n.simpleCompose,L=n.stationery,U=n.stationeryDefaultTheme,P=n.stationeryRestrictedThemes,k=n.toolbarFixed,K=n.uploadEnabled,B=n.validateSecureRecipients,Y=n.composeV3,G=i.composeMode,z=i.draftStatus,H=i.lastSavedTime||0,W=this.context.intl.formatMessage,J=G===_t.FORWARD||!c,Q=z!==gt.SENDING,X=this.to,Z=this.cc,$=this.getKeyboardShortcutGroupKeys(),tt=V.getInitialFocusRef(i),nt=Y?this.attachmentsInfo.filter(function(t){return!t.deleted}):i.attachments,ot=nt.map(function(t){return m(t)});return O&&(X=V.mergeRecipientsSecureStatus(X,O,B),Z=V.mergeRecipientsSecureStatus(Z,O,B)),a.default.createElement(At.default,{getUnsavedData:this.getUnsavedData},a.default.createElement(et.default,{keys:$},a.default.createElement("div",{"data-test-id":"compose",role:"main","aria-label":W(vt.compose_view),ref:function t(n){e.container=n,y(n)},className:Mt.compose,onKeyDown:this.handleKeyDown},v?this.renderEmojiPreloader():null,this.renderCaptcha(),this.renderLargeAttachmentAlert(),a.default.createElement(S.default,{ref:function t(n){e.header=n,M(n)},dragDropPill:l,composeMode:G,onFromChange:this.handleFromChange,onContactAdd:this.handleContactAdd,onDragContactAdd:this.handleDragContactAdd,onContactRemove:this.handleContactRemove,onSubjectChange:this.handleSubjectChange,onEditSubject:this.handleEditSubject,onSuggestionRequested:this.handleSuggestionRequested,onClose:this.handleClose,showSubject:F,showFrom:R,showCloseButton:D,from:this.from,to:X,cc:Z,bcc:this.bcc,subject:this.subject,csid:d,accounts:o,initialFocus:tt,isBccDisabled:A,isSubjectEditingDisabled:E,handleMultipleContactsAdd:this.handleMultipleContactsAdd}),h,a.default.createElement(C.default,{onDrop:this.handleDrop},a.default.createElement("div",{className:Mt.editorContainer,ref:"editorContainer","data-test-id":"compose-editor-container"},a.default.createElement(g.default,{ariaLabel:W(vt.message_body),attachments:ot,autoExpandQuotedText:J,composeFontFamily:s,composeFontSize:r,content:this.content,contentEditable:Q,csid:d,handleInlineImgFailure:this.handleInlineImgFailure,htmlAnnotations:this.htmlAnnotations,initialFocus:tt===q.FocusableRefs.EDITOR,inlineAttachment:f,linkEnhancer:T,linkEnhancerUrlBlacklist:_,onAttachmentShortcut:this.handleAttachmentTray,onContentChange:this.handleEditorContentChange,onImagePaste:this.addInlineAttachments,onImageRemove:this.handleInlineAttachmentRemoval,onImageRestored:this.handleInlineImageRestored,onInlineImageLoaded:this.onInlineImageLoaded,onKeyDown:this.handleEditorKeyDown,onSendAsAttachment:this.moveInlineAttachmentToTray,onStationeryDefaultThemeChange:this._handleStationeryDefaultThemeChange,onStationeryThemeChange:this.handleToolbarAction.bind(this,q.ToolbarActions.UPDATE_STATIONERY),ref:q.FocusableRefs.EDITOR,scrollableAreaRef:this.refs.editorContainer,setEditState:this.setEditState,stationery:L}),ot.filter(function(t){return!t.fromGifPicker}).length?a.default.createElement(b.default,{ref:function t(n){return e._attachmentTray=n},attachments:ot,onAttachmentRemove:this.handleAttachmentRemoval,readOnly:!1,allowDownload:!1,onSendAsInlineImage:this.moveImageAttachmentInline,richTextMode:this.uiState.useRichText}):null),a.default.createElement(I.default,{useRichText:this.uiState.useRichText,ref:"toolbar",draftStatus:i.draftStatus,showDeleteButton:!N,lastDraftSavedTime:H,formatState:this.formatState,onExecuteAction:this.handleToolbarAction,uploadEnabled:K,focusOnEditor:this.focusOnEditor,fixed:k,width:this.state.composeWidth,left:this.state.composeLeft,showStationeryCue:w&&i.composeMode===_t.NEW,showEmojiCue:x&&i.composeMode===_t.NEW,showHSStationeryCue:j,stationeryDefaultTheme:U,stationeryTheme:this.stationeryTheme,stationeryEnabled:L,gifFinderEnabled:p,csid:d,addEmoji:this.addEmoji,onMoreMenuClick:this.onMoreMenuClick,emojiEnabled:u,stationeryRestrictedThemes:P,onGifClick:this.onGifClick})))))}}),jt=exports.rawCompose=Rt,wt=exports.prepareShouldShowIncludeOriginalAttachmentsAlert=function t(e){var n=e.csid,o=e.selectors;return function(t){if(V.hasInvalidComposeField(t))return!1;var e=o.doesComposeSessionExist,i=o.isReplyOrReplyAll,s=o.hasNonInlineAttachmentsByMessageId,a=o.getReplyingToMessageId,r=o.getMessageFromAddress,c=o.getMessageToAddress,d=o.getMessageCcAddress;if(!e(n)||!i(n))return!1;var u=a(n),h=t.to,m=void 0===h?[]:h,p=t.cc,f=void 0===p?[]:p,S=t.attachmentsInfo;if((void 0===S?[]:S).some(function(t){return t.disposition===bt.ATTACHMENT}))return!1;if(!s(u))return!1;var A=Dt([m,f]),g=Dt([c(u),d(u),r(u)]),E=(0,l.default)(A,g);return Boolean(E.length)}},Ft=exports.prepareShouldShowEmptySubjectAlert=function t(e){var n=e.csid,o=e.selectors;return function(t){var e=V.hasInvalidComposeField(t),i=t.subject,s=o.isReplyOrReplyAll,a=o.isForwardMessage,r=o.doesComposeSessionExist;return!e&&!(!r(n)||s(n)&&!a(n))&&Boolean(!i||!i.trim().length)}},Nt=exports.mapStateToProps=function t(e,o){var i=o.csid,s=o.listId,a=o.accounts,r=o.composeData,c=o.dateFormattingOption,d=o.initialShowSubject,l=void 0!==d&&d,u=o.isSubjectEditingDisabled,h=void 0!==u&&u,m=(0,L.selectors)(e),p=m.getFeaturesSelectors,f=m.isComposeSaveDue,S=m.getComposeFieldToFocus,A=m.__getAttachmentByContentId,g=p(),E=g.isEnabled,C=g.getSetting,T=r.composeMode,I=l||T!==_t.EDIT&&T!==_t.REPLY&&T!==_t.REPLY_ALL||T===_t.EDIT&&!h,_=E("conversations"),b=E(R.Features.COMPOSE_V3),v=C(R.Features.INLINE_ATTACHMENT),y=E(R.Settings.STATIONERY_RESTRICTED_THEMES),M=C(R.Settings.LINK_ENHANCER_URL_BLACK_LIST),O=E(R.Features.RTL),D=E(R.Features.EMOJI),x=E(R.Features.PRELOAD_EMOJI),j=E(R.Features.GIF),w=E(R.Features.STATIONERY),F=E(R.Features.RECENTLY_USED_EMOJI),N=void 0;return N=b?function t(e){var o=e.contentId,i=A(o);return i?n({},i,{state:R.AttachmentStates.LOADED}):n({},e,{state:R.AttachmentStates.LOADING})}:function t(e){return e},{composeV3:b,getContent:(0,mt.default)({accounts:a,csid:i,listId:s,selectors:m,dateFormattingOption:c,strings:vt}),shouldShowIncludeOriginalAttachmentsAlert:wt({csid:i,selectors:m}),shouldShowEmptySubjectAlert:Ft({csid:i,selectors:m}),showSubject:I,getComposeFieldToFocus:function t(){return S(i)},dragDropPill:E("dragDropPill"),conversations:_,isSaveDue:f,inlineAttachment:v,stationeryRestrictedThemes:y,linkEnhancerUrlBlacklist:M,rtl:O,getSavedAttachment:N,emoji:D,preloadEmoji:x,gif:j,stationery:w,recentlyUsedEmoji:F}},Lt=exports.mapDispatchToProps=function t(e,n){var o=n.composeV3,i=n.isSaveDue;return o?{onMoreMenuClick:function t(n){return e((0,pt.showRTEMoreMenu)(n))},handleToolbarActions:function t(n){return e((0,pt.handleToolbarActions)(n))},onChange:function t(n){return i(n)&&e((0,pt.saveMessage)(n))},onSend:function t(n){return e((0,pt.sendMessage)(n))}}:{onMoreMenuClick:function t(n){return e((0,pt.showRTEMoreMenu)(n))},handleToolbarActions:function t(n){return e((0,pt.handleToolbarActions)(n))}}};exports.default=(0,i.compose)((0,o.connect)(Nt),(0,o.connect)(void 0,Lt))(Rt);
},{"../../action_creators/compose":2,"../../actions/settings":"./actions/settings","../../apps/mail/molecules/preserve_data_on_unmount":79,"../../atoms/dialog/alert.jsx":"./atoms/dialog/alert","../../atoms/dialog/dual_action.jsx":"./atoms/dialog/dual_action","../../atoms/dialog/modal_box.jsx":95,"../../atoms/lazy_component":"./atoms/lazy_component","../../molecules/attachment_tray":156,"../../molecules/keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","../../platform/invariant":"./platform/invariant","../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../platform/keyboard_shortcuts/constants":"./platform/keyboard_shortcuts/constants","../../platform/mail_constants":"./platform/mail_constants","../../platform/mail_error":"./platform/mail_error","../../platform/rapid_client":"./platform/rapid_client","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils":"./platform/utils","../../platform/utils/attachments":"./platform/utils/attachments","../../platform/utils/object":"./platform/utils/object","../../platform/utils/route":"./platform/utils/route","../../reducers_selectors":"./reducers_selectors","../attachment_tray/actions":"./molecules/attachment_tray/actions","../emoji_picker/emoji_preloader.jsx":"./molecules/emoji_picker/emoji_preloader","./actions":"./molecules/compose/actions","./atoms/captcha.jsx":172,"./atoms/color_picker.jsx":"./molecules/compose/atoms/color_picker","./atoms/dragdrop_overlay.jsx":173,"./atoms/editor.jsx":"./molecules/compose/atoms/editor","./atoms/toolbar.jsx":"./molecules/compose/atoms/toolbar","./constants":"./molecules/compose/constants","./header.jsx":180,"./styles/compose":186,"./utils/prepare_compose_content":193,"./utils/utils":"./molecules/compose/utils/utils","lodash/debounce":"./node_modules/lodash/debounce.js","lodash/difference":"./node_modules/lodash/difference.js","lodash/isEqual":"./node_modules/lodash/isEqual.js","lodash/throttle":"./node_modules/lodash/throttle.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js","redux":"./node_modules/redux/lib/index.js"}],"./molecules/compose/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.OutlookSupportHTMLHeadContent=exports.OutlookSupportHTMLAttributes=exports.COMPOSE_MIN_WIDTH=exports.HYPERLINK_PLUGIN_IGNORE_CLASS=exports.INLINE_IMAGE_PLUGIN_SIZE=exports.INLINE_IMAGE_PLUGIN_CLASSES=exports.RTEHoverOverlayTypes=exports.CURRENT_IMAGE_SIZE_STATUS=exports.FORMAT_DATE_OPTION=exports.HORIZONTAL_PADDING=exports.TOOLBAR_HEIGHT=exports.ToolbarTypes=exports.EditorTypes=exports.RTEKeyModifier=exports.KeyCodes=exports.FocusableRefs=exports.ToolbarActions=exports.FontSizes=exports.Fonts=void 0;var e=require("../../platform/utils/object"),o=require("../../platform/mail_constants/compose"),t=exports.Fonts=o.Fonts,r=exports.FontSizes=o.FontSizes,s=exports.ToolbarActions={FILE_SELECT:"fileselect",SEND:"send",DELETE_DRAFT:"delete_draft",UPDATE_STATIONERY:"update_stationery",CREATE_LINK:"createlink"},E=exports.FocusableRefs=o.FocusableRefs,I=exports.KeyCodes={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,SPACE:32,TAB:9},_=exports.RTEKeyModifier={NO_MODIFIER:1,ALT:1,SHIFT:2,SPECIAL:4,NONSPECIAL:8},i=exports.EditorTypes=(0,e.mirrorKeys)(["MESSAGE","COMPOSE"]),A=exports.ToolbarTypes=(0,e.mirrorKeys)(["MESSAGE","COMPOSE"]),p=exports.TOOLBAR_HEIGHT=70,S=exports.HORIZONTAL_PADDING=72,n=exports.FORMAT_DATE_OPTION={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"},L=exports.CURRENT_IMAGE_SIZE_STATUS=(0,e.mirrorKeys)(["LARGE","SMALL"]),T=exports.RTEHoverOverlayTypes=(0,e.mirrorKeys)(["IMAGE","LINK_ENHANCER_CARD"]),N=exports.INLINE_IMAGE_PLUGIN_CLASSES={UPLOADING_CLASS:"rte-inline-img-uploading",GIF_WRAPPER_CLASS:"gif-wrapper",INLINE_IMAGE_CLASS:"inline-image",IMAGE_OVERLAY_CLASS:"inline-img-overlay",ONLINE_GIF_CLASS:"online-gif",EMOJI_WRAPPER_CLASS:"emoji-wrapper",IGNORE_CLASS:"yahoo-ignore-inline-image"},x=exports.INLINE_IMAGE_PLUGIN_SIZE={IMAGE_SMALL_WIDTH:400,IMAGE_BIG_WIDTH:800,IMAGE_BIG_PERCENTAGE:"100%",IMAGE_SMALL_PERCENTAGE:"50%"},O=exports.HYPERLINK_PLUGIN_IGNORE_CLASS="yahoo-ignore-hyperlink",l=exports.COMPOSE_MIN_WIDTH=670,M=exports.OutlookSupportHTMLAttributes=['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" "),G=exports.OutlookSupportHTMLHeadContent="<!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]-->";
},{"../../platform/mail_constants/compose":"./platform/mail_constants/compose","../../platform/utils/object":"./platform/utils/object"}],179:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var r=e.listId,a=e.cardId;t.executeAction(y.getMessageBodies,{listId:r,messageIds:[a]})}function a(e,t){return n.default.createElement("span",{className:I.errorWrapper},n.default.createElement(_.default,{kind:E.Kinds.EXCLAMATION_ALT,size:E.Sizes.S,colorState:E.ColorStates.COOL_FAINT}),n.default.createElement("span",{"data-test-id":"compose-app-error",className:I.errorMessage},n.default.createElement(u.FormattedMessage,{id:"compose.draft_error_message_retry",defaultMessage:"We couldn't load this draft. {retry}",values:{retry:n.default.createElement("a",{className:I.emptyBodyRetry,onClick:r.bind(null,e,t),"data-test-id":"body-error-retry"},n.default.createElement(u.FormattedMessage,{id:"compose.retry_message",defaultMessage:"Retry!"}))}})))}function s(){return n.default.createElement("span",{className:I.errorWrapper},n.default.createElement(_.default,{kind:E.Kinds.EXCLAMATION_ALT,size:E.Sizes.S,colorState:E.ColorStates.COOL_FAINT}),n.default.createElement("span",{"data-test-id":"compose-app-error",className:I.errorMessage},n.default.createElement(u.FormattedMessage,{id:"compose.draft_error_message_noretry",defaultMessage:"We couldn't load this draft."})))}function o(e){return n.default.createElement(x.default,{message:e,expanded:!0,expandable:!1})}function d(e,t){var r=e.listId,d=e.cardId,l=e.message;return n.default.createElement("div",{"data-test-id":"compose",className:I.errorContainer},l?o(l):null,r&&d?a(e,t):s())}exports.__esModule=!0,exports.default=d;var l=require("react"),n=t(l),u=require("react-intl"),c=require("react-atomic-css/css"),i=t(c),f=require("./styles/error"),m=t(f),p=require("../../atoms/fuji_icon.jsx"),_=t(p),g=require("../../actions/message"),y=e(g),E=require("../../atoms/constants/fuji_icon"),M=require("../message_card/atoms/header.jsx"),x=t(M),A=require("../../types"),I=(0,i.default)(m.default);d.contextTypes={executeAction:l.PropTypes.func},module.exports=exports.default;
},{"../../actions/message":"./actions/message","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../types":"./types","../message_card/atoms/header.jsx":240,"./styles/error":188,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],180:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.strings=void 0;var s=require("react"),a=t(s),o=require("../../types"),i=require("react-intl"),n=require("../../platform/utils/mail_ui_vars"),l=require("../../platform/utils/account"),c=require("../../atoms/button.jsx"),r=t(c),u=require("../../atoms/constants/button"),d=require("../../atoms/bidi_input.jsx"),p=t(d),h=require("../../atoms/fuji_icon_button.jsx"),f=t(h),b=require("../../atoms/constants/fuji_icon"),m=require("./utils/utils"),g=e(m),_=require("../../atoms/popover/popover_container.jsx"),C=t(_),S=require("../../atoms/popover/popover_anchor.jsx"),F=t(S),E=require("../../atoms/popover/popover_content.jsx"),v=t(E),D=require("../../atoms/constants/popover"),M=require("../../atoms/navigable_list.jsx"),j=t(M),R=require("../../atoms/constants/navigable_list"),B=require("./atoms/recipient_input.jsx"),x=t(B),O=require("./atoms/labeled_input.jsx"),q=t(O),A=require("./atoms/account_select.jsx"),P=t(A),T=require("./auto_suggest_contact.jsx"),y=t(T),N=require("./atoms/focus_bordered.jsx"),w=t(N),H=require("./constants"),k=require("./styles/header"),I=t(k),U=require("react-atomic-css/css"),L=t(U),K=require("../../platform/utils/object"),J=require("./actions"),W=e(J),X=require("../../platform/rapid_client/constants"),z=require("../../platform/mail_constants"),G=require("../../atoms/utils/pills"),V=require("lodash/isEqual"),Y=t(V),Q=exports.strings=(0,i.defineMessages)({save_draft_and_close:{id:"compose.save_draft_and_close",defaultMessage:"Close (and save to drafts)"},show_cc_button_label:{id:"compose.show_cc_button_label",defaultMessage:"CC / BCC"},hide_cc_button_label:{id:"compose.hide_cc_button_label",defaultMessage:"Hide CC / BCC"},show_cc_only_button_label:{id:"compose.show_cc_only_button_label",defaultMessage:"CC"},hide_cc_only_button_label:{id:"compose.hide_cc_only_button_label",defaultMessage:"Hide CC"},bcc_button_label:{id:"compose.bcc_button_label",defaultMessage:"bcc"},from_input_label:{id:"compose.from_input_label",defaultMessage:"From"},to_input_label:{id:"compose.to_input_label",defaultMessage:"To"},cc_input_label:{id:"compose.cc_input_label",defaultMessage:"CC"},bcc_input_label:{id:"compose.bcc_input_label",defaultMessage:"BCC"},select_contact:{id:"compose.select_contact",defaultMessage:"Select contact {email}"},subject_input_placeholder:{id:"compose.subject_input_placeholder",defaultMessage:"Subject"},additional_options:{id:"compose.additional_options",defaultMessage:"Additional options"}}),Z=a.default.createClass({displayName:"Header",contextTypes:{executeAction:s.PropTypes.func,config:s.PropTypes.object,intl:i.intlShape.isRequired},getDefaultProps:function e(){return{subject:"",to:[],cc:[],bcc:[],showSubject:!0,isBccDisabled:!1,isSubjectEditingDisabled:!1}},getInitialState:function e(){return{showCcBcc:!!this.props.cc.length||!!this.props.bcc.length,inputFocus:{},xButtonHovered:!1,isDragged:!1,selectedPills:[]}},componentWillReceiveProps:function e(t){this.props.composeMode!==t.composeMode&&this.setState({showCcBcc:!!t.cc.length||!!t.bcc.length})},handleXButtonHover:function e(t){this.setState({xButtonHovered:t})},handleSubjectChange:function e(t){this.props.onSubjectChange(t.target.value)},handleInputContactAdd:function e(t,s){var a=(0,G.createAddress)(s.trim());this.props.onContactAdd(t,{email:a.email,name:a.name})},handleFocusChange:function e(t,s){this.setState({inputFocus:{type:t,isFocused:s}})},shouldHandleDrop:function e(t){return this.refs.composeHeaderTop.contains(t)},setDragState:function e(t){this.setState({isDragged:t})},handleDragOver:function e(t){this.shouldHandleDrop(t.target)&&t.preventDefault()},updateSelectedPills:function e(t){this.setState({selectedPills:t})},clearPillsCallbacks:[],clearSelectedPills:function e(t){t&&this.clearPillsCallbacks.push(t),this.clearPillsCallbacks.forEach(function(e){return e()}),this.setState({selectedPills:[]})},handleDrop:function e(t,s,a,o){if(t.stopPropagation(),t.preventDefault(),"undefined"!=typeof a||this.shouldHandleDrop(t.target)&&""!==s){var i=t.dataTransfer.getData("text"),n=document.getElementById("drag-img"),l=[],c={},r=0;if(n&&n.parentNode&&n.parentNode.removeChild(n),""!==i&&g.isJSONString(i)){var u=JSON.parse(i);u&&(c=u.contact),this.state.selectedPills.length>0&&(l=this.state.selectedPills),c&&(c.id||c.email||c.name)&&(r=l.findIndex(function(e){return(0,Y.default)(c,e)}),r===-1&&l.push(c));var d={mKey:X.MKEYS.DRAG_CONTACT,sec:X.SEC_VALUES.COMPOSE_CONTACTS,actionData:{cnt:l.length,from:u.dragFromField.toUpperCase(),to:s.toUpperCase()}};this.context.executeAction(W.dragDropContact,{i13nModel:d}),this.props.onDragContactAdd(s,l,{side:a,id:o}),u.dragFromField!==s&&this.props.onContactRemove(u.dragFromField,l,!0),this.setDragState(!1),this.clearSelectedPills()}}},messageForOption:function e(t){return t.email?this.context.intl.formatMessage(Q.select_contact,{email:t.email}):t},focus:function e(t){this.refs[t]?this.refs[t].focus():this[t]&&this[t].focus()},componentDidMount:function e(){this.focus(this.props.initialFocus)},toggleExtraRecipients:function e(){var t=this;this.state.showCcBcc?this.setState({showCcBcc:!1},function(){t.focus(H.FocusableRefs.TO)}):this.setState({showCcBcc:!0},function(){t.focus(H.FocusableRefs.CC)})},filterSuggestions:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return[];var s=this.props.to.concat(this.props.cc,this.props.bcc).reduce(function(e,t){return e[t.email]=1,e},Object.create(null));return Object.keys(s).length&&(t=t.filter(function(e){return!s[e.email]})),t},renderAutoSuggest:function e(t,s,o,i){var n=this,l=this.props[t],c=this.state.inputFocus.type===t&&this.state.inputFocus.isFocused,r="message-"+t+"-field";return a.default.createElement(x.default,{active:c,label:s,childrenId:"compose-header-field-"+t,identifier:t,"data-test-id":"contact-picker-"+t,addContactsToField:this.props.onContactAdd.bind(null,t)},a.default.createElement(y.default,{filterSuggestions:this.filterSuggestions,suggestionRef:function e(s){return n[t]=s},id:t,inputId:r,autoBidi:!1,selectedContacts:l,onFocus:this.handleFocusChange.bind(this,t,!0),onBlur:this.handleFocusChange.bind(this,t,!1),onSuggestionRequested:this.props.onSuggestionRequested,onInputContactAdd:this.handleInputContactAdd.bind(this,t),onContactRemove:this.props.onContactRemove.bind(null,t),onContactAdd:this.props.onContactAdd.bind(null,t),getMessageForOption:this.messageForOption,showCcBcc:this.state.showCcBcc,handleDrop:function e(s,a,o){return n.handleDrop(s,t,a,o)},handleDragState:this.setDragState,isDragged:this.state.isDragged,onPillSelection:this.updateSelectedPills,selectedPills:this.state.selectedPills,clearSelectedPills:this.clearSelectedPills,dragDropPill:this.props.dragDropPill}),i)},renderCloseButton:function e(t){var s=this.context.intl.formatMessage(Q.save_draft_and_close),o=this.state.xButtonHovered?b.ColorStates.NORMAL:b.ColorStates.DISABLED;return a.default.createElement("span",{className:t.xButton},a.default.createElement(f.default,{onClick:this.props.onClose,title:s,"aria-label":s,kind:b.Kinds.CLOSE,colorState:o,size:b.Sizes.XXS}))},renderExtraRecipientBtn:function e(t){if(this.props.cc.length>0||this.props.bcc.length>0)return null;var s=this.context.intl.formatMessage,o=this.props.isBccDisabled,i=s(this.state.showCcBcc?o?Q.hide_cc_only_button_label:Q.hide_cc_button_label:o?Q.show_cc_only_button_label:Q.show_cc_button_label);return a.default.createElement(r.default,{ref:H.FocusableRefs.CCBTN,className:t,tabIndex:"-1",onClick:this.toggleExtraRecipients,kind:u.Kinds.CHROMELESS,"data-test-id":"btn-cc"},i)},renderEditSubjectMenu:function e(t){var s=this.context.intl.formatMessage;return a.default.createElement(C.default,{className:t.additionalOptionsButtonWrapper},a.default.createElement(F.default,null,a.default.createElement(f.default,{"data-test-id":"additional-compose-options-button",kind:b.Kinds.CHEVRON_UP,rotate:b.Rotate.D180,size:b.Sizes.XS,title:s(Q.additional_options)})),a.default.createElement(v.default,{triggerOn:D.Triggers.CLICK,align:D.Align.START,offset:2*n.GRID_UNIT},a.default.createElement("div",{className:t.additionalOptionsListWrapper},a.default.createElement(j.default,{kind:R.Kinds.MENU,focusOnMount:!0,"data-test-id":"additional-compose-options-menu"},a.default.createElement("li",null,a.default.createElement(r.default,{"data-test-id":"edit-subject",kind:u.Kinds.MENUITEM,onClick:this.props.onEditSubject},a.default.createElement(i.FormattedMessage,{id:"editSubject",defaultMessage:"Edit subject"})))))))},render:function e(){var t=this,s=(0,L.default)(I.default,{"filled-subject":this.props.subject.length>0,isSubjectDisabled:this.props.isSubjectEditingDisabled}),o=this.state.inputFocus;return a.default.createElement("div",{className:"compose-header "+s.container},this.props.showCloseButton?a.default.createElement("div",{className:s.xButtonWrapper,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},this.renderCloseButton(s)):null,a.default.createElement("div",{"data-test-id":"compose-header-top",className:s.composeHeaderTop,ref:"composeHeaderTop"},this.props.showFrom?a.default.createElement(w.default,{hasFocus:o.type===H.FocusableRefs.FROM&&o.isFocused,"data-test-id":"container-from"},a.default.createElement(q.default,{active:o.type===H.FocusableRefs.FROM&&o.isFocused,label:a.default.createElement(i.FormattedMessage,Q.from_input_label)},a.default.createElement(P.default,{dir:this.props.rtl?"rtl":"ltr",selectLabel:this.context.intl.formatMessage(Q.from_input_label),onFocus:this.handleFocusChange.bind(this,H.FocusableRefs.FROM,!0),onBlur:this.handleFocusChange.bind(this,H.FocusableRefs.FROM,!1),sendingAccounts:(0,l.filterSendingAccounts)(this.props.accounts),selected:this.props.from,onChange:this.props.onFromChange}))):null,a.default.createElement(w.default,{hasFocus:o.type===H.FocusableRefs.TO&&o.isFocused,"data-test-id":"container-to",onDragOver:this.handleDragOver,onDrop:function e(s){return t.handleDrop(s,H.FocusableRefs.TO)}},this.props.isSubjectEditingDisabled&&this.props.composeMode!==z.Compose.Modes.FORWARD?this.renderEditSubjectMenu(s):null,this.renderAutoSuggest(H.FocusableRefs.TO,a.default.createElement(i.FormattedMessage,Q.to_input_label),s),this.renderExtraRecipientBtn(s.extraRecipientsBtn)),this.state.showCcBcc?a.default.createElement("div",null,a.default.createElement(w.default,{hasFocus:o.type===H.FocusableRefs.CC&&o.isFocused,"data-test-id":"container-cc",onDragOver:this.handleDragOver,onDrop:function e(s){return t.handleDrop(s,H.FocusableRefs.CC)}},a.default.createElement("div",{className:s.ccContainer},this.renderAutoSuggest(H.FocusableRefs.CC,a.default.createElement(i.FormattedMessage,Q.cc_input_label),s))),!this.props.isBccDisabled&&a.default.createElement(w.default,{hasFocus:o.type===H.FocusableRefs.BCC&&o.isFocused,"data-test-id":"container-bcc",onDragOver:this.handleDragOver,onDrop:function e(s){return t.handleDrop(s,H.FocusableRefs.BCC)}},this.renderAutoSuggest(H.FocusableRefs.BCC,a.default.createElement(i.FormattedMessage,Q.bcc_input_label),s))):null),this.props.showSubject?a.default.createElement("div",{className:s.composeSubject},a.default.createElement(w.default,{hasFocus:o.type===H.FocusableRefs.SUBJECT&&o.isFocused},this.props.isSubjectEditingDisabled&&this.props.composeMode===z.Compose.Modes.FORWARD?this.renderEditSubjectMenu(s):null,a.default.createElement(p.default,{"data-test-id":"compose-subject",onFocus:this.handleFocusChange.bind(this,H.FocusableRefs.SUBJECT,!0),onBlur:this.handleFocusChange.bind(this,H.FocusableRefs.SUBJECT,!1),ref:H.FocusableRefs.SUBJECT,spellCheck:!0,autoCorrect:!1,"aria-label":this.context.intl.formatMessage(Q.subject_input_placeholder),className:s.subject,placeholder:this.context.intl.formatMessage(Q.subject_input_placeholder),value:this.props.subject,onChange:this.handleSubjectChange,disabled:this.props.isSubjectEditingDisabled,onDragOver:this.handleDragOver,onDrop:function e(s){return t.handleDrop(s,"")}}))):null)}});exports.default=Z;
},{"../../atoms/bidi_input.jsx":"./atoms/bidi_input","../../atoms/button.jsx":"./atoms/button","../../atoms/constants/button":"./atoms/constants/button","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/navigable_list":"./atoms/constants/navigable_list","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../atoms/utils/pills":133,"../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/account":"./platform/utils/account","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../../types":"./types","./actions":"./molecules/compose/actions","./atoms/account_select.jsx":170,"./atoms/focus_bordered.jsx":174,"./atoms/labeled_input.jsx":175,"./atoms/recipient_input.jsx":176,"./auto_suggest_contact.jsx":177,"./constants":"./molecules/compose/constants","./styles/header":190,"./utils/utils":"./molecules/compose/utils/utils","lodash/isEqual":"./node_modules/lodash/isEqual.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],181:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.composeDataState,a=e.composeData;if(a&&a.draftStatus!==O.DOES_NOT_EXIST){var u=a.csid,s=a.composeMode,c=u+"-"+s;return!e.framed&&e.secureModeSetting?n.default.createElement(l.LazyComponent,r({key:c,import:"../../apps/mail/controller_views/framed_compose"},e,{csid:u,_moduleGetter:function e(){return require("../../apps/mail/controller_views/framed_compose")}}),n.default.createElement(l.When,{loading:!0},n.default.createElement("div",null,n.default.createElement(d.default,null)))):n.default.createElement(o.default,r({key:c},e,{csid:u}))}return t===_.RecordStates.DOES_NOT_EXIST||t===_.RecordStates.LOADING?n.default.createElement("div",{className:x.loadingContainer},n.default.createElement(d.default,null)):n.default.createElement(i.default,e)}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};exports.default=t;var a=require("./compose.jsx"),o=e(a),l=require("../../atoms/lazy_component"),u=require("react"),n=e(u),s=require("./error.jsx"),i=e(s),c=require("../../atoms/loading_indicator.jsx"),d=e(c),m=require("../../platform/mail_error"),f=e(m),p=require("../../platform/utils/object"),_=require("../../platform/mail_constants"),E=require("./styles/index"),q=e(E),v=require("react-atomic-css/css"),S=e(v),x=(0,S.default)(q.default),O=_.Draft.Status;module.exports=exports.default;
},{"../../apps/mail/controller_views/framed_compose":"./apps/mail/controller_views/framed_compose","../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../platform/mail_constants":"./platform/mail_constants","../../platform/mail_error":"./platform/mail_error","../../platform/utils/object":"./platform/utils/object","./compose.jsx":178,"./error.jsx":179,"./styles/index":191,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./molecules/compose/plugins/hyperlink_plugin":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),r=require("../atoms/hyperlink_dropdown.jsx"),i=e(r),o=require("../atoms/go_to_link.jsx"),s=e(o),d=require("../styles/hyperlink_plugin"),a=e(d),u=require("react-atomic-css/css"),c=e(u),l=require("../../../platform/invariant"),h=e(l),k=require("../constants"),p=(0,c.default)(a.default),L=n.default.createClass({displayName:"HyperLinkPlugin",getInitialState:function e(){return{renderGoToLink:!1,renderHyperlinkDropdown:!1,textInput:"",linkInput:"",goToLinkValue:""}},componentWillMount:function e(){var t=this;this.commands={createlink:{action:function e(){var n=window.getSelection();n.isCollapsed?t.createNewLink(n.anchorNode):t.createLinkFromSelection(n.anchorNode)}},clicklink:{action:function e(n,r){t.showGoToLink(r)}}}},handleClick:function e(t){"A"===t.target.nodeName&&t.target.className.indexOf(k.HYPERLINK_PLUGIN_IGNORE_CLASS)===-1?this.props.editor.pushButton("clicklink",t.target):this.hideGoToLink()},componentDidUpdate:function e(t){this.props.editor!==t.editor&&this.props.editor.addPlugin({commands:this.commands})},_getFirstCurrentLinkNodes:function e(){return this._currentLinkNodes[0]},_setCurrentLinkNodes:function e(t){Array.isArray(t)?this._currentLinkNodes=t:NodeList.prototype.isPrototypeOf(t)?this._currentLinkNodes=Array.prototype.slice.call(t):this._currentLinkNodes=[t]},createNewLink:function e(t){var n=t,r=n.parentNode;"A"===r.nodeName?n=r:(this.props.editor.pushButton("insertHTML","<a data-tmp>_</a>"),n=r.querySelector("[data-tmp]")),n&&(this._setCurrentLinkNodes(n),this._getFirstCurrentLinkNodes().innerHTML="",this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:n,textInput:n.textContent||"",linkInput:n.hasAttribute("href")?n.getAttribute("href").trim():"http://"}))},createLinkFromSelection:function e(t){var n=t,r=n.parentNode;n.nodeType===Node.TEXT_NODE?"A"!==n.parentNode.nodeName?(document.execCommand("createlink",!1," "),n=r.parentNode.querySelectorAll('a[href=" "]')):n=n.parentNode:"A"!==n.nodeName&&(document.execCommand("createlink",!1," "),n=r.parentNode.querySelectorAll('a[href=" "]')),(0,h.default)(n,"Cannot find anchor element to create link"),this._setCurrentLinkNodes(n),this.showHyperLinkDropdown()},showHyperLinkDropdown:function e(){if(this._currentLinkNodes||!(this._currentLinkNodes.length<1)){var t="";this._getFirstCurrentLinkNodes().hasAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()&&(t=this._getFirstCurrentLinkNodes().getAttribute("href")),this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:this._currentLinkNodes[this._currentLinkNodes.length-1],textInput:this._currentLinkNodes[this._currentLinkNodes.length-1].textContent,linkInput:t})}},hideHyperLinkDropdown:function e(){this.setState({renderHyperlinkDropdown:!1})},updateLink:function e(t,n){var r=this.props.editor;if(this.hideHyperLinkDropdown(),this._currentLinkNodes){this.props.editor.focus(),this._getFirstCurrentLinkNodes().focus();var i=window.getSelection(),o=document.createRange(),s=void 0,d=this._currentLinkNodes.length;this._currentLinkNodes.forEach(function(e,r){s=document.createElement("a"),r===d-1?s.textContent=t||e.innerText:s.textContent=e.innerText||t,s.href=n,e.parentElement.replaceChild(s,e)}),this._currentLinkNodes=null,o.setStartAfter(s),o.setEndAfter(s),i.removeAllRanges(),i.addRange(o),o.collapse(),i.collapseToEnd(),r.contentChanged({type:"link",node:s}),document.execCommand("unlink",!1,!1)}},cancelCreateOrEditLink:function e(){this.hideHyperLinkDropdown(),!this._currentLinkNodes||this._getFirstCurrentLinkNodes().getAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()||this.removeCurrentLinkNodes()},removeCurrentLinkNodes:function e(){var t=this._getFirstCurrentLinkNodes().parentElement,n=this._getFirstCurrentLinkNodes().firstChild;!n||n.nodeType===Node.TEXT_NODE&&""===n.textContent.trim()||t.insertBefore(n,this._getFirstCurrentLinkNodes()),t.removeChild(this._getFirstCurrentLinkNodes()),t.normalize(),window.getSelection().removeAllRanges();var r=document.createRange();r.setStartAfter(t),r.setEndAfter(t),window.getSelection().addRange(r),window.getSelection().collapseToEnd(),this._currentLinkNodes=null},showGoToLink:function e(t){this.setState({renderHyperlinkDropdown:!1,renderGoToLink:!0,anchorNode:t,goToLinkValue:t.getAttribute("href")}),this._setCurrentLinkNodes(t)},hideGoToLink:function e(){this.setState({renderGoToLink:!1})},editHyperLink:function e(){this.showHyperLinkDropdown()},removeHyperLink:function e(){this.hideGoToLink(),this.removeCurrentLinkNodes()},render:function e(){return n.default.createElement("div",{onClick:this.handleClick,className:p.container},this.props.children,this.state.renderHyperlinkDropdown?n.default.createElement(i.default,{onSave:this.updateLink,onClose:this.cancelCreateOrEditLink,textInput:this.state.textInput,linkInput:this.state.linkInput,anchorNode:this.state.anchorNode}):null,this.state.renderGoToLink?n.default.createElement(s.default,{onEdit:this.editHyperLink,onRemove:this.removeHyperLink,goToLinkValue:this.state.goToLinkValue,anchorNode:this.state.anchorNode}):null)}});exports.default=L,module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant","../atoms/go_to_link.jsx":"./molecules/compose/atoms/go_to_link","../atoms/hyperlink_dropdown.jsx":"./molecules/compose/atoms/hyperlink_dropdown","../constants":"./molecules/compose/constants","../styles/hyperlink_plugin":"./molecules/compose/styles/hyperlink_plugin","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],182:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},n=require("react"),o=t(n),i=require("react-dom"),s=require("./index"),r=t(s),a=require("./constants"),h=require("lodash/throttle"),d=t(h),l=20,c=160,u=24,g=16,_=12,p=o.default.createClass({displayName:"SmartScroll",contextTypes:{config:n.PropTypes.object.isRequired},getInitialState:function t(){return{engaged:!1}},update:function t(){this._isSetup&&this._handleScroll()},_shouldEnableSmartScroll:function t(){return document.documentElement.scrollWidth<=window.innerWidth},_handleWindowResize:function t(){this._shouldEnableSmartScroll()?(this._isSetup||this._setup(),this.update()):this._teardown()},_handleContentChanged:function t(e){var n=e.caret,o=e.type;this._isSetup&&"keyup"===o&&n&&this._scrollTargetIntoView(n.y)},_scrollTargetIntoView:function t(e){var n=this,o=this._containerNode.getBoundingClientRect(),i=this._targetNode.getBoundingClientRect(),s=this._headerNode.getBoundingClientRect(),r=e+g+s.height,h=i.top-o.top+r,d=this.state.engaged?o.height-a.TOOLBAR_HEIGHT:o.height,c=h>=d,u=h<0,_=!this.state.engaged&&i.bottom+l>o.bottom;u||c?this.scrollTimer=setTimeout(function(){n._containerNode.scrollTop=n._targetNode.offsetTop+r-Math.round(o.height/2)},2):_&&(this._containerNode.scrollTop+=i.bottom-o.bottom+l)},_alignTargetInContainer:function t(){var e=this._targetNode.getBoundingClientRect(),n=this._containerNode.getBoundingClientRect();e.height<n.height?this._containerNode.scrollTop=this._targetNode.offsetTop-(n.height-e.height-l):this._containerNode.scrollTop=this._targetNode.offsetTop-_},_handleScroll:function t(){var e=this._containerNode.getBoundingClientRect(),n=this._targetNode.getBoundingClientRect(),o=this._headerNode.getBoundingClientRect(),i=Math.max(o.height+u,c);n.bottom>e.top&&n.top+i<e.bottom&&n.bottom>e.bottom?this._engage(n.width-a.HORIZONTAL_PADDING):this._disengage()},_setup:function t(){this._compose&&(this._containerNode=(0,i.findDOMNode)(this.props.scrollContainer),this._targetNode=(0,i.findDOMNode)(this)),this._containerNode&&this._targetNode&&this._headerNode&&(this._isSetup=!0,this.update(),this._containerNode.addEventListener("scroll",this._handleScroll))},_teardown:function t(){clearTimeout(this.scrollTimer),this._containerNode&&this._containerNode.removeEventListener("scroll",this._handleScroll),this._disengage(),this._isSetup=!1},componentWillMount:function t(){this._handleContentChanged=(0,d.default)(this._handleContentChanged,10)},componentDidMount:function t(){this._shouldEnableSmartScroll()&&this._setup(),this._isSetup&&this._alignTargetInContainer()},componentWillUnmount:function t(){this._teardown()},_engage:function t(){this.state.engaged||this.setState({engaged:!0})},_disengage:function t(){this.state.engaged&&this.setState({engaged:!1})},render:function t(){var n=this;return o.default.createElement(r.default,e({},this.props,{refToComposeContainer:function t(e){n._compose=e},refToComposeHeader:function t(e){n._headerNode=(0,i.findDOMNode)(e)},onContentChanged:this._handleContentChanged,toolbarFixed:this.state.engaged,onResize:this._handleWindowResize}))}});exports.default=p,module.exports=exports.default;
},{"./constants":"./molecules/compose/constants","./index":181,"lodash/throttle":"./node_modules/lodash/throttle.js","react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js"}],"./molecules/compose/strings":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("react-intl");exports.default=(0,e.defineMessages)({font_family_label_modern:{id:"compose.font_family_label_modern",defaultMessage:"Modern"},font_family_label_modernwide:{id:"compose.font_family_label_modernwide",defaultMessage:"Modern Wide"},font_family_label_classic:{id:"compose.font_family_label_classic",defaultMessage:"Classic"},font_family_label_classicwide:{id:"compose.font_family_label_classicwide",defaultMessage:"Classic Wide"}}),module.exports=exports.default;
},{"react-intl":"./node_modules/react-intl/lib/index.js"}],183:[function(require,module,exports){
module.exports={className:{default:{select:"C_516e D_F ab_C ir_0 q_T b_0",menuContainer:"D_F",label:"D_F ab_C y_ZwubDW A_6EqO",menuLabelEmail:"D_X",menu:"P_3zDxc l_ZufDBK j_20l77p",fromField:"q_T b_0 C3_4N1z"}},_key:"ABCCz"};
},{}],184:[function(require,module,exports){
module.exports={className:{default:{itemAddress:"Q_fq7 A_6DUj C_Z1Xxgu2",checkmarkWrapper:"W_6LEV H_6LEV E_fq7 D_X",buttonContent:"D_F ab_C i_6LEV"}},_key:"ZCx2ho"};
},{}],185:[function(require,module,exports){
module.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R r_P",pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_3HLUz ir_0 o_A K_3qWeB",pillsContainerChild:"em_N o_h s_3nx4N",pillOuter:"D_F ac_C",textContainer:"E_6LEV o_h",contactIcon:"o_q",name:"C_Z291T0t o_h G_e J_x Q_fq7 E_fq7",email:"C_Z1VRpVF o_h G_e J_x Q_fq7 E_fq7",highlight:"u_eBE",typeahead:"M_0 p_R H_6NIX",typeaheadInput:"Z_N ir_0 j_n y_ZwubDW q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadInputHint:"Z_0 y_ZwubDW q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadAriaStatus:"L_Z1yJMeR p_a",typeaheadDropDown:"Z_f8a I_52qC k_w ha_n M_0 P_3HLUz b_Z14vXdP e_dRA j_ZqTdtW p_a o_A K_3vFsb W_3vVYr L_A T_6D6F",typeaheadOptionContainer:"D_F ab_C P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9"},showCcBcc:{pillsContainer:"K_FB7P8"}},_key:"ZFHn6e"};
},{}],"./molecules/compose/styles/color_picker":[function(require,module,exports){
module.exports={className:{default:{swatchItem:"D_F ek_BB ab_C M_eo6",swatchContent:"W_7rdk",swatchTitleBase:"J_x U_6Eb4 ac_CI",colorElement:"p_R",color:"D_F gl_C ab_C W_6LEV H_6LEV b_0 P_0 it_689y",colorMenu:"P_6DEy",subColorMenu:"P_Z2aXgbn Q_eTB"}},_key:"2lVS8r"};
},{}],186:[function(require,module,exports){
module.exports={className:{default:{compose:"I_52qC j_n k_w W_6D6F D_F ek_BB em_N P_ZzJed",loadingContainer:"je_74JI",editorContainer:"em_N D_F ek_BB iz_A"}},_key:"Z1rCw6p"};
},{}],187:[function(require,module,exports){
module.exports={className:{default:{attachmentDragContainer:"em_N D_F ek_BB p_R o_h",dragOverlay:"cZW7ROP_n b_2dWFvS T_fq7 p_a L_0 R_0 B_eo6 D_F gl_C ab_C q_2iedUU",dragDescriptionContainer:"D_F A_6EWk u_b O_cMr ek_BB ab_C C_Z2aVTcY",dragTextDescription:"je_6LEV"}},_key:"Z19Utn2"};
},{}],"./molecules/compose/styles/editor":[function(require,module,exports){
module.exports={className:{default:{editorWrapper:"p_R em_N D_F ek_BB en_0 d_eik N_6Fd5",editorContainer:"p_R cZ1RN91d_GG k_w W_6D6F em_N D_F",rte:"em_N ir_0 o_h",placeholder:"p_a T_6LEV L_0 C_Z1TsNWR cZW7ROP_n",button:"b_0 ir_0 P_eo6 I_T y_ZwubDW A_6DUj C_Z1TsNWR M_6Fd5",buttonInner:"D_F ab_C r_P"},"kind-MESSAGE":{rte:"iz_A k_w P_6Fd5 H_3n93F",placeholder:"T_eTB P_1Eu7sD i_6VdP"}},_key:"ZcOfci"};
},{}],188:[function(require,module,exports){
module.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F gl_C ab_C P_Z17Hvh7",errorMessage:"A_6FsP Q_fq7",emptyBodyRetry:"r_P C_Z2aVTcY"}},_key:"Z1fhFdm"};
},{}],"./molecules/compose/styles/expanded_more_tools":[function(require,module,exports){
module.exports={className:{default:{rightAlignIcon:"D_X H_6LEV P_eo6 O_cMu h_2gl0WC",menuIcon:"D_X H_6LEV P_eo6 O_cMu",button:"s_6D6F q_T b_0 P_0 r_P O_cMu I4_2ieea9 e4_dRA O4_N",menuLabel:"y_Z1i1UbM A_6EqO C_Z291T0t Q_fq7",menuItem:"D_F N_fq7 ab_C",menuListItem:"Y_eTB H_6NIX",menuContainer:"D_F ek_EZ M_1ghjXT",spaceBetween:"W_fq7",sectionDivider:"D_B z_Z163u0T Y_6DEy U_eo6 E_69H5",backButtonLabel:"y_Z1i1UbM A_6DUj C_Z1TsNWR"}},_key:"2qCe2l"};
},{}],189:[function(require,module,exports){
module.exports={className:{default:{input:"D_F ab_CI je_eo6 em_N m_Z1a7UWG"},hasFocus:{input:"bj_Z2aVTcY"}},_key:"2tU4n4"};
},{}],"./molecules/compose/styles/font_name_size_menuitem":[function(require,module,exports){
module.exports={className:{default:{menuItem:"C_Z291T0t H_6UbO i_6UbO N_fq7 D_F ab_C",checkmarkWrapper:"D_X E_fq7 i_0"},"selected-false":{checkmarkWrapper:"W_6LEV"},"kind-tiny":{menuItem:"A_6DEy"},"kind-small":{menuItem:"A_6EqO"},"kind-medium":{menuItem:"A_6Fd5"},"kind-large":{menuItem:"A_6MGW"},"kind-xlarge":{menuItem:"H_72FG i_72FG A_6UbO"},"kind-huge":{menuItem:"H_7ceA i_7ceA A_74JI"},"kind-modern":{menuItem:"y_1ACvVU"},"kind-modernwide":{menuItem:"y_ZISf5J"},"kind-classic":{menuItem:"y_ZYqQIR"},"kind-classicwide":{menuItem:"y_ZNDoVU"},"kind-courier":{menuItem:"y_16XJVH"},"kind-garamond":{menuItem:"y_1i8dl0"},"kind-lucida":{menuItem:"y_Z2hYH8W"}},_key:"T5DGz"};
},{}],"./molecules/compose/styles/go_to_link":[function(require,module,exports){
module.exports={className:{default:{container:"p_a D_F I_52qC b_Z14vXdP j_ZqTdtW Z_f8a P_Z1E2YFn",linkWrapper:"C_Z1VRpVF",link:"C_Z2aVTcY a_3rdfm J_x o_h G_e D_X f_r",control:"Q_6Eb4 u_b C_Z2aVTcY r_P"}},_key:"hddyh"};
},{}],190:[function(require,module,exports){
module.exports={className:{default:{container:"en_0",inputDark:"C_Z291T0t",additionalOptionsButtonWrapper:"D_F p_a L_371PO B_dBP P_eo6",additionalOptionsListWrapper:"P_3Y3Gk",ccContainer:"D_F ab_C em_N",subject:"G_e y_ZwubDW A_6EqO C_Z291T0t ir_0 P_0 bj3_Z291T0t b_0 j_n d_72FG em_N",extraRecipientsBtn:"en_0 Q_fq7 E_eo6 Y_6DEy U_6DEy A_6DUj y_ZwubDW C_Z1VRpVF P_ZvFAnJ b_n q_T r_P",composeHeaderTop:"p_R",composeSubject:"p_R",ccButton:"C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",ccButtonNotLast:"x_ZGN9rt C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",xButton:"en_0",xButtonWrapper:"p_a R_fq7 T_fq7"},"filled-subject":{subject:"C_Z291T0t"},isSubjectDisabled:{subject:"C_Z1VRpVF I_T"}},_key:"vHypS"};
},{}],"./molecules/compose/styles/hyperlink_dropdown":[function(require,module,exports){
module.exports={className:{default:{container:"I_52qC b_Z14vXdP j_ZqTdtW Z_f8a p_a D_F ek_BB P_1iBkeu",button:"q_ZpQYvz e_dRA k_w r_P H_6NIX s_7ceA Y_6Eb4 A_6EqO b_0 C_Z1TsNWR",item:"H_6UbO s_3rBgu a_3vXwX jb_fq7 p_R D_F ab_C",testLink:"r_P C_Z2aVTcY q_2uyuKK m_2tEJa0 D_Z1YJkyX ab_C gl_CH J_x P_ZvFCc1 H_6D6F W_6D6F",textInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F W_6D6F A_6EqO bj3_Z2aVTcY",linkInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F s_3r5Ku N_eo6 A_6EqO bj3_Z2aVTcY",close:"t_r E_36JN3 Q_0"},saveBtnEnabled:{button:"q_Z2aVTcY C_52qC"},focusOnLinkInput:{testLink:"bj_Z2aVTcY"}},_key:"1kNK7y"};
},{}],"./molecules/compose/styles/hyperlink_plugin":[function(require,module,exports){
module.exports={className:{default:{container:"D_F ek_BB em_N"}},_key:"1Nkogp"};
},{}],191:[function(require,module,exports){
module.exports={className:{default:{loadingContainer:"je_74JI W_6D6F"}},_key:"1LglKj"};
},{}],192:[function(require,module,exports){
module.exports={className:{default:{module:"C_Z1VRpVF D_F ab_C em_N",label:"E_6Fd5 r_P en_0 ac_CI i_6VdP C4_Z2aVTcY",children:"em_N D_F ab_C"},active:{module:"C_Z291T0t",label:"C_Z2aVTcY"}},_key:"Z2nx5uN"};
},{}],"./molecules/compose/styles/more_tools":[function(require,module,exports){
module.exports={className:{default:{icon:"D_X P_3gIMd O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL e_dRA",sectionDivider:"M_3gIMd",rightAlignIcon:"h_2gl0WC"}},_key:"ZcuhTr"};
},{}],"./molecules/compose/styles/toolbar":[function(require,module,exports){
module.exports={className:{default:{composeToolbar:"z_Z14vXdP D_F ab_C I_52qC W_6D6F p_R B_0",sendButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_ZwubDW A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl ir3_1IO2sY it3_dRA",status:"Q_fq7 E_fq7 C_Z1TsNWR",spacer:"em_N",sectionDivider:"M_1Eu7sD n_Z14vXdP H_6MGW",formattingTools:"en_N J_x o_h cZ1RN91d_n",icon:"D_X P_3gIMd V_GI O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL ir3_1IO2sY it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",menuIcon:"D_Z1YJkyX gl_C V_GI ir3_1IO2sY it3_dRA H_6NIX W_6VdP",deleteButton:"D_Z1YJkyX gl_C en_0 P_0 q_n O4_N I4_2ieea9 ir3_1IO2sY it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",trashIcon:"cdPFi_Z1TsNWR O_cMu cdPFi4_ZkiIcp"},"kind-MESSAGE":{composeToolbar:"W_A z_n i_N H_72FG",toolbarContainer:"gl_C z_2w4l8N"},disabled:{composeToolbar:"cZW7ROP_n O_od"},fixed:{composeToolbar:"p_f Z_e69",toolbarPlaceholder:"W_6D6F H_7qGO"}},_key:"2kT6uM"};
},{}],"./molecules/compose/styles/uploader":[function(require,module,exports){
module.exports={className:{default:{container:"p_R D_F ab_C P_eo6 o_h",input:"p_a T_0 L_0 O_0 r_P P_1mPDMf o_h W_0 H_0"}},_key:"Z26Mf44"};
},{}],193:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i=require("../../../platform/utils/message_quote_finder"),n=require("../../../platform/utils/message_group"),r=require("./utils"),a=e(r),o=require("../constants"),s=require("../../../platform/utils/xss_filters"),d=require("../../../platform/utils/mailto_parser"),c=a.addressHTMLString,u="<div><br/></div>",l=["font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;","font-size:13px;","color:#26282a;"].join(""),m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i={},n=[];return t.forEach(function(e){i[e.email]||(i[e.email]=!0,n.push(e))}),n},v=function e(r){var v=r.accounts,f=void 0===v?[]:v,g=r.listId,p=r.csid,b=r.selectors,h=r.dateFormattingOption,y=void 0===h?{}:h,A=r.strings;return function(e){var r=i.DEFAULT_QUOTE_CLASS+"_"+p,v={from:a.getFromAddress(f),to:[],cc:[],bcc:[],subject:"",body:"",stationeryTheme:"",attachmentsInfo:[],htmlAnnotations:[{divIds:[r]}],uiState:{useRichText:!0}},h=b.getFeaturesSelectors,_=b.getRouterSelectors,M=b.getAdsSelectors,j=b.doesComposeSessionExist,T=b.getUnsavedComposeData,S=b.hasUnsavedComposeData,I=b.doComposeFromRouteQueryParams,q=b.doComposeFromMailToLink,D=b.getComposeMailToLink,x=b.getDraftMessageId,O=b.getForwardCreativeId,F=b.isReplyOrReplyAll,C=b.getReplyingToMessageId,L=b.getSubjectAndSnippetSelectors,R=b.getMessageFromAddress,E=b.getMessageToAddress,H=b.getMessageCcAddress,B=b.getMessageBccAddress,w=b.getMessageTimeStamp,U=b.doesMessageBodyExist,P=b.getReplyToAddress,Q=b.isReplyMessage,z=b.isReplyAllMessage,N=b.isMyEmailAddress,k=b.getAttachmentsByMessageId,G=b.getSignatureByAccountEmail,J=b.getMessageBody,K=h("conversations"),V=G(v.from.email),W="";if(V&&(W='<div><br/></div><div><br/></div><div class="signature">'+V+"</div>"),!j(p))return W&&(v.body+="<div>"+W+"</div>"),v;var X=x(p),Y=L(),Z=Y.getSubject;if(S(p)){var $=T(p);return v.from=$.from||v.from,v.to=$.to||v.to,v.cc=$.cc||v.cc,v.bcc=$.bcc||v.bcc,v.subject=$.subject||v.subject,v.body=$.html||v.body,v.attachmentsInfo=$.attachmentsInfo||v.attachmentsInfo,v.uiState=$.uiState||v.uiState,v}if(X){var ee=U(X)?J(X):{},te=ee.html,ie=void 0===te?"":te,ne=ee.htmlAnnotations,re=void 0===ne?[]:ne;return v.from=a.getFromAddress(f,(R(X)||{}).email),v.to=E(X),v.cc=H(X),v.bcc=B(X),v.subject=(0,n.removeMatchTermDelimiter)(Z(X,g)||""),v.body=ie,v.htmlAnnotations=re,v.attachmentsInfo=k(X),v}if(I(p)){var ae=_().getMrdParams();return v.to=ae.initialTo||[],v.cc=ae.initialCc||[],v.bcc=ae.initialBcc||[],v.stationeryTheme=ae.initialStationeryTheme||"",v.subject=ae.initialSubject||"",v.body=ae.initialBody.content||"",v}if(q(p)){var oe=(0,d.extractMailtoFields)(D(p)||"");return t({},v,{to:(oe.to||[]).map(function(e){return{email:e}}),cc:(oe.cc||[]).map(function(e){return{email:e}}),bcc:(oe.bcc||[]).map(function(e){return{email:e}}),subject:oe.subject||"",body:oe.body||""})}var se=e.intl.formatMessage,de=O(p);if(de){var ce=M().getSponsoredAd(de),ue=ce.nativeAd,le=void 0===ue?{}:ue,me=ce.pencilAd,ve=void 0===me?{}:me;return v.subject=ve.adHeadline||"",v.body=['<div><br/></div>\n            <div><br/></div>\n            <div><br/></div>\n            <div style="'+l+'">\n                <div>----- '+se(A.forwarded_message)+" -----</div>\n                "+u+"\n                <div>"+(le.geminiSponsoredAsset||"")+"</div>\n            </div>"].join(""),v.body+="<div>"+W+"</div>",v}var fe=C(p),ge=Object.assign({timezone:y.timezone},o.FORMAT_DATE_OPTION);if(fe){var pe=Q(p),be=z(p),he=[].concat(P(fe))||[],ye=R(fe)||[];he.length&&!he.name&&ye.length&&he[0].email===ye[0].email&&(he[0].name=ye[0].name);var Ae=E(fe),_e=H(fe);if(pe)v.to=[].concat(he,ye).slice(0,1);else if(be){var Me=ye.findIndex(function(e){return N(e.email)})!==-1,je=he.findIndex(function(e){return N(e.email)})!==-1,Te=Ae.findIndex(function(e){return N(e.email)})!==-1,Se=(Me||je)&&Te?[].concat(he,ye).find(function(e){return N(e.email)}):[];v.to=m([].concat(Ae,je?[]:he,Me?[]:ye).filter(function(e){return e.email!==v.from.email}).concat(Se)),v.cc=m([].concat(_e).filter(function(e){return e.email!==v.from.email}).filter(function(e){return!v.to.find(function(t){return t.email===e.email})}))}var Ie=(0,n.removeMatchTermDelimiter)(Z(fe,g)||"");if(Ie){var qe=F(p)?"Re: ":"Fw: ";v.subject=0!==Ie.indexOf(qe)?qe+Ie:Ie}var De=e.intl.formatDate(1e3*w(fe),ge),xe=U(p)?J(p):{},Oe=xe.html,Fe=void 0===Oe?"":Oe,Ce=[];if(ye.length)if(K&&F(p)){var Le=ye[0],Re=Le.name,Ee=void 0===Re?"":Re,He=Le.email;Ce.push("<div>\n                        "+(0,s.inHTMLData)(se(A.quoted_draft,{date:De,quotedName:Ee,quotedAddress:He}))+"\n                    </div>\n                    "+u+"\n                    "+u)}else Ce.push("<div>"+se(A.quoted_message_from,{from:(0,s.inHTMLData)(c(ye[0]))})+"</div>"),Ae.length&&Ce.push("<div>"+se(A.quoted_message_to,{to:(0,s.inHTMLData)(Ae.map(c).join("; "))})+"</div>"),_e.length&&Ce.push("<div>"+se(A.quoted_message_cc,{cc:(0,s.inHTMLData)(_e.map(c).join("; "))})+"</div>"),Ce.push("<div>"+se(A.quoted_message_sentdate,{sentDate:De})+"</div>","<div>"+se(A.quoted_message_subject,{subject:Ie})+"</div>",u);var Be=F(p)?"":"<div>----- "+se(A.forwarded_message)+" -----</div>",we=K?"":"<hr/>";return v.body=["<div>"+W+"</div>\n            "+u+u+"\n            "+we+'\n            <div id="'+(0,s.inDoubleQuotedAttr)(r)+'" class="'+i.DEFAULT_QUOTE_CLASS+'">\n                <div style="'+l+'">\n                    '+Be+"\n                    "+Ce.join("")+"\n                    <div>"+Fe+"</div>\n                </div>\n            </div>"].join(""),v.attachmentsInfo=F(p)?[]:k(fe),v}return W&&(v.body+="<div>"+W+"</div>"),v}};exports.default=v,module.exports=exports.default;
},{"../../../platform/utils/mailto_parser":"./platform/utils/mailto_parser","../../../platform/utils/message_group":"./platform/utils/message_group","../../../platform/utils/message_quote_finder":"./platform/utils/message_quote_finder","../../../platform/utils/xss_filters":"./platform/utils/xss_filters","../constants":"./molecules/compose/constants","./utils":"./molecules/compose/utils/utils"}],"./molecules/compose/utils/utils":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../../platform/utils"),n=require("../../../platform/utils/account"),r=require("../constants"),i=require("../../../platform/react_action_constants"),o=require("../../../platform/mail_constants/compose.js"),a=require("../strings.js"),l=e(a);exports.default={makeArray:function e(t){return""===t||null===t||void 0===t?[]:Array.isArray(t)?t.slice(0):[t]},hasInvalidComposeField:function e(t){var n=t.to,r=t.cc,a=t.bcc,l=this.getInvalidEmails(n,r,a)||[];return l.length?{name:i.mail.COMPOSE_ADDRESSING_FAILED,params:{invalids:l}}:n&&n.length||r&&r.length||a&&a.length?n.length+r.length+a.length>o.MAX_RECIPIENT_LIMIT?{name:i.mail.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null:{name:i.mail.COMPOSE_NO_ADDRESS_DETECTED}},getInvalidEmails:function e(){var n=[];return Array.prototype.slice.call(arguments).forEach(function(e){n=n.concat(e)}),n.map(function(e){return e.email}).filter(function(e){return!(0,t.isValidEmail)(e)})},_getAccountFieldFromSelection:function e(t,r){var i=void 0,o=(0,n.filterSendingAccounts)(t);return r&&(i=o.find(function(e){return e.email===r})),i||(i=o.find(function(e){return!!e.isSending})),i||(i=o[0]),i},getFromAddress:function e(t,n){return this._getAccountFieldFromSelection(t,n)},getSixDigitHexColor:function e(t){var n=void 0,r=void 0;if("number"==typeof t){for(t=t.toString(16);t.length<6;)t="0"+t;t=t.substr(4,2)+t.substr(2,2)+t.substr(0,2),t="#"+t}return"string"==typeof t&&(t.indexOf("rgb")>-1&&(n=t.split("(")[1].split(")")[0],n=n.split(","),r=n.map(function(e){return e=parseInt(e,10).toString(16),1===e.length?"0"+e:e}),t="#"+r.join("")),4===t.length)?t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]:t},getInitialFocusRef:function e(t){var n=t.focusSubject,i=t.initialTo,o=void 0===i?[]:i,a=t.initialSubject,l=void 0===a?"":a,u=r.FocusableRefs.EDITOR;return n?u=r.FocusableRefs.SUBJECT:0===o.length?u=r.FocusableRefs.TO:0===l.length&&(u=r.FocusableRefs.SUBJECT),u},addressHTMLString:function e(t){var n=t.name,r=t.email;return n||(n='"'+r+'"'),n+" &lt;"+r+"&gt;"},getCaretCoordinates:function e(t){var n=window.getSelection(),r=t.getBoundingClientRect(),i=0,o=0;if(n&&n.rangeCount){var a=n.getRangeAt(0).cloneRange();if(a.getClientRects){a.collapse(!0);var l=a.getClientRects();if(l.length>0){var u=l[0];i=u.left-r.left,o=u.top-r.top}}if(0===i&&0===o){var s=document.createElement("span");if(s.getClientRects){s.appendChild(document.createTextNode("​")),a.insertNode(s);var c=s.getClientRects(),f=s.parentNode;if(c.length>0){var g=c[0];i=g.left-r.left,o=g.top-r.top}f.removeChild(s),f.normalize()}}}return{x:i,y:o}},getFontSizeStyle:function e(t){var n=Math.min(Number(t),7),r=o.FontSizes.find(function(e){return e.fontSize===n});return r?r.value:o.FontSizeValues.MEDIUM},getLocalizedFontFamilyName:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=l.default["font_family_label_"+n.toLowerCase()];return r?t(r):null},isJSONString:function e(t){try{return JSON.parse(t),!0}catch(e){return!1}},mergeRecipientsSecureStatus:function e(t,n,r){return t.map(function(e){return e.hasEncryptionError=r&&n[e.email]===!1,e})}},module.exports=exports.default;
},{"../../../platform/mail_constants/compose.js":"./platform/mail_constants/compose","../../../platform/react_action_constants":"./platform/react_action_constants","../../../platform/utils":"./platform/utils","../../../platform/utils/account":"./platform/utils/account","../constants":"./molecules/compose/constants","../strings.js":"./molecules/compose/strings"}],194:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=require("react-intl"),n=require("react"),i=e(n),c=require("../../../types"),l=require("../../../atoms/xavatar.jsx"),r=e(l),o=require("../../../atoms/fuji_icon.jsx"),s=e(o),d=require("../../../atoms/constants/fuji_icon"),m=require("../../../platform/rapid_client/constants"),u=require("../../../platform/utils/route"),f=require("../../../platform/theming/themes"),p=require("../styles/contact_card"),y=e(p),h=(0,a.defineMessages)({work:{id:"contact_card.work",defaultMessage:"Work"},home:{id:"contact_card.home",defaultMessage:"Home"},mobile:{id:"contact_card.mobile",defaultMessage:"Mobile"},fax:{id:"contact_card.fax",defaultMessage:"Fax"},pager:{id:"contact_card.pager",defaultMessage:"Pager"},phone:{id:"contact_card.phone",defaultMessage:"Phone"},email:{id:"contact_card.email",defaultMessage:"Email"},backyard:{id:"contact_card.backyard",defaultMessage:"Backyard profile"},flickr:{id:"contact_card.flickr",defaultMessage:"Flickr profile"},facebook:{id:"contact_card.facebook",defaultMessage:"Facebook profile"},linkedin:{id:"contact_card.linkedin",defaultMessage:"Linkedin profile"},twitter:{id:"contact_card.twitter",defaultMessage:"Twitter profile"}}),E=i.default.createClass({displayName:"ContactCard",contextTypes:{intl:a.intlShape,navigateTo:n.PropTypes.func.isRequired,getCss:n.PropTypes.func,getThemeMode:n.PropTypes.func},getDefaultProps:function e(){return{isInRightRail:!1,showContactSummary:!1}},handleClick:function e(t){t.stopPropagation()},renderSummary:function e(a,n){var c=this,l=a.prose||[],r=l.map(function(e,a){return"string"==typeof e?i.default.createElement("span",{key:a},e):"object"===("undefined"==typeof e?"undefined":t(e))?"contact"===e.type&&"you"!==e.name?i.default.createElement("span",{className:n.contact,key:a,onClick:c.handleContactClick.bind(c,e)},e.name):"subject"===e.type?i.default.createElement("span",{className:n.subject,key:a},e.name):i.default.createElement("span",{key:a},e.name||""):void 0});return i.default.createElement("div",{className:n.contactSummary,"data-test-id":"contact-card-summary"},r)},handleContactClick:function e(t){var a={};t&&(a={emailAddresses:t.smtp,name:t.name||t.smtp}),this.context.navigateTo({route:(0,u.buildSearchRouteFromQuery)(a),i13nModel:{interactionType:m.INTERACTION_TYPES.click,mKey:m.MKEYS.CONTACT_SEARCH,sec:m.SEC_VALUES.RIGHT_RAIL,mKeyGroup:m.MKEY_GROUPS.search}})},render:function e(){var t=this.context.intl.formatMessage,a=this.props,n=a.email,c=a.isInRightRail,o=a.showContactSummary,m=a.contact,u=void 0===m?{}:m,p=c&&this.context.getThemeMode()===f.ThemeModes.DARK,E=this.props.name,k=u.backyard&&"https://backyard.yahoo.com/profile/index.php?userid="+u.backyard,g=u?[{href:k,iconType:d.Kinds.HOME,title:t(h.backyard)},{href:u.flickr,iconType:d.Kinds.FLICKR,title:t(h.flickr)},{href:u.facebook,iconType:d.Kinds.FACEBOOK,title:t(h.facebook)},{href:u.linkedin,iconType:d.Kinds.LINKEDIN,title:t(h.linkedin)},{href:u.twitter,iconType:d.Kinds.TWITTER,title:t(h.twitter)}].filter(function(e){return e.href}):[],b=u&&g.length>0,C=!o&&!b,N=t(h.email),T=u.relationshipHistory||[],v=this.context.getCss(y.default,{isInRightRail:c,isDark:p}),_=function e(a){return a=a&&a.split(",")[0],a=a&&h[a],a=a&&t(a)},M=(u.phonesWithType||[])[0],S=M&&M.type?_(M.type):t(h.phone);return E=E||u&&u.name,i.default.createElement("div",{"data-test-id":"contact-card",className:v.container,onClick:this.handleClick},i.default.createElement("div",{className:v.contactFlexContainer},i.default.createElement("div",{className:v.column},i.default.createElement("span",{className:v.avatarContainer},i.default.createElement(r.default,{contact:{email:n},size:l.Sizes.L})),i.default.createElement("span",{className:v.leftLabelsContainer},i.default.createElement("div",{className:v.leftColElement,key:n,title:N},N),M?i.default.createElement("div",{className:v.leftColElement,title:S},S):null)),i.default.createElement("div",{className:v.column},i.default.createElement("div",{className:v.avatarLabel},E&&i.default.createElement("div",{"data-test-id":"contact-card-name",className:v.name,title:E},i.default.createElement("span",{className:v.truncateWithEllipsis},E)),u&&u.position&&i.default.createElement("div",{"data-test-id":"contact-card-position",className:v.position,title:u.position},i.default.createElement("span",{className:v.truncateWithEllipsis},u.position))),i.default.createElement("div",{"data-test-id":"contact-card-email",className:v.rightColElement,title:n},n),M?i.default.createElement("div",{"data-test-id":"contact-card-phone",className:v.rightColElement,title:M.number},M.number):null)),o&&this.renderSummary(T,v),b&&i.default.createElement("div",{className:v.social},g.map(function(e){var t=e.href,a=e.iconType,n=e.title;return i.default.createElement("a",{"data-test-id":"contact-card-social",key:a,className:v.socialIcon,href:t,target:"_blank",title:n},i.default.createElement(s.default,{kind:a,size:d.Sizes.XS,colorState:d.ColorStates.INHERITED}))})),C&&i.default.createElement("div",{"data-test-id":"contact-card-footer",className:v.containerFooter}))}});exports.default=E,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/xavatar.jsx":"./atoms/xavatar","../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../../platform/theming/themes":"./platform/theming/themes","../../../platform/utils/route":"./platform/utils/route","../../../types":"./types","../styles/contact_card":196,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],195:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=require("react"),o=t(e),a=require("lodash/isEqual"),s=t(a),r=require("../../platform/utils/object"),i=require("../../platform/mail_constants"),n=require("../../types"),c=require("./atoms/contact_card.jsx"),l=t(c),u=require("../../atoms/utils/pills"),p=require("../hover_card/actions"),d=o.default.createClass({displayName:"ContactCard",contextTypes:{executeAction:e.PropTypes.func.isRequired,notifyPopoverChanged:e.PropTypes.func},shouldComponentUpdate:function t(e){return this.props.emailAddress!==e.emailAddress||this.props.contactState!==e.contactState||!(0,s.default)(this.props.contact,e.contact)||this.props.isInRightRail!==e.isInRightRail||this.props.isCompose!==e.isCompose},componentDidMount:function t(){var e=this.props,o=e.contactState,a=e.emailAddress,s=e.isCompose;o===i.RecordStates.DOES_NOT_EXIST&&this.context.executeAction(p.getContactDetails,{email:a,isCompose:s})},componentDidUpdate:function t(){var e=this.context.notifyPopoverChanged;e&&e()},render:function t(){var e=this.props,a=e.contactState,s=e.contact,r=e.isInRightRail,n=e.showContactSummary,c=e.emailAddress;if(a===i.RecordStates.LOADED){s.email=c;var p=(0,u.preparePillContact)(s),d=p.name,m=p.email;return o.default.createElement("div",null,o.default.createElement(l.default,{name:d,email:m,contact:s,isInRightRail:r,showContactSummary:n}))}return null}});exports.default=d,module.exports=exports.default;
},{"../../atoms/utils/pills":133,"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/object":"./platform/utils/object","../../types":"./types","../hover_card/actions":"./molecules/hover_card/actions","./atoms/contact_card.jsx":194,"lodash/isEqual":"./node_modules/lodash/isEqual.js","react":"./node_modules/react/react.js"}],196:[function(require,module,exports){
module.exports={className:{default:{container:"I_52qC r_BN P_6MGW s_3rBgu k_w D_X cZ1RN91d_GG en_0",avatarLabel:"D_F ek_BB gl_C Q_6Fd5 E_fq7 U_fq7 H_74JI",name:"o_h J_x mq_CZ G_e A_6EqO D_F ab_C u_b a_3nV5V",position:"o_h J_x mq_CZ G_e C_Z1VRpVF A_6DUj a_3nV5V",social:"D_F gl_C Y_6Eb4",containerFooter:"M_Z1bOtFr",socialIcon:"D_F E_6Eb4 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",column:"D_F ek_BB",leftLabelsContainer:"ac_C",leftColElement:"o_h J_x mq_CZ G_e C_Z1VRpVF U_eo6 i_6EWk a_7jIs s_0 t_r",avatarContainer:"o_v J_x mq_CZ G_e C_Z1VRpVF U_fq7 i_6EWk a_7jIs s_0 t_C H_74JI W_6D6F",rightColElement:"o_h J_x mq_CZ G_e i_6EWk Q_6Fd5 U_eo6 a_3nV5V",contactFlexContainer:"D_F A_6DUj P_0",truncateWithEllipsis:"o_h J_x mq_CZ G_e"},isInRightRail:{container:"M_Ijln0 U_6Fd5 P_6Fd5 W_3v1qi",contactSummary:"gl_C Y_6Eb4 A_6EqO C_Z1VRpVF o_h",contact:"r_P C_Z2aVTcY"},isDark:{container:"I_sgPuT C_ZpQYvz",position:"C_ZvsWfq",leftColElement:"C_ZvsWfq",socialIcon:"cdPFi_2sqbRh cdPFi4_52qC",contactSummary:"C_ZvsWfq"}},_key:"ZIQcUW"};
},{}],"./molecules/contact_picker/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=exports.INITIAL_SHOWN_ITEMS_COUNT=20,C=exports.MAX_SELECTED_CONTACT=100,e=exports.ALL_CONTACTS_KEY="allContacts",o=exports.RecipientGroup={TO:"to",CC:"cc",BCC:"bcc"};
},{}],"./molecules/date_time_label":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){return e.getTime()>=t}function r(e,t){return new Date(t).getUTCFullYear()===e.getUTCFullYear()}function a(e,t,a){return u.default.createElement(m.FormattedMessage,{id:"date_at_time",defaultMessage:"\n                {date} at {time}\n            ",values:{date:r(e,t)?u.default.createElement(m.FormattedDate,{value:e,timeZone:a,day:"numeric",month:"short"}):u.default.createElement(m.FormattedDate,{value:e,timeZone:a,day:"numeric",month:"short",year:"numeric"}),time:u.default.createElement(m.FormattedTime,{value:e,timeZone:a,hour:"numeric",minute:"numeric"})}})}function n(e,a,n){return t(e,a)?u.default.createElement(m.FormattedTime,{value:e,timeZone:n,hour:"numeric",minute:"2-digit"}):r(e,a)?u.default.createElement(m.FormattedDate,{value:e,timeZone:n,day:"numeric",month:"short"}):u.default.createElement(m.FormattedDate,{value:e,timeZone:n,day:"numeric",month:"numeric",year:"numeric"})}exports.__esModule=!0;var o=require("react"),u=e(o),i=require("fluxible-addons-react"),m=require("react-intl"),l=require("../../stores/application"),d=e(l),s=require("../../platform/utils/date"),c=u.default.createClass({displayName:"DateTimeLabel",shouldComponentUpdate:function e(t){var r=this.props;return t.date.getTime()!==r.date.getTime()||t.offset!==r.offset||t.timezone!==r.timezone||t.long!==r.long},render:function e(){var t=this.props,r=t.date,o=t.long,u=t.offset,i=t.timezone,m=(0,s.getStartOfToday)({offset:u,timezone:i});return o?a(r,m,this.props.timezone||"UTC"):n(r,m,this.props.timezone||"UTC")}});exports.default=(0,i.connectToStores)(c,[d.default],function(e){return e.getStore(d.default).getDateFormattingOption()}),module.exports=exports.default;
},{"../../platform/utils/date":"./platform/utils/date","../../stores/application":"./stores/application","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/emoji_picker/actions":[function(require,module,exports){
"use strict";function e(e,t){e.dispatch(o.mail.EMOJI_PICKER_CLOSED,t)}function t(e,t){e.dispatch(o.mail.EMOJI_PICKER_OPENED,t)}function i(e,t){e.dispatch(o.mail.EMOJI_CATEGORY_CHANGED,t)}function r(e,t){return e.dispatch(o.mail.EMOJI_SEARCH_REQUESTED,{keyword:t}),e.emojiSearchClient.getEmojiSuggestions(t).then(function(i){var r=i.body.results,E=r.filter(function(e){return e[1]>=n.CONFIDENCE_THRESHOLD}).map(function(e){return e[0]});e.dispatch(o.mail.EMOJI_SEARCH_SUCCEEDED,{keyword:t,suggestions:E})}).catch(function(i){return e.dispatch(o.mail.EMOJI_SEARCH_FAILED,{keyword:t,error:i})})}exports.__esModule=!0,exports.emojiPickerClosed=e,exports.emojiPickerOpened=t,exports.emojiCategoryChanged=i,exports.searchEmoji=r;var o=require("../../platform/react_action_constants"),n=require("./constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants","./constants":"./molecules/emoji_picker/constants"}],"./molecules/emoji_picker/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.REFRESH_PREFIX=exports.REGEX_FOR_CODEPOINT=exports.CONFIDENCE_THRESHOLD=exports.DEBOUNCE_RATE=exports.MAX_COUNT_OF_RECENTLY_USED_EMOJIS=exports.EmojiRowTypes=exports.EMOJI_CATEGORIES=exports.SEARCH_CATEGORY_NAME=exports.RECENT_CATEGORY_NAME=exports.EMOJI_ROW_HEIGHT=exports.EMOJI_CATEGORY_TITLE_HEIGHT=exports.EMOJI_BOX_HEIGHT=exports.EMOJI_HEIGHT=exports.EMOJI_WIDTH=exports.EMOJI_URL_PREFIX=exports.DEFAULT_CATEGORY=void 0;var E,e=require("../../platform/utils/object"),o=require("../../platform/utils/mail_ui_vars"),r=exports.DEFAULT_CATEGORY="people",_=exports.EMOJI_URL_PREFIX="https://s.yimg.com/nq/yemoji_assets/latest/yemoji_assets/",t=exports.EMOJI_WIDTH=16,s=exports.EMOJI_HEIGHT=16,I=exports.EMOJI_BOX_HEIGHT=280,O=exports.EMOJI_CATEGORY_TITLE_HEIGHT=4*o.GRID_UNIT+2.5*o.GRID_UNIT,T=exports.EMOJI_ROW_HEIGHT=6*o.GRID_UNIT+4*o.GRID_UNIT,p=exports.RECENT_CATEGORY_NAME="recent",R=exports.SEARCH_CATEGORY_NAME="search",x=exports.EMOJI_CATEGORIES=(E={},E[p]={iconShortName:"clock4"},E.people={iconShortName:"grinning"},E.nature={iconShortName:"bear"},E.food={iconShortName:"hamburger"},E.activity={iconShortName:"soccer"},E.travel={iconShortName:"airplane"},E.objects={iconShortName:"bulb"},E.symbols={iconShortName:"interrobang"},E),N=exports.EmojiRowTypes=(0,e.mirrorKeys)(["TITLE","EMOJIS","PAGE"]),i=exports.MAX_COUNT_OF_RECENTLY_USED_EMOJIS=16,C=exports.DEBOUNCE_RATE=500,D=exports.CONFIDENCE_THRESHOLD=.001,H=exports.REGEX_FOR_CODEPOINT=/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g,a=exports.REFRESH_PREFIX="#";
},{"../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object"}],"./molecules/emoji_picker":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),o=require("../../platform/rapid_client/constants"),i=require("react-intl"),n=require("./actions.js"),s=require("../../platform/utils/mail_ui_vars"),a=require("../../atoms/constants/fuji_icon"),u=require("../../atoms/fuji_icon"),c=e(u),l=require("../../atoms/button"),p=e(l),m=require("../../atoms/constants/button"),d=require("../../atoms/lazy_component"),f=require("../../atoms/popover/popover_container.jsx"),h=e(f),E=require("../../atoms/popover/popover_content.jsx"),j=e(E),g=require("../../atoms/popover/popover_anchor.jsx"),C=e(g),v=require("../../atoms/loading_indicator.jsx"),_=e(v),O=require("../../atoms/constants/popover"),q=require("react-atomic-css/css"),P=e(q),T=require("./styles/emoji"),S=e(T),y=require("./constants.js"),k=(0,P.default)(S.default),I=(0,i.defineMessages)({emojiPicker:{id:"emoji.emojipicker.title",defaultMessage:"Insert emojis"}}),x=r.default.createClass({displayName:"EmojiPicker",contextTypes:{executeAction:t.PropTypes.func.isRequired,intl:i.intlShape.isRequired},getInitialState:function e(){return this.timer=null,{popoverOpen:!1,queryInput:""}},componentWillUnmount:function e(){clearTimeout(this.timer)},togglePopover:function e(){var t=this.state.popoverOpen;this.state.popoverOpen&&this.props.focusBackEditor(),this.setState({popoverOpen:!t})},closePicker:function e(){this.refs.emojiPopoverContainer.hide(O.Triggers.CLICK);var t={mKey:o.MKEYS.EMOJI_CLOSE,sec:o.SEC_VALUES.COMPOSE_MSG,interactionType:o.INTERACTION_TYPES.click};this.setState({popoverOpen:!1}),this.props.focusBackEditor(),this.context.executeAction(n.emojiPickerClosed,{i13nModel:t})},handleSearchQueryChanged:function e(t){var r=this;clearTimeout(this.timer),this.setState({queryInput:t}),this.timer=setTimeout(function(){r.context.executeAction(n.searchEmoji,t)},y.DEBOUNCE_RATE)},renderEmojiCue:function e(){var t=this;return r.default.createElement(j.default,{align:O.Align.CENTER,triggerOn:O.Triggers.MOUNT,permittedArrowDiretions:[O.PermittedArrowDirections.DOWN],zAltitude:s.ZIndices.POPOVER.HIGH,persistent:!0},r.default.createElement(d.LazyComponent,{import:"../scout_cue",cueName:"emojiCue",onTryNow:function e(){t.refs.emojiPopoverContainer.hide(O.Triggers.MOUNT),t.refs.emojiPopoverContainer.show(O.Triggers.CLICK)},onMayBeLater:function e(){},_moduleGetter:function e(){return require("../scout_cue")}}))},renderEmojiPopup:function e(){var t=this;return r.default.createElement(j.default,{permittedArrowDirections:[O.PermittedArrowDirections.DOWN],hideArrow:!0,triggerOn:O.Triggers.CLICK,"data-test-id":"emoji-pop-up",onShow:function e(){t.props.showEmojiCue&&t.refs.emojiPopoverContainer.hide(O.Triggers.MOUNT)},onHide:this.togglePopover,align:O.Align.START},r.default.createElement(d.LazyComponent,{import:"./emoji_popup.jsx",bundleName:"lazy_group2",onEmojiClick:this.props.onEmojiClick,closePicker:this.closePicker,handleSearchQueryChanged:this.handleSearchQueryChanged,queryInput:this.state.queryInput,"data-test-id":"emoji-lazy-component",tooltipEmoji:this.props.tooltipEmoji,_moduleGetter:function e(){return require("./emoji_popup.jsx")}},r.default.createElement(d.When,{loading:!0},r.default.createElement("div",{className:k.lazyStyle},r.default.createElement(_.default,null)))))},render:function e(){var t=this.context.intl.formatMessage,o=this.state.popoverOpen;return r.default.createElement("div",{onClick:this.togglePopover},r.default.createElement(h.default,{ref:"emojiPopoverContainer"},r.default.createElement(C.default,{"data-test-id":"emoji-picker-anchor"},r.default.createElement(p.default,{"data-test-id":"emoji-picker-button",title:t(I.emojiPicker),"aria-label":t(I.emojiPicker),kind:o?m.Kinds.ICON_HIGHLIGHTED:m.Kinds.ICON},r.default.createElement(c.default,{kind:a.Kinds.COMPOSE_EMOJI,size:a.Sizes.XS,colorState:a.ColorStates.NORMAL}))),this.props.showEmojiCue?this.renderEmojiCue():null,this.renderEmojiPopup()))}});exports.default=x,module.exports=exports.default;
},{"../../atoms/button":"./atoms/button","../../atoms/constants/button":"./atoms/constants/button","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/fuji_icon":"./atoms/fuji_icon","../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../scout_cue":"./molecules/scout_cue","./actions.js":"./molecules/emoji_picker/actions","./constants.js":"./molecules/emoji_picker/constants","./emoji_popup.jsx":"./molecules/emoji_picker/emoji_popup","./styles/emoji":"./molecules/emoji_picker/styles/emoji","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/emoji_picker/styles/emoji":[function(require,module,exports){
module.exports={className:{default:{headerContainer:"H_6UbO D_F ek_EZ ab_C gl_FM",header:"A_6EqO u_elT i_6Fd5 y_Z1i1UbM X_6LEV C_Z291T0t",categoryTitle:"k_w H_6Nds A_6EqO y_Z1i1UbM P_Z14hUor C_Z1TsNWR",emojiBox:"H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiRow:"D_F ab_C k_w P_0 H_72FG",emojiLi:"D_X Q_6LEV W_6MGW H_6MGW Q4_6Fd5 E4_68F4 W4_6UbO H4_6UbO",emojiDiv:"W_6D6F H_6D6F r_P",emojiContainer:"k_w p_a B_0 j_nWwhY I_52qC",activeCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_ZwubDW A_6EqO r_P C_q ir3_1IO2sY",inactiveCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_ZwubDW A_6EqO r_P C_q ir3_1IO2sY O_6uB4",categoryContent:"D_F ab_C gl_C W_6D6F",categoryImage:"D_X em_N W_6Fd5 H_6Fd5",categoryContainer:"ha_n M_0 D_F P_Z1SeCye aw_ZnLdEY az_DW ba_ZVBCBL lv_Z1smGsJ",categories:"r_P D_X Q_6NIX H_6Fd5 Q6_6MGW",closeWrapper:"D_F ab_C N_6DEy",lazyStyle:"k_w p_a B_0 j_nWwhY I_52qC H_3vxXj D_F ab_C gl_C",emojiBoxV1:"p_R Z_0 iy_h iz_A k_w em_N c22hqzz_GN H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiListV1:"M_0 P_0",emojiListItemV1:"H_A hd_n",searchSection:"U_6LEV P_2aKOEx",searchInput:"X_6NIX N_6VdP H_6UbO",emojiPage:"D_F ek_BB ab_C gl_C W_3vFXG H_3rCiv",emojiMessage:"y_rBP3E C_Z1TsNWR",pageEmojiWrapper:"P_0",pageEmoji:"Q_0 W_6UbO H_6UbO"},withoutRecentlyUsedEmoji:{emojiPage:"W_3v3uk"}},_key:"ZzoUOj"};
},{}],197:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.getStateFromStores=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r=require("react"),o=e(r),s=require("fluxible-addons-react"),a=require("../../stores/mail"),l=e(a),u=require("../../stores/pages"),d=e(u),i=require("../../stores/i13n"),n=e(i),p=require("../../platform/utils/list"),c=require("../../reducers_selectors"),f=require("../../platform/mail_constants"),m=require("../../atoms/lazy_component"),g=o.default.createClass({displayName:"EmptyFolderVideoWrapper",render:function e(){return this.props.emptyFolderVideo?o.default.createElement(m.LazyComponent,t({defer:!0,import:"./empty_folder_video.jsx"},this.props,{_moduleGetter:function e(){return require("./empty_folder_video.jsx")}})):null}}),S=exports.getStateFromStores=function e(t){var r=t.getStore(n.default).getCurrentSpaceId(),o=t.getStore(d.default).getActivePageRoute(),s=(0,p.getListIdFromRoute)(o),a=(0,p.getFolderIdFromListId)(s),u=t.getStore(l.default).getFolder(a),i=(0,p.getListContentTypeFromListId)(s),m=t.getStore(l.default).getItemListIdsForList(s);return{spaceId:r,currentRoute:o,listId:s,folder:u,isEmpty:u?0===u.total:0===m.length,listContentType:i,listState:t.getStore(l.default).getRecordState(s),emptyFolderVideo:(0,(0,c.selectors)(t.store.getState()).getFeaturesSelectors)().isEnabled(f.Features.EMPTY_FOLDER_VIDEO)}};exports.default=(0,s.connectToStores)(g,[l.default,d.default,n.default],S,{store:o.default.PropTypes.object});
},{"../../atoms/lazy_component":"./atoms/lazy_component","../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/list":"./platform/utils/list","../../reducers_selectors":"./reducers_selectors","../../stores/i13n":"./stores/i13n","../../stores/mail":"./stores/mail","../../stores/pages":"./stores/pages","./empty_folder_video.jsx":"./molecules/empty_folder_video/empty_folder_video","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],"./molecules/feature_cue/actions":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,E,_,a){var i,n;return e.udbClient.write((n={},n[r.UDBKeys.YM_MAIL_SCOUT]=(i={},i[t]=a||Math.round(Date.now()/1e3),i),n)).then(function(){e.dispatch(E)}).catch(function(){e.dispatch(_)})}function E(e,E){var _=E.name,a=E.userAction,r=E.userResponse,n=e.getStore(s.default);if("click"===a){if(e.dispatch(i.mail.FEATURE_TRY_NOW_REQUESTED,{name:_,fromFeature:_}),r||n.isPersistent(_))return t(e,_,i.mail.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED,i.mail.FEATURE_CUE_MARK_AS_SUCCESS_FAILED,r)}else if(e.dispatch(i.mail.FEATURE_CLOSED,{name:_}),r||n.isPersistent(_))return t(e,_,i.mail.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED,i.mail.FEATURE_CUE_MARK_AS_CLOSE_FAILED,r)}function _(e,E){var _=E.name,a=e.getStore(s.default);if(e.dispatch(i.mail.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED,{name:_}),!a.isPersistent(_))return t(e,_,i.mail.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED,i.mail.FEATURE_CUE_MARK_AS_SHOWN_FAILED)}function a(e,t){var E=t.name;e.dispatch(i.mail.FEATURE_CUE_NOTIFICATION_CLOSED,{name:E})}exports.__esModule=!0,exports.closeFeatureCue=E,exports.markFeatureAsShown=_,exports.featureCueNotificationClosed=a;var i=require("../../platform/react_action_constants"),r=require("../../platform/udb_client/constants"),n=require("../../stores/features"),s=e(n);
},{"../../platform/react_action_constants":"./platform/react_action_constants","../../platform/udb_client/constants":"./platform/udb_client/constants","../../stores/features":"./stores/features"}],"./molecules/feature_cue/styles/information_cue":[function(require,module,exports){
module.exports={className:{default:{container:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB em_N W_3rRhf",buttonContainer:"D_F gl_FM Y_6Eb4",header:"i_6MGW A_6FsP u_e69 C_Z291T0t U_6Eb4",body:"A_6EqO i_6FIA C_Z291T0t",actionContainer:"D_F je_6Eb4",imageActionContainer:"D_F P_1lwRNx",pagination:"P_Z1crMe6 C_ZvsWfq",imageCueContainer:"I_52qC P_Z24LTwU s_3qWeB a_3rLkT",imageCueInfoImageContainer:"D_F ek_EZ",imageCueInfoContainer:"D_F ek_BB je_6MGW a_3nOD5",image:"W_3mSyq H_3mSyq E_67SN",hotspotContainer:"D_F ek_EZ a_3zBDu",hostspotInfoWrapper:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB em_N",svgStyle:"I_Z2aVTcY e_v8Hnf W_fq7 H_q em_0",svgStyleBackground:"I_Z2aVTcY P_yJhcT s_3qWeB a_3zJDR D_F ek_BB W_3rRhf j_Z12qqTV e_dRA",close:"p_a R_eo6 T_eTB",textCuebody:"y_Z1i1UbM A_6FsP C_52qC i_6MGW",preTourContainer:"j_2b7cyR B_73HH L_6Fd5 p_a Z_7G9R"},svgStyleWithoutImage:{body:"i_6FIA A_6EqO C_Z291T0t a_3rBM0"},svgStyleImage:{svgStyle:"D_F gl_C ab_C I_Z2aVTcY e_v8Hnf s_3mT4V em_0"}},_key:"23fp6S"};
},{}],"./molecules/feedback_panel/atoms/confirm_cancel":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),s=require("../../../atoms/modal.jsx"),o=e(s),r=require("../../../atoms/hover_colored_fuji_icon_button.jsx"),n=e(r),i=require("../../../atoms/button.jsx"),l=e(i),c=require("../../../atoms/constants/button"),d=require("../../../atoms/constants/fuji_icon"),u=require("../styles/confirm_cancel"),f=e(u),p=require("react-atomic-css/css"),m=e(p),h=require("../../../platform/utils/mail_ui_vars"),b=require("../../../platform/mail_constants"),C=require("react-intl"),E=(0,C.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}}),g=(0,m.default)(f.default),v={marginLeft:0,marginRight:2*h.GRID_UNIT+"px"},L=a.default.createClass({displayName:"ConfirmCancel",contextTypes:{intl:C.intlShape.isRequired},getDefaultProps:function e(){return{acceptLabel:E.defaultAcceptLabel,cancelLabel:E.defaultCancelLabel,disableConfirm:!1}},handleKeyDown:function e(t){var a=this.props.onAbort;if(t.stopPropagation(),t.key===b.Keys.ESCAPE)return t.preventDefault(),t.stopPropagation(),void(a&&this.props.onAbort(t))},renderAbortButton:function e(){var t=this.props.onAbort,s=this.context.intl.formatMessage;if(t)return a.default.createElement("div",{className:g.close},a.default.createElement(n.default,{onClick:t,kind:d.Kinds.CLOSE,size:d.Sizes.XS,title:s(E.close),"aria-label":s(E.close),"data-test-id":"confirm-button-close",colorStates:{normal:d.ColorStates.DISABLED,hovered:d.ColorStates.SELECTED}}))},renderCancelButton:function e(){var t=this.props.onCancel,s=this.context.intl.formatMessage,o=s(this.props.cancelLabel);if(t)return a.default.createElement(l.default,{onClick:t,kind:c.Kinds.SECONDARY,style:v,title:s(this.props.cancelLabel),"aria-label":s(this.props.cancelLabel),"data-test-id":"confirm-button-cancel"},o)},onConfirm:function e(t){this.props.disableConfirm||this.props.onConfirm(t)},_onAbort:function e(){var t=this.props.onAbort;t&&t()},render:function e(){var t=this.context.intl.formatMessage,s=this.props.title,r=this.props.message,n=t(this.props.acceptLabel);return r||(r=this.props.children),a.default.createElement(o.default,{onClose:this._onAbort,onKeyDown:this.handleKeyDown},a.default.createElement("div",{className:g.container,"data-test-id":"confirm-dialog"},a.default.createElement("div",{className:g.header},a.default.createElement("div",{className:g.title,"data-test-id":"confirm-title"},s),this.renderAbortButton()),a.default.createElement("div",{className:g.message,"data-test-id":"confirm-message"},r),a.default.createElement("div",{className:g.controls},a.default.createElement(l.default,{onClick:this.onConfirm,style:v,title:t(this.props.acceptLabel),"aria-label":t(this.props.acceptLabel),"data-test-id":"confirm-button-ok"},n),this.renderCancelButton())))}});exports.default=L,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/hover_colored_fuji_icon_button.jsx":"./atoms/hover_colored_fuji_icon_button","../../../atoms/modal.jsx":"./atoms/modal","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../styles/confirm_cancel":"./molecules/feedback_panel/styles/confirm_cancel","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/feedback_panel/styles/confirm_cancel":[function(require,module,exports){
module.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdaxL A_6FsP D_F el_Z1mLfFl ab_AJ u_e69",icon:"p_a M_6FIA",title:"em_N N_6Fd5 i_6MGW",close:"ac_2ou4X1",message:"P_1EudUu",controls:"P_1EudUu"}},_key:"ZmblT"};
},{}],198:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),r=require("../styles/create_folder"),o=e(r),n=require("../../../atoms/fuji_icon_button.jsx"),i=e(n),s=require("../../../atoms/constants/fuji_icon"),l=require("react-intl"),d=require("./folder_input.jsx"),c=e(d),u=require("../../../platform/theming/themes"),f=(0,l.defineMessages)({create_new_folder:{id:"create_new_folder",defaultMessage:"Create new folder"},create_folder_label:{id:"create_folder_label",defaultMessage:"New Folder"},create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}}),_=a.default.createClass({displayName:"CreateFolder",contextTypes:{intl:l.intlShape.isRequired,getCss:t.PropTypes.func,getThemeMode:t.PropTypes.func},getInitialState:function e(){return{createMode:!1}},enableCreateMode:function e(){this.setState({createMode:!0})},disableCreateMode:function e(){this.setState({createMode:!1})},createFolder:function e(t){var a=t.folderName,r=t.i13nModel;r=Object.assign({actionData:{depth:0}},r),this.disableCreateMode(),this.props.onCreate({folderName:a,i13nModel:r})},handleKeyDown:function e(t){"Enter"!==t.key||this.state.createMode||(t.stopPropagation(),this.enableCreateMode())},renderNewFolderButton:function e(t){var r=this.context.intl.formatMessage,o=this.context.getThemeMode(),n=o===u.ThemeModes.LIGHT?s.ColorStates.IMPROVED_GRAY_DARK:s.ColorStates.INHERITED;return a.default.createElement("div",{"data-iskeynav":!0,onClick:this.enableCreateMode,className:t.newFolderContainer},a.default.createElement(i.default,{kind:s.Kinds.ADD,size:s.Sizes.XS,colorState:n,"aria-label":r(f.create_new_folder),title:r(f.create_new_folder),paddingLess:!0}),r(f.create_folder_label))},render:function e(){var t=this.props.indentation,r=this.context.getCss(o.default,{indentation:t}),n=this.context.intl.formatMessage;return a.default.createElement("div",{className:r.container,onKeyDown:this.handleKeyDown,"data-test-id":"create-folder-container"},this.state.createMode?a.default.createElement(c.default,{onInputSubmit:this.createFolder,onDismiss:this.disableCreateMode,ariaLabel:n(f.create_folder_input_aria_label),indentation:t,isScrolling:this.props.isScrolling,activeAccountId:this.props.activeAccountId,folders:this.props.folders}):this.renderNewFolderButton(r))}});exports.default=_,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../platform/theming/themes":"./platform/theming/themes","../styles/create_folder":209,"./folder_input.jsx":201,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],199:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),a=require("react-intl"),o=require("../styles/folder_item"),s=e(o),n=require("../../../atoms/fuji_icon.jsx"),i=e(n),l=require("../../../atoms/fuji_icon_button.jsx"),d=e(l),u=require("../../../atoms/folder_label.jsx"),p=e(u),h=require("./folder_input.jsx"),f=e(h),c=require("../../../atoms/unread_count.jsx"),m=e(c),g=require("./folder_menu.jsx"),_=e(g),v=require("../../../atoms/button.jsx"),T=e(v),S=require("../../../atoms/loading_indicator.jsx"),C=e(S),D=require("../../../platform/logger"),F=e(D),E=require("../../../platform/utils"),y=require("../../../platform/rapid_client/constants.js"),I=require("../../../atoms/constants/fuji_icon"),N=require("../../../platform/utils/folder"),R=require("../../../platform/utils/list"),L=require("../../../platform/utils/object"),M=require("../../../platform/mail_constants"),b=require("../../../atoms/popover/asymmetric_popover.jsx"),O=e(b),x=require("../../../atoms/constants/popover"),A=require("../../message_toolbar/actions"),w=e(A),k=require("../../message_toolbar/constants"),q=e(k),H=require("../../../platform/utils/mail_ui_vars"),U=require("../../../platform/theming/themes"),P=require("../constants"),j=function e(){},W=(0,a.defineMessages)({folder_tooltip:{id:"folder_tooltip",defaultMessage:"{folderName}{isSelected} - {totalNum, plural,\n                =0 {{emailType, select,\n                           Draft {no drafts}\n                           other {no emails}}}\n                =1 {{emailType, select,\n                           Draft {{totalNum, number} draft}\n                           other {{totalNum, number} email}}}\n                =-1 {{emailType, select,\n                           Draft {}\n                           other {}}}\n                other {{emailType, select,\n                           Draft {{totalNum, number} drafts}\n                           other {{totalNum, number} emails}}}\n            } {unreadTooltip} {folderStateTooltip}"},unread_tooltip:{id:"unread_tooltip",defaultMessage:"{numUnreads, plural,\n                other {(# unread)}\n            }"},folder_is_open:{id:"folder_is_open",defaultMessage:"Folder is expanded. Collapse its contents using left arrow."},selected_folder:{id:"selected_folder",defaultMessage:", selected"},folder_is_closed:{id:"folder_is_closed",defaultMessage:"Folder is collapsed. Expand its contents using right arrow."},show_folders:{id:"show_folders",defaultMessage:"Click to show folders"},hide_folders:{id:"hide_folders",defaultMessage:"Click to hide folders"},rename_folder_input_aria_label:{id:"rename_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to rename folder]"},rename_folder_dismiss_input:{id:"rename_folder_dismiss_input",defaultMessage:"Dismiss input"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},empty_trash_tooltip:{id:"empty_trash_tooltip",defaultMessage:"Empty Trash folder"},empty_spam_tooltip:{id:"empty_spam_tooltip",defaultMessage:"Empty Spam folder"}}),K=r.default.createClass({displayName:"Folder",contextTypes:{executeAction:t.PropTypes.func,intl:a.intlShape.isRequired,getCss:t.PropTypes.func,getThemeMode:t.PropTypes.func,getUrlFromRoute:t.PropTypes.func.isRequired},componentWillReceiveProps:function e(t){var r=this;this.props.folder.unread!==t.folder.unread&&t.folder.unread<0&&F.default.error("The user received a negative folder count."),this.setState({prevCount:this.state.unreadCount,unreadCount:(0,N.getFolderMessageCount)(t.folder)}),this.state.loadingState===M.LoadingState.IDLE&&t.loadingState===M.LoadingState.FINISH?this.setState({loadingState:M.LoadingState.IDLE}):(this.setState({loadingState:t.loadingState}),t.loadingState===M.LoadingState.FINISH&&(this.timerID=setTimeout(function(){return r.setState({loadingState:M.LoadingState.IDLE})},500)))},componentWillUnmount:function e(){this.targets=null,clearTimeout(this.timerID)},getDefaultProps:function e(){return{onClick:j,onRenameStart:j,onRenameSubmit:j,onRenameCancel:j,renamingFolder:!1,isActive:!1,isActualFolder:!0,showFolderMenu:!1,depth:0,hasChildren:!1}},getInitialState:function e(){return{dragover:!1,unreadCount:(0,N.getFolderMessageCount)(this.props.folder),prevCount:0,loadingState:M.LoadingState.IDLE}},_getChevronTitle:function e(){var t=this.context.intl.formatMessage;switch(this.props.chevron){case M.Chevron.LEFT:return t(W.show_folders);case M.Chevron.DOWN:return t(W.hide_folders);default:return""}},getTitleText:function e(){var t=this.props,r=t.folder,a=t.isActive,o=this.context.intl.formatMessage,s="",n="",i=a?o(W.selected_folder):null;switch(this.props.chevron){case M.Chevron.LEFT:n=o(W.folder_is_closed);break;case M.Chevron.DOWN:n=o(W.folder_is_open);break;default:n=""}switch((0,N.getPrimaryFolderType)(r)){case M.FolderTypes.DRAFT:case M.FolderTypes.SENT:case M.FolderTypes.BULK:case M.FolderTypes.TRASH:case M.FolderTypes.ARCHIVE:break;default:s=o(W.unread_tooltip,{numUnreads:(0,N.getFolderMessageCount)(r)})}return o(W.folder_tooltip,{folderName:(0,N.getLocalisedFolderName)(o,(0,N.getFolderDisplayType)(r))||r.name,emailType:r.id,totalNum:r.total,unreadTooltip:s,folderStateTooltip:n,isSelected:i})},_getI13nModel:function e(){var t=(0,N.getPrimaryFolderType)(this.props.folder);return{mKey:y.MKEYS[t+"_FOLDER"],sec:this.props.folder.isSystem?y.SEC_VALUES.LEFTRAIL_SYSFOLDER:y.SEC_VALUES.LEFTRAIL_USERFOLDER,actionData:{depth:this.props.depth}}},handleKeyDown:function e(t){switch(t.key){case" ":case"Enter":t.stopPropagation(),this.handleNavClick(t);break;case"ArrowLeft":case"ArrowRight":t.stopPropagation(),this.props.onToggleExpansion(t);break;default:return}},handleNavClick:function e(t){t.preventDefault();var r=this._getI13nModel();r.interactionType=(0,E.getInteractionFromEvent)(t),this.props.onClick(t,this.props.folder.id,r)},handleDoubleClick:function e(t){t.stopPropagation(),this.props.folder.isSystem||this.props.hasChildren||this.props.onRenameStart()},handleRename:function e(t){var r=t.folderName,a=t.i13nModel;a=Object.assign({actionData:{depth:this.props.depth}},a),this.props.onRenameSubmit({originalFolderName:this.props.folder.name,newFolderName:r,folderId:this.props.folder.id,i13nModel:a})},renderInput:function e(){var t=this.context.intl.formatMessage;return r.default.createElement(f.default,{onInputSubmit:this.handleRename,onDismiss:this.props.onRenameCancel,initialFolderName:this.props.folder.name,ariaLabel:t(W.rename_folder_input_aria_label),cancelTitle:t(W.rename_folder_dismiss_input),folders:this.props.folders,activeAccountId:this.props.activeAccountId,folderLevel:this.props.folder.level})},renderLabel:function e(t){var a=this.props,o=a.folder,s=a.chevron,n=this.props.chevron!==M.Chevron.NONE;return r.default.createElement("div",{className:t.labelContainer,title:this.getTitleText()},n?r.default.createElement(T.default,{title:this._getChevronTitle(),onClick:this.props.onToggleExpansion,className:t.chevron,"data-test-id":"folder-expand-btn"},r.default.createElement(i.default,{kind:I.Kinds.CHEVRON_UP,colorState:I.ColorStates.INHERITED,size:I.Sizes.XS,rotate:s===M.Chevron.DOWN?I.Rotate.D180:I.Rotate.D90})):null,r.default.createElement("span",{className:t.label},r.default.createElement(p.default,{folderDisplayType:(0,N.getFolderDisplayType)(o),name:o.name,"data-test-id":"folder-label"})))},shouldHandleDrag:function e(){var t=this.props.folder,r=t.types;return!(r.indexOf(M.FolderTypes.SENT)>=0||r.indexOf(M.FolderTypes.DRAFT)>=0)},handleDrop:function e(t){if(t.preventDefault(),this.shouldHandleDrag()){var r=t.dataTransfer.getData("text"),a=this.props.selection,o=a&&Object.keys(a),s=this.props.folder.id,n=this.props,i=n.selectAllOnDrop,l=n.allItemsCount,d=i?A.SelectAllActionCreators:w.default,u=d[q.default.LIST].move;o&&o.length>0&&this.context.executeAction(u,{destinationFolderId:s,listId:r,messageGroupIds:o,allItemsCount:l}),this.targets=[],this.setState({dragover:!1})}},handleDragEnter:function e(t){t.preventDefault(),this.shouldHandleDrag()&&(this.targets||(this.targets=[]),this.targets.push(t.currentTarget),1===this.targets.length&&this.setState({dragover:!0}))},handleDragLeave:function e(t){t.preventDefault(),this.shouldHandleDrag()&&this.targets&&(this.targets.pop(),0===this.targets.length&&this.setState({dragover:!1}))},handleDragOver:function e(t){t.preventDefault(),this.shouldHandleDrag()&&(this.state.dragover||this.setState({dragover:!0}))},shouldRenderTrashCanIcon:function e(){var t=this.props,r=t.isHovered,a=t.showFolderMenu,o=t.isRefreshing,s=t.folder;return!(o||!a||!r||s.types.indexOf(M.FolderTypes.TRASH)===-1&&s.types.indexOf(M.FolderTypes.BULK)===-1)},handleEmptyFolder:function e(t){t.preventDefault(),this.props.folder.total>0&&this.props.onClear(this.props.folder)},shouldRenderUnreadCount:function e(){var t=this.props,r=t.isHovered,a=t.showFolderMenu,o=t.isRefreshing,s=t.folder,n=(0,N.getPrimaryFolderType)(s);return!(o||n!==M.FolderTypes.DRAFT&&n!==M.FolderTypes.SENT&&(r||a))},getUnreadCountClass:function e(t){var r=(0,N.getPrimaryFolderType)(this.props.folder);return this.state.loadingState===M.LoadingState.IDLE||this.state.prevCount>=this.state.unreadCount||[M.FolderTypes.DRAFT,M.FolderTypes.SENT,M.FolderTypes.SPAM,M.FolderTypes.TRASH].indexOf(r)!==-1?t.unreadWrapper:this.state.loadingState===M.LoadingState.START?t.unreadFadeOut:t.unreadFadeIn},renderFolderStateIcon:function e(t){var a=this,o=this.props,s=o.isRefreshing,n=o.folder,l=o.isActive,u=this.context.intl.formatMessage,p=this.shouldRenderUnreadCount(),h=this.shouldRenderTrashCanIcon();if(s)return r.default.createElement("div",{className:t.loader},r.default.createElement(C.default,{size:S.Sizes.S,"data-test-id":"folder-loading-indicator"}));if(p)return r.default.createElement("span",{className:this.props.reloadingBar?this.getUnreadCountClass(t):t.unreadWrapper},r.default.createElement(m.default,{value:this.state.unreadCount,isActive:l,highlight:this.props.highlightUnreadCount,whiteBackground:this.context.getThemeMode()!==U.ThemeModes.LIGHT}));if(h){var f=u(n.types.indexOf(M.FolderTypes.TRASH)>=0?W.empty_trash_tooltip:W.empty_spam_tooltip);return r.default.createElement("span",{className:t.trashIconWrapper,title:f},r.default.createElement(d.default,{"data-test-id":"trashcan-icon",kind:I.Kinds.DELETE,size:I.Sizes.XXS,colorState:I.ColorStates.INHERITED,onClick:this.handleEmptyFolder,title:f,ariaLabel:f}))}return r.default.createElement("div",{className:t.folderMenu},r.default.createElement(O.default,{permittedArrowDirections:[x.PermittedArrowDirections.UP,x.PermittedArrowDirections.DOWN],triggerOn:b.OnTriggers.CLICK,triggerOff:b.OffTriggers.CLICK,arrowSize:x.ArrowSizes.XS,offset:4*H.GRID_UNIT,align:x.Align.CENTER,overflowScroll:!1,onShown:function e(){return a.props.handleMenuVisibility(!0)},onHide:function e(){return a.props.handleMenuVisibility(!1)}},r.default.createElement("div",{className:t.folderMenuIcon,"data-test-id":"folder-menu-hook"},r.default.createElement(i.default,{kind:I.Kinds.INPUT_ARROW_DOWN,size:I.Sizes.XS,colorState:I.ColorStates.INHERITED,title:u(W.show_folder_menu),ariaLabel:u(W.show_folder_menu)})),r.default.createElement(_.default,{"data-test-id":"folder-menu",folder:this.props.folder,onDelete:this.props.onDelete,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,onMarkRead:this.props.onMarkRead,onArchive:this.props.onArchive,onClear:this.props.onClear,onShow:this.props.onFolderMenuShow,onRename:this.props.onRenameStart,hasChildren:this.props.hasChildren,depth:this.props.depth})))},getContainerClassName:function e(t){var r=this.props.isActive;return this.state.dragover?r?t.activeDragoverContainer:t.dragoverContainer:r?t.activeContainer:t.container},render:function e(){var t=this,a=this.props,o=a.folder,n=a.depth,i=a.isActive,l=a.isActualFolder,d=a.showFolderMenu,u=a.sortOrder,h=a.hasChildren,f=this.props.chevron!==M.Chevron.NONE,c=void 0;o.isSystem&&!h||(c=0===n?f?P.TOPFOLDER_WITH_ICON:P.TOPFOLDER_WITHOUT_ICON:f?P.SUBFOLDER_WITH_ICON:P.SUBFOLDER_WITHOUT_ICON);var m=this.context.getCss(s.default,{indentation:c,showFolderMenu:d,isActive:i});return this.props.renamingFolder?this.renderInput():l?r.default.createElement("div",{className:this.getContainerClassName(m),"data-test-folder-container":o.name,"data-test-id":"folder-item-container",onMouseEnter:function e(){return t.props.handleHover(!0)},onMouseLeave:function e(){return t.props.handleHover(!1)},onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,"data-iskeynav":!0,tabIndex:-1},r.default.createElement("a",{href:this.context.getUrlFromRoute({name:M.RouteNames.FOLDER,params:{fid:(0,R.serializeListIdForFolderRoute)((0,R.getListIdFromFolderId)(o.id,u))}}),className:i?m.activeNavContainer:m.navContainer,"data-test-folder-name":o.name,"data-test-id":"folder-list-item",onFocus:this.props.onFocus,onClick:this.handleNavClick,onDoubleClick:this.handleDoubleClick,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-unread-count":o.unread,"data-test-total-count":o.total,"data-test-is-active":i,tabIndex:-1},this.renderLabel(m)),this.renderFolderStateIcon(m)):r.default.createElement("div",{className:m.folderLabelContainer},r.default.createElement("span",{className:m.label},r.default.createElement(p.default,{folderDisplayType:(0,N.getFolderDisplayType)(o),name:o.name,"data-test-id":"folder-label"})))}});exports.default=K,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/folder_label.jsx":"./atoms/folder_label","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../../atoms/popover/asymmetric_popover.jsx":"./atoms/popover/asymmetric_popover","../../../atoms/unread_count.jsx":131,"../../../platform/logger":"./platform/logger","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/rapid_client/constants.js":"./platform/rapid_client/constants","../../../platform/theming/themes":"./platform/theming/themes","../../../platform/utils":"./platform/utils","../../../platform/utils/folder":"./platform/utils/folder","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../../platform/utils/object":"./platform/utils/object","../../message_toolbar/actions":259,"../../message_toolbar/constants":261,"../constants":207,"../styles/folder_item":211,"./folder_input.jsx":201,"./folder_menu.jsx":203,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],200:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),l=e(t),s=require("react-intl"),a=require("../styles/folder_tree"),i=e(a),o=require("./folder.jsx"),r=e(o),d=require("../../../platform/mail_constants"),n=require("../constants"),c=(0,s.defineMessages)({folders_label:{id:"folders_label",defaultMessage:"Folders"},click_to_show_folders_title:{id:"folder_list.click_to_show_folders_title",defaultMessage:"Click here to Show the Folders"},click_to_hide_folders_title:{id:"folder_list.click_to_hide_folders_title",defaultMessage:"Click here to Hide the Folders"}}),u=l.default.createClass({displayName:"FolderContainer",contextTypes:{intl:s.intlShape.isRequired,getCss:t.PropTypes.func},getInitialState:function e(){return{expanded:this.props.showCustomFolders}},expand:function e(){this.state.expanded||this.toggle()},collapse:function e(){this.state.expanded&&this.toggle()},toggle:function e(){var t=this.state.expanded;this.props.onToggleCustomFolders(!t),this.setState({expanded:!t})},handleClick:function e(t){t.stopPropagation(),t.preventDefault(),this.toggle()},handleKeyDown:function e(t){switch(t.preventDefault(),t.key){case" ":case"Enter":this.toggle();break;case"ArrowLeft":this.collapse();break;case"ArrowRight":this.expand();break;default:return}},getTitleText:function e(){var t=this.context.intl.formatMessage;return t(this.state.expanded?c.click_to_hide_folders_title:c.click_to_show_folders_title)},render:function e(){var t=this.context.intl.formatMessage,a=this.context.getCss(i.default,{indentation:n.INDENTATION_NONE}),o={id:"-1",types:[d.FolderTypes.USER],name:t(c.folders_label),isSystem:!1,total:-1};return l.default.createElement("div",null,l.default.createElement("div",{"data-iskeynav":!0,onKeyDown:this.handleKeyDown,className:a.folderContainer},l.default.createElement(r.default,{isActive:!1,folder:o,onToggleExpansion:function e(){},chevron:d.Chevron.NONE,isActualFolder:!1}),l.default.createElement("span",{"data-test-id":"toggle-folder-tree",className:a.toggleFolderTree,onClick:this.handleClick,title:this.getTitleText(),"aria-label":this.getTitleText()},this.state.expanded?l.default.createElement(s.FormattedMessage,{id:"hide_label",defaultMessage:"Hide"}):l.default.createElement(s.FormattedMessage,{id:"show_label",defaultMessage:"Show"}))),this.props.children&&this.state.expanded?l.default.createElement("ul",{className:a.folderTree,"data-test-id":"custom-folder-list"},l.default.createElement("li",null,this.props.children)):null)}});exports.default=u,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../constants":207,"../styles/folder_tree":214,"./folder.jsx":199,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],201:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},r=require("react"),a=e(r),i=require("react-intl"),o=require("../styles/folder_input"),l=e(o),s=require("react-atomic-css/css"),n=e(s),d=require("../../../atoms/fuji_icon_button.jsx"),u=e(d),f=require("./../constants"),m=require("../../../atoms/constants/fuji_icon"),p=require("../../../platform/utils/mail_ui_vars"),c=require("../../../platform/theming/themes"),h=require("../../../platform/utils/object"),N=require("../../../platform/utils/folder"),v=require("../../../platform/utils"),_=require("../../../atoms/bidi_input.jsx"),E=e(_),g=require("../../../atoms/popover/popover_container.jsx"),F=e(g),S=require("../../../atoms/popover/popover_anchor.jsx"),T=e(S),I=require("../../../atoms/popover/popover_content.jsx"),q=e(I),y=require("../../../atoms/constants/popover"),C={ESCAPE:27,ENTER:13,TAB:9},D=(0,h.mirrorKeys)(["InvalidFolderName","DuplicateFolderName"]),b="/ \\ %",M=(0,i.defineMessages)({folder_dismiss_input:{id:"folder_dismiss_input",defaultMessage:"Dismiss input"},folder_submit_input:{id:"folder_submit_input",defaultMessage:"Submit input"},folder_invalid_chars:{id:"folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"},duplicate_foldername:{id:"duplicate_foldername",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."}}),O=a.default.createClass({displayName:"FolderInput",getDefaultProps:function e(){return{indentation:f.INDENTATION_NONE,folderLevel:0}},contextTypes:{intl:i.intlShape.isRequired,getThemeMode:r.PropTypes.func},getInitialState:function e(){return{folderName:this.props.initialFolderName||"",folderError:null}},handleKeyDown:function e(t){t.keyCode===C.ESCAPE&&this.props.onDismiss(),t.keyCode!==C.ENTER&&t.keyCode!==C.TAB||this.performFolderOperation(t)},handleChange:function e(t){var r=t.target.value,a=null;r&&!(0,v.isValidFolderName)(r)&&(a=D.InvalidFolderName),this.setState({folderName:r,folderError:a})},handleBlur:function e(t){if(t.relatedTarget&&t.relatedTarget.parentNode!==this.containerNode)return""===this.state.folderName.trim()?this.props.onDismiss():void this.performFolderOperation(t)},performFolderOperation:function e(t){var r=this.props,a=r.folders,i=r.folderLevel,o=r.initialFolderName,l=this.state.folderName.trim(),s=this.state.folderError;if(l!==o&&(0,N.getFolderByName)(a,l,i)&&(s=D.DuplicateFolderName,this.setState({folderError:s})),l&&null===s){var n={interactionType:(0,v.getInteractionFromEvent)(t)};this.props.onInputSubmit({folderName:l,i13nModel:n})}},focusInput:function e(t){t&&t.focus()},getFolderError:function e(){var r=this.state,o=r.folderName,l=r.folderError;return null===l?null:l===D.InvalidFolderName?a.default.createElement(i.FormattedMessage,t({},M.folder_invalid_chars,{values:{invalid_chars:b}})):l===D.DuplicateFolderName?a.default.createElement(i.FormattedMessage,t({},M.duplicate_foldername,{values:{folder_name:a.default.createElement("b",null,o)}})):void 0},render:function e(){var t=this,r=this.context.intl.formatMessage,i=null===this.state.folderError,o=(0,n.default)(l.default,{invalidFolderName:!i,validFolderName:i,indentation:this.props.indentation}),s=this.props.onDismiss,d=this.context.getThemeMode(),f=d===c.ThemeModes.LIGHT?m.ColorStates.NORMAL:m.ColorStates.INVERTED,h=r(M.folder_submit_input),N=r(M.folder_dismiss_input);return a.default.createElement("div",{className:o.container,ref:function e(r){return t.containerNode=r}},a.default.createElement(u.default,{onClick:s,kind:m.Kinds.CLOSE_MINI,size:m.Sizes.XS,colorState:f,"aria-label":N,title:N,"data-test-id":"icon-btn-close",className:o.closeButton,paddingLess:!0}),a.default.createElement(F.default,{className:o.popoverContainer},a.default.createElement(T.default,null,a.default.createElement("div",{className:o.inputSubmitContainer},a.default.createElement("div",{className:o.inputContainer},a.default.createElement(E.default,{className:o.input,type:"text",ref:this.focusInput,value:this.state.folderName,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,placeholder:this.props.placeholder,"aria-label":this.props.ariaLabel})),a.default.createElement(u.default,{onClick:this.performFolderOperation,kind:m.Kinds.ENTER,colorState:m.ColorStates.INVERTED,size:m.Sizes.XXS,className:o.okIcon,title:h,"aria-label":h}))),!this.state.folderName||this.props.isScrolling||i?null:a.default.createElement(q.default,{triggerOn:y.Triggers.MOUNT,permittedArrowDirections:[y.PermittedArrowDirections.UP,y.PermittedArrowDirections.DOWN],zAltitude:p.ZIndices.POPOVER.HIGH},a.default.createElement("div",{className:o.popover},this.getFolderError()))))}});exports.default=O,module.exports=exports.default;
},{"../../../atoms/bidi_input.jsx":"./atoms/bidi_input","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../../platform/theming/themes":"./platform/theming/themes","../../../platform/utils":"./platform/utils","../../../platform/utils/folder":"./platform/utils/folder","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../../platform/utils/object":"./platform/utils/object","../styles/folder_input":210,"./../constants":207,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],202:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.strings=void 0;var t=require("react"),o=e(t),r=require("../styles/folder_tree"),l=e(r),s=require("react-intl"),n=require("../../../platform/utils/object"),d=require("../../../platform/mail_constants"),i=require("../../../types"),a=require("./folder_tree_node"),p=e(a),u=require("../../../atoms/lazy_component"),h=require("../../../atoms/popover/popover_content.jsx"),f=e(h),c=require("../../../atoms/constants/popover"),g=require("../../../platform/utils/mail_ui_vars"),m=require("../../../platform/utils/array"),_=5,S=exports.strings=(0,s.defineMessages)({click_to_show_more_title:{id:"folder_list.click_to_show_more_title",defaultMessage:"Click here to Show Folders"},click_to_show_less_title:{id:"folder_list.click_to_show_less_title",defaultMessage:"Click here to Hide Folders"},less_label:{id:"folder_list.less_label",defaultMessage:"Less"},more_label:{id:"folder_list.more_label",defaultMessage:"More"}}),F=o.default.createClass({displayName:"FolderList",contextTypes:{intl:s.intlShape.isRequired,getCss:t.PropTypes.func},getInitialState:function e(){return{expandedFolders:(0,m.append)(this.props.expandedFolders),showAllSystemFolders:!!this.props.showAllSystemFolders}},toggleExpansion:function e(t,o){var r=this.state.expandedFolders,l=void 0;l=o?(0,m.append)(r,t):(0,m.remove)(r,r.indexOf(t),1),this.setState({expandedFolders:l}),this.props.onFolderExpandToggle(t,o)},toggleShowAll:function e(){var t=!this.state.showAllSystemFolders;this.setState({showAllSystemFolders:t}),this.props.handleToggleSystemFolders(t)},getFolderTreeNodes:function e(t){var r=this,l=t.folderNodes,s=t.onOpen,n=t.onRename,d=t.onDelete,i=t.onMarkRead,a=t.onArchive,u=t.onClear,h=t.onSubfolderCreate,f=t.onFolderMenuShow,c=t.highlightFolderId,g=t.folderRefreshing,m=t.onSmartViewOpen,_=t.selection;return this.flattenAndFilterNodes(l,0).map(function(e,t){var l=e.depth,S=e.folderNode;return o.default.createElement(p.default,{activeAccountId:r.props.activeAccountId,folders:r.props.folders,key:S.folder.id,folderNode:S,onOpen:s,onRename:n,onDelete:d,onMarkRead:i,onArchive:a,onClear:u,onSubfolderCreate:h,highlightFolderId:c,sortOrder:r.props.sortOrder,folderRefreshing:g,index:t,onSmartViewOpen:m,onFolderMenuShow:f,depth:l,toggleExpansion:r.toggleExpansion,expanded:r.state.expandedFolders.indexOf(S.folder.id)!==-1,showStarredCue:r.props.showStarredCue,ref:S.folder.name.toLowerCase()+"Button",selection:_,selectAllOnDrop:r.props.selectAllOnDrop,allItemsCount:r.props.allItemsCount,loadingState:r.props.loadingState,reloadingBar:r.props.reloadingBar})})},flattenAndFilterNodes:function e(t,o){for(var r=[],l=0;l<t.length;l++){var s=t[l],n=this.state.expandedFolders.indexOf(s.folder.id)!==-1;r.push({depth:o,folderNode:s}),s.children.length>0&&n&&(r=r.concat(this.flattenAndFilterNodes(s.children,o+1)))}return r},onSubfolderCreate:function e(t){var o=t.folder,r=t.subfolderName,l=t.i13nModel;this.toggleExpansion(o.id,!0),this.props.onSubfolderCreate({folder:o,subfolderName:r,i13nModel:l})},updateContent:function e(){this.popoverContent&&this.popoverContent.updatePosition()},renderStarredCue:function e(){var t=this;return this.props.showStarredCue&&this.refs.starredButton?o.default.createElement(f.default,{popoverAnchor:this.refs.starredButton,triggerOn:c.Triggers.MOUNT,permittedArrowDirections:[c.PermittedArrowDirections.LEFT],ref:function e(o){t.popoverContent=o},zAltitude:g.ZIndices.POPOVER.HIGH},o.default.createElement(u.LazyComponent,{import:"../../scout_cue/",cueName:"starredCue",onShow:this.updateContent,close:this.refs.starredButton.props.folderNode.folder.id===this.props.highlightFolderId,_moduleGetter:function e(){return require("../../scout_cue/")}})):null},getTitleText:function e(){var t=this.context.intl.formatMessage;return t(this.state.showAllSystemFolders?S.click_to_show_less_title:S.click_to_show_more_title)},render:function e(){var t=this.props,r=t.indentation,n=t.folderNodes,d=t.onOpen,i=t.onRename,a=t.onDelete,p=t.onMarkRead,u=t.onArchive,h=t.onClear,f=t.highlightFolderId,c=t.folderRefreshing,g=t.onFolderMenuShow,m=t.onSmartViewOpen,F=t.selection,C=t.collapsible,v=this.context.getCss(l.default,{indentation:r}),w=this.getFolderTreeNodes({folderNodes:n,onOpen:d,onRename:i,onDelete:a,onMarkRead:p,onArchive:u,onClear:h,onSubfolderCreate:this.onSubfolderCreate,highlightFolderId:f,folderRefreshing:c,onFolderMenuShow:g,onSmartViewOpen:m,selection:F}),x=this.state.showAllSystemFolders,A=void 0;return n.length?(A=C?x?w:w.slice(0,_):w,o.default.createElement("ul",{className:v.folderTree},A,this.renderStarredCue(),C&&w.length>_?o.default.createElement("li",{onClick:this.toggleShowAll,className:v.collapseFolders,"data-test-id":x?"folder-list-collapse":"folder-list-expand",title:this.getTitleText(),"aria-label":this.getTitleText(),"data-iskeynav":!0,tabIndex:-1},x?o.default.createElement(s.FormattedMessage,S.less_label):o.default.createElement(s.FormattedMessage,S.more_label)):null)):null}});exports.default=F;
},{"../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/lazy_component":"./atoms/lazy_component","../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/array":"./platform/utils/array","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../../platform/utils/object":"./platform/utils/object","../../../types":"./types","../../scout_cue/":"./molecules/scout_cue","../styles/folder_tree":214,"./folder_tree_node":204,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],203:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){}exports.__esModule=!0;var r=require("react"),a=e(r),l=require("react-intl"),s=require("../../../atoms/folder_label"),n=e(s),d=require("../../../atoms/navigable_list.jsx"),o=e(d),u=require("../../../atoms/menu/menu_item.jsx"),i=e(u),f=require("../../../atoms/constants/navigable_list"),m=require("../../../atoms/list_item.jsx"),c=e(m),p=require("../styles/folder_menu.js"),h=e(p),M=require("react-atomic-css/css"),g=e(M),k=require("../../../platform/utils/folder"),E=require("../../../platform/mail_constants"),_=require("../../../platform/utils"),F=(0,g.default)(h.default),v=a.default.createClass({displayName:"FolderMenu",handleDeleteClick:function e(t){t.preventDefault();var r={interactionType:(0,_.getInteractionFromEvent)(t),actionData:{depth:this.props.depth}};this.props.onDelete({folder:this.props.folder,i13nModel:r,hasSubFolder:this.props.hasChildren})},handleRenameClick:function e(t){t.preventDefault(),this.props.onRename()},handleSubfolderClick:function e(t){t.preventDefault(),this.props.onSubfolderCreate()},handleMarkReadClick:function e(t){t.preventDefault();var r={interactionType:(0,_.getInteractionFromEvent)(t),actionData:{numMsg:this.props.folder.unread}};this.props.onMarkRead({folder:this.props.folder,i13nModel:r})},handleArchiveClick:function e(t){t.preventDefault(),this.props.onArchive(this.props.folder)},handleClearClick:function e(t){t.preventDefault(),this.props.onClear(this.props.folder)},getMarkAsReadMenuItem:function e(t){var r=0===this.props.folder.total||0===this.props.folder.unread;return a.default.createElement(i.default,{key:t,name:"mark_folder_read",disabled:r,onClick:this.handleMarkReadClick},a.default.createElement(l.FormattedMessage,{id:"mark_folder_read",defaultMessage:"Mark emails as read"}))},getArchiveMenuItem:function e(t){var r=(0,k.getPrimaryFolderType)(this.props.folder),s=0===this.props.folder.total;return a.default.createElement(i.default,{key:t,name:"archive_folder_messages",disabled:s,onClick:this.handleArchiveClick},r===E.FolderTypes.INBOX?a.default.createElement(l.FormattedMessage,{id:"archive_inbox_messages",defaultMessage:"Clean your Inbox"}):a.default.createElement(l.FormattedMessage,{id:"archive_folder_messages",defaultMessage:"Archive all emails"}))},getDeleteMenuItem:function e(t){var r=(0,k.getPrimaryFolderType)(this.props.folder),s=0===this.props.folder.total;return a.default.createElement(i.default,{key:t,name:"delete_folder_messages",disabled:s,onClick:this.handleClearClick},r===E.FolderTypes.BULK||r===E.FolderTypes.TRASH?a.default.createElement(l.FormattedMessage,{id:"folder_menu.empty_folder_messages",defaultMessage:"Empty {folderName}",values:{folderName:a.default.createElement(n.default,{folderDisplayType:r,name:this.props.folder.name})}}):a.default.createElement(l.FormattedMessage,{id:"delete_folder_messages",defaultMessage:"Delete all emails"}))},getRenameFolderMenuItem:function e(t){var r=this.props.hasChildren;return a.default.createElement(i.default,{key:t,name:"rename_folder",disabled:r,onClick:this.handleRenameClick},a.default.createElement(l.FormattedMessage,{id:"rename_folder",defaultMessage:"Rename folder"}))},getMoveFolderMenuItem:function e(r){return a.default.createElement(i.default,{key:r,disabled:!0,onClick:t},a.default.createElement(l.FormattedMessage,{id:"move_folder",defaultMessage:"Move folder"}))},getDeleteFolderMenuItem:function e(t){return a.default.createElement(i.default,{key:t,name:"delete_folder",onClick:this.handleDeleteClick},a.default.createElement(l.FormattedMessage,{id:"delete_folder",defaultMessage:"Delete folder"}))},getCreateFolderMenuItem:function e(t){return a.default.createElement(i.default,{key:t,name:"create_subfolder",onClick:this.handleSubfolderClick,"data-test-id":"create-subfolder"},a.default.createElement(l.FormattedMessage,{id:"create_subfolder",defaultMessage:"Create subfolder"}))},getSeparatorItem:function e(t){return a.default.createElement(c.default,{key:t,className:F.separator})},renderMenuItems:function e(){var t=this,r=(0,k.getFolderMenuItems)(this.props.folder),a=[];return r.map(function(e,r){switch(e){case E.FolderMenuItems.MARK_READ:a.push(t.getMarkAsReadMenuItem(r));break;case E.FolderMenuItems.ARCHIVE:a.push(t.getArchiveMenuItem(r));break;case E.FolderMenuItems.DELETE:a.push(t.getDeleteMenuItem(r));break;case E.FolderMenuItems.RENAME_FOLDER:a.push(t.getRenameFolderMenuItem(r));break;case E.FolderMenuItems.MOVE_FOLDER:a.push(t.getMoveFolderMenuItem(r));break;case E.FolderMenuItems.DELETE_FOLDER:a.push(t.getDeleteFolderMenuItem(r));break;case E.FolderMenuItems.CREATE_FOLDER:a.push(t.getCreateFolderMenuItem(r));break;case E.FolderMenuItems.SEPARATOR:a.push(t.getSeparatorItem(r))}}),a},render:function e(){return a.default.createElement("div",{className:F.container},a.default.createElement(o.default,{kind:f.Kinds.MENU,focusOnMount:!0,onShow:this.props.onShow},this.renderMenuItems()))}});exports.default=v,module.exports=exports.default;
},{"../../../atoms/constants/navigable_list":"./atoms/constants/navigable_list","../../../atoms/folder_label":"./atoms/folder_label","../../../atoms/list_item.jsx":"./atoms/list_item","../../../atoms/menu/menu_item.jsx":107,"../../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils":"./platform/utils","../../../platform/utils/folder":"./platform/utils/folder","../styles/folder_menu.js":213,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],204:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),o=require("react-intl"),i=require("./folder.jsx"),s=e(i),n=require("../../../apps/mail/controller_views/smartview.jsx"),l=e(n),d=require("../../../platform/mail_constants"),a=require("../../../platform/utils/smartview"),h=require("../../../platform/utils/object"),p=require("../../../types"),u=require("./folder_input.jsx"),f=e(u),c=require("./../constants"),g={},m=(0,o.defineMessages)({create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}}),S=r.default.createClass({displayName:"FolderTreeNode",contextTypes:{intl:o.intlShape.isRequired},getInitialState:function e(){return{creatingSubfolder:!1,renamingFolder:!1,isMenuVisible:!1,isHovered:!1}},componentWillReceiveProps:function e(t){var r=t.folderNode.folder;this.shouldHighlightUnreadCount(r)&&(g[r.id]=!0)},shouldComponentUpdate:function e(t,r){return this.props.folderNode.folder.id!==t.folderNode.folder.id||this.props.sortOrder!==t.sortOrder||this.props.folderNode.folder.unread!==t.folderNode.folder.unread||this.props.folderNode.folder.total!==t.folderNode.folder.total||this.props.folderNode.folder.name!==t.folderNode.folder.name||this.props.folderNode.children.length!==t.folderNode.children.length||this.props.expanded!==t.expanded||this.props.highlightFolderId!==t.highlightFolderId||this.props.folderRefreshing!==t.folderRefreshing||this.props.selection!==t.selection||this.state.highlightUnreadCount!==r.highlightUnreadCount||this.state.creatingSubfolder!==r.creatingSubfolder||this.state.renamingFolder!==r.renamingFolder||this.state.isMenuVisible!==r.isMenuVisible||this.state.isHovered!==r.isHovered},shouldHighlightUnreadCount:function e(t){var r=this.props.folderNode.folder;return t.highestModSeq!==r.highestModSeq&&t.uidNext!==r.uidNext&&t.unread>0&&this.props.highlightFolderId!==t.id},handleToggle:function e(t){var r=this.props.folderNode.folder.id;t.stopPropagation(),t.preventDefault(),t.key?"ArrowRight"!==t.key||this.props.expanded?"ArrowLeft"===t.key&&this.props.expanded&&this.props.toggleExpansion(r,!1):this.props.toggleExpansion(r,!0):this.props.toggleExpansion(r,!this.props.expanded)},handleCreateSubfolderStart:function e(){this.setState({creatingSubfolder:!0})},handleRenameFolderStart:function e(){this.setState({renamingFolder:!0})},handleRenameFolderSubmit:function e(t){var r=t.originalFolderName,o=t.newFolderName,i=t.folderId,s=t.i13nModel;r!==o&&this.props.onRename({originalFolderName:r,newFolderName:o,folderId:i,i13nModel:s}),this.setState({renamingFolder:!1})},handleRenameFolderCancel:function e(){this.setState({renamingFolder:!1})},handleCreateSubfolderDone:function e(t){var r=t.folderName,o=t.i13nModel;this.setState({creatingSubfolder:!1}),o=Object.assign({actionData:{depth:this.props.depth+1}},o),this.props.onSubfolderCreate({folder:this.props.folderNode.folder,subfolderName:r,i13nModel:o})},handleCreateSubfolderDismiss:function e(){this.setState({creatingSubfolder:!1})},handleMenuVisibility:function e(t){this.setState({isMenuVisible:t})},handleHover:function e(t){this.setState({isHovered:t})},handleFolderOpen:function e(t,r,o){var i=this.props.folderNode.folder;g[i.id]&&(g[i.id]=!1),this.props.onOpen(t,r,o)},getChevronState:function e(){var t=!!this.props.folderNode.children.length,r=d.Chevron.NONE;return t&&(r=this.props.expanded?d.Chevron.DOWN:d.Chevron.LEFT),r},render:function e(){var t=this.context.intl.formatMessage,o=this.props.folderNode,i=o.folder,n=o.children,d={padding:"0 0 0 "+16*this.props.depth+"px"};return r.default.createElement("li",{style:d},i.isSmartView?r.default.createElement(l.default,{onClick:this.props.onSmartViewOpen,type:(0,a.getSmartViewType)(i),total:i.total,isActive:this.props.highlightFolderId===i.id,handleHover:this.handleHover}):r.default.createElement(s.default,{folder:i,sortOrder:this.props.sortOrder,hasChildren:n.length>0,depth:this.props.depth,onClick:this.handleFolderOpen,onRenameStart:this.handleRenameFolderStart,onRenameSubmit:this.handleRenameFolderSubmit,onRenameCancel:this.handleRenameFolderCancel,renamingFolder:this.state.renamingFolder,isActive:this.props.highlightFolderId===i.id,isRefreshing:this.props.highlightFolderId===i.id&&this.props.folderRefreshing,chevron:this.getChevronState(),onToggleExpansion:this.handleToggle,handleMenuVisibility:this.handleMenuVisibility,handleHover:this.handleHover,showFolderMenu:this.state.isHovered||this.state.isMenuVisible,onDelete:this.props.onDelete,onSubfolderCreate:this.handleCreateSubfolderStart,onMarkRead:this.props.onMarkRead,onFolderMenuShow:this.props.onFolderMenuShow,onArchive:this.props.onArchive,onClear:this.props.onClear,isHovered:this.state.isHovered,selection:this.props.selection,selectAllOnDrop:this.props.selectAllOnDrop,allItemsCount:this.props.allItemsCount,highlightUnreadCount:g[i.id]||!1,folders:this.props.folders,activeAccountId:this.props.activeAccountId,loadingState:this.props.loadingState,reloadingBar:this.props.reloadingBar}),this.state.creatingSubfolder?r.default.createElement(f.default,{onInputSubmit:this.handleCreateSubfolderDone,onDismiss:this.handleCreateSubfolderDismiss,ariaLabel:t(m.create_folder_input_aria_label),indentation:c.INDENTATION_NORMAL,folders:this.props.folders,activeAccountId:this.props.activeAccountId,folderLevel:i.level+1}):null)}});exports.default=S,module.exports=exports.default;
},{"../../../apps/mail/controller_views/smartview.jsx":68,"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/object":"./platform/utils/object","../../../platform/utils/smartview":"./platform/utils/smartview","../../../types":"./types","./../constants":207,"./folder.jsx":199,"./folder_input.jsx":201,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],205:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),a=require("react-intl"),i=require("../../../atoms/fuji_icon.jsx"),r=e(i),o=require("../../../atoms/constants/fuji_icon"),l=require("../styles/smart_view"),d=e(l),n=require("../../../platform/mail_constants"),u=require("../../../platform/utils/smartview"),c=require("../../../platform/utils/list"),_=require("../../../atoms/lazy_component"),m=function e(){},p=(0,a.defineMessages)({UNREAD:{id:"smart_view_unread_tooltip",defaultMessage:"Unread - Click to see unread mails"},smart_view_selected_UNREAD:{id:"smart_view_selected_unread_tooltip",defaultMessage:"Unread, selected - Showing unread mails"},STARRED:{id:"smart_view_starred_tooltip",defaultMessage:"Starred - Click to see starred mails"},smart_view_selected_STARRED:{id:"smart_view_selected_starred_tooltip",defaultMessage:"Starred, selected - Showing starred mails"},DOCUMENTS:{id:"smart_view_document_tooltip",defaultMessage:"Documents - Click to see all documents"},smart_view_selected_DOCUMENTS:{id:"smart_view_selected_document_tooltip",defaultMessage:"Documents, selected - Showing all documents"},PHOTOS:{id:"smart_view_photos_tooltip",defaultMessage:"Photos - Click to see all Photos"},smart_view_selected_PHOTOS:{id:"smart_view_selected_photos_tooltip",defaultMessage:"Photos, selected - Showing all Photos"},TUTORIAL:{id:"smart_view_tutorial_tooltip",defaultMessage:"Tutorials - Click to see all tutorial videos"},COUPONS:{id:"smart_view_coupons_tooltip",defaultMessage:"Coupons - Click to see all coupons"},smart_view_selected_TUTORIAL:{id:"smart_view_selected_tutorial_tooltip",defaultMessage:"Tutorial, selected - Showing the tutorial video"},MAGIC_TRIAGE:{id:"smart_view_magic_triage_tooltip",defaultMessage:"What you missed - Click to see selected emails you might have missed"},TRAVEL:{id:"smart_view_travel_tooltip",defaultMessage:"Travel - Click to see your travel details"},smart_view_selected_MAGIC_TRIAGE:{id:"smart_view_selected_magic_triage_tooltip",defaultMessage:"What you missed, selected - Showing the emails you might have missed"},smart_view_UNREAD:{id:"smart_view_unread",defaultMessage:"Unread"},smart_view_STARRED:{id:"smart_view_starred",defaultMessage:"Starred"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},smart_view_DOCUMENTS:{id:"smart_view_document",defaultMessage:"Documents"},smart_view_PHOTOS:{id:"smart_view_photos",defaultMessage:"Photos"},smart_view_TUTORIAL:{id:"smart_view_tutorial",defaultMessage:"Tutorials"},smart_view_MAGIC_TRIAGE:{id:"smart_view_magic_triage",defaultMessage:"What you missed"},smart_view_COUPONS:{id:"smart_view_coupons",defaultMessage:"Coupons"},smart_view_selected_COUPONS:{id:"smart_view_selected_coupons_tooltip",defaultMessage:"Coupons, selected - Showing your coupons"},smart_view_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"},smart_view_selected_TRAVEL:{id:"smart_view_selected_travel_tooltip",defaultMessage:"Travel, selected - Showing all flights"}}),v=s.default.createClass({displayName:"SmartView",contextTypes:{intl:a.intlShape.isRequired,getCss:t.PropTypes.func,getThemeMode:t.PropTypes.func,getUrlFromRoute:t.PropTypes.func.isRequired},getDefaultProps:function e(){return{onClick:m,isActive:!1,showDocumentsBadge:!1}},getTitleText:function e(){var t=this.context.intl.formatMessage,s=this.props,a=s.isActive,i=s.type;return t(a?p["smart_view_selected_"+i]:p[i])},getFujiIconKind:function e(t){switch(t){case"DOCUMENTS":return o.Kinds.DOCUMENTS_S;case"PHOTOS":return o.Kinds.TAB_IMAGES;case"TUTORIAL":return o.Kinds.CAL_MAYBE;case"MAGIC_TRIAGE":return o.Kinds.MAGIC;case"COUPONS":return o.Kinds.SCISSORS;case"TRAVEL":return o.Kinds.TRAVEL;default:return""}},handleKeyDown:function e(t){switch(t.key){case" ":case"Enter":t.stopPropagation(),this.props.onClick(t,this.props.type);break;default:return}},handleNavClick:function e(t){this.props.onClick(t,this.props.type)},handleHover:function e(t){this.props.handleHover(t)},renderLabel:function e(t){var a=this.props.type,i=this.context.intl.formatMessage(p["smart_view_"+a]),r=s.default.createElement("span",null,i);return s.default.createElement("div",{className:t.labelContainer,title:this.getTitleText()},s.default.createElement("span",{className:t.label},r))},getListId:function e(){var t=this.props,s=t.type,a=t.activeAccount,i={accountIds:[a.id]},r=(0,u.getSmartViewSearchQuery)(s,i);return(0,c.serializeListIdForRoute)((0,c.convertSearchQueryToListId)(r))},getIconColor:function e(){var t=void 0;return t="LIGHT"===this.context.getThemeMode()?this.props.isActive?o.ColorStates.NORMAL:o.ColorStates.DISABLED:this.props.isActive?o.ColorStates.INVERTED:o.ColorStates.SMARTVIEW_DARK},getIcon:function e(t,a,i,l,d,n,u){return"DOCUMENTS"===u&&this.props.showDocumentsBadge?s.default.createElement("div",{className:t.badgeContainer,"data-test-id":"hotspots-badge"},s.default.createElement(_.LazyComponent,{import:"../../feature_cue/atoms/badge",cueName:"HSDocumentsBadge",size:o.Sizes.XS,kind:o.Kinds.DOCUMENTS_S,_moduleGetter:function e(){return require("../../feature_cue/atoms/badge")}},s.default.createElement(_.When,{loading:!0},s.default.createElement("span",{className:t.smartViewIcon},s.default.createElement(r.default,{kind:i,size:l,title:d,colorState:n}))))):a?s.default.createElement("span",{className:t.smartViewIcon},s.default.createElement(r.default,{kind:i,size:l,title:d,colorState:n})):null},render:function e(){var t=this.props,a=t.type,i=t.isActive,r=this.getFujiIconKind(a),l=this.getIconColor(),u=!!r,c=!u&&i,_=this.context.getCss(d.default,{isActive:i,isActiveAndNoIcon:c,hasIcon:u}),m=this.getListId(),p=void 0,v={query:m};switch(a){case n.SmartViewTypes.TUTORIAL:p=n.RouteNames.TUTORIAL;break;case n.SmartViewTypes.COUPONS:case n.SmartViewTypes.TRAVEL:p=n.RouteNames.LIST,v={serializedListId:m};break;default:p=n.RouteNames.SEARCH}return s.default.createElement("a",{href:this.context.getUrlFromRoute({name:p,params:v}),onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),className:i?_.activeContainer:_.container,"data-test-smartview-type":a,"data-test-id":"smartview-list-item",onClick:this.handleNavClick,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-is-active":i,"data-iskeynav":!0,tabIndex:-1},this.getIcon(_,u,r,o.Sizes.XS,this.getTitleText(),l,a),this.renderLabel(_))}});exports.default=v,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/lazy_component":"./atoms/lazy_component","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/smartview":"./platform/utils/smartview","../../feature_cue/atoms/badge":"./molecules/feature_cue/atoms/badge","../styles/smart_view":215,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],206:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),i=require("../styles/smartview_list"),a=e(i),n=require("react-intl"),r=require("../constants"),o=require("../../../platform/utils/smartview"),l=require("../../../apps/mail/controller_views/smartview.jsx"),u=e(l),d=require("../../../atoms/lazy_component"),c=require("../../../atoms/popover/popover_content.jsx"),p=e(c),h=require("../../../atoms/constants/popover"),m=require("../../../platform/mail_constants"),f=require("../../../platform/utils/mail_ui_vars"),v=(0,n.defineMessages)({views_label:{id:"views_label",defaultMessage:"Views"},click_to_hide_views_title:{id:"click_to_hide_views_title",defaultMessage:"Click here to Hide the Views"},click_to_show_views_title:{id:"click_to_show_views_title",defaultMessage:"Click here to Show the Views"}}),w=s.default.createClass({displayName:"SmartviewList",contextTypes:{intl:n.intlShape.isRequired,getCss:t.PropTypes.func},getInitialState:function e(){return{expanded:!0,isHovered:!1}},expand:function e(){this.state.expanded||this.setState({expanded:!0})},collapse:function e(){this.state.expanded&&this.setState({expanded:!1})},toggleExpand:function e(){this.setState({expanded:!this.state.expanded})},handleClick:function e(t){t.stopPropagation(),t.preventDefault(),this.toggleExpand()},handleKeyDown:function e(t){switch(t.key){case" ":case"Enter":t.stopPropagation(),t.preventDefault(),this.toggleExpand();break;case"Arrowleft":t.stopPropagation(),t.preventDefault(),this.collapse();break;case"ArrowRight":t.stopPropagation(),t.preventDefault(),this.expand();break;default:return}},handleHover:function e(t){this.setState({isHoverd:t})},getTitleText:function e(){var t=this.context.intl.formatMessage;return t(this.state.expanded?v.click_to_hide_views_title:v.click_to_show_views_title)},renderLabel:function e(t){var i=this.context.intl.formatMessage,a=i(v.views_label),r=s.default.createElement("span",null,a),o=this.state.expanded;return s.default.createElement("div",{className:t.labelContainer,title:this.getTitleText()},s.default.createElement("span",{className:t.label},r),s.default.createElement("span",{"data-test-id":"toggle-smartview-list",className:t.toggleSmartViews,onClick:this.handleClick,title:this.getTitleText(),"aria-label":this.getTitleText()},o?s.default.createElement(n.FormattedMessage,{id:"hide_views_label",defaultMessage:"Hide"}):s.default.createElement(n.FormattedMessage,{id:"show_views_label",defaultMessage:"Show"})))},renderSmartviews:function e(){var t=this,i=this.props,a=i.smartViews,n=i.onSmartViewOpen,r=i.highlightSmartView;return a.map(function(e){var i=e.folder;return s.default.createElement("li",{key:i.id},s.default.createElement(u.default,{onClick:n,type:(0,o.getSmartViewType)(i),isActive:r===i.id,handleHover:t.handleHover,total:i.total,showDocumentsBadge:t.props.showDocumentsBadge,ref:i.name.toLowerCase()+"Button"}),i.name===m.SmartViewTypes.PHOTOS?t.renderPhotosCue():null,i.name===m.SmartViewTypes.DOCUMENTS?t.renderHSDocumentsCue():null)})},updateContent:function e(){this.popoverContent&&this.popoverContent.updatePosition()},updateHSContent:function e(){this.hsPopoverContent&&this.hsPopoverContent.updatePosition()},renderPhotosCue:function e(){var t=this;return this.props.showPhotosCue&&this.refs.photosButton?s.default.createElement(p.default,{popoverAnchor:this.refs.photosButton,triggerOn:h.Triggers.MOUNT,permittedArrowDirections:[h.PermittedArrowDirections.LEFT],ref:function e(s){t.popoverContent=s},zAltitude:f.ZIndices.POPOVER.HIGH},s.default.createElement(d.LazyComponent,{import:"../../scout_cue/",cueName:"photosCue",onShow:this.updateContent,close:this.refs.photosButton.props.isActive,_moduleGetter:function e(){return require("../../scout_cue/")}})):null},renderHSDocumentsCue:function e(){var t=this;return this.props.showHSDocumentsCue&&this.refs.documentsButton?s.default.createElement(p.default,{popoverAnchor:this.refs.documentsButton,triggerOn:h.Triggers.MOUNT,permittedArrowDirections:[h.PermittedArrowDirections.LEFT],ref:function e(s){t.hsPopoverContent=s},zAltitude:f.ZIndices.POPOVER.HIGH,bg:h.BackgroundKinds.GRADIENT},s.default.createElement(d.LazyComponent,{import:"../../scout_cue/",cueName:"HSDocumentsCue",onShow:this.updateHSContent,_moduleGetter:function e(){return require("../../scout_cue/")}})):null},render:function e(){var t=this.context.getCss(a.default,{indentation:r.INDENTATION_NONE});return s.default.createElement("div",null,s.default.createElement("div",{"data-iskeynav":!0,"data-test-id":"keyboard-toggle-smartview-list",onKeyDown:this.handleKeyDown,className:t.smartviewContainer},this.renderLabel(t)),this.state.expanded?s.default.createElement("ul",{className:t.smartviewList},this.renderSmartviews()):null)}});exports.default=w,module.exports=exports.default;
},{"../../../apps/mail/controller_views/smartview.jsx":68,"../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/lazy_component":"./atoms/lazy_component","../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../../platform/utils/smartview":"./platform/utils/smartview","../../scout_cue/":"./molecules/scout_cue","../constants":207,"../styles/smartview_list":216,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],207:[function(require,module,exports){
"use strict";exports.__esModule=!0;var O=exports.INDENTATION_NORMAL="INDENTATION_NORMAL",N=exports.INDENTATION_NONE="INDENTATION_NONE",I=exports.TOPFOLDER_WITH_ICON="TOPFOLDER_WITH_ICON",T=exports.TOPFOLDER_WITHOUT_ICON="TOPFOLDER_WITHOUT_ICON",_=exports.SUBFOLDER_WITH_ICON="SUBFOLDER_WITH_ICON",E=exports.SUBFOLDER_WITHOUT_ICON="SUBFOLDER_WITHOUT_ICON";
},{}],208:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var o=require("react"),r=e(o),s=require("../../platform/utils/folder"),t=require("../../platform/utils/object"),l=require("../../platform/mail_constants"),i=require("./atoms/folder_list.jsx"),n=e(i),p=require("./atoms/create_folder.jsx"),d=e(p),a=require("./atoms/folder_container.jsx"),h=e(a),u=require("./atoms/smartview_list.jsx"),c=e(u),f=require("./constants"),m=require("./styles/folder_list"),g=e(m),F=require("react-atomic-css/css"),S=e(F),w=(0,S.default)(g.default),C=r.default.createClass({displayName:"Folders",contextTypes:{executeAction:o.PropTypes.func,config:o.PropTypes.object},getSmartViews:function e(){var o=(0,s.getSmartViewsForDisplay)(),r=this.props.showCouponsView;if(!this.props.tutorial){var t=o.findIndex(function(e){return e.folder.id===l.SmartViewTypes.TUTORIAL});o.splice(t,1)}if(!this.props.magicTriage){var i=o.findIndex(function(e){return e.folder.id===l.SmartViewTypes.MAGIC_TRIAGE});o.splice(i,1)}if(!r){var n=o.findIndex(function(e){return e.folder.id===l.SmartViewTypes.COUPONS});o.splice(n,1)}if(!this.props.travelView){var p=o.findIndex(function(e){return e.folder.id===l.SmartViewTypes.TRAVEL});o.splice(p,1)}return o},render:function e(){var o,t=this.props,i=t.folders,p=t.smartViews,a=(0,s.getCustomFoldersForDisplay)(i),u=this.getSmartViews(),m=(0,s.getPrimaryFoldersAndSmartViewsForDisplay)(i,(o={},o[l.SmartViewTypes.UNREAD]=this.props.unreadCountForAccount,o));return r.default.createElement("div",{className:"folder-list "+w.scrollOuter,"data-test-id":"folder-list"},r.default.createElement(n.default,{activeAccountId:this.props.activeAccountId,folders:i,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:m,onOpen:this.props.onFolderOpen,onSmartViewOpen:this.props.onSmartViewOpen,onRename:this.props.onFolderRename,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:f.INDENTATION_NONE,showStarredCue:this.props.showStarredCue,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,selection:this.props.selection,collapsible:this.props.collapsibleSystemFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.props.handleToggleSystemFolders,selectAllOnDrop:this.props.selectAllOnDrop,allItemsCount:this.props.allItemsCount,loadingState:this.props.loadingState,reloadingBar:this.props.reloadingBar}),p?r.default.createElement("div",null,r.default.createElement("div",{className:w.listSpacer}),r.default.createElement(c.default,{smartViews:u,onSmartViewOpen:this.props.onSmartViewOpen,highlightSmartView:this.props.highlightFolderId,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showDocumentsBadge:this.props.showDocumentsBadge,showHSDocumentsCue:this.props.showHSDocumentsCue})):null,r.default.createElement("div",{className:w.listSpacer}),r.default.createElement(h.default,{showCustomFolders:this.props.showCustomFolders,onToggleCustomFolders:this.props.onToggleCustomFolders},r.default.createElement(d.default,{onCreate:this.props.onFolderCreate,indentation:f.INDENTATION_NORMAL,isScrolling:this.props.isScrolling,activeAccountId:this.props.activeAccountId,folders:i}),a.length>0?r.default.createElement(n.default,{activeAccountId:this.props.activeAccountId,folders:i,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:a,onOpen:this.props.onFolderOpen,onRename:this.props.onFolderRename,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:f.INDENTATION_NORMAL,selection:this.props.selection,selectAllOnDrop:this.props.selectAllOnDrop,allItemsCount:this.props.allItemsCount,collapsible:!1,loadingState:this.props.loadingState,reloadingBar:this.props.reloadingBar}):null))}});exports.default=C,module.exports=exports.default;
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/folder":"./platform/utils/folder","../../platform/utils/object":"./platform/utils/object","./atoms/create_folder.jsx":198,"./atoms/folder_container.jsx":200,"./atoms/folder_list.jsx":202,"./atoms/smartview_list.jsx":206,"./constants":207,"./styles/folder_list":212,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],209:[function(require,module,exports){
module.exports={className:{default:{container:"D_F ab_C H_6NIX N_fq7 C_Z1YRXYn I4_2iedUU",newFolderContainer:"D_F ab_C r_P cdPFi_Z291T0t ir3_1IO2sY it3_dRA I4_n"},"indentation-INDENTATION_NORMAL":{newFolderContainer:"P_ZmsKgw"},"themeMode-MEDIUM":{container:"C_2sqbRh",newFolderContainer:"cdPFi_2sqbRh ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_2sqbRh",newFolderContainer:"cdPFi_2sqbRh ir3_Z1FS2Mn"},"themeCombo-LIGHT_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-MEDIUM_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-DARK_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-LIGHT_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-MEDIUM_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-DARK_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-LIGHT_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-MEDIUM_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-DARK_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-LIGHT_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-MEDIUM_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-DARK_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-LIGHT_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-MEDIUM_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-DARK_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-LIGHT_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"},"themeCombo-MEDIUM_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"},"themeCombo-DARK_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"}},_key:"24Tttz"};
},{}],210:[function(require,module,exports){
module.exports={className:{default:{container:"D_F ab_C",closeButton:"en_0",inputContainer:"D_F b_0 em_N",inputSubmitContainer:"D_F em_N ab_C b_2w4l8N",input:"W_6D6F k_w H_6LEV y_ZwubDW X_eo6 b_0",okIcon:"I_ZroviD en_0 W_6LEV H_6LEV",popoverContainer:"D_F",popover:"P_eTB C_ZnTFMv W_3na5G k_w A_6Eb4"},invalidFolderName:{inputSubmitContainer:"b_Z1222NH"},validFolderName:{okIcon:"I_Z2aVTcY"},"indentation-INDENTATION_NORMAL":{container:"P_ZmsKgw"}},_key:"Z1in0Vi"};
},{}],211:[function(require,module,exports){
module.exports={className:{default:{container:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1IO2sY it3_0 I4_2iedUU",activeContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1IO2sY it3_0 I4_2iedUU n_Z1dQEKn I_2ieeaE",dragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1IO2sY it3_0 I4_2iedUU I_2iedUU",activeDragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1IO2sY it3_0 I4_2iedUU n_Z1dQEKn I_2iedUU",labelContainer:"D_F W_6D6F ab_C i_6FIA p_R",activeLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",folderLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",label:"E_6VdP G_e J_x o_h H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F cdPFi_Z1YRXYn",folderMenu:"c27KHO0_n I_T b_0 X_fq7 v_h D_F em_N gl_CH je_e8l p_a T_0 R_0",folderMenuIcon:"cdPFi_Z26U5se r_P E_fq7 cdPFi4_Z291T0t",loader:"p_a T_eo6 R_6Eb4",unreadWrapper:"p_a T_eo6 R_fq7 H_6FIA",unreadFadeIn:"ah_ZPQR1p",unreadFadeOut:"ah_Z1DNnWG",navContainer:"W_6D6F C_Z1YRXYn",activeNavContainer:"W_6D6F C_Z291T0t u_b",trashIconWrapper:"D_F em_N gl_CH cdPFi_Z26U5se r_P cdPFi4_ZkiIcp"},isActive:{labelContainer:"Q_689y",unreadWrapper:"T_eDQ"},"indentation-TOPFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-TOPFOLDER_WITHOUT_ICON":{container:"X_6LEV",activeContainer:"X_6LEV",dragoverContainer:"X_6LEV",activeDragoverContainer:"X_6LEV"},"indentation-SUBFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-SUBFOLDER_WITHOUT_ICON":{container:"X_6EGz",activeContainer:"X_6EGz",dragoverContainer:"X_6EGz",activeDragoverContainer:"X_6EGz"},showFolderMenu:{folderMenu:"v_v"},"themeMode-MEDIUM":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_2sqbRh ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_2sqbPK",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},"themeMode-DARK":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_2sqbRh ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_2sqbPK",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},"themeCombo-LIGHT_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-MEDIUM_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-DARK_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-LIGHT_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-MEDIUM_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-DARK_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-LIGHT_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-MEDIUM_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-DARK_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-LIGHT_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-MEDIUM_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-DARK_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-LIGHT_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-MEDIUM_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-DARK_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-LIGHT_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"},"themeCombo-MEDIUM_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"},"themeCombo-DARK_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"}},_key:"ZUBDFF"};
},{}],212:[function(require,module,exports){
module.exports={className:{default:{scrollOuter:"p_R k_w W_6D6F",listSpacer:"H_6Fd5"}},_key:"Z1b0Hro"};
},{}],213:[function(require,module,exports){
module.exports={className:{default:{container:"P_3Y3Gk",separator:"m_Z14vXdP M_3HLUz"}},_key:"220Q4E"};
},{}],214:[function(require,module,exports){
module.exports={className:{default:{folderTree:"hd_n P_ZmsKgw M_0",folderContainer:"H_6NIX D_F ab_C ir3_1IO2sY it3_689y",toggleFolderTree:"N_fq7 A_6DUj C_ZvsWfq r_P C4_Z1YRXYn",collapseFolders:"H_6MWH X_6DEy A_6DUj C_ZvsWfq r_P D_F ab_C C4_Z1YRXYn ir3_1IO2sY it3_dBP"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbPK C4_2sqbRh",collapseFolders:"C_2sqbPK C4_2sqbRh ir3_Z1FS2Mn"},"themeMode-DARK":{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_2sqbPK C4_2sqbRh",collapseFolders:"C_2sqbPK C4_2sqbRh ir3_Z1FS2Mn"}},_key:"Z20sDt9"};
},{}],215:[function(require,module,exports){
module.exports={className:{default:{container:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z1YRXYn ir3_1IO2sY it3_dRA I4_2iedUU",activeContainer:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z291T0t ir3_1IO2sY it3_dRA I4_2iedUU u_b n_Z1dQEKn I_2ieeaE",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"G_e J_x o_h E_6LEV H_6FIA",smartViewIcon:"c27KHO0_n I_T N_fq7 b_0 D_F em_N gl_CH",badgeContainer:"a_6NIX h_1UBaXG"},isActive:{smartViewIcon:"Q_68F4"},isActiveAndNoIcon:{labelContainer:"Q_689y"},hasIcon:{container:"X_fq7"},"themeMode-MEDIUM":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"},"themeCombo-LIGHT_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-MEDIUM_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-DARK_DEFAULT":{container:"I4_2iedUU",activeContainer:"n_Z1dQEKn I_2ieeaE I4_2iedUU",dragoverContainer:"I_2iedUU",activeDragoverContainer:"n_Z1dQEKn I_2iedUU"},"themeCombo-LIGHT_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-MEDIUM_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-DARK_SUNRISE":{container:"I4_iPGvQ",activeContainer:"n_zIfvL I_iPGKA I4_iPGvQ",dragoverContainer:"I_iPGvQ",activeDragoverContainer:"n_zIfvL I_iPGvQ"},"themeCombo-LIGHT_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-MEDIUM_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-DARK_AQUA_GREEN":{container:"I4_2sGXKL",activeContainer:"n_ZXCGpT I_2sGY0v I4_2sGXKL",dragoverContainer:"I_2sGXKL",activeDragoverContainer:"n_ZXCGpT I_2sGXKL"},"themeCombo-LIGHT_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-MEDIUM_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-DARK_AQUA_BLUE":{container:"I4_ZzKE3L",activeContainer:"n_Z1aUIMt I_ZzKDO2 I4_ZzKE3L",dragoverContainer:"I_ZzKE3L",activeDragoverContainer:"n_Z1aUIMt I_ZzKE3L"},"themeCombo-LIGHT_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-MEDIUM_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-DARK_DEEP_PURPLE":{container:"I4_Z1I2xFu",activeContainer:"n_pU8rS I_Z1I2xqK I4_Z1I2xFu",dragoverContainer:"I_Z1I2xFu",activeDragoverContainer:"n_pU8rS I_Z1I2xFu"},"themeCombo-LIGHT_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"},"themeCombo-MEDIUM_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"},"themeCombo-DARK_BLUE_NIGHT":{container:"I4_NDpE4",activeContainer:"n_Z14uK9Y I_NDpSN I4_NDpE4",dragoverContainer:"I_NDpE4",activeDragoverContainer:"n_Z14uK9Y I_NDpE4"}},_key:"SDE08"};
},{}],216:[function(require,module,exports){
module.exports={className:{default:{smartviewList:"hd_n P_0 M_0",smartviewContainer:"H_6NIX D_F ab_C ir3_1IO2sY it3_dRA",toggleSmartViews:"N_fq7 A_6DUj C_ZvsWfq r_P C4_Z1YRXYn",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"em_N G_e J_x o_h E_fq7 H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbPK C4_2sqbRh"},"themeMode-DARK":{smartviewContainer:"C_2sqbPK ir3_Z1FS2Mn",toggleSmartViews:"C_2sqbPK C4_2sqbRh"}},_key:"AMHmr"};
},{}],"./molecules/gif/actions":[function(require,module,exports){
"use strict";function e(e,t){var r=t.fromSearchBox,s=t.query,i=t.nextItemsUrl,o=void 0===i?"":i;return r||!s||o.indexOf("source="+a.BOOTCAMP_GIF_SOURCE.TENOR)>-1?"searchTenorGifs":"searchGifs"}function t(e,t){var r,s,i=e.altListId,o=e.query,u=e.preloadItems,l=void 0!==u&&u,c=a.ListFilters.WITH_KEYWORD,I=a.ListFilters.WITH_KEYWORD_RELEVANCE,f=l?I:c;return{type:n.mail.GIF_FETCH_SUCCEEDED,listId:i,response:(s={},s[a.ListContentTypes.GIFS]=(r={},r[f]=t,r),s),query:o,preloadItems:l}}function r(e,t){var r=e.altListId,s=e.query;return{type:n.mail.GIF_FETCH_FAILED,err:t,listId:r,query:s}}function s(e,t){return{type:n.mail.GIF_FETCH_REQUESTED,listId:t,query:e}}function i(i){var o=i.query,n=i.fetchMoreItems,I=i.fromSearchBox,f=void 0!==I&&I;return function(i,I,d){var E=d.bootcampClient,C=d.gifCategoriesClient;o=o.toLowerCase().trim();var y=(0,c.selectors)(I()),g=y.getCurrentListId,m=y.getListsSelectors,_=y.getGifCategoriesSelectors,L=y.getSelectedMailboxId,S=y.getFeaturesSelectors,T=m(),p=T.getItemIdsSelectors,G=T.doesListExist,F=T.getListStatus,q=T.getListNextItemsUrl,O=T.hasMoreItems,R=_(),h=R.isGifCategoryQuery,v=R.getGifCategoryTopItemsUrl,x=R.getGifCategoryTopItemsStatus,D=S().isEnabled,N=(0,u.recreateListId)(g(),{listContentType:a.ListContentTypes.GIFS,keyword:o}),A=L(),U="";if(G(N)){var H=F(N);if(H===l.RecordStates.LOADING)return;var W=p(N).getItemIds().length;if(U=q(N),!O(N)&&H===l.RecordStates.LOADED&&W)return;if(U&&!n)return}else if(!G(N)&&!f&&h(o)){var b=x(o),M=v(o);if(b===l.RecordStates.LOADING)return;if([l.RecordStates.ERROR,l.RecordStates.DOES_NOT_EXIST].indexOf(b)>-1&&M){var B=(0,u.recreateListId)(g(),{listContentType:a.ListContentTypes.GIFS,keyword:o,listFilter:a.ListFilters.WITH_KEYWORD_RELEVANCE});return i(s(o,B)),C.getGifCategoryPreloadImages(M).then(function(e){return i(t({altListId:B,query:o,preloadItems:!0},e))}).catch(function(e){return i(r({altListId:B,query:o},e))})}}return i(s(o,N)),E.request(e(D,{fromSearchBox:f,query:o,nextItemsUrl:U}),{mailboxId:A,query:o,nextItemsUrl:U}).then(function(e){return i(t({altListId:N,query:o},e))}).catch(function(e){return i(r({altListId:N,query:o},e))})}}function o(){return function(e,t,r){var s=r.gifCategoriesClient;if(!(0,(0,c.selectors)(t()).getGifCategoriesSelectors().isCategoryListLoaded)())return s.getGifCategories().then(function(t){var r=t.body.categories;e({type:n.mail.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED,categories:r})}).catch(function(t){return e({type:n.mail.GIF_CATEGORIES_CONTENT_FETCH_FAILED,err:t})})}}exports.__esModule=!0,exports.fetchGIF=i,exports.fetchGifCategories=o;var n=require("../../platform/react_action_constants"),a=require("../../platform/mail_constants"),u=require("../../platform/utils/list"),l=require("../../platform/mail_constants/index"),c=require("../../reducers_selectors");
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/mail_constants/index":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils/list":"./platform/utils/list","../../reducers_selectors":"./reducers_selectors"}],"./molecules/gif/gif_picker_connector":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return{fetchGIF:function t(r){e((0,o.fetchGIF)(r))},fetchGifCategories:function t(){e((0,o.fetchGifCategories)())}}}exports.__esModule=!0,exports.mapStateToProps=void 0,exports.mapDispatchToProps=t;var r=require("../../reducers_selectors/index"),o=require("./actions"),s=require("react-redux"),i=require("./index.jsx"),a=e(i),u=exports.mapStateToProps=function e(t){var o=(0,r.selectors)(t),s=o.getGifCategoriesSelectors,i=s(),a=i.isCategoryListLoaded,u=i.getGifCategoriesList;return{gifCategories:a()?u():[]}};exports.default=(0,s.connect)(u,t)(a.default);
},{"../../reducers_selectors/index":"./reducers_selectors","./actions":"./molecules/gif/actions","./index.jsx":"./molecules/gif","react-redux":"./node_modules/react-redux/lib/index.js"}],"./molecules/gif":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.DEBOUCE_RATE=void 0;var t=require("react"),i=e(t),r=require("../../platform/rapid_client/constants"),o=require("react-intl"),a=require("../../atoms/lazy_component"),n=require("../../atoms/fuji_icon"),s=e(n),u=require("../../atoms/button"),c=e(u),l=require("../../atoms/constants/button"),f=require("../../atoms/popover/popover_container.jsx"),h=e(f),p=require("../../atoms/popover/popover_content.jsx"),g=e(p),d=require("../../atoms/popover/popover_anchor.jsx"),C=e(d),m=require("../../atoms/constants/popover"),_=require("../../platform/rapid_client"),y=e(_),S=require("../../atoms/constants/fuji_icon"),E=(0,o.defineMessages)({gifPicker:{id:"gif.gifpicker.title",defaultMessage:"Insert animated GIFs"}}),I=exports.DEBOUCE_RATE=500,v=i.default.createClass({displayName:"GifPicker",getDefaultProps:function e(){return{onGifClick:function e(){}}},contextTypes:{executeAction:t.PropTypes.func,intl:o.intlShape.isRequired},getInitialState:function e(){return this._timer=null,this._getInitialState()},componentWillReceiveProps:function e(t){if(!this.props.gifCategories.length&&t.gifCategories.length){var i=t.gifCategories[0],r=i.searchQuery,o=i.title;this.fetchGIF({query:r}),this.setState({query:r,selectedCategory:o})}},_getDefaultCategory:function e(){var t=this.props.gifCategories;return t.length?t[0]:{}},_getInitialState:function e(){var t=this._getDefaultCategory(),i=t.searchQuery,r=void 0===i?"":i,o=t.title;return{query:r,searchBoxValue:"",selectedCategory:void 0===o?"":o,menuOpen:!1}},handleGifClick:function e(t){this.props.onGifClick(t),this.toggleMenu()},fetchGIF:function e(t){this.props.fetchGIF(t)},onCategoryClick:function e(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.fetchGIF({query:t.searchQuery,fromCategory:i,i13nModel:{mKey:r.MKEYS.GIF_CATEGORY,sec:r.SEC_VALUES.COMPOSE_TOOLBAR,interactionType:r.INTERACTION_TYPES.click}}),this.setState({query:t.searchQuery,selectedCategory:t.title,searchBoxValue:""})},toggleMenu:function e(t){var i=this;t&&(t.stopPropagation(),t.preventDefault());var o=this.state.menuOpen;o?(this._gifPopoverContainer.hide(m.Triggers.CLICK),this.setState(this._getInitialState(),function(){return i.props.focusBackEditor()})):(this.setState({menuOpen:!o}),y.default.sendI13nModel({i13nModel:{mKey:r.MKEYS.GIF_OPEN,sec:r.SEC_VALUES.COMPOSE_MSG,interactionType:r.INTERACTION_TYPES.click}}))},handleSearchChange:function e(t){clearTimeout(this._timer);var i=this._getDefaultCategory(),o=i.searchQuery,a=void 0===o?"":o,n=i.title,s=void 0===n?"":n,u=a;t?(this.setState({searchBoxValue:t,selectedCategory:""}),u=t):this.setState({searchBoxValue:"",selectedCategory:s}),this._timer=setTimeout(function(e){this.fetchGIF({query:e,fromSearchBox:!0,i13nModel:{mKey:r.MKEYS.GIF_SEARCH,sec:r.SEC_VALUES.COMPOSE_TOOLBAR,interactionType:r.INTERACTION_TYPES.keydown}}),this.setState({query:e})}.bind(this,u),I)},renderGifPopup:function e(){return i.default.createElement(g.default,{permittedArrowDirections:[m.PermittedArrowDirections.DOWN],triggerOn:m.Triggers.CLICK,customPositioning:!0,"data-test-id":"gif-pop-up",onHide:this.toggleMenu},i.default.createElement(a.LazyComponent,{import:"./atoms/gif_pop_up.jsx",fetchGIF:this.fetchGIF,fetchGifCategories:this.props.fetchGifCategories,gifCategories:this.props.gifCategories,handleGifClick:this.handleGifClick,handleSearchChange:this.handleSearchChange,left:this.props.left,onCategoryClick:this.onCategoryClick,searchBoxValue:this.state.searchBoxValue,selectedCategory:this.state.selectedCategory,query:this.state.query,toggleMenu:this.toggleMenu,width:this.props.width,_moduleGetter:function e(){return require("./atoms/gif_pop_up.jsx")}}))},render:function e(){var t=this,r=this.state.menuOpen,o=this.context.intl.formatMessage;return i.default.createElement("div",{"data-test-id":"gif-button",onClick:this.toggleMenu},i.default.createElement(h.default,{ref:function e(i){return t._gifPopoverContainer=i}},i.default.createElement(C.default,{"data-test-id":"gif-picker-anchor"},i.default.createElement(c.default,{title:o(E.gifPicker),"aria-label":o(E.gifPicker),kind:r?l.Kinds.ICON_HIGHLIGHTED:l.Kinds.ICON},i.default.createElement(s.default,{kind:S.Kinds.GIF_BOX,size:S.Sizes.XS,colorState:S.ColorStates.NORMAL}))),r?this.renderGifPopup():null))}});exports.default=v;
},{"../../atoms/button":"./atoms/button","../../atoms/constants/button":"./atoms/constants/button","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/fuji_icon":"./atoms/fuji_icon","../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../platform/rapid_client":"./platform/rapid_client","../../platform/rapid_client/constants":"./platform/rapid_client/constants","./atoms/gif_pop_up.jsx":"./molecules/gif/atoms/gif_pop_up","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],217:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),n=require("react-intl"),i=require("../../platform/assets"),s=require("../../atoms/account_menu.jsx"),o=e(s),r=require("../../types"),l=require("../../atoms/xavatar.jsx"),c=e(l),d=require("../../atoms/fuji_icon.jsx"),p=e(d),u=require("../../atoms/constants/fuji_icon"),m=require("../../platform/utils/mail_ui_vars"),f=require("../../atoms/keyboard_navigation_focus_group.jsx"),h=require("../../atoms/fuji_icon_button.jsx"),E=e(h),_=require("../../atoms/navigable_list.jsx"),A=e(_),N=require("../../atoms/constants/navigable_list"),g=require("../../atoms/popover/popover_container.jsx"),S=e(g),M=require("../../atoms/popover/popover_anchor.jsx"),v=e(M),C=require("../../atoms/popover/popover_content.jsx"),I=e(C),x=require("../../atoms/constants/popover"),L=require("../../platform/utils/"),y=require("../../platform/rapid_client/constants"),T=require("../../apps/mail/actions"),k=require("./styles/header"),b=e(k),R=require("react-atomic-css/css"),K=e(R),q=(0,n.defineMessages)({yahooMailBrandName:{id:"mail.yahoo_mail_brand_name",defaultMessage:"Yahoo Mail"},mini_apps:{id:"appheader.mini_apps",defaultMessage:"Apps"},mail_icon:{id:"appheader.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"appheader.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"appheader.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"appheader.notepad_icon",defaultMessage:"Notepad"},messenger_icon:{id:"appheader.messenger_icon_branding",defaultMessage:"Messenger"},news_feed_icon:{id:"appheader.news_feed_icon",defaultMessage:"News Feed"}}),O=a.default.createClass({displayName:"MailAppHeader",contextTypes:{config:t.PropTypes.object,executeAction:t.PropTypes.func,intl:n.intlShape.isRequired},shouldComponentUpdate:function e(t){return this.props.primaryAccountAddress!==t.primaryAccountAddress||this.props.name.first!==t.name.first||this.props.name.last!==t.name.last||this.props.partnerBrand!==t.partnerBrand||this.props.defaultRouteURL!==t.defaultRouteURL||this.props.tabsVisible!==t.tabsVisible||this.props.onNavClick!==t.onNavClick},_getAltText:function e(t,a){return""===a?t:a+" | "+t},onAccountMenuShow:function e(){this.context.executeAction(T.handleAccountMenuShow,{i13nModel:{mKey:y.MKEYS.ACCOUNT_SETTINGS,sec:y.SEC_VALUES.HEADER_SETTINGS}})},onLogout:function e(t){this.context.executeAction(T.handleLogout,{i13nModel:{mKey:y.MKEYS.SIGNOUT,sec:y.SEC_VALUES.HEADER_SETTINGS,interactionType:(0,L.getInteractionFromEvent)(t)}})},onLogoClick:function e(t){this.context.executeAction(T.handleHeaderNavigation,{i13nModel:{mKey:y.MKEYS.YMAIL_LOGO,sec:y.SEC_VALUES.HEADER,interactionType:(0,L.getInteractionFromEvent)(t)}}),"function"==typeof this.props.onNavClick&&this.props.onNavClick(t)},handleAppLinkItemClick:function e(t,a,n){this.context.executeAction(T.handleHeaderNavigation,{i13nModel:{mKey:a,sec:y.SEC_VALUES.HEADER_NAV,interactionType:(0,L.getInteractionFromEvent)(t)}}),"function"==typeof n&&n(t)},_renderAppLinkItem:function e(t,n,i){var s=t.href,o=t.kind,r=t.text,l=t.callback,c=t.isActive,d=t.mKey,m=this,f=this.context.intl.formatMessage,h=void 0;return h=c?n?u.ColorStates.NORMAL:u.ColorStates.INVERTED:n?u.ColorStates.DISABLED:u.ColorStates.INVERTED_DIM,a.default.createElement("li",{key:s,className:n?null:i.iconWrapper},a.default.createElement("a",{onClick:function e(t){return m.handleAppLinkItemClick(t,d,l)},href:s,className:n?i.mailAppsPopoverLink:i.iconNavLink,"aria-label":f(r),title:f(r),target:o,"data-iskeynav":!0,tabIndex:-1},a.default.createElement(p.default,{colorState:h,kind:o,size:u.Sizes.XS}),n?a.default.createElement("span",{className:i.mailAppsPopoverItemLabel},c?a.default.createElement("strong",null,f(r)):f(r)):null))},_renderAppLinkItems:function e(t){var a=this,n=(0,K.default)(b.default,{tabsVisible:this.props.tabsVisible});return[{href:this.props.defaultRouteURL,kind:u.Kinds.INBOX,text:q.mail_icon,callback:this.props.onNavClick,isActive:!0,mKey:y.MKEYS.MAIL_ICON},{href:"https://address.yahoo.com/",kind:u.Kinds.CONTACTS,text:q.contacts_icon,mKey:y.MKEYS.CONTACTS_ICON},{href:this.props.calendarURL,kind:u.Kinds.CALENDAR,text:q.calendar_icon,mKey:y.MKEYS.CALENDAR_ICON},{href:"https://calendar.yahoo.com/?view=notepad",kind:u.Kinds.NOTEPAD,text:q.notepad_icon,mKey:y.MKEYS.NOTEPAD_ICON},{href:"https://messenger.yahoo.com/",kind:u.Kinds.MESSENGER,text:q.messenger_icon,mKey:y.MKEYS.MESSENGER_ICON}].map(function(e){return a._renderAppLinkItem(e,t,n)})},render:function e(){var t=this.props,n=t.primaryAccountAddress,s=t.name,r=t.tabsVisible,d=this.context.intl.formatMessage,p=(0,K.default)(b.default,{tabsVisible:r});return a.default.createElement("header",{className:p.header},a.default.createElement("div",{className:p.brandSideContainer},a.default.createElement("div",{className:p.logo},a.default.createElement("a",{href:this.props.defaultRouteURL,onClick:this.onLogoClick,"aria-label":this._getAltText(d(q.yahooMailBrandName),this.props.partnerBrand),tabIndex:-1},a.default.createElement("img",{className:p.logoImage,alt:this._getAltText(d(q.yahooMailBrandName),this.props.partnerBrand),src:(0,i.getURL)("/img/logo_yahoo.png")}))),a.default.createElement("div",{className:p.mailAppsCompact},a.default.createElement(S.default,null,a.default.createElement(v.default,null,a.default.createElement(E.default,{kind:u.Kinds.APP_HIDDEN,title:d(q.mini_apps),colorState:u.ColorStates.INVERTED,tabIndex:m.TabIndices.APP_HEADER_MAIL_APPS})),a.default.createElement(I.default,{triggerOn:x.Triggers.CLICK,permittedArrowDirections:[x.PermittedArrowDirections.UP],align:x.Align.START,offset:4*m.GRID_UNIT,zAltitude:m.ZIndices.POPOVER.HIGH,"data-test-id":"mail-apps-popover"},a.default.createElement("div",{className:p.popoverListWrapper},a.default.createElement(A.default,{kind:N.Kinds.MENU,focusOnMount:!0},this._renderAppLinkItems(!0)))))),a.default.createElement(f.KeyboardNavigationFocusGroup,{axis:f.NAVIGATION_AXES.HORIZONTAL,"data-test-id":"app-header",groupTabIndex:m.TabIndices.APP_HEADER_MAIL_APPS},a.default.createElement("ul",{className:p.mailApps},this._renderAppLinkItems(!1)))),a.default.createElement("div",{className:p.searchCenterContainer},a.default.createElement("div",{className:p.searchContainer},this.props.searchComponent)),a.default.createElement("div",{className:p.accountToolsSideContainer},a.default.createElement("div",{className:p.avatar},a.default.createElement(c.default,{contact:{email:n},size:l.Sizes.M}),a.default.createElement(o.default,{primaryAccountAddress:n,name:s,onAccountMenuShow:this.onAccountMenuShow,onLogout:this.onLogout})),a.default.createElement("div",{className:p.settingsLink},this.props.settings?this.props.settingsMenuComponent:null)))}});exports.default=O,module.exports=exports.default;
},{"../../apps/mail/actions":"./apps/mail/actions","../../atoms/account_menu.jsx":90,"../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/navigable_list":"./atoms/constants/navigable_list","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../atoms/keyboard_navigation_focus_group.jsx":"./atoms/keyboard_navigation_focus_group","../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../atoms/xavatar.jsx":"./atoms/xavatar","../../platform/assets":"./platform/assets","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/":"./platform/utils","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../types":"./types","./styles/header":218,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],218:[function(require,module,exports){
module.exports={className:{default:{header:"D_F ab_C H_7He5 a_1Ie4E3 M_1EAG48 W_6D6F",brandSideContainer:"D_F ab_C em_N ej_1LWoB0",searchCenterContainer:"em_N en_0 ej_1LWoB0 s_3z5BY p_R",accountToolsSideContainer:"D_F ab_C em_N ej_1LWoB0 gl_CH",logo:"en_0 W_3o4BO H_q k_w D_F ab_C gl_C",logoImage:"H_72FG",mailApps:"D_n en_0 ab_C hd_n em_N P_0 M_Z1fegk0 c26zcWk_F",mailAppsCompact:"D_X c26zcWk_n",popoverListWrapper:"P_3Y3Gk",mailAppsPopoverLink:"P_ZlO2l1 D_F ab_C em_N q4_Znwqu5 q3_Znwqu5 ir3_1IO2sY",mailAppsPopoverItemLabel:"A_6EqO X_eo6",iconWrapper:"E_6LEV",iconNavLink:"i_0 W_6LEV H_6LEV D_X ir3_Z1HO9zT it3_eo6",avatar:"M_1Eu6qC D_F",settingsLink:"D_F E_6LEV"},tabsVisible:{header:"H_7zJd"}},_key:"2lHwfK"};
},{}],"./molecules/hover_card/actions":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){var r=e.email,l=e.isCompose;if((0,s.isValidEmail)(r)){var c=t.getStore(o.default),n=c.getContactRecordState(r);if(n!==i.RecordStates.LOADING&&n!==i.RecordStates.LOADED)return t.dispatch(a.mail.CONTACT_DETAIL_FETCH_REQUESTED,{email:r}),t.autoSuggestClient.contactDetails({email:r,isCompose:l}).then(function(e){t.dispatch(a.mail.CONTACT_DETAIL_FETCH_SUCCEEDED,e)}).catch(function(){return t.dispatch(a.mail.CONTACT_DETAIL_FETCH_FAILED,{email:r})})}}exports.__esModule=!0,exports.getContactDetails=e;var a=require("../../platform/react_action_constants"),i=require("../../platform/mail_constants"),r=require("../../stores/mail"),o=t(r),s=require("../../platform/utils");
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils":"./platform/utils","../../stores/mail":"./stores/mail"}],219:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.DELAY_FOR_CONTACT_CARD=void 0;var r=require("react"),t=e(r),s=require("../../atoms/popover/asymmetric_popover"),i=e(s),a=require("../../atoms/constants/popover"),l=require("../../platform/utils"),o=require("./styles/email_pill"),u=e(o),c=require("react-atomic-css/css"),d=e(c),n=require("../../apps/mail/controller_views/contact_card"),p=e(n),f=exports.DELAY_FOR_CONTACT_CARD=300,m=(0,d.default)(u.default),_=t.default.createClass({displayName:"EmailPill",getDefaultProps:function e(){return{isDisabled:!1}},render:function e(){var r=this.props,o=r.email,u=r.isCompose,c=r.isDisabled;return!u||(0,l.isValidEmail)(o)?t.default.createElement(i.default,{arrowSize:a.ArrowSizes.M,permittedArrowDirections:[a.PermittedArrowDirections.ANY],triggerOn:s.OnTriggers.HOVER_DELAYED,triggerDelayTime:f,triggerOff:s.OffTriggers.HOVER_OUT|s.OffTriggers.DRAG_START|s.OffTriggers.CLICK,disabled:c},t.default.createElement("span",{className:m.anchor},this.props.children),t.default.createElement(p.default,{emailAddress:o,isCompose:u,withBackground:!1})):t.default.createElement("span",{className:m.anchor},this.props.children)}});exports.default=_;
},{"../../apps/mail/controller_views/contact_card":47,"../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/popover/asymmetric_popover":"./atoms/popover/asymmetric_popover","../../platform/utils":"./platform/utils","./styles/email_pill":220,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],220:[function(require,module,exports){
module.exports={className:{default:{anchor:"D_F"}},_key:"Z1NP9TF"};
},{}],"./molecules/item_list/actions":[function(require,module,exports){
"use strict";function t(t,r){var a=r.listId;t.dispatch(s.mail.ITEM_LIST_PAGE_SCROLLED,{listId:a})}exports.__esModule=!0,exports.scrollPage=t;var s=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],"./molecules/item_list/atoms/list_error":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r=e.onRetry,l=t.getCss(i.default);return a.default.createElement("div",{"data-test-id":"message-group-list-error",className:l.errorContainer},a.default.createElement("p",null,a.default.createElement(s.FormattedMessage,{id:"folder_loading_error",defaultMessage:"An error occurred while trying to fetch the items in this list."})),a.default.createElement("a",{"data-test-id":"list-loading-error-retry",className:l.listLoadingRetry,onClick:r},a.default.createElement(s.FormattedMessage,{id:"list_loading_error_retry",defaultMessage:"Retry"})))}exports.__esModule=!0,exports.default=t;var r=require("react"),a=e(r),s=require("react-intl"),l=require("../styles/item_list"),i=e(l);t.contextTypes={getCss:r.PropTypes.func},module.exports=exports.default;
},{"../styles/item_list":"./molecules/item_list/styles/item_list","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/item_list/atoms/list_loading":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=require("react"),i=t(e),n=require("../../../atoms/loading_indicator.jsx"),a=t(n),s=require("react-atomic-css/css"),o=t(s),u=require("../styles/item_list"),r=t(u),l=(0,o.default)(r.default),d=1e3,c=i.default.createClass({displayName:"ListLoading",getInitialState:function t(){return{takesLong:!1}},componentDidMount:function t(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),d)},componentWillUnmount:function t(){clearTimeout(this.timeout)},render:function t(){return i.default.createElement("div",{className:l.loadingContainer},this.state.takesLong&&i.default.createElement(a.default,null))}});exports.default=c,module.exports=exports.default;
},{"../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../styles/item_list":"./molecules/item_list/styles/item_list","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./molecules/item_list/atoms/list_separator":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},t=require("react"),s=e(t),r=require("react-intl"),n=require("../constants"),i=require("../../../platform/utils/object"),u=require("../../../platform/invariant"),l=e(u),o=require("../styles/list_separator"),c=e(o),h=(0,r.defineMessages)({herochunk:{id:"herochunk",defaultMessage:"Top results"},timechunk_today:{id:"timechunk_today",defaultMessage:"Today"},timechunk_yesterday:{id:"timechunk_yesterday",defaultMessage:"Yesterday"},timechunk_earlier_this_week:{id:"timechunk_earlier_this_week",defaultMessage:"Earlier this week"},timechunk_this_week:{id:"timechunk_this_week",defaultMessage:"This week"},timechunk_last_week:{id:"timechunk_last_week",defaultMessage:"Last week"},timechunk_earlier_in_month:{id:"timechunk_earlier_in_month",defaultMessage:"Earlier in {message}"},timechunk_earlier_in_year:{id:"timechunk_earlier_in_year",defaultMessage:"Earlier in {message}"},timechunk_days:{id:"timechunk_days",defaultMessage:"{weekday, select,\n            0 {Sunday}\n            1 {Monday}\n            2 {Tuesday}\n            3 {Wednesday}\n            4 {Thursday}\n            5 {Friday}\n            6 {Saturday}\n        }"},timechunk_months:{id:"timechunk_months",defaultMessage:"{month, select,\n            0 {January}\n            1 {February}\n            2 {March}\n            3 {April}\n            4 {May}\n            5 {June}\n            6 {July}\n            7 {August}\n            8 {September}\n            9 {October}\n            10 {November}\n            11 {December}\n        }"}}),p=s.default.createClass({displayName:"ListSeparator",contextTypes:{intl:r.intlShape.isRequired,getCss:t.PropTypes.func},getDefaultProps:function e(){return{separatorType:n.ListSeparatorTypes.TIMECHUNK}},shouldComponentUpdate:function e(a){return this.props.separatorType!==a.separatorType||this.props.separatorData.type!==a.separatorData.type||this.props.separatorData.value!==a.separatorData.value},getTimeChunkMessage:function e(t){var i=this.props.separatorData,u=this.context.intl,l=u.formatMessage,o=u.formatDate,c=null;switch(i.type){case n.TimeChunk.Types.DAY:c=l(h.timechunk_days,{weekday:i.value});break;case n.TimeChunk.Types.MONTH:case n.TimeChunk.Types.EARLIER_IN_MONTH:c=l(h.timechunk_months,{month:i.value});break;case n.TimeChunk.Types.EARLIER_IN_YEAR:case n.TimeChunk.Types.YEAR:c=o(new Date(i.value,1,1).getTime(),{year:"numeric"})}var p=i.type?h["timechunk_"+i.type.toLowerCase()]:null,d=null;return p?d=s.default.createElement(r.FormattedMessage,a({},p,{className:t.label,values:{message:c}})):c&&(d=s.default.createElement("span",{className:t.label},c)),d},getHeroChunkMessage:function e(t){var i=this.props.separatorData;switch(i.type){case n.HeroChunk.Types.HERO_HEADER:var u=this.context.intl.formatMessage,o=u(h.herochunk,{hero:i.value}),c=h.herochunk,p=null;return c?p=s.default.createElement(r.FormattedMessage,a({},c,{className:t.label,values:{message:o}})):o&&(p=s.default.createElement("span",{className:t.label},o)),p;case n.HeroChunk.Types.HERO_DIVIDER:return s.default.createElement("div",{className:t.heroDivider});default:(0,l.default)(!1,"Unexpected hero chunk type need to expand switch")}},render:function e(){var a=this.context.getCss(c.default),t=this.props.separatorType,i=this.props.separatorEnhancement,u=i?a.enhancedContainer:a.container,l=null;switch(t){case n.ListSeparatorTypes.TIMECHUNK:l=this.getTimeChunkMessage(a);break;case n.ListSeparatorTypes.HEROCHUNK:l=this.getHeroChunkMessage(a);break;case n.ListSeparatorTypes.MAGIC_TRIAGE:l=s.default.createElement(r.FormattedMessage,{id:"magic_triage.emails_to_read",defaultMessage:"Emails to read"})}return l?s.default.createElement("div",{className:u},l):null}});exports.default=p,module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/utils/object":"./platform/utils/object","../constants":"./molecules/item_list/constants","../styles/list_separator":"./molecules/item_list/styles/list_separator","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/item_list/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.HighlightPositions=exports.TIMECHUNK_MIN_ITEMS=exports.ListSeparatorTypes=exports.MagicTriageChunk=exports.HeroChunk=exports.TimeChunk=void 0;var r=require("../../platform/mail_constants"),e=require("../../platform/utils/object"),s=exports.TimeChunk=r.TimeChunk,o=exports.HeroChunk={Types:(0,e.mirrorKeys)(["HERO_HEADER","HERO_DIVIDER"])},t=exports.MagicTriageChunk={Types:(0,e.mirrorKeys)(["MAGIC_TRIAGE"])},i=exports.ListSeparatorTypes=(0,e.mirrorKeys)(["TIMECHUNK","HEROCHUNK","MAGIC_TRIAGE"]),p=exports.TIMECHUNK_MIN_ITEMS=4,T=exports.HighlightPositions=(0,e.mirrorKeys)(["LEFT","CENTER","RIGHT","NONE"]);
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/object":"./platform/utils/object"}],"./molecules/item_list":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.AUTO_OPEN_PERIOD=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},r=require("react"),i=e(r),s=require("lodash/debounce"),a=e(s),o=require("../list_view/infinite_list_view.jsx"),n=e(o),l=require("../../types"),u=require("../../platform/utils/mail_ui_vars"),d=require("../../atoms/loading_indicator.jsx"),c=e(d),p=require("./atoms/list_separator.jsx"),m=e(p),h=require("../../atoms/flex_spacer.jsx"),g=e(h),f=require("../../atoms/svg_image.jsx"),I=e(f),T=require("./atoms/list_error.jsx"),S=e(T),_=require("./atoms/list_loading.jsx"),v=e(_),E=require("../../atoms/constants/svg_image"),x=require("react-intl"),y=require("./utils/timechunk"),L=require("../../platform/utils/list"),M=require("../../platform/mail_constants"),A=require("./actions.js"),F=require("./constants"),C=require("../../atoms/lazy_component"),b=require("../../platform/rapid_client/constants"),O=require("../../platform/utils/object"),R=require("./styles/item_list"),q=e(R),G=function e(){},P=12,N=200,D=exports.AUTO_OPEN_PERIOD=330,k=(0,x.defineMessages)({empty_list_alt:{id:"item_list.empty_list_alt",defaultMessage:"No items"}}),j=i.default.createClass({displayName:"ItemList",contextTypes:{executeAction:r.PropTypes.func,intl:x.intlShape,config:r.PropTypes.object,locale:l.LocaleShape,getCss:r.PropTypes.func},getDefaultProps:function e(){return{onSelect:G,onSelectAll:G,getCursorMoveUnit:function e(){return 1},translateCursorIndex:function e(t){return t},onScrollTopChange:G,getPropsForMask:G,items:[],height:0,isListStale:!1}},componentDidMount:function e(){this.lastPageScrollTop=0,this.debouncedScrollTop=(0,a.default)(this.onScrollTop,N)},componentWillUnmount:function e(){clearTimeout(this.cursorMoveTimer)},onLoadMore:function e(){var t=this.props,r=t.listId,i=t.items,s=t.actions,a=t.itemsToFetch,o=t.allItemsSelected;this.context.executeAction(s.loadMoreMessagesAfterScroll,{listId:r,offset:i.length,count:a,allItemsSelected:o})},organizeItemList:function e(){var t=this.props,r=t.items,i=t.listId,s=t.hasTimeChunking,a=t.hasAds,o=t.getTimeStampFromItem,n=t.dateFormattingOption,l=a&&!(0,L.isPeopleSearch)(i),u=this.context.locale.firstDay;if(this.props.magicTriageEnabled&&(0,L.getListFilterFromListId)(i)===M.ListFilters.MAGIC_TRIAGE){var d=r;return d.length>0&&!d[0].hasOwnProperty("listSeparator")&&d.unshift({listSeparator:{separatorData:{type:F.ListSeparatorTypes.MAGIC_TRIAGE,value:0},separatorType:F.ListSeparatorTypes.MAGIC_TRIAGE}}),l?[{listAd:!0}].concat(d):d}if(0===r.length||!l&&!s)return r;if(l&&!s)return[{listAd:!0}].concat(r);var c=(0,L.getSortOrderFromListId)(i),p=c===M.SortOrder.DATE_DESC;return(0,y.getOrganizedItemList)({items:r,isDescending:p,hasAds:l,getTimeStampFromItem:o,dateFormattingOption:n,firstDay:u})},translateCursorIndex:function e(t){var r=this.props,i=r.cursorIndex,s=r.hasTimeChunking,a=r.hasAds,o=r.items,n=r.listId,l=a&&!(0,L.isPeopleSearch)(n);return i<0?i:s?this.props.translateCursorIndex(t.findIndex(function(e){return e===o[i]}),t):this.props.translateCursorIndex(l?i+1:i,t)},getHeightForIndex:function e(t,r){var i=this.getItemsForIndex(t,r);return i&&i.listSeparator?u.ITEM_LIST_SEPARATOR_HEIGHT:this.props.getHeightForIndex(t,r)},getItemsForIndex:function e(t,r){return this.props.getItemsForIndex(t,r)},getIdForIndex:function e(t,r){if(r<0)return"empty";var i=t[r]||{},s=i.id,a=i.listAd,o=i.listSeparator;return a?"gemini":o?"separator_"+o.type+"_"+o.value:s||r},isSectionHeader:function e(t,r){var i=this.getItemsForIndex(t,r);return i&&i.listSeparator},renderItem:function e(r,s){var a=this.getItemsForIndex(r,s),o=a.listSeparator;if(o){var n=o.separatorData;return i.default.createElement(m.default,t({},o,{key:n.type+"-"+n.value}))}return this.props.renderItem(a,s)},renderEmptyList:function e(t){var r=this.context.intl.formatMessage;return i.default.createElement("div",{className:t.emptyListContainer,"data-test-id":"message-list-empty"},i.default.createElement(g.default,null),(0,L.getListFilterFromListId)(this.props.listId)===M.ListFilters.MAGIC_TRIAGE?i.default.createElement("div",{className:t.emptyListText,"data-test-id":"empty-triage-message"},i.default.createElement(x.FormattedMessage,{id:"efv_header_magic_triage",defaultMessage:"Great! Looks like you've already read what's important. See you tomorrow!"})):i.default.createElement("div",{className:t.emptyListText,"data-test-id":"empty-list-message"},i.default.createElement(x.FormattedMessage,{id:"message_list.empty_folder",defaultMessage:"Nothing to see here!"})),i.default.createElement("div",{className:t.emptyListImage},i.default.createElement(I.default,{kind:E.Kinds.EMPTY_FOLDER,width:160,height:160,altText:r(k.empty_list_alt)})),this.props.magicTriageEnabled&&this.props.magicTriageBarEnabled&&this.props.magicTriageUserVisits&&this.props.magicTriageTimestamp>=0&&(0,L.getListFilterFromListId)(this.props.listId)===M.ListFilters.MAGIC_TRIAGE?i.default.createElement(C.LazyComponent,{defer:!0,import:"../magic_triage_bar",magicTriageUserVisits:this.props.magicTriageUserVisits,magicTriageTimestamp:this.props.magicTriageTimestamp,_moduleGetter:function e(){return require("../magic_triage_bar")}}):null,i.default.createElement(g.default,null))},handleCursorMove:function e(r,i){var s=this,a=this.props,o=a.actions,n=a.listId,l=a.cursorIndex,u=a.currentRoute,d=this.props.getCursorMoveUnit(r),c=o.cursorNavigate,p=void 0===c?function(){}:c,m={listId:n,movement:r,unit:d,cursorIndex:l,i13nModel:Object.assign({mKey:b.MKEYS.OPEN_MSG,sec:b.SEC_VALUES.MSG_LIST_MSG,mKeyGroup:b.MKEY_GROUPS.open_msg},i)};clearTimeout(this.cursorMoveTimer),this.cursorMoveTimer=setTimeout(function(){clearTimeout(s.cursorMoveTimer),p(t({},m,{cursorId:(0,L.heroListId)(u,n)})),s.context.executeAction(o.moveCursor,m)},D)},handleShiftNavigate:function e(t){var r=this.props,i=r.actions,s=r.listId,a=r.items,o=r.cursorIndex,n=o>=0?a[o]:{},l=n.isHero;this.context.executeAction(i.selectMove,{listId:s,isHero:l,movement:t})},handleLoadingErrorRetry:function e(){this.context.executeAction(this.props.actions.retryLoading,{listId:this.props.listId})},onScrollTop:function e(t){var r=this.props,i=r.listId,s=r.itemListPageThreshold;Math.abs(t-this.lastPageScrollTop)>s&&(this.context.executeAction(A.scrollPage,{listId:i}),this.lastPageScrollTop=t)},handleScrollTopChange:function e(t){this.props.onScrollTopChange(t),this.debouncedScrollTop(t)},render:function e(){var t=this,r=this.props,s=r.hasMoreItems,a=r.state,o=r.hasTimeChunking,l=r.items,d=r.height,p=r.isListStale,m=this.context.getCss(q.default);if(a===M.RecordStates.DOES_NOT_EXIST||a===M.RecordStates.LOADING||!l.length&&p&&a!==M.RecordStates.ERROR)return i.default.createElement(v.default,null);if(a===M.RecordStates.ERROR)return i.default.createElement(S.default,{onRetry:this.handleLoadingErrorRetry});if(!l.length&&!s)return this.renderEmptyList(m);var h=this.organizeItemList();return i.default.createElement("div",{className:m.container},i.default.createElement(n.default,{onSelect:r.onSelect,onSelectAll:r.onSelectAll,onOpen:r.onOpen,onShiftNavigate:this.handleShiftNavigate,onCursorMove:this.handleCursorMove,infiniteScrollProps:{initialRenderCount:r.initialRenderCount,loadThreshold:r.loadThreshold,contentInsetTop:o?0:P,initialIndexForTab:h.findIndex(function(e){return!e.listAd&&!e.listSeparator}),size:r.getItemListSize(h),getHeightForIndex:function e(r){return t.getHeightForIndex(h,r)},getElementForIndex:function e(r){return t.renderItem(h,r)},getIdForIndex:function e(r){return t.getIdForIndex(h,r)},isSectionHeader:function e(r){return t.isSectionHeader(h,r)},cursorIndex:this.translateCursorIndex(h),groupTabIndex:u.TabIndices.MESSAGE_LIST_MAIN,hasMoreItems:s,onLoadMore:this.onLoadMore,onScroll:this.props.onScroll,onScrollTopChange:this.handleScrollTopChange,LoadMoreClass:i.default.createElement("div",{className:r.loadMoreContainer},i.default.createElement(c.default,null)),layoutKey:this.props.layoutKey+d,bufferSize:this.props.bufferSize,showFbBotTakeover:this.props.showFbBotTakeover,fbBotTakeoverDayOne:this.props.fbBotTakeoverDayOne,magicTriageEnabled:this.props.magicTriageEnabled,magicTriageBarEnabled:this.props.magicTriageBarEnabled,magicTriageUserVisits:this.props.magicTriageUserVisits,magicTriageTimestamp:this.props.magicTriageTimestamp,loadingState:this.props.loadingState,reloadingBar:this.props.reloadingBar,hasAds:this.props.hasAds}}),this.props.magicTriageEnabled&&(0,L.getListFilterFromListId)(this.props.listId)===M.ListFilters.MAGIC_TRIAGE&&this.props.showFbBotTakeover&&i.default.createElement(C.LazyComponent,{import:"../scout_cue",cueName:"fbBotTakeover",takeoverDayOne:this.props.fbBotTakeoverDayOne,_moduleGetter:function e(){return require("../scout_cue")}}))}});exports.default=j;
},{"../../atoms/constants/svg_image":"./atoms/constants/svg_image","../../atoms/flex_spacer.jsx":"./atoms/flex_spacer","../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../atoms/svg_image.jsx":"./atoms/svg_image","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/list":"./platform/utils/list","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../../types":"./types","../list_view/infinite_list_view.jsx":"./molecules/list_view/infinite_list_view","../magic_triage_bar":"./molecules/magic_triage_bar","../scout_cue":"./molecules/scout_cue","./actions.js":"./molecules/item_list/actions","./atoms/list_error.jsx":"./molecules/item_list/atoms/list_error","./atoms/list_loading.jsx":"./molecules/item_list/atoms/list_loading","./atoms/list_separator.jsx":"./molecules/item_list/atoms/list_separator","./constants":"./molecules/item_list/constants","./styles/item_list":"./molecules/item_list/styles/item_list","./utils/timechunk":"./molecules/item_list/utils/timechunk","lodash/debounce":"./node_modules/lodash/debounce.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/item_list/styles/item_list":[function(require,module,exports){
module.exports={className:{default:{loadMoreContainer:"H_sL D_F ab_C gl_C",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C",loadingContainer:"je_74JI W_6D6F",errorContainer:"je_74JI W_6D6F t_C A_6FsP",listLoadingRetry:"S_U r_P",container:"W_6D6F H_6D6F"},"themeMode-DARK":{emptyListText:"C_52qC",errorContainer:"C_52qC",listLoadingRetry:"C_52qC"}},_key:"2oqXYm"};
},{}],"./molecules/item_list/styles/list_separator":[function(require,module,exports){
module.exports={className:{default:{container:"H_6UbO i_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b",enhancedContainer:"I34_2spJWC D34_F dq34_hP p34_a H34_eo6 W34_6D6F T34_68F4 L34_0 H_6UbO i_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b",label:"",heroDivider:"H_eo6 W_6D6F I_2spJWC"},"themeMode-DARK":{container:"I_T C_52qC",enhancedContainer:"I34_ajOPR D34_F dq34_hP p34_a H34_eo6 W34_6D6F T34_68F4 L34_0 I_T C_52qC",heroDivider:"I_ajOPR"}},_key:"Z1Hvrsy"};
},{}],"./molecules/item_list/utils/highlight":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){var i=-1;if(e&&t){var n=t.indexOf("^_");n!==-1&&(i=n/t.length)}return i>.66?u.HighlightPositions.RIGHT:i>.33?u.HighlightPositions.CENTER:i>=0?u.HighlightPositions.LEFT:u.HighlightPositions.NONE}function i(t){return t.split(/(\^_[^^]*?\^_)/g)}function n(t,e){return i(t).map(function(t){return 0===t.indexOf("^_")?s.default.createElement("span",{key:t,className:e,"data-test-id":"highlight"},t.replace(g,"")):t})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments[1],i=arguments[2];return t&&e?n(t,i):t}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?i(t).map(function(t){return 0===t.indexOf("^_")?t.replace(g,""):t}).join(""):t}exports.__esModule=!0,exports.getHighlightPosition=e,exports.getHighlightedBlocks=r,exports.removeHighlightDelimiters=o;var l=require("react"),s=t(l),u=require("../constants"),g=/^\^_+|\^_+$/g;
},{"../constants":"./molecules/item_list/constants","react":"./node_modules/react/react.js"}],"./molecules/item_list/utils/timechunk":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){for(var t=new Array(e);e--;)t[e]=0;return t}function r(e){var r=e.items,n=e.isDescending,i=e.getTimeStampFromItem,a=e.dateFormattingOption,s=void 0===a?{offset:0}:a,o=e.firstDay,T=(0,p.getStartOfToday)(s),y=(0,p.timeShiftToUTC)(T,s),h=y.getUTCDay(),E=(h-o+7)%7,C=T-E*m,f=t(E+1);return(n?r:r.slice().reverse()).some(function(e){var t=i(e);return!(t>=C)||void f[(u(t,s,o).value-o+7)%7]++}),f}function n(e){var t=e.items,n=e.isDescending,p=e.hasAds,T=e.getTimeStampFromItem,m=e.dateFormattingOption,h=void 0===m?{offset:0}:m,E=e.firstDay,C=[],f=r({items:t,isDescending:n,getTimeStampFromItem:T,dateFormattingOption:h,firstDay:E}),l=a(f),v={type:null};return t.forEach(function(e){var t=T(e),r=void 0;e.isHero?(r=i(),(0,y.default)(!v.type||v.type===o.HeroChunk.Types.HERO_DIVIDER||v.type===o.HeroChunk.Types.HERO_HEADER,"expect hero chunks all first")):r=s(u(t,h,E,v),l,E),v.type===r.type&&v.value===r.value||(C.push({listSeparator:{separatorType:e.isHero?o.ListSeparatorTypes.HEROCHUNK:o.ListSeparatorTypes.TIMECHUNK,separatorData:r,separatorEnhancement:v.type===o.HeroChunk.Types.HERO_HEADER&&r.type!==o.HeroChunk.Types.HERO_HEADER}}),null===v.type&&p&&C.push({listAd:!0})),C.push(e),v=r}),C}function i(e){return{type:e?o.HeroChunk.Types.HERO_DIVIDER:o.HeroChunk.Types.HERO_HEADER,value:0}}function u(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(0,p.getStartOfToday)(t),u=(0,p.timeShiftToUTC)(i,t),a=u.getUTCMonth(),s=u.getUTCFullYear(),T=u.getUTCDay(),y=(0,p.timeShiftToUTC)(e,t),h=y.getUTCFullYear(),E=y.getUTCMonth(),C=y.getUTCDay(),f=(T-r+7)%7,l=u.getTime()-f*m,v=l-6048e5;return y.getTime()>=l?{type:o.TimeChunk.Types.DAY,value:C,month:E}:y.getTime()>v?{type:o.TimeChunk.Types.LAST_WEEK,month:E}:h===s?n.month===E||n.type===o.TimeChunk.Types.EARLIER_IN_MONTH&&n.value===E?{type:o.TimeChunk.Types.EARLIER_IN_MONTH,value:E}:a-E<6?{type:o.TimeChunk.Types.MONTH,value:E}:{type:o.TimeChunk.Types.EARLIER_IN_YEAR,value:h}:{type:o.TimeChunk.Types.YEAR,value:h}}function a(e){var t=e.length-1,r=e.map(function(e,r){switch(r){case t:return o.TimeChunk.Types.TODAY;case t-1:return o.TimeChunk.Types.YESTERDAY;default:return o.TimeChunk.Types.DAY}}),n=0,i=-1,u=-1;e.forEach(function(e,r){e>0&&(t!==r&&e<4&&n>0&&(i=r),u=r,n+=e)});for(var a=i===u?o.TimeChunk.Types.THIS_WEEK:o.TimeChunk.Types.EARLIER_THIS_WEEK,s=0;s<=i;s++)r[s]=a;return r}function s(e,t,r){var n=e.type,i=e.value;if(n===o.TimeChunk.Types.DAY){var u=(i-r+7)%7;return t[u]!==o.TimeChunk.Types.DAY?{type:t[u],value:-1}:{type:t[u],value:i}}return e}exports.__esModule=!0,exports.getCurrentWeekItemCount=r,exports.getOrganizedItemList=n,exports.getHeroChunk=i,exports.getBasicTimeChunk=u,exports.createCurrentWeekMap=a,exports.getSpecificTimeChunk=s;var o=require("../constants"),p=require("../../../platform/utils/date"),T=require("../../../platform/invariant"),y=e(T),m=864e5;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/utils/date":"./platform/utils/date","../constants":"./molecules/item_list/constants"}],"./molecules/keyboard_shortcut_manager/actions":[function(require,module,exports){
"use strict";function t(t,i){t.dispatch(c.mail.KEY_DID_BIND,i)}function i(t,i){t.dispatch(c.mail.KEY_DID_UPDATE,i)}function o(t,i){t.dispatch(c.mail.KEY_DID_UNBIND,i)}exports.__esModule=!0,exports.bindShortcut=t,exports.bindShortcutUpdate=i,exports.unbindShortcut=o;var c=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],221:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),s=require("react-intl"),a=require("../../../atoms/modal.jsx"),i=e(a),n=require("./search_input.jsx"),o=e(n),l=require("../keyboard_shortcut_group.jsx"),u=e(l),h=require("./cheatsheet_header.jsx"),c=e(h),d=require("./key_section.jsx"),f=e(d),p=require("../../../platform/keyboard_shortcuts"),m=require("../../../platform/utils/object"),y=require("../../../platform/xobni_client/trie"),g=e(y),v=require("../styles/cheatsheet"),w=e(v),C=require("react-atomic-css/css"),S=e(C),x="SHIFT+/",D=(0,s.defineMessages)({filterPlaceholder:{id:"shortcut.filter",defaultMessage:"Search shortcuts, e.g. open an email"}}),q=(0,p.createShortcutGroup)({invisible:!0,keys:{showCheatsheet:{key:x}}}),k=r.default.createClass({displayName:"Cheatsheet",contextTypes:{intl:s.intlShape,os:t.PropTypes.string.isRequired},getInitialState:function e(){return{shown:!1,filterQuery:"",coldStart:!0}},componentWillMount:function e(){this.descriptionDb=new g.default},componentDidUpdate:function e(t,r){var s=this.state,a=s.shown,i=s.coldStart;r.shown===a||i||this.setState({coldStart:!1})},toggleCheatsheet:function e(t){var r=this;t.preventDefault(),t.stopPropagation(),this.setState({shown:!this.state.shown,filterQuery:""},function(){r.state.shown&&r.refs.search.focus()})},handleDismiss:function e(){this.setState({shown:!1,filterQuery:""})},handleModalKeyDown:function e(t){t.shiftKey&&191===t.which&&this.handleDismiss()},setDictionary:function e(t,r){this.state.coldStart&&this.descriptionDb.insert(t.toLowerCase(),r)},handleFilterChange:function e(t){var r=t.target.value.trim();r!==this.state.filterQuery&&this.setState({filterQuery:r})},render:function e(){var t=this,s=this.context.intl.formatMessage,a=this.props.allKeys,n=this.state,l=n.shown,h=n.filterQuery,d=(0,S.default)(w.default),p=[];if(h){var y=this.descriptionDb.find(h.toLowerCase());p=(0,m.values)(a).map(function(e){return{group:e.group,keys:e.keys.filter(function(e){var t=e.id;return y.indexOf(t)>=0})}}).filter(function(e){return e.keys.length})}else p=(0,m.values)(a);return p=p.sort(function(e,t){var r=e.group,s=t.group;return r.priority-s.priority}),r.default.createElement(u.default,{keys:[q.showCheatsheet(this.toggleCheatsheet)]},l?r.default.createElement(i.default,{onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown},r.default.createElement("div",{className:d.container},r.default.createElement("div",{className:d.header},r.default.createElement(c.default,{onClose:this.handleDismiss})),r.default.createElement("section",{className:d.cheatContent},r.default.createElement("div",{className:d.filterSection},r.default.createElement(o.default,{ref:"search",onChange:this.handleFilterChange,placeholder:s(D.filterPlaceholder)})),r.default.createElement("div",{className:d.keysetContainer},p.map(function(e){return r.default.createElement(f.default,{key:e.group.id,keyGroup:e,searching:!!h,setSearchableText:t.setDictionary})}))))):null)}});exports.default=k,module.exports=exports.default;
},{"../../../atoms/modal.jsx":"./atoms/modal","../../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../../platform/utils/object":"./platform/utils/object","../../../platform/xobni_client/trie":393,"../keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","../styles/cheatsheet":228,"./cheatsheet_header.jsx":222,"./key_section.jsx":223,"./search_input.jsx":225,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],222:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var a=e.onClose,r=t.intl.formatMessage;return s.default.createElement("header",{className:f.header},s.default.createElement("div",{className:f.text},s.default.createElement("div",{className:f.heading},s.default.createElement(l.FormattedMessage,{id:"shortcuts.header",defaultMessage:"Keyboard Shortcuts"})),s.default.createElement("div",{className:f.subheading},s.default.createElement(l.FormattedMessage,{id:"shortcuts.open_close",defaultMessage:"Press '?' to open this window"}))),s.default.createElement("div",null,s.default.createElement("div",null,s.default.createElement(d.default,{onClick:a,kind:o.Kinds.CLOSE,size:o.Sizes.XS,colorState:o.ColorStates.INVERTED,title:r(m.close)}))))}exports.__esModule=!0,exports.default=t;var a=require("react"),s=e(a),l=require("react-intl"),r=require("../../../atoms/fuji_icon_button.jsx"),d=e(r),o=require("../../../atoms/constants/fuji_icon"),u=require("../styles/cheatsheet_header"),c=e(u),i=require("react-atomic-css/css"),n=e(i),f=(0,n.default)(c.default),m=(0,l.defineMessages)({close:{id:"shortcut.close",defaultMessage:"Close the keyboard shortcut cheatsheet"}});t.contextTypes={intl:l.intlShape},module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../styles/cheatsheet_header":229,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],223:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,a){return 0===a.length?null:s.default.createElement("li",{className:e.column,"data-test-id":"shortcut-group-column"},s.default.createElement("ul",{className:e.listView},a.map(function(e){return s.default.createElement(d.default,{key:e.id,shortcutKey:e,setSearchableText:t})})))}function a(e,a){var r=e.keyGroup,l=r.group,u=r.keys,n=e.searching,o=e.setSearchableText,d=(0,c.default)(i.default,{searching:n}),m=a.intl.formatMessage,f=Math.ceil(u.length/2);return s.default.createElement("div",{key:l.id,className:d.sectionContainer},s.default.createElement("div",{className:d.sectionHeading},m(l.description)),s.default.createElement("ul",{className:d.twoColumnList},t(d,o,u.slice(0,f)),t(d,o,u.slice(f))))}exports.__esModule=!0,exports.default=a;var r=require("react"),s=e(r),l=require("react-intl"),u=require("../styles/key_section"),i=e(u),n=require("react-atomic-css/css"),c=e(n),o=require("./key_set.jsx"),d=e(o);a.contextTypes={intl:l.intlShape,os:r.PropTypes.string.isRequired},module.exports=exports.default;
},{"../styles/key_section":230,"./key_set.jsx":224,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],224:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var l=e.shortcutKey,n=e.setSearchableText,s=l.id,i=l.description,u=l.key,p=t.intl.formatMessage,d=i;if(i.type===o.FormattedMessage)d=a.default.cloneElement(i,null,function(){return n(Array.prototype.slice.call(arguments).map(r.bind(null,p)).join(""),s),a.default.createElement.apply(a.default,["span",null].concat(Array.prototype.slice.call(arguments)))});else if(a.default.isValidElement(i)){var f=r(p,i);n(f,s)}else{var y=p(i);d=y,n(y,s)}return a.default.createElement("li",{className:m.keyRow},a.default.createElement("span",{className:m.description},d),a.default.createElement(c.default,{shortcutString:u}))}function r(e,t){return a.default.isValidElement(t)?t.type!==o.FormattedMessage?a.default.Children.map(t.props.children,function(t){return r(e,t)}).join(""):((0,i.default)(0===Object.keys(t.props.values).length,"Cheatsheet translation extraction\n            does not support deeply nested rich text translation.\n            Please make it only two levels deep at maximum."),e(t.props)):"object"===("undefined"==typeof t?"undefined":l(t))?e(t):t}exports.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.default=t;var n=require("react"),a=e(n),o=require("react-intl"),s=require("../../../platform/invariant"),i=e(s),u=require("./shortcut_key.jsx"),c=e(u),p=require("../styles/key_set"),d=e(p),f=require("react-atomic-css/css"),y=e(f),m=(0,y.default)(d.default);t.contextTypes={intl:o.intlShape,os:n.PropTypes.string.isRequired},module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant","../styles/key_set":231,"./shortcut_key.jsx":226,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],225:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},r=require("react"),a=e(r),s=require("react-atomic-css/css"),n=e(s),u=require("../styles/search_input"),i=e(u),c=require("../../../atoms/fuji_icon.jsx"),l=e(c),o=require("../../../atoms/constants/fuji_icon"),f=(0,n.default)(i.default),d=a.default.createClass({displayName:"SearchInput",focus:function e(){this.refs.input.focus()},render:function e(){var r=this.props;return a.default.createElement("div",{className:f.searchContainer},a.default.createElement("input",t({},r,{ref:"input",className:f.input,type:"text"})),a.default.createElement("span",{className:f.magnifying},a.default.createElement(l.default,{kind:o.Kinds.SEARCH,size:o.Sizes.XXS})))}});exports.default=d,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../styles/search_input":232,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],226:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var a=e.shortcutString,s=t.intl.formatMessage,l={},o=t.os;return a.split(n.MULTI_KEY_DELIMITER).forEach(function(e){var t=e.trim();if(m[t])return void(l[m[t]]=[]);if(!(o===i.OSKeys.MAC&&t.toLowerCase().indexOf("ctrl")!==-1||o!==i.OSKeys.MAC&&t.toLowerCase().indexOf("meta")!==-1)){var a=t.split(n.COMBINATION_DELIMITER),r=1===a.length?a:a.slice(0,-1),s=r.map(function(e){return p[e]||e.toLowerCase()}).join(" "+n.COMBINATION_DELIMITER+" ");l[s]||(l[s]=[]),a.length>1&&a.slice(-1).forEach(function(e){l[s].push(p[e]||e.toLowerCase())})}}),r.default.createElement("span",{className:f.keyGroups,"data-test-id":"cheat-key"},Object.keys(l).map(function(e,t){var a=l[e];return r.default.createElement("span",{key:t,className:f.keyGroup},t>0&&r.default.createElement("span",{className:f.delimit},s(d.or)),r.default.createElement("span",{className:f.key},e),a.length>0&&r.default.createElement("span",{className:f.delimit},n.COMBINATION_DELIMITER),a.length>0&&r.default.createElement("span",{className:f.vertical},a.map(function(e,a){var s=[f.key,a>0?f.marginTop:""].join(" ");return r.default.createElement("span",{key:t+"-"+a,className:s},e)})))}))}exports.__esModule=!0,exports.default=t;var a=require("react"),r=e(a),s=require("react-intl"),n=require("../../../platform/keyboard_shortcuts/constants"),l=require("../styles/shortcut_key"),o=e(l),i=require("../../../platform/mail_constants"),c=require("react-atomic-css/css"),u=e(c),f=(0,u.default)(o.default),m={"SHIFT+/":"?"},p={META:"⌘ Command",SHIFT:"⇧ Shift",BACKSPACE:"⌫ Backspace",SPACE:"⎵ Space",DEL:"⌦ Del",ENTER:"⏎ Enter",UP:"↑ Up",DOWN:"↓ Down",LEFT:"← Left",RIGHT:"→ Right",PERIOD:".",COMMA:","},d=(0,s.defineMessages)({or:{id:"shortcut.or",defaultMessage:"or"}});t.contextTypes={intl:s.intlShape,os:a.PropTypes.string.isRequired},module.exports=exports.default;
},{"../../../platform/keyboard_shortcuts/constants":"./platform/keyboard_shortcuts/constants","../../../platform/mail_constants":"./platform/mail_constants","../styles/shortcut_key":233,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),o=e(t),n=require("../../platform/utils/object"),r=require("./actions"),u=o.default.createClass({displayName:"KeyboardShortcutGroup",contextTypes:{executeAction:o.default.PropTypes.func},componentDidMount:function e(){this.context.executeAction(r.bindShortcut,{keys:this.props.keys})},componentWillReceiveProps:function e(t){var o=this.props.keys,u=t.keys,c=Object.create(null);o.forEach(function(e){c[e.id]=e});var i=[];u.forEach(function(e){e.id in c?delete c[e.id]:i.push(e)});var s=(0,n.values)(c);(s.length||i.length)&&this.context.executeAction(r.bindShortcutUpdate,{oldKeys:s,newKeys:i})},componentWillUnmount:function e(){this.context.executeAction(r.unbindShortcut,{keys:this.props.keys})},render:function e(){return this.props.children||null}});exports.default=u,module.exports=exports.default;
},{"../../platform/utils/object":"./platform/utils/object","./actions":"./molecules/keyboard_shortcut_manager/actions","react":"./node_modules/react/react.js"}],227:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return{keyBindings:e.getStore(i.default).getKeyboardShortcuts()}}exports.__esModule=!0,exports._KeyboardShortcutManager=void 0,exports.getStateFromStores=t;var r=require("react"),o=e(r),n=require("fluxible-addons-react"),s=require("../../stores/keyboard_shortcuts"),i=e(s),a=require("../../platform/keyboard_shortcuts"),u=require("./atoms/cheatsheet.jsx"),l=e(u),c=require("./utils/utils.js"),d=["altKey","ctrlKey","metaKey","shiftKey"],h={191:"/",27:"ESC",32:"SPACE",8:"BACKSPACE",13:"ENTER",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",46:"DEL",188:"COMMA",190:"PERIOD"},y=o.default.createClass({displayName:"_KeyboardShortcutManager",componentWillMount:function e(){this.allShortcuts=(0,a.__dangerouslyGetManifest)()},componentDidMount:function e(){window.addEventListener("keydown",this.onKeyDown)},componentWillUnmount:function e(){window.removeEventListener("keydown",this.onKeyDown)},onKeyDown:function e(t){if(!(0,c.shouldIgnoreKeyDown)(t)){var r=h[t.which]||String.fromCharCode(t.which).toUpperCase(),o=this.props.keyBindings[r];o&&o.some(function(e){if(d.every(function(r){return e[r]===t[r]}))return e.callback(t),!0})}},render:function e(){return this.props.disableCheatsheet?null:o.default.createElement(l.default,{allKeys:this.allShortcuts,activeKeys:this.props.keyBindings})}});exports._KeyboardShortcutManager=y;var f=(0,n.connectToStores)(y,[i.default],t);exports.default=f;
},{"../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../stores/keyboard_shortcuts":401,"./atoms/cheatsheet.jsx":221,"./utils/utils.js":234,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js"}],228:[function(require,module,exports){
module.exports={className:{default:{container:"s_3Lic3 H_HMYSt k_w I_52qC D_F ek_BB ab_FT",cheatContent:"P_1EutVf U_72FG D_F ek_BB en_N ej_0 em_N",keysetContainer:"iz_A W_6D6F em_N ej_0",header:"en_0",filterSection:"en_0"}},_key:"ZIdXmv"};
},{}],229:[function(require,module,exports){
module.exports={className:{default:{header:"D_F ab_C W_6D6F k_w C_52qC aw_Z1Skzn2 P_nzg7u",text:"em_N D_F ek_BB ab_CI",heading:"A_6FsP u_b U_fq7",subheading:"A_6Eb4"}},_key:"Z1N2Pju"};
},{}],230:[function(require,module,exports){
module.exports={className:{default:{twoColumnList:"D_F ha_n P_0 gl_FM eo_HB o_h M_1A1TYO",column:"em_N en_N s_3rRhf",spacer:"ej_6LEV en_0",sectionContainer:"U_6TFj",sectionHeading:"A_6EWk C_Z291T0t U_6Fd5",listView:"hd_n X_0"},searching:{twoColumnList:"ek_BB"}},_key:"1UraCA"};
},{}],231:[function(require,module,exports){
module.exports={className:{default:{keyRow:"D_F ab_C M_3Y3Gk em_N",description:"A_6Eb4 C_Z291T0t E_fq7"}},_key:"Z1SW0Db"};
},{}],232:[function(require,module,exports){
module.exports={className:{default:{searchContainer:"H_6UbO M_1JP1a2 p_R",input:"W_6D6F H_6D6F k_w li_6UbO y_ZwubDW",magnifying:"p_a L_0 T_0 cZW7ROP_n H_6D6F D_F ab_C P_3gJOe"}},_key:"ZvSFFR"};
},{}],233:[function(require,module,exports){
module.exports={className:{default:{delimit:"M_3gJOe A_6DUj",keyGroups:"D_F",keyGroup:"D_F ab_C",vertical:"D_F ek_BB ab_CI",key:"A_6DUj i_6DUj I_ZnkeaL j_19EkMo y_2tAGiz H_6FIA P_3gJOe k_w e_dRA J_x D_F ab_C",marginTop:"Y_fq7"}},_key:"Z2kJbF9"};
},{}],234:[function(require,module,exports){
"use strict";function e(e){return(!!t[e.target.nodeName]||"true"===e.target.contentEditable)&&27!==e.keyCode}exports.__esModule=!0,exports.shouldIgnoreKeyDown=e;var t={INPUT:!0,TEXTAREA:!0};
},{}],"./molecules/link_enhancer/actions":[function(require,module,exports){
"use strict";function n(n,i){n.dispatch(_.mail.LINK_ENHANCER_ADD_LINK,i)}function i(n,i){n.dispatch(_.mail.LINK_ENHANCER_RESIZE_LINK,i)}function e(n,i){n.dispatch(_.mail.LINK_ENHANCER_REMOVE_LINK,i)}function t(n,i){n.dispatch(_.mail.LINK_ENHANCER_OPEN_LINK,i)}function N(n,i){n.dispatch(_.mail.LINK_ENHANCER_SHARE_LINK,i)}function E(n,i){n.dispatch(_.mail.LINK_ENHANCER_MOVE_LINK_BOTTOM,i)}function a(n,i){n.dispatch(_.mail.LINK_ENHANCER_MOVE_LINK_INLINE,i)}exports.__esModule=!0,exports.linkEnhancerlinkAdded=n,exports.linkEnhancerlinkResized=i,exports.linkEnhancerlinkRemoved=e,exports.linkEnhancerlinkOpen=t,exports.linkEnhancerlinkShare=N,exports.linkEnhancerlinkMoveToBottom=E,exports.linkEnhancerlinkMoveToInline=a;var _=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],"./molecules/list_view/infinite_list_view":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},s=require("react"),r=e(s),o=require("../keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),a=e(o),n=require("../../platform/keyboard_shortcuts"),l=require("react-intl"),i=require("../../platform/utils"),u=require("../../platform/rapid_client/constants"),c=require("../../platform/mail_constants"),d=require("../../platform/keyboard_shortcut_groups"),p=require("../../atoms/infinite_scroll.jsx"),f=e(p),m=require("../../platform/utils/object"),g=function e(){},h=(0,n.createShortcutGroup)({invisible:!0,keys:{scrollTop:{key:"META+UP"},scrollBottom:{key:"META+DOWN"},cursorUp:{key:"UP,COMMA"},cursorDown:{key:"DOWN,PERIOD"}}}),v=(0,n.createShortcutGroup)({group:d.Selection,keys:{select:{key:"SPACE",description:r.default.createElement(l.FormattedMessage,{id:"shortcut.select",defaultMessage:"{one} email",values:{one:r.default.createElement("strong",null,r.default.createElement(l.FormattedMessage,{id:"shortcut.select_strong_one",defaultMessage:"One"}))}})},selectAll:{key:"META+A,CTRL+A",description:r.default.createElement(l.FormattedMessage,{id:"shortcut.select_all",defaultMessage:"{allEmails} in view",values:{allEmails:r.default.createElement("strong",null,r.default.createElement(l.FormattedMessage,{id:"shortcut.select_all_strong_mails",defaultMessage:"All emails"}))}})},selectUp:{key:"SHIFT+UP",description:r.default.createElement(l.FormattedMessage,{id:"shortcut.consecutive_select",defaultMessage:"{consecutive} emails",values:{consecutive:r.default.createElement("strong",null,r.default.createElement(l.FormattedMessage,{id:"shortcut.consecutive_select_strong",defaultMessage:"Consecutive"}))}})},selectDown:{key:"SHIFT+DOWN",description:r.default.createElement(l.FormattedMessage,{id:"shortcut.consecutive_select",defaultMessage:"{consecutive} emails",values:{consecutive:r.default.createElement("strong",null,r.default.createElement(l.FormattedMessage,{id:"shortcut.consecutive_select_strong",defaultMessage:"Consecutive"}))}})}}}),_=(0,n.createShortcutGroup)({group:d.General,keys:{open:{key:"ENTER",description:r.default.createElement(l.FormattedMessage,{id:"shortcut.open",defaultMessage:"{open} an email",values:{open:r.default.createElement("strong",null,r.default.createElement(l.FormattedMessage,{id:"shortcut.open_strong",defaultMessage:"Open"}))}})}}}),M=r.default.createClass({displayName:"InfiniteListView",getDefaultProps:function e(){return{onSelect:g}},_onOpen:function e(t){this.props.onOpen(t)},_onSelect:function e(t){t.preventDefault(),this.props.onSelect()},_onSelectAll:function e(t){t.preventDefault(),this.props.onSelectAll()},_onNavigate:function e(t,s){s.preventDefault(),this.props.onCursorMove(t,{interactionType:(0,i.getInteractionFromEvent)(s)})},_onShiftNavigate:function e(t,s){s.preventDefault(),this.props.onShiftNavigate(t)},_selectFirstItem:function e(){this.props.onCursorMove(c.CursorMovement.DOWN,{interactionType:u.INTERACTION_TYPES.nav})},render:function e(){var s=this.props.infiniteScrollProps;return r.default.createElement(a.default,{keys:[h.scrollTop(this._onNavigate.bind(this,c.CursorMovement.FIRST)),h.scrollBottom(this._onNavigate.bind(this,c.CursorMovement.LAST)),h.cursorUp(this._onNavigate.bind(this,c.CursorMovement.UP)),h.cursorDown(this._onNavigate.bind(this,c.CursorMovement.DOWN)),v.selectUp(this._onShiftNavigate.bind(this,c.CursorMovement.UP)),v.selectDown(this._onShiftNavigate.bind(this,c.CursorMovement.DOWN)),v.select(this._onSelect),v.selectAll(this._onSelectAll),_.open(this._onOpen)]},r.default.createElement(f.default,t({},s,{selectFirstItem:this._selectFirstItem})))}});exports.default=M,module.exports=exports.default;
},{"../../atoms/infinite_scroll.jsx":"./atoms/infinite_scroll","../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils":"./platform/utils","../../platform/utils/object":"./platform/utils/object","../keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/magic_triage_bar/actions":[function(require,module,exports){
"use strict";function i(i){i.dispatch(t.mail.MAGIC_TRIAGE_BAR_DISPLAYED)}function a(i){i.dispatch(t.mail.MAGIC_TRIAGE_BAR_INTERACTION)}function e(i){i.dispatch(t.mail.MAGIC_TRIAGE_BAR_INTERACTION)}exports.__esModule=!0,exports.magicTriageBarDisplayed=i,exports.magicTriageCellHovered=a,exports.magicTriageCellClicked=e;var t=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],"./molecules/magic_triage_bar":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),r=require("react-intl"),i=require("./styles/magic_triage_bar"),s=e(i),n=require("react-atomic-css/css"),o=e(n),c=require("./actions"),u=require("../../platform/rapid_client/constants"),l=(0,r.defineMessages)({barTitle:{id:"magic_triage.bar_title",defaultMessage:"Check back daily to see what you missed and keep your streak green"}}),d=a.default.createClass({displayName:"MagicTriageBar",contextTypes:{executeAction:t.PropTypes.func,intl:r.intlShape.isRequired},_isStreak:function e(t){for(var a=7,r=0;r<t.length;r++)if(t[r]){if(t[r]&&a<r)return!1}else a=r;return!0},_getNumDaysVisited:function e(t){var a=0;return t.forEach(function(e){e&&a++}),a},_onHover:function e(t,a){this.context.executeAction(c.magicTriageCellHovered,{i13nModel:{mKey:u.MKEYS.MAGIC_TRIAGE_CELL_HOVER,sec:u.SEC_VALUES.MAGIC_TRIAGE_LIST,actionData:{day:t,state:a}}})},_onClick:function e(t,a){this.context.executeAction(c.magicTriageCellClicked,{i13nModel:{mKey:u.MKEYS.MAGIC_TRIAGE_CELL_CLICK,sec:u.SEC_VALUES.MAGIC_TRIAGE_LIST,actionData:{day:t,state:a}}})},_renderStatusBar:function e(t,r){var i=this,s=this.context.intl.formatMessage,n=0;return r.map(function(e){n++;var r="";return r=1===n?"25px 0 0 25px":7===n?"0 25px 25px 0":"0px",a.default.createElement("div",{key:n,title:s(l.barTitle),"data-test-id":e?"mt-green":"mt-grey",className:t.bar,style:{backgroundColor:e?"#1AC567":"#E0E4E9",borderRadius:r},onMouseOver:i._onHover.bind(i,n-1,e),onClick:i._onClick.bind(i,n-1,e)})})},_renderStatusMessage:function e(t){var i=this._getNumDaysVisited(t);return this._isStreak(t)?a.default.createElement(r.FormattedMessage,{id:"magic_triage.streakMessage",defaultMessage:"You've tackled {count} {count, plural, one {day} other {days}} of email in a row. Keep it going!",values:{count:i}}):a.default.createElement(r.FormattedMessage,{id:"magic_triage.regularMessage",defaultMessage:"You've tackled {count} {count, plural, one {day} other {days}} of email. Keep up the good work.",values:{count:i}})},componentDidMount:function e(){this.context.executeAction(c.magicTriageBarDisplayed,{i13nModel:{mKey:u.MKEYS.MAGIC_TRIAGE_DISPLAYED_BAR,sec:u.SEC_VALUES.MAGIC_TRIAGE_LIST,actionData:{state:JSON.stringify(this.props.magicTriageUserVisits)}}})},render:function e(){if(this.props.magicTriageUserVisits&&this.props.magicTriageTimestamp>=0){var t=this.props.magicTriageUserVisits,r=(0,o.default)(s.default);return a.default.createElement("div",{"data-test-id":"magic_triage_bar",className:r.container},a.default.createElement("div",{className:r.statusBar},this._renderStatusBar(r,t)),a.default.createElement("div",{className:r.statusMsg},this._renderStatusMessage(t)))}return null}});exports.default=d,module.exports=exports.default;
},{"../../platform/rapid_client/constants":"./platform/rapid_client/constants","./actions":"./molecules/magic_triage_bar/actions","./styles/magic_triage_bar":"./molecules/magic_triage_bar/styles/magic_triage_bar","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/magic_triage_bar/styles/magic_triage_bar":[function(require,module,exports){
module.exports={className:{default:{container:"W_6D6F C_Z1VRycN Y_6NIX A_6EqO",bar:"H_fq7 W_3ng3I Q_dBP E_dBP D_X",statusBar:"J_x L_e5X h_Z1ffcnk p_a W_eRe",statusMsg:"p_a L_e5X h_Z1ffcnk Y_6MGW W_eRe t_C"},"themeMode-DARK":{container:"C_52qC"}},_key:"1tAsiX"};
},{}],235:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),s=require("../../atoms/lazy_component"),i=require("react-intl"),a=require("./styles/mail_reader"),n=e(a),l=(0,i.defineMessages)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural,\n            =0 {Message list.}\n            one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.}\n            other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}\n        }"}}),o=r.default.createClass({displayName:"MailReader",contextTypes:{intl:i.intlShape.isRequired,getCss:t.PropTypes.func},getDefaultProps:function e(){return{previewpane:0}},render:function e(){var t=this.context.intl.formatMessage,i=this.props,a=i.listId,o=i.previewpane,u=this.context.getCss(n.default);return r.default.createElement("div",{className:u.container,"data-test-id":"mail-reader-container",role:"main","aria-label":t(l.message_list,{previewpane:o})},r.default.createElement(s.LazyComponent,{defer:!0,import:"../list/list.jsx",listId:a,_moduleGetter:function e(){return require("../list/list.jsx")}}))}});exports.default=o,module.exports=exports.default;
},{"../../atoms/lazy_component":"./atoms/lazy_component","../list/list.jsx":"./molecules/list/list","./styles/mail_reader":236,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],236:[function(require,module,exports){
module.exports={className:{default:{container:"W_6D6F D_F"}},_key:"Z6fPnV"};
},{}],237:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react-intl"),s=require("../../../types"),a=require("../../hover_card/email_pill.jsx"),i=e(a),n=require("react"),r=require("../styles/address_field"),l=require("react-atomic-css/css"),d=5,o=(0,t.defineMessages)({and_x_more_recipients:{id:"address.field.and_x_more_recipients",defaultMessage:"and {numNonVisibleAddresses} more..."},hide_recipients:{id:"address.field.hide_recipients",defaultMessage:"Hide"}}),c=n.createClass({displayName:"AddressField",contextTypes:{intl:t.intlShape},getInitialState:function e(){return{opened:!1}},handleToggle:function e(t){t.preventDefault(),t.stopPropagation(),this.setState({opened:!this.state.opened})},render:function e(){var t=l(r),s=this.props.addresses,a=this.context.intl.formatMessage,c=this.state.opened?s.length:d,p=[n.createElement("span",{key:"label-"+this.props.label,className:t.label},this.props.label)];if(s.slice(0,c).forEach(function(e,s,a){p.push(n.createElement(i.default,{key:e.email,isCompose:!1,email:e.email},n.createElement("span",{className:t.email,key:s,title:e.email,"data-test-id":"message-to"},e.name||e.email))),s<a.length-1&&p.push(n.createElement("span",{key:s+"-sep",className:t.separator},","))}),s.length>c){var m=s.length-d;p.push(n.createElement("button",{key:"and-more","data-test-id":"and-more",onClick:this.handleToggle,className:t.button},a(o.and_x_more_recipients,{numNonVisibleAddresses:m})))}else this.state.opened&&p.push(n.createElement("button",{key:"and-more-hide","data-test-id":"and-more-hide",onClick:this.handleToggle,className:t.button},a(o.hide_recipients)));return n.createElement("div",{className:t.container},p)}});exports.default=c,module.exports=exports.default;
},{"../../../types":"./types","../../hover_card/email_pill.jsx":219,"../styles/address_field":244,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/message_card/atoms/blocked_image_banner":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),s=require("react-intl"),n=require("react-atomic-css/css"),l=e(n),i=require("../styles/blocked_image_banner"),d=e(i),o=require("../../../atoms/button"),r=e(o),u=require("../../../atoms/constants/button"),c=require("../../../atoms/fuji_icon.jsx"),m=e(c),g=require("../../../atoms/constants/fuji_icon"),f=(0,l.default)(d.default),b=(0,s.defineMessages)({blockedImageMessageTitle:{id:"blocked_image_banner.message",defaultMessage:"This message contains blocked images."}}),_=function e(t,n){var l=t.onShowImages,i=t.onChangeImageSetting,d=n.intl,o=d.formatMessage(b.blockedImageMessageTitle);return a.default.createElement("div",{className:f.container,"data-test-id":"blocked-image-banner"},a.default.createElement(m.default,{size:g.Sizes.XS,kind:g.Kinds.ATTACH_IMAGE_48,colorState:g.ColorStates.COOL_FAINT}),a.default.createElement("div",null,a.default.createElement("p",{title:o,className:f.message},o),a.default.createElement("div",{className:f.buttonsContent},a.default.createElement(r.default,{kind:u.Kinds.CHROMELESS,onClick:l},a.default.createElement("span",{"data-test-id":"show-image-button",className:f.button},a.default.createElement(s.FormattedMessage,{id:"blocked_image_banner.show_images",defaultMessage:"Show images"}))),a.default.createElement(s.FormattedMessage,{id:"blocked_image_banner.or_text",defaultMessage:"or"}),a.default.createElement(r.default,{kind:u.Kinds.CHROMELESS,onClick:i},a.default.createElement("span",{"data-test-id":"always-show-image-button",className:f.button},a.default.createElement(s.FormattedMessage,{id:"blocked_image_banner.change_setting",defaultMessage:"Always show images"}))))))};_.contextTypes={intl:s.intlShape.isRequired},exports.default=_,module.exports=exports.default;
},{"../../../atoms/button":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../styles/blocked_image_banner":"./molecules/message_card/styles/blocked_image_banner","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/message_card/atoms/body":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.Body=void 0;var t=require("react"),n=e(t),a=require("react-dom/server"),r=e(a),o=require("react-intl"),s=require("react-redux"),i=require("../../../types"),l=require("dompurifier"),d=require("../../../platform/utils/pgp_parser.js"),u=e(d),c=require("../../../platform/utils/message_quote_finder"),m=require("../../../platform/utils/attachments"),h=require("../../../atoms/lazy_component"),p=require("../../../atoms/loading_indicator.jsx"),f=e(p),g=require("../../../atoms/fuji_icon_button.jsx"),v=e(g),q=require("../../../atoms/constants/fuji_icon"),x=require("./content.jsx"),S=e(x),_=require("../../../platform/mail_constants"),C=require("../../../platform/utils"),E=require("../../../reducers_selectors"),y=require("./blocked_image_banner"),I=e(y),b=require("react-atomic-css/css"),k=e(b),M=require("../styles/body"),B=e(M),P=(0,k.default)(B.default),w=(0,o.defineMessages)({hideQuote:{id:"hide_quote",defaultMessage:"Hide original message"},showQuote:{id:"show_quote",defaultMessage:"Show original message"}}),A=r.default.renderToStaticMarkup(n.default.createElement("div",null,n.default.createElement(f.default,null))),N=exports.Body=n.default.createClass({displayName:"Body",contextTypes:{config:t.PropTypes.object.isRequired,intl:o.intlShape.isRequired},getInitialState:function e(){return{quoteExpanded:this.props.quoteExpanded||!1,mounted:!1}},getDefaultProps:function e(){return{onShowImages:C.NOOP,onShowQuotedText:C.NOOP,onChangeImageSetting:C.NOOP}},componentDidMount:function e(){this.setState({mounted:!0})},_areImagesBlocked:function e(t){var n=t.htmlAnnotations;return(void 0===n?[]:n).some(function(e){return"blocked"===e.type})},toggleQuote:function e(t){t.preventDefault(),t.stopPropagation();var n=this.state.quoteExpanded,a=this.props,r=a.onShowQuotedText,o=a.isSecure,s=a.hasFullBody;return n||s||r({full:!0,secure:o}),this.setState({quoteExpanded:!n}),!1},renderBodyContent:function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.props,o=r.secureModeSetting,s=r.onHrefLinkClick,i=r.onMailtoClick,l=r.headers,u=r.appRootPath,c=r.secureUIOrigin;return o&&(0,d.hasPGPAsciiArmor)(t)?n.default.createElement(h.LazyComponent,{import:"./body_pieces.jsx",isQuoted:!a,headers:l,content:t,onMailtoClick:i,appRootPath:u,secureUIOrigin:c,_moduleGetter:function e(){return require("./body_pieces.jsx")}},n.default.createElement(h.When,{loading:!0},n.default.createElement("div",null,n.default.createElement(f.default,null)))):n.default.createElement(S.default,{className:a,dangerouslySetInnerHTML:{__html:t},onHrefLinkClick:s,onMailtoClick:i,attachments:this.props.attachments})},_separateMixedContentInNonQuote:function e(t){var n=t.messageAbove,a=t.messageBelow,r=!1,o=!1,s="";return n=(0,l.getInertElement)(n).innerText,(0,u.default)(n,function(e){var t=e.start,i=e.end;s=n.slice(t,i),s.trim()&&!r&&(a=n.slice(i)+a,n='<div class="'+P.textContainer+'">'+s+"</div>",o=!0)},function(e){var t=e.normalized,i=e.end;o||(s=n.slice(i),a=s.trim()?'<div class="'+P.textContainer+'">'+s+"</div>"+a:a,n=t,r=!0)},1),{messageAbove:n,messageBelow:this.state.quoteExpanded?a:"",expandable:!!a}},componentDidUpdate:function e(t,n){this.props.body.html===t.body.html&&this.state.quoteExpanded===n.quoteExpanded||this.enhanceCards()},onLinkEnhancerUtilsLoad:function e(t){var n=t.enhanceCardsInTree;this.enhanceCardsInTree=n,this.enhanceCards()},enhanceCards:function e(){return!!this.enhanceCardsInTree&&(this.enhanceCardsInTree(this.messageBody,this,this.props.onShareCard,this.props.onShareCardLinkClick,this.context.intl.formatMessage),!0)},render:function e(){var t=this,a=this.context.config,r=this.state,o=r.quoteExpanded,s=r.mounted,i=this.props,l=i.onShowImages,u=i.onChangeImageSetting,p=i.renderAttachments,g=i.removeCollapseButton,x=i.secureModeSetting,S=i.body,_=i.hasFullBody,C=i.attachments,E=i.folder,y=i.messageId,b=!!a&&a.linkEnhancer,k=this._areImagesBlocked(S||{}),M=C?(0,m.getCalendarAttachments)(C):[],B=M.length>0,N=(0,c.divideMessage)(S.html,S.htmlAnnotations,o);if(x&&(0,d.hasPGPAsciiArmor)(N.messageAbove)){if(!s)return n.default.createElement("div",null,n.default.createElement(f.default,null));N=this._separateMixedContentInNonQuote(N)}var j=N,L=j.messageBelow,T=N,O=T.messageAbove,Q=T.expandable,R=this.context.intl.formatMessage(o?w.hideQuote:w.showQuote),D=P.leftRightPadding;return!_&&o&&(L=A),n.default.createElement("div",{"data-test-id":"message-view-body"},B&&n.default.createElement(h.LazyComponent,{import:"./rsvp_view.jsx",eventAttachment:M[0],folder:E,messageId:y,_moduleGetter:function e(){return require("./rsvp_view.jsx")}}),k&&n.default.createElement("div",{className:P.blockedImageBanner},n.default.createElement(I.default,{onChangeImageSetting:u,onShowImages:l.bind(null,{secure:!1,full:_})})),n.default.createElement("div",{ref:function e(n){return t.messageBody=n},className:"msg-body "+P.bodyContainer,"data-test-id":"message-view-body-content"},this.renderBodyContent(O,D),!g&&Q&&n.default.createElement("div",{className:D},n.default.createElement(v.default,{"data-norrin-quoted-button":!0,className:P.button,kind:q.Kinds.CHEVRON_UP,size:q.Sizes.XS,rotate:o?q.Rotate.D180:q.Rotate.D90,colorState:q.ColorStates.DISABLED,title:R,onClick:this.toggleQuote},R)),""!==L&&n.default.createElement("div",{className:D},this.renderBodyContent(L))),p?n.default.createElement("div",{className:D},p()):null,b?n.default.createElement(h.LazyComponent,{import:"../../../platform/link_enhancer/utils_loader.jsx",onLoad:this.onLinkEnhancerUtilsLoad,_moduleGetter:function e(){return require("../../../platform/link_enhancer/utils_loader.jsx")}}):null)}}),j=exports.mapStateToProps=function e(t,n){var a=(0,E.selectors)(t),r=a.getMessageBodiesSelectors,o=a.getFeaturesSelectors,s=r(),i=o(),l=s.get(n.messageId),d=s.hasFullBody(n.messageId);return{body:l,isSecure:s.isSecureMessage(n.messageId),hasFullBody:d,secureModeSetting:i.getSetting(_.Settings.SECURE_MODE),appRootPath:i.getSetting("appRootPath"),secureUIOrigin:i.getSetting("secureUIOrigin")}};exports.default=(0,s.connect)(j)(N);
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/lazy_component":"./atoms/lazy_component","../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../../platform/link_enhancer/utils_loader.jsx":"./platform/link_enhancer/utils_loader","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils":"./platform/utils","../../../platform/utils/attachments":"./platform/utils/attachments","../../../platform/utils/message_quote_finder":"./platform/utils/message_quote_finder","../../../platform/utils/pgp_parser.js":"./platform/utils/pgp_parser","../../../reducers_selectors":"./reducers_selectors","../../../types":"./types","../styles/body":"./molecules/message_card/styles/body","./blocked_image_banner":"./molecules/message_card/atoms/blocked_image_banner","./body_pieces.jsx":"./molecules/message_card/atoms/body_pieces","./content.jsx":"./molecules/message_card/atoms/content","./rsvp_view.jsx":"./molecules/message_card/atoms/rsvp_view","dompurifier":"./node_modules/dompurifier","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom/server":"./node_modules/react-dom/server.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js"}],238:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.onRetry;return r.default.createElement("div",{"data-test-id":"message-view-error",className:n.emptyBody},r.default.createElement(c.default,{kind:m.Kinds.EXCLAMATION_ALT,size:m.Sizes.S,colorState:m.ColorStates.COOL_FAINT}),r.default.createElement("span",{className:n.emptyBodyMessage},r.default.createElement(s.FormattedMessage,{id:"message.error_message",defaultMessage:"We couldn't load this message. {retry}",values:{retry:r.default.createElement("a",{className:n.emptyBodyRetry,onClick:t,"data-test-id":"body-error-retry"},r.default.createElement(s.FormattedMessage,{id:"message.retry_message",defaultMessage:"Retry!"}))}})))}exports.__esModule=!0,exports.default=t;var a=require("react"),r=e(a),s=require("react-intl"),d=require("react-atomic-css/css"),l=e(d),o=require("../styles/body"),u=e(o),i=require("../../../atoms/fuji_icon.jsx"),c=e(i),m=require("../../../atoms/constants/fuji_icon"),n=(0,l.default)(u.default);module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../styles/body":"./molecules/message_card/styles/body","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],239:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),a=require("../../../atoms/loading_indicator.jsx"),o=e(a),i=require("react-atomic-css/css"),u=e(i),s=require("../styles/body"),r=e(s),l=(0,u.default)(r.default),d=1e3,c=n.default.createClass({displayName:"BodyLoading",getInitialState:function e(){return{takesLong:!1}},componentDidMount:function e(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),d)},componentWillUnmount:function e(){clearTimeout(this.timeout)},render:function e(){return n.default.createElement("div",{className:l.loadingContainer},this.state.takesLong&&n.default.createElement(o.default,null))}});exports.default=c,module.exports=exports.default;
},{"../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../styles/body":"./molecules/message_card/styles/body","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./molecules/message_card/atoms/content":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),r=require("../../../platform/utils"),a=require("../../../platform/utils/inline_image.js"),i=require("../../../atoms/message_pane_warnings"),o=e(i),s=/^\s*mailto:/i,l=n.default.createClass({displayName:"BodyContent",contextTypes:{config:t.PropTypes.object},getInitialState:function e(){return{warningType:null}},getDefaultProps:function e(){return{className:"",onHrefLinkClick:r.NOOP,onMailtoClick:r.NOOP,attachments:[]}},componentDidMount:function e(){var t=this.messageBody;t&&(t.addEventListener("submit",this._handleFormWarning,!0),t.addEventListener("focus",this._handlePasswordWarning,!0),(0,a.fixImageSrc)(t,this.props.attachments))},componentWillUnmount:function e(){var t=this.messageBody;t&&(t.removeEventListener("submit",this._handleFormWarning,!0),t.removeEventListener("focus",this._handlePasswordWarning,!0))},_isYahooUrl:function e(t){var n=document.createElement("a");n.setAttribute("href",t);var r=n.hostname;return/\.yahoo\.com$/i.test(r)},_handleFormWarning:function e(t){var n=t.target;if(!this._isYahooUrl(n.action))return t.preventDefault(),t.stopPropagation(),this.setState({warningType:i.WarningTypes.FORM,targetElement:n}),!1},_handlePasswordWarning:function e(t){var n=t.target,r=n.tagName,a=n.type,o=n.warningShown;if("INPUT"===r&&"password"===a&&!o)return this.setState({warningType:i.WarningTypes.PASSWORD,targetElement:n}),!1},handleKeyDown:function e(t){t.stopPropagation()},handleBodyClick:function e(t){var n=t.target;do if("A"===n.nodeName){if(n.hasAttribute("ymailto")||n.href&&s.test(n.href)){t.preventDefault(),t.stopPropagation();var r=n.getAttribute("ymailto")||n.href;return void this.props.onMailtoClick(r)}if(n.hasAttribute("href"))return n.setAttribute("rel","noreferrer"),void this.props.onHrefLinkClick(n)}while(n.parentElement!==this.wrapper&&(n=n.parentElement))},handleDialogClose:function e(){this.setState({warningType:null,targetElement:null})},render:function e(){var t=this,r=this.state,a=r.warningType,i=r.targetElement,s=this.props.dangerouslySetInnerHTML.__html;return n.default.createElement("div",{className:this.props.className,onKeyDown:this.handleKeyDown,ref:function e(n){return t.wrapper=n}},a?n.default.createElement(o.default,{warningType:a,targetElement:i,onDialogClose:this.handleDialogClose}):null,n.default.createElement("div",{ref:function e(n){return t.messageBody=n},onClickCapture:this.handleBodyClick,dangerouslySetInnerHTML:{__html:s}}))}});exports.default=l,module.exports=exports.default;
},{"../../../atoms/message_pane_warnings":"./atoms/message_pane_warnings","../../../platform/utils":"./platform/utils","../../../platform/utils/inline_image.js":"./platform/utils/inline_image","react":"./node_modules/react/react.js"}],240:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),t=e(a),s=require("react-intl"),l=require("../../../types"),r=require("../../date_time_label"),d=e(r),i=require("../../../atoms/fuji_icon_button.jsx"),n=e(i),o=require("../../../atoms/flex_spacer.jsx"),m=e(o),c=require("../../../atoms/xavatar.jsx"),u=e(c),g=require("./address_field.jsx"),_=e(g),f=require("../../hover_card/email_pill.jsx"),h=e(f),p=require("../../item_list/utils/highlight"),E=require("react-atomic-css/css"),k=e(E),C=require("../styles/header"),M=e(C),x=require("../../../atoms/constants/fuji_icon"),b=(0,s.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_header_count_label:{id:"message_header_count_label",defaultMessage:"Message {idx} of {totalMessages}"},message_header_label:{id:"message_header_label",defaultMessage:"Message"},message_has_attachment:{id:"message_has_attachment",defaultMessage:"Message has {attachmentCount, plural,\n            =1 {an attachment}\n            other {attachments}\n        }"},header_print_message:{id:"header_print_message",defaultMessage:"Print"}}),S=t.default.createClass({displayName:"Header",contextTypes:{config:a.PropTypes.object.isRequired,intl:s.intlShape.isRequired},handleStarClick:function e(a){a.stopPropagation(),this.props.onToggleStar(a)},handlePrintClick:function e(a){a.stopPropagation(),this.props.onPrint(a)},handleAttachmentClick:function e(a){this.props.expanded&&(a.stopPropagation(),this.props.onAttachmentClick(a))},handleReadClick:function e(a){a.stopPropagation(),this.props.onToggleRead(a)},handleKeyDown:function e(a){switch(a.key){case"Enter":a.preventDefault(),a.stopPropagation(),this.props.onToggleExpand();break;default:return}},renderPrintButton:function e(){var a=this.context.intl.formatMessage,s=(0,k.default)(M.default);return this.props.expanded&&this.props.onPrint?t.default.createElement("div",{className:s.print},t.default.createElement(n.default,{kind:x.Kinds.PRINTER,size:x.Sizes.XS,title:a(b.header_print_message),ariaLabel:a(b.header_print_message),colorState:x.ColorStates.INHERITED,onClick:this.handlePrintClick,paddingLess:!0})):null},render:function e(){var a=this.context.intl.formatMessage,s=this.props,l=s.message,r=s.expanded,i=s.onToggleExpand,o=s.onToggleStar,c=s.onToggleRead,g=s.expandable,f=s.idx,E=s.totalMessages,C=s.conversations,S=l.headers,T=S.from,N=S.to,v=S.cc,P=S.bcc,q=S.date,R=l.flags,y=R.flagged,A=R.read,j=!0,z=(0,p.getHighlightPosition)(l.snippet,j),D=(0,k.default)(M.default,{expanded:r,expandable:g,flagged:y,highlightPosition:z}),L=C?b.message_header_count_label:b.message_header_label,K=(l.attachments||[]).length,w=new Date(1e3*q);return t.default.createElement("header",{className:D.header,onClick:g?i:null,onKeyDown:g?this.handleKeyDown:null,"aria-label":a(L,{idx:f+1,totalMessages:E})},t.default.createElement("span",{className:D.avatar},t.default.createElement(u.default,{contact:{email:T[0]&&T[0].email}})),c?t.default.createElement("div",{className:D.readUnread},t.default.createElement(n.default,{"data-test-id":"icon-btn-read",title:a(b[A?"mark_as_unread":"mark_as_read"]),"aria-label":a(b[A?"message_is_read":"message_is_not_read"]),"aria-pressed":!A,kind:x.Kinds.CIRCLE,colorState:A?x.ColorStates.FAINT:x.ColorStates.SELECTED,size:x.Sizes.XS,onClick:this.handleReadClick,paddingLess:!0})):null,t.default.createElement("div",{className:D.flexVertical},t.default.createElement("div",{className:D.fromRow},t.default.createElement("span",{"data-test-id":"message-from",className:D.fromField},T[0]?t.default.createElement(h.default,{isCompose:!1,email:T[0].email},T[0]&&T[0].name?t.default.createElement("span",null,T[0].name,r&&t.default.createElement("span",{className:D.fromEmail}," <",T[0].email,">")):T[0].email):null)),!r&&t.default.createElement("div",{className:D.snippetContainer,"data-test-id":"snippet"},t.default.createElement("div",{className:D.snippet},(0,p.getHighlightedBlocks)(l.snippet,j,D.highlightedTerm))),!r&&t.default.createElement(m.default,null),r&&N.length>0&&t.default.createElement(_.default,{label:a(b.message_to),addresses:N}),r&&v.length>0&&t.default.createElement(_.default,{label:a(b.message_cc),addresses:v}),r&&P.length>0&&t.default.createElement(_.default,{label:a(b.message_bcc),addresses:P})),r&&t.default.createElement(m.default,null),this.renderPrintButton(),K>0?t.default.createElement("div",{className:D.attachment},t.default.createElement(n.default,{kind:x.Kinds.ATTACHMENT,size:x.Sizes.XXS,title:a(b.message_has_attachment,{attachmentCount:K}),ariaLabel:a(b.message_has_attachment,{attachmentCount:K}),onClick:this.handleAttachmentClick,paddingLess:!0})):null,t.default.createElement("div",{className:D.date,"data-test-id":"message-date"},t.default.createElement(d.default,{date:w,long:!0})),o?t.default.createElement("div",{className:D.star},t.default.createElement(n.default,{title:a(b[y?"mark_as_unstarred":"mark_as_starred"]),"aria-label":a(b[y?"message_is_starred":"message_is_not_starred"]),"aria-pressed":y,kind:x.Kinds.STAR,size:x.Sizes.XS,colorState:y?x.ColorStates.STARRED:x.ColorStates.FAINT,onClick:this.handleStarClick,paddingLess:!0})):null)}});exports.default=S,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/flex_spacer.jsx":"./atoms/flex_spacer","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/xavatar.jsx":"./atoms/xavatar","../../../types":"./types","../../date_time_label":"./molecules/date_time_label","../../hover_card/email_pill.jsx":219,"../../item_list/utils/highlight":"./molecules/item_list/utils/highlight","../styles/header":245,"./address_field.jsx":237,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],241:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r=require("react"),o=e(r),a=require("../../../atoms/fuji_icon_button.jsx"),n=e(a),s=require("../../../atoms/popover/popover_container.jsx"),i=e(s),u=require("../../../atoms/popover/popover_anchor.jsx"),l=e(u),m=require("../../../atoms/popover/popover_content.jsx"),d=e(m),c=require("../styles/more_menu"),p=e(c),f=require("react-atomic-css/css"),_=e(f),g=require("../../../atoms/constants/popover"),M=require("../../../atoms/constants/fuji_icon"),v=require("react-intl"),q=require("../../../atoms/lazy_component"),x=require("../../../atoms/loading_indicator.jsx"),E=e(x),j=(0,_.default)(p.default),b=(0,v.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}}),h=o.default.createClass({displayName:"MessageToolbarMoreMenu",contextTypes:{executeAction:r.PropTypes.func,intl:v.intlShape.isRequired},render:function e(){var r=this.context.intl.formatMessage;return o.default.createElement(i.default,{className:j.popoverContainer},o.default.createElement(l.default,null,o.default.createElement(n.default,{kind:M.Kinds.MORE,size:M.Sizes.XS,title:r(b.more_menu_label),"aria-label":r(b.more_menu_label),colorState:M.ColorStates.INHERITED,paddingLess:!0,"data-test-id":"more-card-trigger"})),o.default.createElement(d.default,{triggerOn:g.Triggers.CLICK,onMouseEnter:this.props.onMoreMenuEnter,onMouseLeave:this.props.onMoreMenuLeave,permittedArrowDirections:[g.PermittedArrowDirections.DOWN],align:g.Align.START,offset:16,"data-test-id":"more-card-menu"},o.default.createElement(q.LazyComponent,t({import:"./more_menu_items.jsx"},this.props,{_moduleGetter:function e(){return require("./more_menu_items.jsx")}}),o.default.createElement(q.When,{loading:!0},o.default.createElement(E.default,null)))))}});exports.default=h,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/lazy_component":"./atoms/lazy_component","../../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../styles/more_menu":"./molecules/message_card/styles/more_menu","./more_menu_items.jsx":"./molecules/message_card/atoms/more_menu_items","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],242:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),t=e(a),l=require("react-intl"),s=require("../../../atoms/fuji_icon_button.jsx"),r=e(s),n=require("../../../atoms/navigable_list.jsx"),d=e(n),o=require("../../../atoms/constants/navigable_list"),i=require("../../../atoms/list_item.jsx"),u=e(i),m=require("../../../atoms/constants/list_item"),c=require("../../../atoms/flex_spacer.jsx"),f=e(c),p=require("./more_menu.jsx"),E=e(p),_=require("../../../atoms/constants/fuji_icon"),b=require("../styles/toolbar"),g=e(b),M=require("react-atomic-css/css"),y=e(M),R=(0,y.default)(g.default),I=(0,l.defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},more_menu_label:{id:"more_menu_label",defaultMessage:"More"}}),L=t.default.createClass({displayName:"MessageToolbar",contextTypes:{intl:l.intlShape.isRequired},getDefaultProps:function e(){return{replyEnabled:!0,replyAllEnabled:!0,forwardEnabled:!0}},render:function e(){var a=this.context.intl,l=a.formatMessage,s=this.props,n=s.onReply,i=s.onReplyAll,c=s.onForward,p=s.onArchive,b=s.onDelete,g=s.onRawMessage,M=s.forwardEnabled,y=s.replyEnabled,L=s.replyAllEnabled;return t.default.createElement("div",{className:R.wrapper,"data-test-id":"card-toolbar"},t.default.createElement(f.default,null),t.default.createElement("div",{className:R.container},t.default.createElement(d.default,{kind:o.Kinds.TOOLBAR,tabIndex:0},t.default.createElement(u.default,{kind:m.Kinds.TOOLBAR_ITEM},t.default.createElement("span",{className:R.toolbarItem},t.default.createElement(r.default,{"data-test-id":"card-toolbar-button-reply",kind:_.Kinds.REPLY,size:_.Sizes.XS,title:l(I.message_reply),"aria-label":l(I.message_reply),colorState:_.ColorStates.INHERITED,onClick:n,disabled:!y,paddingLess:!0}))),t.default.createElement(u.default,{kind:m.Kinds.TOOLBAR_ITEM},t.default.createElement("span",{className:R.toolbarItem},t.default.createElement(r.default,{"data-test-id":"card-toolbar-button-reply-all",kind:_.Kinds.REPLY_ALL,size:_.Sizes.XS,title:l(I.message_reply_all),"aria-label":l(I.message_reply_all),colorState:_.ColorStates.INHERITED,onClick:i,disabled:!L,paddingLess:!0}))),t.default.createElement(u.default,{kind:m.Kinds.TOOLBAR_ITEM},t.default.createElement("span",{className:R.toolbarItem},t.default.createElement(r.default,{"data-test-id":"card-toolbar-button-forward",kind:_.Kinds.FORWARD,size:_.Sizes.XS,title:l(I.message_forward),"aria-label":l(I.message_forward),colorState:_.ColorStates.INHERITED,onClick:c,disabled:!M,paddingLess:!0}))),t.default.createElement(u.default,{kind:m.Kinds.TOOLBAR_ITEM},t.default.createElement("span",{className:R.moreMenuItem},t.default.createElement(E.default,{"data-iskeynav":!0,onArchive:p,onDelete:b,onRawMessage:g,onMoreMenuEnter:this.props.onMoreMenuEnter,onMoreMenuLeave:this.props.onMoreMenuLeave})))),t.default.createElement(f.default,null),t.default.createElement("hr",{className:R.bottomLine})),t.default.createElement(f.default,null))}});exports.default=L,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/list_item":"./atoms/constants/list_item","../../../atoms/constants/navigable_list":"./atoms/constants/navigable_list","../../../atoms/flex_spacer.jsx":"./atoms/flex_spacer","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/list_item.jsx":"./atoms/list_item","../../../atoms/navigable_list.jsx":"./atoms/navigable_list","../styles/toolbar":247,"./more_menu.jsx":241,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],243:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),s=t(a),n=require("react-intl"),o=require("../../types"),r=require("./atoms/header.jsx"),i=t(r),l=require("./atoms/body.jsx"),d=t(l),c=require("./atoms/body_loading.jsx"),u=t(c),h=require("./atoms/body_error.jsx"),p=t(h),g=require("./atoms/toolbar.jsx"),m=t(g),f=require("../../actions/message"),M=e(f),S=require("../../actions/settings"),y=require("react-atomic-css/css"),E=t(y),v=require("./styles/message_card"),A=t(v),_=require("../../platform/mail_constants"),R=require("../../platform/keyboard_shortcuts"),x=require("../../platform/keyboard_shortcut_groups"),k=require("../../platform/utils"),K=require("../../platform/rapid_client/constants"),I=require("../link_enhancer/actions"),T=e(I),b=require("../../platform/keyboard_shortcuts/constants"),D=require("../../platform/utils/route");(0,R.createShortcutGroup)({group:x.Action,keys:Object.assign({star:{key:"L",description:s.default.createElement("strong",null,s.default.createElement(n.FormattedMessage,{id:"shortcut.toggle_flag",defaultMessage:"Star/Unstar"}))}},b.commonMessageActionKeys)});var G=K.SEC_VALUES.MSG_BODY,C=s.default.createClass({displayName:"MessageCard",getDefaultProps:function e(){return{active:!1,canTakeFocus:!1}},getInitialState:function e(){return this.canTakeFocus=this.props.canTakeFocus,{showToolbar:!1}},handleBlur:function e(){this.canTakeFocus=!0},focus:function e(){!this.canTakeFocus&&this.refs.content&&this.props.active&&this.refs.content.focus()},componentDidMount:function e(){this.focus()},componentDidUpdate:function e(){this.focus()},contextTypes:{config:a.PropTypes.object,executeAction:a.PropTypes.func.isRequired,navigateTo:a.PropTypes.func},handleToggleRead:function e(t){var a=this.props,s=a.message,n=a.messageGroupId,o=s.flags.read?M.markAsUnread:M.markAsRead,r={mKey:s.flags.read?K.MKEYS.MSG_HDR_MARK_UNREAD:K.MKEYS.MSG_HDR_MARK_READ,sec:G,mKeyGroup:s.flags.read?K.MKEY_GROUPS.mark_unread:K.MKEY_GROUPS.mark_read,interactionType:(0,k.getInteractionFromEvent)(t)};t.preventDefault(),t.stopPropagation(),this.context.executeAction(o,{messageIds:[s.id],itemId:n,i13nModel:r})},handleReply:function e(t){var a=this.props,s=a.messageGroupId,n=a.message,o={mKey:K.MKEYS.MSG_REPLY,sec:G,mKeyGroup:K.MKEY_GROUPS.reply,interactionType:(0,k.getInteractionFromEvent)(t)};t.preventDefault(),t.stopPropagation(),this.context.executeAction(M.reply,{messageGroupId:s,message:n,i13nModel:o})},handleReplyAll:function e(t){var a=this.props,s=a.messageGroupId,n=a.message,o={mKey:K.MKEYS.MSG_REPLY_ALL,sec:G,mKeyGroup:K.MKEY_GROUPS.replyAll,interactionType:(0,k.getInteractionFromEvent)(t)};t.preventDefault(),t.stopPropagation(),this.context.executeAction(M.replyAll,{messageGroupId:s,message:n,i13nModel:o})},handleForward:function e(t){var a=this.props,s=a.messageGroupId,n=a.message,o={mKey:K.MKEYS.MSG_FORWARD,sec:G,mKeyGroup:K.MKEY_GROUPS.forward,interactionType:(0,k.getInteractionFromEvent)(t)};t.preventDefault(),t.stopPropagation(),this.context.executeAction(M.forward,{messageGroupId:s,message:n,i13nModel:o})},handleArchive:function e(t){var a=this.props,s=a.messageGroupId,n=a.message,o=a.listId,r=a.navigateOnMessageAction;t.preventDefault(),t.stopPropagation(),r(),this.context.executeAction(M.archiveMessagesFromView,{messageIds:[n.id],messageGroupIds:[s],listId:o})},handleShareCard:function e(t,a){this.context.navigateTo({route:(0,D.buildComposeRouteFromCsid)((0,k.generateUID)()),initialSubject:t,initialBody:a})},handleShareCardLinkClick:function e(t,a){var s=this.props.message,n=t.currentTarget.innerText;this.context.executeAction(T.linkEnhancerlinkShare,{i13nModel:{mKey:K.MKEYS.LINK_ENHANCER_SHARE_LINK,sec:K.SEC_VALUES.MSG_BODY,actionData:{mHref:a,msgId:s.id,sharedBy:n}}})},isPermanentDelete:function e(t){return t.indexOf(_.FolderTypes.BULK)>-1||t.indexOf(_.FolderTypes.TRASH)>-1||t.indexOf(_.FolderTypes.DRAFT)>-1},handleDelete:function e(t){var a=this.props,s=a.messageGroupId,n=a.message,o=a.listId,r=a.navigateOnMessageAction;t.preventDefault(),t.stopPropagation(),r(),this.context.executeAction(M.deleteMessagesFromView,{messageIds:[n.id],messageGroupIds:[s],listId:o,permanent:this.isPermanentDelete(n.folder.types),async:!1})},handlePrint:function e(t){var a={mKey:K.MKEYS.MSG_HDR_PRINT,sec:G,interactionType:(0,k.getInteractionFromEvent)(t)};t.preventDefault(),t.stopPropagation();var s=this.props,n=s.messageGroupId,o=s.message;this.context.executeAction(M.printMessage,{messageGroupId:n,message:o,i13nModel:a})},handleRawMessage:function e(t){var a=this.props.message;t.preventDefault(),t.stopPropagation(),this.context.executeAction(M.openRawMessage,{messageId:a.id})},handleStar:function e(t){var a=this.props.message,s={mKey:a.flags.flagged?K.MKEYS.MSG_HDR_MARK_UNSTAR:K.MKEYS.MSG_HDR_MARK_STAR,sec:G,mKeyGroup:a.flags.flagged?K.MKEY_GROUPS.mark_unstar:K.MKEY_GROUPS.mark_star,interactionType:(0,k.getInteractionFromEvent)(t)};t.preventDefault(),t.stopPropagation(),this.context.executeAction(a.flags.flagged?M.markAsUnflagged:M.markAsFlagged,{messageIds:[a.id],i13nModel:s})},handleClick:function e(){this.props.onClick()},handleKeyDown:function e(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){switch(t.key){case"Enter":t.preventDefault(),t.stopPropagation(),this.props.onToggleExpand()}var a=String.fromCharCode(t.which);if("K"===a)return this.handleToggleRead(t);if("L"===a)return this.handleStar(t);if(this.props.bodyState===_.RecordStates.LOADED)switch(a){case"R":this.handleReply(t);break;case"A":this.handleReplyAll(t);break;case"F":this.handleForward(t);break;case"P":this.handlePrint(t)}}},handleHrefLinkClick:function e(t){var a=this.props.message,s=t.getAttribute("href");if(t.hasAttribute("class")&&t.getAttribute("class").indexOf("yahoo-enhancr-cardlink")!==-1){var n=t.parentNode&&t.parentNode.hasAttribute("data-size")?t.parentNode.getAttribute("data-size").toUpperCase():"";this.context.executeAction(T.linkEnhancerlinkOpen,{i13nModel:{mKey:K.MKEYS.LINK_ENHANCER_OPEN_LINK,sec:K.SEC_VALUES.MSG_BODY,actionData:{mHref:s,msgId:a.id,size:n}}})}else this.context.executeAction(M.clickMessageBodyLink,{hrefLink:s,message:a,i13nModel:{mKey:K.MKEYS.OPEN_LINK,sec:K.SEC_VALUES.MSG_BODY}})},handleToolbarOnMouseEnter:function e(){this.setState({showToolbar:!0})},handleToolbarOnMouseLeave:function e(){this.setState({showToolbar:!1})},handleMoreMenuEnter:function e(){this.props.active||this.setState({showToolbar:!0})},handleMoreMenuLeave:function e(){this.props.active||this.setState({showToolbar:!1})},handleChangeImageSetting:function e(){this.context.executeAction(S.updateSetting,{name:_.Settings.SHOW_IMAGES,value:_.ShowImageSettings.ALWAYS})},handleReloadMessage:function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.full,n=a.secure,o=this.props.listId;this.context.executeAction(M.getMessageBodies,{listId:o,full:s,secure:n,messageIds:[t]})},render:function e(){var t=this,a=this.props,n=a.message,o=a.bodyState,r=a.renderAttachmentTray,l=a.expandable,c=a.expanded,h=a.active,g=a.idx,f=a.totalMessages,M=a.conversations,S=h||this.state.showToolbar,y=(0,E.default)(A.default,{active:h}),v=!M,R=null;if(c)switch(o){case _.RecordStates.ERROR:R=s.default.createElement(p.default,{onRetry:this.handleReloadMessage.bind(this,n.id)});break;case _.RecordStates.LOADED:R=s.default.createElement("div",{"data-test-id":"message-body-container",onMouseEnter:this.handleToolbarOnMouseEnter,onMouseLeave:this.handleToolbarOnMouseLeave},s.default.createElement(d.default,{headers:n.headers,messageId:n.id,renderAttachments:r,onMailtoClick:this.props.onMailtoClick,onHrefLinkClick:this.handleHrefLinkClick,onChangeImageSetting:this.handleChangeImageSetting,onShareCard:this.handleShareCard,onShareCardLinkClick:this.handleShareCardLinkClick,onShowQuotedText:this.handleReloadMessage.bind(this,n.id),onShowImages:this.handleReloadMessage.bind(this,n.id),removeCollapseButton:v,quoteExpanded:v,attachments:n.attachments,folder:n.folder}),s.default.createElement("div",{className:y.toolbarHoverArea,"data-test-id":"toolbar-hover-area"},S?s.default.createElement(m.default,{onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,onArchive:this.handleArchive,onDelete:this.handleDelete,onRawMessage:this.handleRawMessage,onPrint:function e(a){return t.handlePrint(a,"toolbar")},onMoreMenuEnter:this.handleMoreMenuEnter,onMoreMenuLeave:this.handleMoreMenuLeave}):null));break;default:R=s.default.createElement(u.default,null)}return s.default.createElement("div",{ref:"content","data-test-id":"message-view","data-test-expanded":c,className:y.messageCardContainer+" message-view","data-iskeynav":!0,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:this.handleClick,tabIndex:-1},s.default.createElement(i.default,{conversations:M,message:n,expanded:c,idx:g,totalMessages:f,onToggleStar:this.handleStar,onToggleRead:this.handleToggleRead,onToggleExpand:this.props.onToggleExpand,expandable:l,onPrint:this.handlePrint,onAttachmentClick:this.props.scrollToAttachmentTray}),R)}});exports.default=C,module.exports=exports.default;
},{"../../actions/message":"./actions/message","../../actions/settings":"./actions/settings","../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../platform/keyboard_shortcuts/constants":"./platform/keyboard_shortcuts/constants","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils":"./platform/utils","../../platform/utils/route":"./platform/utils/route","../../types":"./types","../link_enhancer/actions":"./molecules/link_enhancer/actions","./atoms/body.jsx":"./molecules/message_card/atoms/body","./atoms/body_error.jsx":238,"./atoms/body_loading.jsx":239,"./atoms/header.jsx":240,"./atoms/toolbar.jsx":242,"./styles/message_card":246,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],244:[function(require,module,exports){
module.exports={className:{default:{container:"d_6FIA i_6FIA D_F eo_HB",email:"C4_Z2aVTcY",separator:"E_fq7",label:"u_b E_eo6 C_Z1TsNWR",button:"Q_eo6 P_3gIMd e_dRA I4_Z2aVTcY C4_52qC r_P y_ZwubDW A_6EqO b_0 I_T"}},_key:"20whPt"};
},{}],"./molecules/message_card/styles/blocked_image_banner":[function(require,module,exports){
module.exports={className:{default:{container:"D_Z1YJkyX ab_C A_6EqO k_w H_A e_dRA b_Z14vXdP Q_6MGW U_6Eb4 P_ZGAgNS a_3Mlf4",message:"P_0 J_x M_ZmsKgw D_Z1YJkyX",button:"C_Z2aVTcY M_3gJOe",buttonsContent:"D_Z1YJkyX ab_CI J_x"}},_key:"V1IQC"};
},{}],"./molecules/message_card/styles/body":[function(require,module,exports){
module.exports={className:{default:{leftRightPadding:"jb_0 X_6MGW N_6Fd5",blockedImageBanner:"X_6MGW",bodyContainer:"P_wpofO iy_A",sponsoredMessageContainer:"I_52qC",flexVertical:"D_F ek_BB",emptyBody:"A_6FsP P_Z17Hvh7 D_F ek_EZ gl_C ab_C",emptyBodyRetry:"r_P C_Z2aVTcY",emptyBodyMessage:"Q_fq7 E_fq7",button:"A_6DUj C_Z1VRpVF Q_36Jhx",textContainer:"J_EN"}},_key:"1V9Mqu"};
},{}],245:[function(require,module,exports){
module.exports={className:{default:{header:"r_P D_F W_6D6F p_R P_3Y3Gk ir_0",fromField:"u_b en_0 C4_Z2aVTcY",fromEmail:"u_N C_Z1VRpVF",snippet:"J_x o_h C_Z1VRpVF",snippetContainer:"J_x o_h G_e Q_fq7",fromRow:"D_F en_0 E_6MGW",avatar:"en_0 Q_fq7 i_0",date:"D_F en_0 M_3gJOe A_6Eb4 C_Z1VRpVF",readUnread:"D_F ac_FT ab_CI en_0",star:"D_F ab_CI Y_689y en_0",attachment:"D_F en_0 s_6Fd5 H_6Fd5 M_Ue8I8",print:"en_0 s_6Fd5 H_6Fd5 M_3gJOe cdPFi_Z291T0t O_cMr O4_cMu",flexVertical:"o_h D_F em_N E_fq7",highlightedTerm:"I_2ieea9 D_X P_3zDxc"},"expandable-false":{header:"r_BN"},"expanded-false":{flexVertical:"ab_C",readUnread:"ab_C",star:"ab_C",date:"ab_C",attachment:"ab_C"},expanded:{header:"P_Zjgzuf",flexVertical:"ek_BB"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"}},_key:"1qYzuR"};
},{}],246:[function(require,module,exports){
module.exports={className:{default:{messageCardContainer:"p_R b_efTvb I_52qC em_N X_fq7 N_6LEV ir3_Z1gmY1F it3_689y",toolbarHoverArea:"H_7jIs D_F ab_C Q_69H5 E_36RhU"},active:{messageCardContainer:"b_2w4l8N p_R j_ZlOSbd"}},_key:"Z18xUz"};
},{}],"./molecules/message_card/styles/more_menu":[function(require,module,exports){
module.exports={className:{default:{popoverContainer:"D_F cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",separator:"m_Z14vXdP M_3HLUz",popoverContent:"P_3Y3Gk"}},_key:"Z1dF06J"};
},{}],247:[function(require,module,exports){
module.exports={className:{default:{wrapper:"D_F W_6D6F r_BN gl_C",container:"D_F ab_C en_0 b_Z14vXdP e_3mS2U I_52qC P_Z1otBpf",bottomLine:"M_0 P_0 cn_0",label:"X_eo6",toolbarItem:"r_P D_F M_1Eu5U7 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",moreMenuItem:"r_P D_F M_oRiNT"}},_key:"l0AJt"};
},{}],248:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.onRetry;return a.default.createElement("div",{className:c.empty,"data-test-id":"group-error"},a.default.createElement("p",null,a.default.createElement(s.FormattedMessage,{id:"group_error.failed_to_load",defaultMessage:"We couldn't load this message."})),a.default.createElement("a",{className:c.emptyRetry,onClick:t,"data-test-id":"group-error-retry"},a.default.createElement(s.FormattedMessage,{id:"group_error.retry",defaultMessage:"Retry"})))}exports.__esModule=!0,exports.default=t;var r=require("react"),a=e(r),s=require("react-intl"),l=require("react-atomic-css/css"),u=e(l),d=require("../styles/message_group_view"),o=e(d),c=(0,u.default)(o.default);module.exports=exports.default;
},{"../styles/message_group_view":"./molecules/message_group_view/styles/message_group_view","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],249:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),s=e(a),t=require("react-intl"),r=require("../../../atoms/fuji_icon_button.jsx"),d=e(r),l=require("../../../atoms/keyboard_navigation_focus_group.jsx"),i=require("react-atomic-css/css"),n=e(i),u=require("../styles/message_group_header"),o=e(u),m=require("../../../platform/utils/mail_ui_vars"),c=require("../../../atoms/constants/fuji_icon"),_=require("../../../platform/utils/folder"),g=(0,t.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"}}),p=(0,n.default)(o.default),f=s.default.createClass({displayName:"MessageGroupHeader",contextTypes:{intl:t.intlShape.isRequired},getDefaultProps:function e(){return{compactGroupHeader:!1}},handleStarClick:function e(a){a.stopPropagation(),this.props.onToggleGroupStar(a)},handleReadClick:function e(a){a.stopPropagation(),this.props.onToggleGroupRead(a)},render:function e(){var a=this.props,r=a.subject,i=a.messageCount,u=a.isRead,f=a.flagged,E=a.compactGroupHeader,k=this.props,S=k.folderName,N=k.folderType,h=k.accountLabel,C=this.context.intl.formatMessage,M=(0,n.default)(o.default,{compactGroupHeader:E}),b=(0,_.getLocalisedFolderName)(C,N)||S,T=(h?h+"/":"")+b;return s.default.createElement(l.KeyboardNavigationFocusGroup,{axis:l.NAVIGATION_AXES.HORIZONTAL,groupTabIndex:m.TabIndices.MESSAGE_GROUP_HEADER},s.default.createElement("header",{"data-test-id":"message-group-header",className:p.groupHeader},s.default.createElement("div",{className:p.readUnread},s.default.createElement(d.default,{"data-test-id":"icon-btn-read",title:C(g[u?"mark_as_unread":"mark_as_read"]),"aria-label":C(g[u?"message_is_read":"message_is_not_read"]),"aria-pressed":!u,kind:c.Kinds.CIRCLE,size:c.Sizes.XS,colorState:u?c.ColorStates.FAINT:c.ColorStates.SELECTED,paddingLess:!0,onClick:this.handleReadClick,"data-iskeynav":!0})),s.default.createElement("div",{className:p.subjectRow},s.default.createElement("span",{"data-test-id":"message-group-subject",className:p.subject,title:r||""},r?s.default.createElement("span",{"data-test-id":"message-group-subject-text"},r):s.default.createElement("span",null,s.default.createElement("span",null,"("),s.default.createElement("span",{className:p.noSubject},s.default.createElement(t.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),s.default.createElement("span",null,")")),i>1?s.default.createElement("span",{"data-test-id":"message-group-count",className:p.messageCount},i):null)),s.default.createElement("div",{className:p.endSideButtonGroup},s.default.createElement("div",{className:M.messageGroupDestinationRow},s.default.createElement("span",{className:p.messageGroupDestinationContainer,title:T,"data-test-id":"message-group-destination"},h?s.default.createElement("span",{className:p.messageGroupDestinationAccount},h):null,h?s.default.createElement("span",null,"/"):null,S?s.default.createElement("span",{className:p.messageGroupDestinationFolder},b):null)),s.default.createElement(d.default,{title:C(g[f?"mark_as_unstarred":"mark_as_starred"]),"aria-label":C(g[f?"message_is_starred":"message_is_not_starred"]),"aria-pressed":f,kind:c.Kinds.STAR,size:c.Sizes.XS,colorState:f?c.ColorStates.STARRED:c.ColorStates.FAINT,paddingLess:!0,onClick:this.handleStarClick,"data-iskeynav":!0}))))}});exports.default=f,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../atoms/keyboard_navigation_focus_group.jsx":"./atoms/keyboard_navigation_focus_group","../../../platform/utils/folder":"./platform/utils/folder","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../styles/message_group_header":254,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],250:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=require("react"),a=t(e),l=require("react-intl"),s=require("../../compose/atoms/toolbar.jsx"),r=t(s),i=require("../../../atoms/navigable_list.jsx"),o=t(i),n=require("../../../atoms/constants/navigable_list"),u=require("react-atomic-css/css"),d=t(u),c=require("../styles/quick_reply"),p=t(c),f=(0,d.default)(p.default),b=function t(){},m=a.default.createClass({displayName:"QuickReply",contextTypes:{config:e.PropTypes.object,intl:l.intlShape.isRequired,executeAction:e.PropTypes.func.isRequired},handleClick:function t(e){e.preventDefault(),e.stopPropagation(),this.props.onReplyAll(e)},handleButtonGroupClick:function t(e){var a=e.target.getAttribute("data-kind");e.preventDefault(),e.stopPropagation(),"reply"===a?this.props.onReply(e):"replyAll"===a?this.props.onReplyAll(e):"forward"===a&&this.props.onForward(e)},render:function t(){var e=this.props,s=e.stationeryRestrictedThemes,i=e.rtl,u=e.emoji,d=e.gif,c=e.stationery;return a.default.createElement("div",{className:f.container,"data-test-id":"quick-reply",onClick:this.handleClick},a.default.createElement("div",{"data-test-id":"quick-reply-button-group",className:f.buttonGroup,onClick:this.handleButtonGroupClick},a.default.createElement(o.default,{kind:n.Kinds.TOOLBAR,tabIndex:0},a.default.createElement(l.FormattedHTMLMessage,{id:"reply_replyall_forward",defaultMessage:'<li class="{listItemClass}"><button tabIndex="-1" data-kind="reply" class="{buttonClass}">Reply</button>, </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="replyAll" class="{buttonClass}">Reply All</button> or </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="forward" class="{buttonClass}">Forward</button></li>',values:{buttonClass:f.button,listItemClass:f.listItem}}))),a.default.createElement(r.default,{formatState:{},onExecuteAction:b,focusOnEditor:b,disabled:!0,stationeryEnabled:c,gifFinderEnabled:d,emojiEnabled:u,stationeryRestrictedThemes:s,rtl:i}))}});exports.default=m,module.exports=exports.default;
},{"../../../atoms/constants/navigable_list":"./atoms/constants/navigable_list","../../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../compose/atoms/toolbar.jsx":"./molecules/compose/atoms/toolbar","../styles/quick_reply":255,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],251:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _=exports.SUPER_COLLAPSE_MIN_GROUP_SIZE=10,S=exports.VISIBLE_STACK_SENDERS=10,E=exports.SUPER_COLLAPSED_MIN_STACK_SIZE=2;
},{}],252:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},a=require("react"),r=t(a),o=require("react-dom"),n=require("react-intl"),i=require("../../types"),d=require("../../platform/utils/mail_ui_vars"),c=require("../../actions/message"),l=e(c),u=require("../../platform/utils/message_group"),p=require("../../platform/keyboard_shortcuts"),m=require("../../platform/keyboard_shortcut_groups"),h=require("../keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),g=t(h),f=require("../../atoms/keyboard_navigation_focus_group.jsx"),_=require("./atoms/message_group_header.jsx"),A=t(_),E=require("./atoms/quick_reply.jsx"),v=t(E),S=require("../message_toolbar/constants"),M=t(S),I=require("../message_card"),R=t(I),y=require("../attachment_tray"),C=t(y),T=require("../compose/smart_scroll.jsx"),D=t(T),G=require("../message_list/atoms/senders.jsx"),w=t(G),x=require("classnames"),P=t(x),k=require("./styles/message_group_view"),O=t(k),b=require("../../platform/mail_constants"),N=require("../../platform/invariant"),L=t(N),K=require("../../platform/rapid_client/constants"),U=require("../../platform/utils"),q=require("../../platform/utils/attachments"),V=require("../../platform/utils/route"),F=require("./constants"),Y=require("../../actions/message_group"),j=e(Y),B=require("../../atoms/lazy_component"),X=b.Compose.Modes,H=(0,p.createShortcutGroup)({group:m.AttachmentPreview,keys:{openPreview:{key:"CTRL+P,META+P",description:r.default.createElement(n.FormattedMessage,{id:"shortcut.previewr_open",defaultMessage:"Open Preview"})}}}),W=(0,n.defineMessages)({conversation_view_label:{id:"message_group_view.conversation_view",defaultMessage:"Conversation View"},message_view_label:{id:"message_group_view.message_view",defaultMessage:"Message View"}}),Q=1e3,z=r.default.createClass({displayName:"MessageGroupView",contextTypes:{executeAction:a.PropTypes.func.isRequired,navigateTo:a.PropTypes.func.isRequired,intl:n.intlShape.isRequired,config:a.PropTypes.object.isRequired,getCss:a.PropTypes.func},getInitialState:function e(){var t=this.props.cards;return{activeItem:t[t.length-1].cardId,messagesMarkedAsUnread:[]}},componentWillReceiveProps:function e(t){this.props.markAsReadOnUnmount?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],t.messageGroup.messages)}):this.markNewlyLoadedBodiesAsRead(t,this.props);var s=this.props.cards,a=t.cards;s.length>0&&s.slice(-1)[0].cardId!==a.slice(-1)[0].cardId&&this.context.executeAction(j.changeMessageGroupCardExpansions,{listId:this.props.listId,messageGroupId:this.props.messageGroup.id,cardIds:a.slice(-1).map(function(e){return e.cardId}),newState:b.CARD_EXPANSION_STATES.EXPANDED})},componentWillMount:function e(){this._attachmentTrays={}},componentDidMount:function e(){this.props.markAsReadOnUnmount||this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{},isAppVisible:this.props.isAppVisible});var t=this.state.activeItem,s=this.props.cards,a=s.find(function(e){var t=e.message;return t&&!t.flags.read});a&&(t=a.cardId,this.setState({activeItem:t}));var r=(0,o.findDOMNode)(this.refs[t]),n=(0,o.findDOMNode)(this._scrollContainer),i=this.props.messageGroup;n.scrollTop=r.offsetTop-S.TOOLBAR_HEIGHT,this.props.hasCoupon&&i.messages&&i.messages.length>0&&i.messages[0].decos&&this.hasCouponDeco(i.messages[0].decos)&&(n.scrollTop=0),this.fetchBodies({cardExpansions:{}})},componentDidUpdate:function e(t){this.fetchBodies(t),this._updateSmartScroll()},componentWillUnmount:function e(){var t=this.props.markAsReadInterval;this.props.markAsReadOnUnmount?this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{}}):this.markReadTimer&&t!==b.MarkAsReadInterval.IMMEDIATELY&&clearTimeout(this.markReadTimer)},fetchBodies:function e(t){var s=t.cardExpansions,a=this.props,r=a.bodyStates,o=a.cards,n=a.listId,i=a.cardExpansions;if(!a.previewMessageV3){var d=o.filter(function(e){return!e.composeData}).filter(function(e){var t=e.message,a=t.id;return s[a]!==i[a]&&i[a]===b.CARD_EXPANSION_STATES.EXPANDED&&(r[a]===b.RecordStates.DOES_NOT_EXIST||r[a]===b.RecordStates.ERROR)}).map(function(e){return e.message.id});d.length&&this.context.executeAction(l.getMessageBodies,{listId:n,messageIds:d})}},previewAttachment:function e(t,s){var a=this.props,r=a.messageGroup,o=a.previewpane,n=a.attachmentPreview,i={mKey:K.MKEYS.OPEN_DOC_PREVIEW,sec:K.SEC_VALUES.ATTM_PREVIEW,interactionType:s};n&&this.context.navigateTo({route:(0,V.buildAttachmentRouteFromListId)(this.props.listId,r.id,t),replacePage:!o||o===b.PreviewPaneSettings.NO,i13nModel:i})},previewAttachmentAlert:function e(t){this.context.executeAction(j.previewAttachmentAlert,{downloadUrl:t})},renderAttachments:function e(t){var s=this,a=t.attachments,o=t.folder,n="undefined"!=typeof o&&o.types.filter(function(e){return e===b.FolderTypes.BULK}).length>0;return a&&a.length?r.default.createElement(C.default,{ref:function e(a){return s._attachmentTrays[t.id]=a},attachments:a,readOnly:!0,allowDownload:!n,mayContainVirus:n,message:t,onAttachmentPreview:this.previewAttachment}):null},scrollToAttachmentTray:function e(t){var s=this._attachmentTrays[t];s&&(0,o.findDOMNode)(s)&&(0,o.findDOMNode)(s).scrollIntoView()},hasCouponDeco:function e(t){return t.some(function(e){return"CPN"===e.id})},handleMailtoClick:function e(t,s){if(s){var a=(0,U.generateUID)();this.context.navigateTo({route:(0,V.buildComposeRouteFromCsid)(a),mailtoAttr:s,message:t})}},renderCard:function e(t,a,o){var n=this.props,i=n.cards,d=n.bodyStates,c=n.isDraftMessage,l=n.listId,u=n.messageGroup,p=n.windowDimensions,m=n.hasAttachmentPreview,h=n.navigateOnMessageAction,g=n.canTakeFocus,f=n.conversations,_=a.cardId,A=this.state.activeItem===_,E=void 0,v=this.props.cardExpansions[_],S=c[_],M=d[_],I=a.message,y=f;if(a.composeData||S&&M===b.RecordStates.ERROR){var C=this.context.getCss(O.default,{conseqCompose:o&&!!o.composeData,active:A,isDraftError:M===b.RecordStates.ERROR}),T=a.composeData,G=!1;T&&(G=T.composeMode===X.REPLY||T.composeMode===X.REPLY_ALL||T.composeMode===X.FORWARD||T.composeMode===X.EDIT&&u.messages.length>1&&y),E=r.default.createElement("div",{ref:_,className:C.composeCard,onFocus:this.handleCardActivation.bind(this,a)},r.default.createElement(D.default,s({},a.composeProps,{key:_,ref:"compose-"+_,listId:l,cardId:_,message:I,composeDataState:M||b.RecordStates.LOADED,composeData:T,showCloseButton:!1,isQuickReply:!0,onClose:this.handleComposeClose,scrollContainer:this._scrollContainer,windowDimensions:p,hasAttachmentPreview:m,isSubjectEditingDisabled:G})))}else E=r.default.createElement(R.default,{ref:_,listId:l,messageGroupId:u.id,message:I,idx:a.idx,totalMessages:a.total,bodyState:M,expanded:v===b.CARD_EXPANSION_STATES.EXPANDED,expandable:i.length>1,onToggleExpand:this.handleMessageCardExpansion.bind(this,a),onCardActivation:this.handleCardActivation.bind(this,a),onClick:this.handleCardActivation.bind(this,a),onMailtoClick:this.handleMailtoClick.bind(this,I),renderAttachmentTray:this.renderAttachments.bind(this,I),scrollToAttachmentTray:this.scrollToAttachmentTray.bind(this,I.id),active:A,canTakeFocus:g,navigateOnMessageAction:h,conversations:f});return r.default.createElement("li",{key:_,className:t.messageCard},E)},_updateSmartScroll:function e(){var t=this;Object.keys(this.refs).forEach(function(e){0===e.indexOf("compose-")&&t.refs[e]&&t.refs[e].update()})},handleStackExpand:function e(t,s){s.preventDefault(),this.context.executeAction(j.changeMessageGroupCardExpansions,{listId:this.props.listId,messageGroupId:this.props.messageGroup.id,cardIds:t.cards.map(function(e){return e.cardId}),newState:b.CARD_EXPANSION_STATES.COLLAPSED})},handleComposeClose:function e(){var t=this.props.cards;(!t||t.length<=1)&&this.props.onClose()},handleMessageCardExpansion:function e(t){var s=t.cardId,a=s,r=this.props.cardExpansions[s],o=r===b.CARD_EXPANSION_STATES.EXPANDED?b.CARD_EXPANSION_STATES.COLLAPSED:b.CARD_EXPANSION_STATES.EXPANDED;this.context.executeAction(j.changeMessageGroupCardExpansions,{listId:this.props.listId,messageGroupId:this.props.messageGroup.id,cardIds:[s],newState:o}),this.setState({activeItem:a})},handleCardActivation:function e(t){this.setState({activeItem:t.cardId}),this.context.executeAction(j.focusMessageCard,{listId:this.props.listId,card:t})},handleKeyDown:function e(t,s){switch(s.key){case"Enter":return s.preventDefault(),s.stopPropagation(),void this.handleStackExpand(t,s);default:return}},renderStack:function e(t,s){return r.default.createElement("li",{className:t.stack,key:s.cards[0].cardId,onClick:this.handleStackExpand.bind(this,s),onKeyDown:this.handleKeyDown.bind(this,s),"data-test-id":"super-collapse-card","data-iskeynav":!0},r.default.createElement("div",{className:t.stackLine}),r.default.createElement("span",{className:t.stackLabel},r.default.createElement(n.FormattedMessage,{id:"super_collapsed_label",defaultMessage:"+{messageNum, number} from {senderList}",values:{messageNum:s.cards.length,senderList:r.default.createElement(w.default,{visibleNum:F.VISIBLE_STACK_SENDERS,senders:(0,u.getParticipants)(s.cards.map(function(e){return(0,L.default)(!e.isDraft,"Stacking drafts is not supported"),e.message})),myAddresses:this.props.myAddresses})}})),r.default.createElement("div",{className:t.stackLine}))},renderCardStacks:function e(t){var s=this,a=this.props.cards.reduce(function(e,t){var a=s.props.cardExpansions[t.cardId],r=e[e.length-1];return r&&a===r.cardExpansion||(r={cardExpansion:a,cards:[]},e.push(r)),r.cards.push(t),e},[]).map(function(e){return e.cardExpansion!==b.CARD_EXPANSION_STATES.STACKED||e.cards.length<F.SUPER_COLLAPSED_MIN_STACK_SIZE||s.props.cards.length<F.SUPER_COLLAPSE_MIN_GROUP_SIZE?e.cards.map(function(e,a,r){return s.renderCard(t,e,r[a+1])}):s.renderStack(t,e)});return Array.prototype.concat.apply([],a)},markNewlyLoadedBodiesAsRead:function e(t,s){var a=this,r=t.messageGroup,o=t.bodyStates,n=t.isAppVisible,i=s.bodyStates,d=s.isAppVisible,c=this.state.messagesMarkedAsUnread,u=this.props.markAsReadInterval;if(n&&u!==b.MarkAsReadInterval.NEVER){var p=r.messages.filter(function(e){return!(e.flags.read||o[e.id]!==b.RecordStates.LOADED||i[e.id]===o[e.id]&&d||c.indexOf(e.id)!==-1)});p.length&&(this.markReadTimer=setTimeout(function(){a.context.executeAction(l.markAsRead,{itemId:r.id,messageIds:p.map(function(e){return e.id})})},d?1e3*u:Q))}},getUserInitiatedUnreadStatus:function e(t,s){var a=this.state.messagesMarkedAsUnread,r=[].concat(a);return s.forEach(function(e){if(!e.flags.read){var s=t.find(function(t){return t.id===e.id&&t.flags.read!==e.flags.read});s&&r.push(s.id)}}),r},_executeGroupAction:function e(t,s){var a=s.i13nModel,r=this.props.messageGroup;this.context.executeAction(t,{messageGroupIds:[r.id],i13nModel:a})},handleReply:function e(t){var s={mKey:K.MKEYS.QUICK_REPLY,sec:K.SEC_VALUES.QUICK_COMPOSE,mKeyGroup:K.MKEY_GROUPS.reply,interaction_type:(0,U.getInteractionFromEvent)(t)};this.context.executeAction(j.replyToLastMessage,{messageGroupId:this.props.messageGroup.id,i13nModel:s})},handleReplyAll:function e(t){var s={mKey:K.MKEYS.QUICK_REPLYALL,sec:K.SEC_VALUES.QUICK_COMPOSE,mKeyGroup:K.MKEY_GROUPS.replyAll,interaction_type:(0,U.getInteractionFromEvent)(t)};this.context.executeAction(j.replyAllToLastMessage,{messageGroupId:this.props.messageGroup.id,i13nModel:s})},handleForward:function e(t){var s={mKey:K.MKEYS.QUICK_FORWARD,sec:K.SEC_VALUES.QUICK_COMPOSE,mKeyGroup:K.MKEY_GROUPS.forward,interaction_type:(0,U.getInteractionFromEvent)(t)};this.context.executeAction(j.forwardLastMessage,{messageGroupId:this.props.messageGroup.id,i13nModel:s})},handleToggleGroupRead:function e(t){t.preventDefault();var s=this.props.messageGroup,a=s.messages[0].flags.read,r=a?j.markMessageGroupsAsUnread:j.markMessageGroupsAsRead;this._executeGroupAction(r,{i13nModel:{mKey:a?K.MKEYS.MSG_GRP_HDR_MARK_UNREAD:K.MKEYS.MSG_GRP_HDR_MARK_READ,sec:K.SEC_VALUES.MSG_BODY,mKeyGroup:a?K.MKEY_GROUPS.mark_unread:K.MKEY_GROUPS.mark_read}})},handleToggleGroupStar:function e(t){t.preventDefault();var s=this.props.messageGroup,a=s.messages[0].flags.flagged,r=a?j.markMessageGroupsAsUnflagged:j.markMessageGroupsAsFlagged;this._executeGroupAction(r,{i13nModel:{mKey:a?K.MKEYS.MSG_GRP_HDR_MARK_UNSTAR:K.MKEYS.MSG_GRP_HDR_MARK_STAR,sec:K.SEC_VALUES.MSG_BODY,mKeyGroup:a?K.MKEY_GROUPS.mark_unstar:K.MKEY_GROUPS.mark_star}})},_shouldShowLabels:function e(){return!this.props.hasAttachmentPreview},_getFirstAttachment:function e(){var t=this.props.messageGroup.messages||[],s=t.find(function(e){return e.attachments&&e.attachments.length});return s&&s.attachments[0]},_lastCardIsCompose:function e(){var t=this.props.cards,s=t[t.length-1];return Boolean(s.composeData)},render:function e(){var t=this,s=this.context.getCss(O.default),a=this.props,o=a.messageGroup,n=a.folderType,i=a.ToolbarControllerView,c=a.hasCoupon,l=a.listId,p=a.compactGroupHeader,m=a.hasAttachmentPreview,h=a.navigateOnMessageAction,_=a.folderName,E=a.accountLabel,S=a.conversations,I=a.emoji,R=a.gif,y=a.stationery,C=n===b.FolderTypes.BULK,T=this._getFirstAttachment(),D=(0,u.getMetadata)(o);return r.default.createElement("div",{className:s.container,"data-test-id":"message-group-view"},i&&r.default.createElement(i,{listId:l,kind:M.default.MESSAGE_VIEW,activeGroupId:o.id,showLabels:this._shouldShowLabels(),hideCloseButton:m,navigateOnMessageAction:h}),r.default.createElement(g.default,{keys:[H.openPreview(function(e){e.preventDefault(),T&&((0,q.isPreviewable)(T)?t.previewAttachment(T.id,(0,U.getInteractionFromEvent)(e)):t.previewAttachmentAlert(T.downloadUrl))})]},r.default.createElement("div",{role:"main","data-test-id":"message-group-view-scroller","aria-label":this.context.intl.formatMessage(S?W.conversation_view_label:W.message_view_label),ref:function e(s){t._scrollContainer=s},className:s.scrollView},c&&this.hasCouponDeco(o.messages[0].decos)?r.default.createElement(B.LazyComponent,{defer:!0,import:"../../apps/mail/controller_views/card_group.jsx",cardConversationId:o.messages[0].cardConversationId,_moduleGetter:function e(){return require("../../apps/mail/controller_views/card_group.jsx")}}):null,r.default.createElement(A.default,{subject:D.subject,compactGroupHeader:p,messageCount:o.messages.length,onToggleGroupRead:this.handleToggleGroupRead,onToggleGroupStar:this.handleToggleGroupStar,isRead:D.flags.read,flagged:D.flags.flagged,folderName:_,folderType:n,accountLabel:E}),r.default.createElement(f.KeyboardNavigationFocusGroup,{groupTabIndex:d.TabIndices.MESSAGE_LIST_MAIN,circularNavigation:!1,excludeKeyCodes:["ArrowUp","ArrowDown"]},r.default.createElement("ul",{className:(0,P.default)(s.cardsContainer,{danger:C}),"data-test-id":"cards"},this.renderCardStacks(s)),!this._lastCardIsCompose()&&S?r.default.createElement(v.default,{stationery:y,gif:R,emoji:I,onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward}):null))))}});exports.default=z,module.exports=exports.default;
},{"../../actions/message":"./actions/message","../../actions/message_group":"./actions/message_group","../../apps/mail/controller_views/card_group.jsx":"./apps/mail/controller_views/card_group","../../atoms/keyboard_navigation_focus_group.jsx":"./atoms/keyboard_navigation_focus_group","../../atoms/lazy_component":"./atoms/lazy_component","../../platform/invariant":"./platform/invariant","../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils":"./platform/utils","../../platform/utils/attachments":"./platform/utils/attachments","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/message_group":"./platform/utils/message_group","../../platform/utils/route":"./platform/utils/route","../../types":"./types","../attachment_tray":156,"../compose/smart_scroll.jsx":182,"../keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","../message_card":243,"../message_list/atoms/senders.jsx":"./molecules/message_list/atoms/senders","../message_toolbar/constants":261,"./atoms/message_group_header.jsx":249,"./atoms/quick_reply.jsx":250,"./constants":251,"./styles/message_group_view":"./molecules/message_group_view/styles/message_group_view","classnames":"./node_modules/classnames/index.js","react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js"}],253:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},t=require("react"),a=e(t),s=require("../../platform/mail_constants"),n=require("../../platform/utils/message_group"),o=require("./index.jsx"),u=e(o),i=require("./atoms/group_error.jsx"),d=e(i),l=require("../../atoms/loading_indicator.jsx"),c=e(l),f=require("../../types"),p=a.default.createClass({displayName:"MessageGroupPreview",handleErrorRetry:function e(){},renderError:function e(){var r=this;return a.default.createElement(d.default,{onRetry:function e(){return r.handleErrorRetry()}})},renderLoading:function e(){return a.default.createElement(c.default,null)},render:function e(){var t=this.props,o=t.groupState,i=t.messageGroup;switch(o){case s.RecordStates.DOES_NOT_EXIST:case s.RecordStates.LOADING:return this.renderLoading();case s.RecordStates.ERROR:return this.renderError();case s.RecordStates.LOADED:default:var d=(0,n.onlyDrafts)(i);return a.default.createElement(u.default,r({},this.props,{key:d?i.messages[0].csid:i.id}))}}});exports.default=p,module.exports=exports.default;
},{"../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/message_group":"./platform/utils/message_group","../../types":"./types","./atoms/group_error.jsx":248,"./index.jsx":252,"react":"./node_modules/react/react.js"}],254:[function(require,module,exports){
module.exports={className:{default:{groupHeader:"D_F m_Z12nDQf P_Z1A2bQX I_52qC ab_CI",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N i_3mCHE",noSubject:"M_3gI0W",messageCount:"em_0 ac_C D_X i_6FIA P_3gJiI e_fFR Q_fq7 E_eTB A_6DUj I_ZpQYvz",readUnread:"D_F ab_C en_0 E_eo6 Y_fq7",messageGroupDestinationRow:"D_F ab_C em_N en_0 o_h M_Z2q6hl",messageGroupDestinationContainer:"D_F t_r A_6EqO C_Z1TsNWR cZ1RzsTJ_ZwubDW",messageGroupDestinationAccount:"G_e J_x o_h a_7yHc",messageGroupDestinationFolder:"G_e J_x o_h a_7iGr",endSideButtonGroup:"D_F ab_C Y_eTB en_0"},compactGroupHeader:{messageGroupDestinationRow:"M_Z2qsJW"}},_key:"Zx1kAF"};
},{}],"./molecules/message_group_view/styles/message_group_view":[function(require,module,exports){
module.exports={className:{default:{container:"D_F ek_BB p_a Z_0 L_0 R_0 T_0 B_0 cZ1RN91d_GG I_ZnwrMC",cardsContainer:"hd_n M_0 X_0",composeCard:"D_F ek_BB gl_C d_3vFsb b_Z14vXdP e_dRA I_52qC",messageCard:"m_Z12nDQf D_F ek_BB ir_0",stack:"I_52qC t_C r_P D_F ab_C P_1EuKY1 H_6TFj p_R ir3_1IO2sY it3_689y",stackLine:"H_dBP em_N z_Z14vXdP",stackLabel:"em_0 M_1Eu7Y9 C_Z1Xxgu2",scrollView:"iz_A em_0 Z_0",empty:"W_6D6F t_C A_6FsP P_Z17Hvh7",emptyRetry:"S_U r_P",sponsoredMessageButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_ZwubDW A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl ir3_1IO2sY it3_dRA",videoAdThumbnail:"W_6D6F",sponsoredVideoBodyContainer:"P_1e3YGS S_n C_Z291T0t",sponsoredMessageSource:"M_1IaimO A_6EWk u_b",sponsoredMessageDescription:"M_1IaimO A_6EqO"},conseqCompose:{composeCard:"cn_ZvFCRQ"},active:{composeCard:"b_2w4l8N j_ZlOSbd"},isDraftError:{composeCard:"d_3mS2U P_aFwN2"},"themeMode-DARK":{container:"I_T"}},_key:"NKPyI"};
},{}],255:[function(require,module,exports){
module.exports={className:{default:{container:"D_F ek_BB r_P P_ZVpSLT I_52qC m_Z14vXdP",buttonGroup:"D_F en_0 u_b C_Z1TsNWR U_7rdk",listItem:"D_I r_BN",button:"r_P u_b C_Z2aVTcY b_0 P_0 M_0 H_6Nds A_6EqO I_T C4_Z29WjXl ir3_1IO2sY it3_dBP",comma:"u_b C_Z1TsNWR"}},_key:"224bfw"};
},{}],"./molecules/message_list/actions":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if((0,(0,G.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled("hero")){var s=e.getStore(A.default),r=s.getActivePageRoute();return(0,L.heroListId)(r,t)}}function s(e,t){var s=t.listId;e.dispatch(_.mail.CHANGE_FOLDER_REQUESTED,{listId:s});var r=(0,L.getFolderIdFromListId)(s),o=e.getStore(M.default).getMailboxes()[0].id,i=(0,G.selectors)(e.store.getState()),a=i.getFeaturesSelectors,S=a(),l=S.getSetting(R.Settings.MESSAGE_FETCH_COUNT);return e.mailAPIClient.request("messageGroups.getList",{folderId:r,mailboxId:o,count:l,offset:0,conversationsMode:S.isEnabled(R.Features.CONVERSATIONS),filter:(0,L.getListFilterFromListId)(s)}).then(function(t){var r=t.messageGroupList,o=t.hasMoreItems;e.dispatch(_.mail.CHANGE_FOLDER_SUCCEEDED,{listId:s,messageGroupList:r,hasMoreItems:o})}).catch(function(t){e.dispatch(_.mail.CHANGE_FOLDER_FAILED,{listId:s,error:t})})}function r(e,t){var s=t.sortOrder;e.dispatch(_.mail.LIST_SORT_ORDER_CHANGE_REQUESTED,{sortOrder:s})}function o(e,s){var r=s.listId,o=s.messageGroupIds,i=s.isHero,a=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_SELECTED,{listId:r,cursorId:a,isHero:i,messageGroupIds:o})}function i(e,s){var r=s.listId,o=s.targetGroupId,i=s.isHero,a=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_RANGE_SELECTED,{listId:r,cursorId:a,isHero:i,targetGroupId:o})}function a(e,s){var r=s.listId,o=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_NONE_SELECTED,{listId:r,cursorId:o})}function S(e,s){var r=s.listId,o=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_READ_SELECTED,{listId:r,cursorId:o})}function l(e,s){var r=s.listId,o=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_UNREAD_SELECTED,{listId:r,cursorId:o})}function d(e,s){var r=s.listId,o=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_STARRED_SELECTED,{listId:r,cursorId:o})}function E(e,s){var r=s.listId,o=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_UNSTARRED_SELECTED,{listId:r,cursorId:o})}function c(e,s){var r=s.listId,o=s.isHero,i=s.movement,a=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_SELECT_CURSOR_MOVED,{listId:r,cursorId:a,isHero:o,movement:i})}function n(e,s){var r=s.listId,o=t(e,r);e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_ALL_SELECTED,{listId:r,cursorId:o})}function u(e,s){var r=s.listId,o=s.movement,i=s.unit,a=s.i13nModel,S=(0,G.selectors)(e.store.getState()),l=S.getFeaturesSelectors,d=l(),E=t(e,r);d.isEnabled("previewMessageV3")||e.dispatch(_.mail.MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED,{listId:r,cursorId:E,movement:o,unit:i,i13nModel:a})}function I(e,s){var r=s.listId,o=s.isHero,i=s.messageGroupIds,a=t(e,r);e.dispatch(_.mail.ITEMS_DRAG_STARTED,{listId:r,cursorId:a,isHero:o,messageGroupIds:i})}exports.__esModule=!0,exports.loadMoreMessagesAfterScroll=void 0,exports.retryLoading=s,exports.changeSortOrder=r,exports.toggleSelection=o,exports.selectRange=i,exports.selectNone=a,exports.selectRead=S,exports.selectUnread=l,exports.selectStarred=d,exports.selectUnstarred=E,exports.selectMove=c,exports.selectAll=n,exports.moveCursor=u,exports.itemDragStart=I;var _=require("../../platform/react_action_constants"),m=require("../../stores/user_preferences"),M=e(m),p=require("../../stores/mail"),g=e(p),f=require("../../stores/pages"),A=e(f),L=require("../../platform/utils/list"),G=require("../../reducers_selectors"),R=require("../../platform/mail_constants"),T=exports.loadMoreMessagesAfterScroll=function(){var e=void 0;return function s(r,o){var i=o.listId,a=o.offset,S=o.count,l=o.allItemsSelected,d=t(r,i);if(clearTimeout(e),r.getStore(g.default).isAsyncTaskPending())return void(e=setTimeout(function(){return T(r,{listId:i,offset:a,count:S,allItemsSelected:l})},1e3));var E=r.getStore(M.default),c=E.getMailboxes()[0].id,n=(0,G.selectors)(r.store.getState()),u=n.getFeaturesSelectors,I=u(),m={folderId:(0,L.getFolderIdFromListId)(i),mailboxId:c,sortOrder:(0,L.getSortOrderFromListId)(i),filter:(0,L.getListFilterFromListId)(i),count:S,offset:a,conversationsMode:I.isEnabled(R.Features.CONVERSATIONS)};return r.mailAPIClient.request("messageGroups.getList",m).then(function(e){var t=e.messageGroupList,s=e.hasMoreItems;return r.dispatch(_.mail.MORE_MESSAGES_REQUEST_SUCCESS,{listId:i,cursorId:d,messageGroupList:t,hasMoreItems:s,allItemsSelected:l})}).catch(function(e){r.dispatch(_.mail.MORE_MESSAGES_REQUEST_FAILED,{listId:i,error:e})})}}();
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils/list":"./platform/utils/list","../../reducers_selectors":"./reducers_selectors","../../stores/mail":"./stores/mail","../../stores/pages":"./stores/pages","../../stores/user_preferences":"./stores/user_preferences"}],"./molecules/message_list/atoms/attachment_icon":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),r=require("../styles/attachment_icon"),s=e(r),n=require("../../../atoms/fuji_icon.jsx"),i=e(n),l=require("../../../atoms/constants/fuji_icon"),o=require("react-intl"),c=require("../../../types"),m=require("../../../atoms/popover/asymmetric_popover.jsx"),d=e(m),u=require("../../../atoms/constants/popover"),f=require("../../../platform/utils/attachments"),p=require("../../attachment_tray/atoms/item.jsx"),h=e(p),g=require("../../../platform/rapid_client/constants"),E=require("../../../atoms/carousel"),_=e(E),v=require("../../../platform/utils/mail_ui_vars"),A=100,T=30,M=function e(t,r){function n(e,a){var r=t.messageGroup,s=r.id,n=Object.assign({mKey:g.MKEYS.ATTACHMENT_LIGHTBOX_OPEN,sec:g.SEC_VALUES.MSG_LIST_MSG,interactionType:a});t.onAttachmentPreviewClick({attachmentId:e,messageGroupId:s,i13nModel:n})}var c=t.attachmentTraySize,p=t.previewableInlineAttachmentSize,E=t.attachments,T=t.showAttachmentClip,M=r.getCss(s.default),S=(0,f.getAttachmentsForMessageListPreview)(E,p),w=S.map(function(e,r){return a.default.createElement("span",{key:r,className:M.attachmentItem,"data-test-id":"attachment-item-"+r},a.default.createElement(h.default,{attachment:e,readOnly:!0,allowDownload:!1,onRemove:function e(){},onClick:n.bind(null,e.id),isPreviewEnabled:!t.isSpam,previewWithoutDownload:!0,smallPreview:!0}))});return!T&&!S.length||t.isHovered?S.length?null:a.default.createElement("span",{className:M.accessible,"data-test-id":"accessible-no-attachment"},a.default.createElement(o.FormattedMessage,{id:"msg_no_attachment",defaultMessage:"No attachment"})):a.default.createElement(d.default,{arrowSize:u.ArrowSizes.M,permittedArrowDirections:[u.PermittedArrowDirections.UP,u.PermittedArrowDirections.DOWN],triggerOn:m.OnTriggers.HOVER_DELAYED,triggerDelayTime:200,triggerOff:m.OffTriggers.HOVER_OUT,align:u.Align.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:v.ZIndices.POPOVER.MEDIUM},a.default.createElement("span",{"data-test-id":"attachment-icon",className:M.attachmentIcon},a.default.createElement(i.default,{kind:S.length?(0,f.getBestAttachmentIconKind)(t.attachments):l.Kinds.ATTACHMENT,size:l.Sizes.XS,colorState:t.isDarkThemeMode?l.ColorStates.FAINT:l.ColorStates.DISABLED}),a.default.createElement("span",{className:M.accessible},a.default.createElement(o.FormattedMessage,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),a.default.createElement("div",{"data-test-id":"attachment-popover"},S.length>c?a.default.createElement("div",{style:{width:60+A*c},className:M.attachmentsCarouselContainer},a.default.createElement(_.default,{itemWidth:A},w)):a.default.createElement("div",{className:M.attachmentsPopoverContainer},w)))};M.defaultProps={isHovered:!1,attachmentTraySize:3},M.contextTypes={getCss:t.PropTypes.func,config:t.PropTypes.object},exports.default=M,module.exports=exports.default;
},{"../../../atoms/carousel":"./atoms/carousel","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/popover/asymmetric_popover.jsx":"./atoms/popover/asymmetric_popover","../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../../platform/utils/attachments":"./platform/utils/attachments","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../../types":"./types","../../attachment_tray/atoms/item.jsx":"./molecules/attachment_tray/atoms/item","../styles/attachment_icon":"./molecules/message_list/styles/attachment_icon","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],256:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),r=require("react-atomic-css/css"),a=e(r),i=require("../styles/message_list"),o=e(i),u=require("../../../atoms/fuji_icon.jsx"),n=e(u),l=require("../../../atoms/constants/fuji_icon"),c=(0,a.default)(o.default),f=s.default.createClass({displayName:"DragIcon",getDefaultProps:function e(){return{formatNumber:function e(t){return""+t}}},render:function e(){var t=this.props,r=t.count,a=t.formatNumber;return(this.props.x||this.props.y)&&(this.iconStyles={left:this.props.x,top:this.props.y}),s.default.createElement("div",{className:this.iconStyles&&c.dragIcon,style:this.iconStyles?this.iconStyles:{}},s.default.createElement(n.default,{kind:l.Kinds.INBOX,size:l.Sizes.XS}),s.default.createElement("b",{className:c.counter},a(r)))}});exports.default=f,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../styles/message_list":"./molecules/message_list/styles/message_list","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],"./molecules/message_list/atoms/item":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.MessageItem=void 0;var a=require("react"),s=t(a),i=require("react-redux"),r=require("react-intl"),n=require("lodash/debounce"),l=t(n),o=require("../../../platform/utils/message_group"),c=require("../../../platform/utils/object"),d=require("../../../platform/utils/folder"),u=require("../../../platform/utils"),m=require("../../../types"),p=require("../../../platform/mail_constants"),h=require("../constants"),g=e(h),f=require("../../../atoms/button"),C=t(f),v=require("../../../atoms/fuji_icon.jsx"),b=t(v),E=require("../../../atoms/constants/fuji_icon"),k=require("../../../atoms/checkbox.jsx"),S=t(k),M=require("../../date_time_label"),y=t(M),D=require("./senders.jsx"),T=t(D),_=require("../styles/message_item"),I=t(_),L=require("../utils/senders"),A=require("../../../atoms/folder_label.jsx"),P=t(A),N=require("../../item_list/utils/highlight"),x=require("../../../platform/theming/themes"),F=require("../../../molecules/advanced_search_pane/atoms/strings"),O=t(F),q=require("../../../platform/utils/account"),w=require("./read_icon.jsx"),j=t(w),R=require("./star_icon.jsx"),G=t(R),H=require("./search_icon.jsx"),B=t(H),K=require("./trash_icon.jsx"),z=t(K),U=require("./attachment_icon.jsx"),W=t(U),Y=require("../../../reducers_selectors"),V=function e(){},X={},J=(0,r.defineMessages)({email_aria_label:{id:"email_aria_label",defaultMessage:"{senderNames}'s email"},deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"}}),Z=(0,l.default)(function(){var e=void 0;try{e=new MouseEvent("mouseover",{bubbles:!0,cancelable:!0,view:window})}catch(t){e=document.createEvent("MouseEvent"),e.initMouseEvent("mouseover",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}document.activeElement.dispatchEvent(e),setTimeout(function(){return document.activeElement.dispatchEvent(e)},0)},100,{leading:!0}),Q=exports.MessageItem=s.default.createClass({displayName:"MessageItem",contextTypes:{intl:r.intlShape.isRequired,getCss:a.PropTypes.func,getThemeMode:a.PropTypes.func,config:a.PropTypes.object,getUrlFromRoute:a.PropTypes.func.isRequired},shouldComponentUpdate:function e(t,a){var s=this.props.messageGroup===t.messageGroup;return this.props.scrollPerf&&(s=this.props.messageIds===t.messageIds&&this.props.isRead===t.isRead&&this.props.isStarred===t.isStarred),!s||this.props.tabIndex!==t.tabIndex||this.props.snippetsEnabled!==t.snippetsEnabled||this.props.layout!==t.layout||this.props.selected!==t.selected||this.props.active!==t.active||this.state.hover!==a.hover},getInitialState:function e(){return{hover:!1}},getDefaultProps:function e(){return{isScrolling:V,isDragging:V,onInteraction:V}},handleCheckboxClicked:function e(t){var a=this.props.messageGroup;t.preventDefault(),t.stopPropagation(),t.shiftKey?this.props.onShiftClick(a):this.props.onCheckboxClick(a,{interactionType:(0,u.getInteractionFromEvent)(t)})},handleReadIconClicked:function e(t){var a=this.props.messageGroup;t.preventDefault(),t.stopPropagation(),this.props.onReadClick(a,{interactionType:(0,u.getInteractionFromEvent)(t)})},handleStarIconClicked:function e(t){var a=this.props.messageGroup;t.preventDefault(),t.stopPropagation(),this.props.onStarClick(a,{interactionType:(0,u.getInteractionFromEvent)(t)})},handleDeleteIconClicked:function e(t){var a=this.props.messageGroup;t.preventDefault(),t.stopPropagation(),this.props.onDeleteClick(a,{interactionType:(0,u.getInteractionFromEvent)(t)}),Z()},handleContactSearchClicked:function e(t){var a=this.props.messageGroup;t.preventDefault(),t.stopPropagation(),this.props.onContactSearchClick(a,{interactionType:(0,u.getInteractionFromEvent)(t)})},handleSubjectSearchClicked:function e(t){var a=this.props.messageGroup;t.preventDefault(),t.stopPropagation(),this.props.onSubjectSearchClick(a,{interactionType:(0,u.getInteractionFromEvent)(t)})},handleOnClick:function e(t){var a=this.props,s=a.onClick,i=a.messageGroup;t.stopPropagation(),t.preventDefault(),t.metaKey||t.ctrlKey?this.handleCheckboxClicked(t):t.shiftKey?this.props.onShiftClick(i):s(i,{interactionType:(0,u.getInteractionFromEvent)(t)})},handleAccessibilityOnClick:function e(t){this.handleOnClick(t)},handleOnDoubleClick:function e(t){var a=this.props,s=a.onDoubleClick,i=a.messageGroup;t.stopPropagation(),t.preventDefault(),t.shiftKey?this.props.onShiftClick(i):s(i,{interactionType:(0,u.getInteractionFromEvent)(t)})},renderMessageCount:function e(t,a,i){return s.default.createElement("span",{"data-test-id":"message-count",className:t>1?a:i,role:"gridcell"},s.default.createElement("span",{className:i,"data-test-id":"accessible-message-count"},s.default.createElement(r.FormattedMessage,{id:"msg_count",values:{messageCount:t},defaultMessage:"{messageCount, plural,\n                                            one {# message}\n                                            other {# messages}\n                                        }"})),t>1?s.default.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},t):null)},renderDraftLabel:function e(t,a,i){return s.default.createElement("span",{"data-test-id":"draft-indicator",className:t?a:i},t?s.default.createElement(r.FormattedMessage,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)},renderSubject:function e(t,a,i){return s.default.createElement("span",{"data-test-id":"message-subject",className:i.subject,onClick:this.handleAccessibilityOnClick,role:"gridcell",title:(0,N.removeHighlightDelimiters)(t)},t?(0,N.getHighlightedBlocks)(t,a,i.highlightedTerm):s.default.createElement("span",null,s.default.createElement("span",null,"("),s.default.createElement("span",{className:i.noSubject},s.default.createElement(r.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),s.default.createElement("span",null,")")))},renderMessageDestinationLabel:function e(t){switch(this.props.messageDestinationLabel){case g.MessageDestinationLabels.ACCOUNT:return this.renderAccountLabel(t);case g.MessageDestinationLabels.FOLDER:return this.renderFolderLabel(t);case g.MessageDestinationLabels.NONE:return null}},renderAccountLabel:function e(t){var a=this.props,i=a.accounts,r=a.messageGroup,n=r.messages[0].folder,l=i.find(function(e){return e.id===n.accountId}),c=this.context.intl,u=c.formatMessage,m=c.locale,h=(0,o.getMetadata)(r),g=h.folder,f=(0,d.getFolderDisplayType)(g),C=(0,d.getLocalisedFolderName)(u,f)||n.name,v=X[m];if(!v){var b;v=X[m]=(b={},b[p.EmailProviders.YAHOO]=u(O.default.yahoo_account_description),b[p.EmailProviders.YAHOO_SB]=u(O.default.yahoo_account_description),b[p.EmailProviders.OUTLOOK]=u(O.default.outlook_account_description),b[p.EmailProviders.AOL]=u(O.default.aol_account_description),b[p.EmailProviders.GOOGLE]=u(O.default.gmail_account_description),b[p.EmailProviders.GOOGLE_APP]=u(O.default.gmail_account_description),b)}var E=l.description||v[(0,q.getProviderFromAccount)(l)];return s.default.createElement("div",{className:t.messageDestinationLabel,"data-test-id":"account"},s.default.createElement("span",{title:E+"/"+C},E))},renderFolderLabel:function e(t){var a=this.props.messageGroup,i=this.context.intl.formatMessage,r=(0,o.getMessageGroupFolder)(a),n=(0,d.getFolderDisplayType)(r),l=(0,d.getLocalisedFolderName)(i,n)||r.name;return s.default.createElement("div",{className:t.messageDestinationLabel,title:l,"data-test-id":"folder"},s.default.createElement(P.default,{folderDisplayType:n,name:r.name}))},render:function e(){var t=this,a=this.props,i=a.messageGroup,r=a.selected,n=a.active,l=a.route,c=a.myAddresses,d=a.highlightSearchTerm,u=a.folderType,m=a.listId,h=a.layout,g=a.isBriefView,f=a.isCompactLayout,v=a.isConversationMode,k=a.snippetsEnabled,M=a.onDragStart,D=a.onDragEnd,_=a.hideSearchIcon,A=a.attachmentTraySize,P=a.replyIndicator,F=a.previewableInlineAttachmentSize,O=k&&!g,q=this.context.intl.formatMessage,w=(0,o.getMetadata)(i,{listId:m}),R=this.props,H=R.isRead,K=R.isStarred,U=R.isReplied,Y=R.isForwarded;this.props.scrollPerf||(H=w.flags.read,K=w.flags.flagged,P&&(U=w.flags.answered,Y=w.flags.forwarded));var V=w.hasVerifiedMessage,X=h===p.MessageListLayout.COMPACT_SLIM||h===p.MessageListLayout.COMPACT_SNIPPET_SLIM,Z=h===p.MessageListLayout.COMPACT_NORMAL||h===p.MessageListLayout.COMPACT_SNIPPET_NORMAL,Q=h===p.MessageListLayout.COMPACT_RELAXED||h===p.MessageListLayout.COMPACT_SNIPPET_RELAXED,$=h===p.MessageListLayout.SLIM&&!X,ee=w.hasDraft,te=w.participants,ae=w.recipients,se=(0,N.getHighlightPosition)(w.snippetWithMatchDelimiter,d),ie=1===i.messages.length,re=this.context.getThemeMode()===x.ThemeModes.DARK,ne=this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging(),le=ne&&f,oe=u===p.FolderTypes.SENT||u===p.FolderTypes.DRAFT?(0,L.sentParticipants)({recipients:ae,participants:te,myAddresses:c}):te,ce=oe.map(function(e){return e.name}).join(", "),de=oe&&oe.length&&(0,L.dedupSenders)(oe),ue=de&&1===de.length&&(!f||1===i.messages.length)&&c&&!_,me=!v&&!f&&!g,pe=ne&&me,he=(0,o.getAttachmentsWithFileNames)(i),ge=he.length>0&&!g&&!ne&&f,fe=this.context.getCss(I.default,{isStarred:K,isRead:H,highlightPosition:se,isCompactLayout:f,layout:h,hasJustOneMessage:ie,isCompactSlimLayout:X,isCompactNormalLayout:Z,isCompactRelaxedLayout:Q,isNonCompactSlimLayout:$,borderless:g,showSubjectSearchAndHovered:pe,isCompactHovered:le,isCompactHasAttachmentIcon:ge}),Ce=u===p.FolderTypes.BULK,ve=fe.container+(n?" "+fe.active:"")+(r?" "+fe.selected:""),be=!(!(0,o.getAttachmentsCount)(i)||(0,o.hasAttachment)(i)&&!((0,o.hasAttachment)(i)&&he.length>0));return s.default.createElement("a",{role:"row","data-test-id":"message-list-item","data-test-active":r,"data-test-starred":K,"data-test-read":H,tabIndex:this.props.tabIndex,"aria-label":q(J.email_aria_label,{senderNames:ce}),href:this.context.getUrlFromRoute(l),onClick:this.handleOnClick,onDoubleClick:this.handleOnDoubleClick,onMouseOver:function e(){t.state.hover||t.props.isScrolling()||t.props.isDragging()||t.setState({hover:!0})},onMouseLeave:function e(){return t.setState({hover:!1})},className:ve+" message-list-item",onDragStart:M,onDragEnd:D},g?null:s.default.createElement("div",{className:fe.gridB1,draggable:"true"},s.default.createElement("div",{"data-test-id":"icon-btn-checkbox-container",className:fe.check,role:"gridcell",onClick:this.handleCheckboxClicked,onDoubleClick:this.handleCheckboxClicked},s.default.createElement(S.default,{"data-test-id":"icon-btn-checkbox","aria-label":q(r?J.deselectionAriaLabel:J.selectionAriaLabel),isChecked:!!r,onClick:this.handleCheckboxClicked,onDoubleClick:this.handleCheckboxClicked,isInverted:re,className:fe.checkbox})),V?s.default.createElement(C.default,{"data-test-id":"icon-btn-ybadge",className:fe.ybadgeIcon},s.default.createElement(b.default,{kind:E.Kinds.YBADGE,size:E.Sizes.XS,colorState:E.ColorStates.YBADGE})):s.default.createElement("div",{className:fe.readIcon,role:"gridcell"},s.default.createElement(j.default,{isHovered:ne,isRead:H,isReplied:U,isForwarded:Y,isDarkThemeMode:re,onClick:this.handleReadIconClicked})),s.default.createElement("div",{className:fe.senders,"data-test-id":"senders"},s.default.createElement(T.default,{isRead:H,senders:oe,myAddresses:c,onClick:this.handleAccessibilityOnClick}),le?s.default.createElement(B.default,{isHovered:ne,showSearch:ue,isCompact:f,isDarkThemeMode:re,onClick:this.handleContactSearchClicked}):null,f?this.renderMessageCount(i.messages.length,fe.messageCount,fe.accessible):null,f?this.renderDraftLabel(ee,fe.draftIndicator,fe.accessible):null),f?null:s.default.createElement(B.default,{isHovered:ne,showSearch:ue,searchType:p.SearchTypes.CONTACT,isCompact:f,isDarkThemeMode:re,onClick:this.handleContactSearchClicked})),g?null:s.default.createElement("div",{className:fe.starIcon,role:"gridcell",draggable:"true"},s.default.createElement(G.default,{isHovered:ne,isStarred:K,isDarkThemeMode:re,onClick:this.handleStarIconClicked})),s.default.createElement("div",{className:fe.gridB2,draggable:"true"},s.default.createElement("div",{className:fe.message},s.default.createElement("div",{className:fe.subjectContainer},this.renderSubject(w.subjectWithMatchDelimiter,d,fe),f?null:this.renderMessageCount(i.messages.length,fe.messageCount,fe.accessible),f?null:this.renderDraftLabel(ee,fe.draftIndicator,fe.accessible)),s.default.createElement("span",{className:fe.subjectSearchIcon},s.default.createElement(B.default,{isHovered:ne,showSearch:me,searchType:p.SearchTypes.SUBJECT,isCompact:f,isDarkThemeMode:re,onClick:this.handleSubjectSearchClicked})),O?s.default.createElement("div",{className:fe.snippetContainer,"data-test-id":"snippet"},s.default.createElement("div",{className:fe.snippet,onClick:this.handleAccessibilityOnClick,role:"gridcell"},(0,N.getHighlightedBlocks)(w.snippetWithMatchDelimiter,d,fe.highlightedTerm))):null),this.renderMessageDestinationLabel(fe),g?null:s.default.createElement("div",{className:fe.attachmentIcon,"data-test-id":"attach-icon-wrapper",role:"gridcell"},s.default.createElement(W.default,{previewableInlineAttachmentSize:F,attachments:he,isHovered:le,isDarkThemeMode:re,onAttachmentPreviewClick:this.props.onAttachmentPreviewClick,messageGroup:i,isSpam:Ce,attachmentTraySize:A,showAttachmentClip:be})),s.default.createElement("span",{className:fe.dateWrapper+" date",style:ne?{display:"none"}:{},role:"gridcell"},s.default.createElement(y.default,{"data-test-id":"date-time-label",date:new Date(1e3*w.date)})),!g&&!f&&s.default.createElement("div",{className:fe.iconB2,role:"gridcell"},s.default.createElement(z.default,{isHovered:ne,isCompact:f,isDarkThemeMode:re,onClick:this.handleDeleteIconClicked}))),!g&&f&&s.default.createElement("div",{className:fe.iconB2,role:"gridcell"},s.default.createElement(z.default,{isHovered:ne,isCompact:f,isDarkThemeMode:re,onClick:this.handleDeleteIconClicked})))}}),$=exports.mapStateToProps=function e(t,a){var s=(0,Y.selectors)(t),i=s.getMessageGroupsSelectors,r=s.getMessagesSelectors,n=s.getFeaturesSelectors,l=n(),o=l.isEnabled("replyIndicator"),c=l.isEnabled("scrollPerf"),d=l.getSetting(p.Settings.PREVIEWABLE_INLINE_ATTACHMENT_SIZE);if(!c)return{replyIndicator:o,scrollPerf:c,previewableInlineAttachmentSize:d};var u=i(),m=u.getMessageIdsFromMessageGroupId,h=m(a.messageGroup.id);return{messageIds:h,scrollPerf:c,previewableInlineAttachmentSize:d,isRead:!h.some(function(e){return!r().getFlags(e).read}),isStarred:h.some(function(e){return r().getFlags(e).flagged}),isReplied:h.some(function(e){return r().getFlags(e).answered}),isForwarded:h.some(function(e){return r().getFlags(e).forwarded})}};exports.default=(0,i.connect)($)(Q);
},{"../../../atoms/button":"./atoms/button","../../../atoms/checkbox.jsx":"./atoms/checkbox","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/folder_label.jsx":"./atoms/folder_label","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../molecules/advanced_search_pane/atoms/strings":"./molecules/advanced_search_pane/atoms/strings","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/theming/themes":"./platform/theming/themes","../../../platform/utils":"./platform/utils","../../../platform/utils/account":"./platform/utils/account","../../../platform/utils/folder":"./platform/utils/folder","../../../platform/utils/message_group":"./platform/utils/message_group","../../../platform/utils/object":"./platform/utils/object","../../../reducers_selectors":"./reducers_selectors","../../../types":"./types","../../date_time_label":"./molecules/date_time_label","../../item_list/utils/highlight":"./molecules/item_list/utils/highlight","../constants":"./molecules/message_list/constants","../styles/message_item":"./molecules/message_list/styles/message_item","../utils/senders":"./molecules/message_list/utils/senders","./attachment_icon.jsx":"./molecules/message_list/atoms/attachment_icon","./read_icon.jsx":"./molecules/message_list/atoms/read_icon","./search_icon.jsx":"./molecules/message_list/atoms/search_icon","./senders.jsx":"./molecules/message_list/atoms/senders","./star_icon.jsx":"./molecules/message_list/atoms/star_icon","./trash_icon.jsx":"./molecules/message_list/atoms/trash_icon","lodash/debounce":"./node_modules/lodash/debounce.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js"}],"./molecules/message_list/atoms/read_icon":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),s=e(a),t=require("../styles/read_icon"),d=e(t),r=require("../../../atoms/button"),l=e(r),i=require("../../../atoms/fuji_icon.jsx"),n=e(i),o=require("../../../atoms/constants/fuji_icon"),c=require("react-intl"),m=(0,c.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"},msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"},msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),u=function e(a,t){var r=a.isDarkThemeMode,i=t.getCss(d.default,{isDarkThemeMode:r}),c=t.intl.formatMessage,u=null;return u=a.isRead?a.isHovered?s.default.createElement("span",{className:i.iconContainer},s.default.createElement(n.default,{"data-test-read":a.isRead,kind:o.Kinds.CIRCLE,size:o.Sizes.XS,colorState:o.ColorStates.INHERITED}),s.default.createElement("span",{className:i.accessible,"aria-label":c(a.isRead?m.msgIsRead:m.msgIsNotRead)})):a.isReplied?s.default.createElement("span",{className:i.indicator},s.default.createElement(n.default,{"data-test-read":a.isRead,kind:o.Kinds.REPLY,size:o.Sizes.XXXS,colorState:r?o.ColorStates.INHERITED:o.ColorStates.SECOND_LEVEL_GRAY}),s.default.createElement("span",{className:i.accessible,"aria-label":c(m.msgIsReplied)})):a.isForwarded?s.default.createElement("span",{className:i.indicator},s.default.createElement(n.default,{"data-test-read":a.isRead,kind:o.Kinds.FORWARD,size:o.Sizes.XXXS,colorState:r?o.ColorStates.INHERITED:o.ColorStates.SECOND_LEVEL_GRAY}),s.default.createElement("span",{className:i.accessible,"aria-label":c(m.msgIsForwarded)})):s.default.createElement("span",{className:i.accessible,"aria-label":c(m.msgIsRead)}):s.default.createElement("span",{className:i.iconContainer},s.default.createElement(n.default,{"data-test-read":a.isRead,kind:o.Kinds.CIRCLE,size:o.Sizes.XS,colorState:r?o.ColorStates.SELECTED_DARK_THEME_MODE:o.ColorStates.SELECTED}),s.default.createElement("span",{className:i.accessible,"aria-label":c(m.msgIsNotRead)})),s.default.createElement(l.default,{"data-test-id":"icon-btn-read",title:c(a.isRead?m.markAsUnread:m.markAsRead),onClick:a.onClick,onDoubleClick:a.onClick,className:i.readIcon},u)};u.defaultProps={isHovered:!1,isCompact:!1},u.contextTypes={intl:c.intlShape,getCss:a.PropTypes.func},exports.default=u,module.exports=exports.default;
},{"../../../atoms/button":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../styles/read_icon":"./molecules/message_list/styles/read_icon","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/message_list/atoms/search_icon":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),a=require("../styles/search_icon"),r=e(a),c=require("../../../atoms/button"),o=e(c),i=require("../../../atoms/fuji_icon.jsx"),n=e(i),l=require("../../../atoms/constants/fuji_icon"),u=require("../../../platform/mail_constants"),d=require("react-intl"),f=(0,d.defineMessages)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),h=function e(t,a){var c=t.isDarkThemeMode,i=t.searchType===u.SearchTypes.SUBJECT,d=a.getCss(r.default,{isDarkThemeMode:c}),h=a.intl.formatMessage;return t.showSearch&&t.isHovered?s.default.createElement(o.default,{"data-test-id":"icon-btn-search",title:h(i?f.searchBySubject:f.searchByContact),onClick:t.onClick,onDoubleClick:t.onClick,className:t.isCompact?d.contactSearchIconCompact:d.searchIcon},s.default.createElement("span",{className:d.iconContainer},s.default.createElement(n.default,{kind:l.Kinds.SEARCH_MINI,size:l.Sizes.XS,colorState:l.ColorStates.INHERITED}))):null};h.defaultProps={isHovered:!1,isCompact:!1},h.contextTypes={intl:d.intlShape,getCss:t.PropTypes.func},exports.default=h,module.exports=exports.default;
},{"../../../atoms/button":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../platform/mail_constants":"./platform/mail_constants","../styles/search_icon":"./molecules/message_list/styles/search_icon","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/message_list/atoms/senders":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),s=require("../../../types"),n=require("../styles/senders"),i=e(n),a=require("react-atomic-css/css"),l=e(a),u=require("../utils/senders"),d=require("react-intl"),o=(0,d.defineMessages)({comma:{id:"mail_app.comma_with_space",defaultMessage:",\\u0020"},me:{id:"mail_app.me",defaultMessage:"me"},and:{id:"mail_app.and",defaultMessage:"\\u0020and\\u0020"}}),p=" .. ",c=".",m=10,f=r.default.createClass({displayName:"SendersList",getDefaultProps:function e(){return{visibleNum:3,myAddresses:{},transparent:!1}},contextTypes:{intl:d.intlShape},getSenderLabelText:function e(t){var r=t.name,s=t.email,n=this.props.myAddresses,i=this.context.intl.formatMessage,a=void 0;return a=n[s]?i(o.me):r?r.split(" ")[0]:s.split("@")[0],a.length>m+c.length?a.slice(0,m)+c:a},trimIndicesToVisible:function e(t,r){var s=this.props.visibleNum;return t.length<=s-1?r:r.slice(0,t[0].recent?s-1:s)},getLabel:function e(t,s){var n=t?"span":"strong";return r.default.createElement(n,0,s)},getSenderLabels:function e(t){var r=this,s=this.props,n=s.myAddresses,i=s.isRead,a=this.context.intl.formatMessage;if(0===t.length)return null;if(1===t.length){var l=t[0],d=l.email,c=n[d]?a(o.me):null,m=c||l.name||l.email;return this.getLabel(i,m)}var f=[],h=(0,u.dedupSenders)(t),g=(0,u.createPriorityIndices)(h),v=h.map(function(e){return r.getSenderLabelText(e)}),b=this.trimIndicesToVisible(h,g).sort(),x=0;return b.forEach(function(e,t){var r=v[e];e>x+1?f.push(p):t>0&&f.push(a(o.comma)),f.push(r),x=e}),this.getLabel(i,f.join(""))},getSenderTooltip:function e(t){var r=this,s=this.context.intl.formatMessage,n=(0,u.dedupSenders)(t),i="";if(n)if(i=n.map(function(e){return r.getSenderLabelText(e)}),i=i.filter(function(e,t,r){return r.indexOf(e)===t}),1===i.length)i=n[0].email;else{var a=i.pop();i=i.join(s(o.comma))+s(o.and)+a}return i},render:function e(){var t=(0,l.default)(i.default,{transparent:this.props.transparent}),s=this.props,n=s.senders,a=s.onClick,u=this.getSenderTooltip(n);return r.default.createElement("span",{className:t.participants,onClick:a,role:"gridcell",title:u},this.getSenderLabels(n))}});exports.default=f,module.exports=exports.default;
},{"../../../types":"./types","../styles/senders":"./molecules/message_list/styles/senders","../utils/senders":"./molecules/message_list/utils/senders","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/message_list/atoms/star_icon":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("react"),t=e(a),s=require("../styles/star_icon"),r=e(s),l=require("../../../atoms/button"),d=e(l),i=require("../../../atoms/fuji_icon.jsx"),n=e(i),o=require("../../../atoms/constants/fuji_icon"),c=require("react-intl"),u=(0,c.defineMessages)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}}),m=function e(a,s){var l=a.isDarkThemeMode,i=s.getCss(r.default,{isDarkThemeMode:l}),c=s.intl.formatMessage,m=null;return m=a.isStarred?t.default.createElement("span",{className:i.iconContainer},t.default.createElement(n.default,{"data-test-starred":a.isStarred,kind:o.Kinds.STAR,size:o.Sizes.XS,colorState:l?o.ColorStates.STARRED_DARK:o.ColorStates.STARRED}),t.default.createElement("span",{className:i.accessible,"aria-label":c(u.msgIsStarred)})):a.isHovered?t.default.createElement("span",{className:i.iconContainer},t.default.createElement(n.default,{kind:o.Kinds.STAR,size:o.Sizes.XS,colorState:o.ColorStates.INHERITED}),t.default.createElement("span",{className:i.accessible,"aria-label":c(a.isStarred?u.msgIsStarred:u.msgIsNotStarred)})):t.default.createElement("span",{className:i.accessible,"aria-label":c(u.msgIsNotStarred)}),t.default.createElement(d.default,{"data-test-id":"icon-btn-star",title:c(a.isStarred?u.markAsUnstarred:u.markAsStarred),onClick:a.onClick,onDoubleClick:a.onClick,className:i.starIcon},m)};m.defaultProps={isHovered:!1},m.contextTypes={intl:c.intlShape,getCss:a.PropTypes.func},exports.default=m,module.exports=exports.default;
},{"../../../atoms/button":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../styles/star_icon":"./molecules/message_list/styles/star_icon","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/message_list/atoms/trash_icon":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),a=require("../styles/trash_icon"),l=e(a),r=require("../../../atoms/button"),i=e(r),o=require("../../../atoms/fuji_icon.jsx"),n=e(o),c=require("../../../atoms/constants/fuji_icon"),u=require("react-intl"),d=(0,u.defineMessages)({deleteMsg:{id:"delete_msg",defaultMessage:"Delete this message"}}),f=function e(t,a){var r=t.isDarkThemeMode,o=a.getCss(l.default,{isDarkThemeMode:r}),u=a.intl.formatMessage;return t.isHovered?s.default.createElement(i.default,{"data-test-id":"icon-btn-trash",title:u(d.deleteMsg),onClick:t.onClick,onDoubleClick:t.onClick,className:t.isCompact?o.trashIconCompact:o.trashIcon},s.default.createElement("span",{className:o.trashCenter},s.default.createElement(n.default,{kind:c.Kinds.DELETE,size:c.Sizes.XS,colorState:c.ColorStates.INHERITED,"aria-label":u(d.deleteMsg)}))):s.default.createElement(i.default,{className:o.trashIconAccessible,onClick:t.onClick},s.default.createElement("span",{className:o.accessible,"aria-label":u(d.deleteMsg)}))};f.defaultProps={isHovered:!1,isCompact:!1},f.contextTypes={intl:u.intlShape,getCss:t.PropTypes.func},exports.default=f,module.exports=exports.default;
},{"../../../atoms/button":"./atoms/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../styles/trash_icon":"./molecules/message_list/styles/trash_icon","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/message_list/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.ITEM_DELETE_ANIMATION_DURATION=exports.INTERACTION_GROUP_UNFLAGGED=exports.INTERACTION_GROUP_FLAGGED=exports.INTERACTION_GROUP_READ=exports.INTERACTION_GROUP_UNREAD=exports.INTERACTION_GROUP_DELETE=exports.INTERACTION_GROUP_MOVE=exports.INTERACTION_GROUP_NOT_SPAM=exports.INTERACTION_GROUP_SPAM=exports.INTERACTION_SELECTION_TOGGLED=void 0;var N=require("../../platform/utils/object"),T=exports.INTERACTION_SELECTION_TOGGLED="INTERACTION_SELECTION_TOGGLED",E=exports.INTERACTION_GROUP_SPAM="INTERACTION_GROUP_SPAM",O=exports.INTERACTION_GROUP_NOT_SPAM="INTERACTION_GROUP_NOT_SPAM",I=exports.INTERACTION_GROUP_MOVE="INTERACTION_GROUP_MOVE",_=exports.INTERACTION_GROUP_DELETE="INTERACTION_GROUP_DELETE",R=exports.INTERACTION_GROUP_UNREAD="INTERACTION_GROUP_UNREAD",A=exports.INTERACTION_GROUP_READ="INTERACTION_GROUP_READ",G=exports.INTERACTION_GROUP_FLAGGED="INTERACTION_GROUP_FLAGGED",e=exports.INTERACTION_GROUP_UNFLAGGED="INTERACTION_GROUP_UNFLAGGED",U=exports.ITEM_DELETE_ANIMATION_DURATION=.4;exports.MessageDestinationLabels=(0,N.mirrorKeys)(["ACCOUNT","FOLDER","NONE"]);
},{"../../platform/utils/object":"./platform/utils/object"}],257:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapDispatchToProps=exports.mapStateToProps=exports.MessageList=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},i=require("react"),r=t(i),a=require("react-dom"),n=t(a),o=require("react-intl"),l=require("react-redux"),c=require("redux"),d=require("../../types"),u=require("../item_list"),h=t(u),p=require("./atoms/item.jsx"),g=t(p),m=require("./atoms/drag_icon.jsx"),I=t(m),S=require("../../platform/utils/message_group"),_=require("../../platform/utils/mail_ui_vars"),E=e(_),f=require("../../platform/mail_constants"),T=require("./constants"),M=e(T),A=require("../../platform/utils/object"),G=require("../../platform/utils/generic"),C=require("../../platform/utils/list"),D=require("../../platform/utils/route"),v=require("../../apps/mail/molecules/mail_reader/actions"),R=require("../../molecules/keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),y=t(R),O=require("../../platform/keyboard_shortcuts"),N=require("../../platform/keyboard_shortcut_groups"),L=require("../../platform/rapid_client/constants"),k=require("./utils/senders"),b=require("../ads/pencil_ad.jsx"),P=t(b),x=require("../ads/ad_feedback.jsx"),U=t(x),w=require("../../atoms/dialog/confirm.jsx"),F=t(w),K=require("react-atomic-css/css"),H=t(K),q=require("./styles/message_list"),V=t(q),j=require("../../atoms/constants/key_codes.js"),Y=require("../../molecules/message_toolbar/strings"),B=t(Y),W=require("lodash/debounce"),z=t(W),X=require("lodash/every"),Q=t(X),J=require("../ads/utils"),Z=require("../../platform/utils/gemini_categories"),$=require("../../action_creators/message"),ee=require("../../reducers_selectors"),te=require("../../atoms/lazy_component"),se=(0,H.default)(V.default),ie=(0,O.createShortcutGroup)({group:N.Action,keys:{toggleRead:{key:"K",description:r.default.createElement(o.FormattedMessage,{id:"shortcut.shortcut_toggle_read",defaultMessage:"Mark as {readUnread}",values:{readUnread:r.default.createElement("strong",null,r.default.createElement(o.FormattedMessage,{id:"shortcut.toggle_read_strong",defaultMessage:"Read/Unread"}))}})},toggleFlag:{key:"L",description:r.default.createElement("strong",null,r.default.createElement(o.FormattedMessage,{id:"shortcut.toggle_flag",defaultMessage:"Star/Unstar"}))}}}),re=!1,ae=!1,ne=exports.MessageList=r.default.createClass({displayName:"MessageList",contextTypes:{executeAction:i.PropTypes.func,navigateTo:i.PropTypes.func.isRequired,intl:o.intlShape.isRequired,config:i.PropTypes.object,store:i.PropTypes.object},getDefaultProps:function e(){return{highlightSearchTerm:!1}},getInitialState:function e(){return{showDeleteConfirm:!1,idsToDelete:[]}},componentDidMount:function e(){this.adRenderTime=Date.now(),this.handleNewAd()},componentDidUpdate:function e(t){this.props.pencilAdData.clickUrl!==t.pencilAdData.clickUrl&&(this.adRenderTime=Date.now(),this.handleNewAd())},componentWillMount:function e(){this.debouncedCheckAdBeacons=(0,z.default)(this.checkAdBeacons,200)},getActionCreator:function e(t){var s=this.props.actions;switch(t){case M.INTERACTION_GROUP_DELETE:return s.deleteMessageGroups;case M.INTERACTION_GROUP_MOVE:return s.moveMessageGroups;case M.INTERACTION_GROUP_SPAM:return s.markMessageGroupsAsSpam;case M.INTERACTION_GROUP_NOT_SPAM:return s.markMessageGroupsAsNotSpam;case M.INTERACTION_GROUP_READ:return s.markMessageGroupsAsRead;case M.INTERACTION_GROUP_UNREAD:return s.markMessageGroupsAsUnread;case M.INTERACTION_GROUP_FLAGGED:return s.markMessageGroupsAsFlagged;case M.INTERACTION_GROUP_UNFLAGGED:return s.markMessageGroupsAsUnflagged;case M.INTERACTION_SELECTION_TOGGLED:return s.toggleSelection;default:throw new TypeError("Unknown interaction type: "+t)}},handleMessageGroupInteraction:function e(t,s){var i=s.messageGroup,r=s.i13nModel,a=i.isHero;return this.handleMultipleMessageGroupInteraction(t,{messageGroupIds:[i.id],isHero:a,i13nModel:r})},handleMultipleMessageGroupInteraction:function e(t,s){var i=s.messageGroupIds,r=s.isHero,a=s.i13nModel,n={listId:this.props.listId,messageGroupIds:i,isHero:r};return a&&(n.i13nModel=a),t===M.INTERACTION_GROUP_DELETE?this.handleDelete(n):void this.context.executeAction(this.getActionCreator(t),n)},_onActionOnSelectedMessages:function e(t,s){var i=s.allTrueInteraction,r=s.otherInteraction,a=this.context.executeAction,n=this.props,o=n.messageGroups,l=n.cursorIndex,c=n.itemSelection,d=n.listId,u=o[l],h={};o.forEach(function(e,t){return h[e.id]=t});var p=Object.keys(c).map(function(e){return h[e]}).map(function(e){return o[e]});!p.length&&u&&(p=[u]);var g=p.some(function(e){return!t(e)}),m=g?r:i,I=g?p.filter(function(e){return!t(e)}):p;if(I.length>0){var S={listId:d,messageGroupIds:I.map(function(e){return e.id})};if(m===M.INTERACTION_GROUP_DELETE)return this.handleDelete(S);a(this.getActionCreator(m),S)}},handleDelete:function e(t){var s=this.context.executeAction,i=t.messageGroupIds;return t.permanent=this.props.permDelete,!this.state.showDeleteConfirm&&(this.props.permDelete||i.length>=this.props.bulkActionDialogThreshold)?void this.setState({showDeleteConfirm:!0,idsToDelete:i}):(s(this.getActionCreator(M.INTERACTION_GROUP_DELETE),t),void this.hideDeleteConfirm())},handleShortcutDeleteMessages:function e(){this._onActionOnSelectedMessages(function(){return!0},{allTrueInteraction:M.INTERACTION_GROUP_DELETE})},handleShortcutReadMessages:function e(t){t.preventDefault(),this._onActionOnSelectedMessages(function(e){return(0,S.getFlags)(e).read},{allTrueInteraction:M.INTERACTION_GROUP_UNREAD,otherInteraction:M.INTERACTION_GROUP_READ})},handleShortcutFlagMessages:function e(t){t.preventDefault(),this._onActionOnSelectedMessages(function(e){return(0,S.getFlags)(e).flagged},{allTrueInteraction:M.INTERACTION_GROUP_UNFLAGGED,otherInteraction:M.INTERACTION_GROUP_FLAGGED})},handleShiftClick:function e(t){var s=this.props,i=s.actions,r=s.listId,a=t.isHero;this.context.executeAction(i.selectRange,{listId:r,targetGroupId:t.id,isHero:a})},getMessageGroupIndex:function e(t){return this.props.messageGroups.findIndex(function(e){return e.id===t.id&&t.isHero===e.isHero})},handleMessageOpen:function e(t,i){var r=this.props,a=r.previewpane,n=r.listId,o=r.openedGroupId,l=r.geminiContextualAds,c=r.currentRoute,d=t.id,u=t.isHero,h=void 0!==u&&u,p=this.getMessageGroupIndex(t),g=h?(0,C.heroListId)(c,n):null,m=void 0;if(a===f.PreviewPaneSettings.NO)this._openMessageGroup(d,{i13nModel:s({actionData:{isHero:h,pos:p}},i)});else if(o!==d){l&&(m=(0,Z.getCategoriesFromMessageGroup)(t));var I=Object.assign({mKey:L.MKEYS.OPEN_MSG,sec:L.SEC_VALUES.MSG_LIST_MSG,mKeyGroup:L.MKEY_GROUPS.open_msg,actionData:{isHero:h,pos:p}},i),S={listId:n,itemId:d,geminiCategories:m,i13nModel:I};this.context.executeAction(v.previewMessage,s({},S,{isHero:h})),this.props.onPreviewMessage(s({},S,{cursorId:g}))}},handleOnDoubleClick:function e(t,i){var r=t.id,a=t.isHero,n=void 0!==a&&a,o=this.getMessageGroupIndex(t);this._openMessageGroup(r,{i13nModel:s({},i,{actionData:{isHero:n,pos:o}})})},handleCursorOpen:function e(t){var s=this.props,i=s.messageGroups,r=s.cursorIndex,a=i[r];if(a&&t.target.className.indexOf("message-list-item")!==-1){var n=a.id,o=a.isHero,l=void 0!==o&&o;t.preventDefault(),this._openMessageGroup(n,{i13nModel:{interactionType:L.INTERACTION_TYPES.nav,actionData:{isHero:l,pos:r}}})}},_openMessageGroup:function e(t,s){var i=s.i13nModel,r=this.props.messageGroupRoutes,a=r[t];this.context.navigateTo({route:a,itemId:t,i13nModel:Object.assign({mKey:L.MKEYS.OPEN_MSG,sec:L.SEC_VALUES.MSG_LIST_MSG,mKeyGroup:L.MKEY_GROUPS.open_msg},i)})},handleItemSelect:function e(){var t=this.props,s=t.actions,i=t.messageGroups,r=t.cursorIndex,a=t.listId,n=i[r];n&&this.context.executeAction(s.toggleSelection,{listId:a,messageGroupIds:[n.id]})},handleItemSelectAll:function e(){var t=this.props,s=t.actions,i=t.listId;this.context.executeAction(s.selectAll,{listId:i})},handleCheckboxClick:function e(t,i){this.handleMessageGroupInteraction(M.INTERACTION_SELECTION_TOGGLED,{messageGroup:t,i13nModel:s({},i,{mKey:L.MKEYS.SELECT_MSG,sec:L.SEC_VALUES.MSG_LIST_MSG})})},handleReadClick:function e(t,i){var r=(0,S.getMetadata)(t,{listId:this.props.listId}),a=r.flags;this.handleMessageGroupInteraction(a.read?M.INTERACTION_GROUP_UNREAD:M.INTERACTION_GROUP_READ,{messageGroup:t,i13nModel:s({},i,{mKey:a.read?L.MKEYS.MARK_MSG_UNREAD:L.MKEYS.MARK_MSG_READ,sec:L.SEC_VALUES.MSG_LIST_MSG,mKeyGroup:a.read?L.MKEY_GROUPS.mark_unread:L.MKEY_GROUPS.mark_read})})},handleStarClick:function e(t,i){var r=(0,S.getMetadata)(t,{listId:this.props.listId}),a=r.flags;this.handleMessageGroupInteraction(a.flagged?M.INTERACTION_GROUP_UNFLAGGED:M.INTERACTION_GROUP_FLAGGED,{messageGroup:t,i13nModel:s({},i,{mKey:a.flagged?L.MKEYS.MARK_MSG_UNSTARRED:L.MKEYS.MARK_MSG_STARRED,sec:L.SEC_VALUES.MSG_LIST_MSG,mKeyGroup:a.flagged?L.MKEY_GROUPS.mark_unstar:L.MKEY_GROUPS.mark_star})})},handleTrashClick:function e(t,i){this.handleMessageGroupInteraction(M.INTERACTION_GROUP_DELETE,{messageGroup:t,i13nModel:s({},i,{mKey:L.MKEYS.MSG_LIST_DEL,sec:L.SEC_VALUES.MSG_LIST_MSG,mKeyGroup:L.MKEY_GROUPS.delete})})},handleAttachmentPreviewClick:function e(t){var s=t.attachmentId,i=t.messageGroupId,r=t.i13nModel;this.context.navigateTo({route:(0,D.buildAttachmentRouteFromListId)(this.props.listId,i,s,{fullscreen:"1"}),i13nModel:r})},handleDragStart:function e(t,s){var i,r=Object.assign({},this.props.itemSelection,(i={},i[s.id]=!0,i)),a=this.props,n=a.listId,o=a.actions,l=a.doSelectAll,c=a.allItemsCount,d=s.isHero,u=l?c:Object.keys(r).length;this.context.executeAction(o.itemDragStart,{listId:n,messageGroupIds:[s.id],isHero:d}),(0,G.supportsSetDragImage)()?(this.dragIcon||(this.dragIcon=document.createElement("div"),document.body.appendChild(this.dragIcon)),this.renderDragIcon(u),t.dataTransfer.setDragImage(this.dragIcon,-10,-10)):(t.target.style.maxWidth="1px",t.target.style.height="1px",this.restoreTargetStyle(t.target)),t.dataTransfer.setData("text",n),t.dataTransfer.effectAllowed="move"},handleContactSearchClick:function e(t,i){var r=(0,S.getMetadata)(t,{listId:this.props.listId}),a=r.participants,n=r.recipients,o=this.props,l=o.folderType,c=o.myAddresses,d=l===f.FolderTypes.SENT||l===f.FolderTypes.DRAFT?(0,k.sentParticipants)({recipients:n,participants:a,myAddresses:c}):a,u={};d[0]&&(u={emailAddresses:d[0].email,name:d[0].name||d[0].email}),this.context.navigateTo({route:(0,D.buildSearchRouteFromQuery)(u),i13nModel:s({},i,{mKey:L.MKEYS.CONTACT_SEARCH,sec:L.SEC_VALUES.MSG_LIST_MSG,mKeyGroup:L.MKEY_GROUPS.search})})},handleSubjectSearchClick:function e(t,i){var r=(0,S.getMetadata)(t,{listId:this.props.listId}),a={keyword:'subject: "'+r.subject+'"'};this.context.navigateTo({route:(0,D.buildSearchRouteFromQuery)(a),i13nModel:s({},i,{mKey:L.MKEYS.SUBJECT_SEARCH,sec:L.SEC_VALUES.MSG_LIST_MSG,mKeyGroup:L.MKEY_GROUPS.search})})},restoreTargetStyle:function e(t){setTimeout(function(){t.style.maxWidth="",t.style.height=""},0)},handleDragEnd:function e(){this.removeDragIcon(),ae=!1},renderDragIcon:function e(t){var s=this.context.intl.formatNumber;n.default.render(r.default.createElement(I.default,{count:t,formatNumber:s}),this.dragIcon)},removeDragIcon:function e(){this.dragIcon&&(n.default.unmountComponentAtNode(this.dragIcon),document.body.removeChild(this.dragIcon),this.dragIcon=null)},getLayoutAndMessageItemHeight:function e(){var t=this.isCompactLayout(this.props.previewpane),s=this.props,i=s.snippetsEnabled,r=s.msgListDensity,a=void 0,n=void 0,o=void 0;return o=r===f.MessageListDensity.SLIM?"SLIM":r===f.MessageListDensity.RELAXED?"RELAXED":"NORMAL",t?i?(a=f.MessageListLayout["COMPACT_SNIPPET_"+o],n=E["MESSAGE_LIST_ITEM_COMPACT_SNIPPET_"+o+"_HEIGHT"]):(a=f.MessageListLayout["COMPACT_"+o],n=E["MESSAGE_LIST_ITEM_COMPACT_"+o+"_HEIGHT"]):(a=f.MessageListLayout[""+o],n=E["MESSAGE_LIST_ITEM_"+o+"_HEIGHT"]),{layout:a,messageItemHeight:n}},isScrolling:function e(){return re},isDragging:function e(){return ae},renderItem:function e(t){var s=this,i=this.props,a=i.messageGroupRoutes,n=i.myAddresses,o=i.highlightSearchTerm,l=i.accounts,c=i.folderType,d=i.itemSelection,u=i.openedGroupId,h=i.messageDestinationLabel,p=i.listId,m=i.previewpane,I=i.snippetsEnabled,S=i.hideSearchIcon,_=i.windowDimensions,f=i.conversations,T=a[t.id],M=this.getLayoutAndMessageItemHeight(),A=M.layout;return r.default.createElement(g.default,{key:t.id,listId:p,messageGroup:t,active:!Object.keys(d).length&&t.id===u,selected:!!d[t.id],hovered:!0,route:T,isScrolling:this.isScrolling,onInteraction:this.handleMessageGroupInteraction,myAddresses:n,highlightSearchTerm:o,messageDestinationLabel:h,layout:A,isCompactLayout:this.isCompactLayout(m),isConversationMode:f,accounts:l,onClick:this.handleMessageOpen,onDoubleClick:this.handleOnDoubleClick,onShiftClick:this.handleShiftClick,folderType:c,snippetsEnabled:I,isDragging:this.isDragging,onDragStart:function e(i){return s.handleDragStart(i,t)},onDragEnd:function e(t){return s.handleDragEnd(t)},onCheckboxClick:this.handleCheckboxClick,onReadClick:this.handleReadClick,onStarClick:this.handleStarClick,onDeleteClick:this.handleTrashClick,onContactSearchClick:this.handleContactSearchClick,onSubjectSearchClick:this.handleSubjectSearchClick,hideSearchIcon:S,onAttachmentPreviewClick:this.handleAttachmentPreviewClick,attachmentTraySize:_.innerWidth>E.NARROW_SCREEN_WIDTH?4:3})},renderAd:function e(){var t=this,s=this.props,i=s.previewpane,a=s.adFeedbackStarted,n=s.adFeedbackSubmitted,o=s.adFeedbackBeacon,l=s.pencilAdData,c=s.pencilAdFallbacks,d=s.pencilAdError,u=s.adRotationId,h=s.feedbackEnabled,p=s.listId,g=s.geminiViewability,m=this.isCompactLayout(i);return a||n?r.default.createElement(U.default,{key:"ad-feedback",adFeedbackSubmitted:n,isCompactLayout:m,adFeedbackBeacon:o}):r.default.createElement(P.default,{key:"pencil",id:"PENCIL",anchorRef:function e(s){return t.pencilAdNode=s},anchor:this.pencilAdNode,pencilAdData:l,pencilAdFallbacks:c,pencilAdError:d,adRotationId:u,isCompactLayout:m,feedbackEnabled:h,listId:p,geminiViewability:g})},handleNewAd:function e(){var t=this.props,s=t.pencilAdData;if(t.geminiViewability){var i=s.rules,r=s.actionUrls,a=s.beacon;if(this.beaconsFired={viewabilityDefStatic:!a,viewabilityDefStatic3P:!r||!r.STATIC_VIEW_3P,partialView:!r||!r.PARTIAL_VIEW},i&&0!==Object.keys(i).length){var n=i.viewabilityDefStatic,o=i.viewabilityDefStatic3P;clearTimeout(this.initialVBeaconCheck),clearTimeout(this.initialV3PBeaconCheck),this.initialVBeaconCheck=setTimeout(this.checkAdBeacons,1e3*n.d),this.initialV3PBeaconCheck=o?setTimeout(this.checkAdBeacons,1e3*o[0].d):null}this.checkAdBeacons()}},checkAdBeacons:function e(){var t=this.props,s=t.pencilAdData,i=t.previewpane,r=t.isAppVisible,a=t.geminiViewability,n=(0,Q.default)(this.beaconsFired,function(e){return e});if(a&&r&&!n&&(0,J.isAdInViewport)(this.pencilAdNode)){var o=this.isCompactLayout(i),l=o?_.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:_.MESSAGE_LIST_GEMINI_AD_HEIGHT;this.beaconsFired=(0,J.handleViewabilityBeacons)(s,l,this.scrollTop||0,this.beaconsFired,this.adRenderTime)}},isCompactLayout:function e(t){return t===f.PreviewPaneSettings.RIGHT},hideDeleteConfirm:function e(){this.setState({showDeleteConfirm:!1,idsToDelete:[]})},renderDeleteConfirm:function e(){var t=this;if(this.state.showDeleteConfirm){var s=this.context.intl.formatMessage,i=this.state.idsToDelete,a=this.props,n=a.permDelete,o=a.listId,l=a.conversations,c={conversations:l,count:i.length};return r.default.createElement(F.default,{title:s(B.default.confirm_delete_title,c),message:n?s(B.default.confirm_permanently_delete_messages,c):s(B.default.confirm_delete_messages,c),onConfirm:function e(){return t.handleDelete({listId:o,messageGroupIds:i})},onAbort:this.hideDeleteConfirm})}return null},onScrollTopChange:function e(t){var s=this.props.geminiViewability;re=!1,this.scrollTop=t,s&&this.debouncedCheckAdBeacons()},handleKeyDown:function e(t){t.keyCode!==j.KEYCODE.BACKSPACE&&t.keyCode!==j.KEYCODE.DELETE||(t.preventDefault(),t.stopPropagation(),this.handleShortcutDeleteMessages())},renderItemList:function e(){var t=this,i=this.props,a=i.hasMoreItems,n=i.previewpane,o=i.listId,l=i.messageGroups,c=i.adFeedbackStarted,d=i.adFeedbackSubmitted,u=i.messageScrollLoadThreshold,p=i.messageInitialRenderCount,g=this.isCompactLayout(n),m=this.getLayoutAndMessageItemHeight(),I=m.messageItemHeight;return r.default.createElement(h.default,s({onSelect:this.handleItemSelect,onSelectAll:this.handleItemSelectAll,onOpen:this.handleCursorOpen,initialRenderCount:p,loadThreshold:u,renderItem:function e(s){return s&&s.listAd?t.renderAd():t.renderItem(s)},getHeightForIndex:function e(t,s){return t[s]&&t[s].listAd?c&&!d?g?E.MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT:E.MESSAGE_LIST_FEEDBACK_FORM_HEIGHT:g?E.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:E.MESSAGE_LIST_GEMINI_AD_HEIGHT_M:I},getItemListSize:function e(t){return t.length},getItemsForIndex:function e(t,s){return t[s]},getTimeStampFromItem:function e(t){return 1e3*(0,S.getDate)(t,{listId:o})},hasMoreItems:a,itemsToFetch:f.DEFAULT_MESSAGES_TO_FETCH,items:l,layoutKey:n,Element:function e(){},onScroll:function e(){re=!0},onScrollTopChange:this.onScrollTopChange,loadingState:this.props.loadingState},i))},render:function e(){return r.default.createElement("div",{className:se.container,"data-test-id":"message-group-list-container",onKeyDown:this.handleKeyDown},r.default.createElement(te.LazyComponent,{defer:!0,import:"./atoms/loading_bar.jsx",loadingState:this.props.loadingState,reloadingBar:this.props.reloadingBar,_moduleGetter:function e(){return require("./atoms/loading_bar.jsx")}}),r.default.createElement(y.default,{keys:[ie.toggleRead(this.handleShortcutReadMessages),ie.toggleFlag(this.handleShortcutFlagMessages)]},this.renderItemList()),this.renderDeleteConfirm())}}),oe=exports.mapStateToProps=function e(t){var s=(0,ee.selectors)(t),i=s.getFeaturesSelectors,r=i(),a=r.isEnabled(f.Features.GEMINI_VIEWABILITY),n=r.isEnabled(f.Features.PREVIEW_MESSAGE_V3),o=r.isEnabled(f.Features.GEMINI_CONTEXTUAL_ADS);return{geminiViewability:a,bulkActionDialogThreshold:r.getSetting("bulkActionDialogThreshold"),messageScrollLoadThreshold:r.getSetting("messageScrollLoadThreshold"),conversations:r.isEnabled(f.Features.CONVERSATIONS),messageInitialRenderCount:r.getSetting(f.Settings.MESSAGE_INITIAL_RENDER_COUNT),geminiContextualAds:o,previewMessageV3:n}},le=function e(){},ce=exports.mapDispatchToProps=function e(t,i){var r=i.actions,a=i.messageGroups;return i.previewMessageV3?{actions:s({},r,{cursorNavigate:function e(i){var r=0,n=i.cursorIndex,o=i.movement;if(o!==f.CursorMovement.UP||n!==-1){o===f.CursorMovement.UP&&n>0?r=n-1:o===f.CursorMovement.DOWN&&(r=n+1);var l=a[r]||a[0];t((0,$.v2MoveCursorPreviewMessage)(s({},i,{items:l})))}}}),onPreviewMessage:function e(s){return t((0,$.previewMessage)(s))}}:{onPreviewMessage:le}};exports.default=(0,c.compose)((0,l.connect)(oe),(0,l.connect)(void 0,ce))(ne);
},{"../../action_creators/message":4,"../../apps/mail/molecules/mail_reader/actions":77,"../../atoms/constants/key_codes.js":"./atoms/constants/key_codes","../../atoms/dialog/confirm.jsx":"./atoms/dialog/confirm","../../atoms/lazy_component":"./atoms/lazy_component","../../molecules/keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","../../molecules/message_toolbar/strings":"./molecules/message_toolbar/strings","../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/gemini_categories":383,"../../platform/utils/generic":"./platform/utils/generic","../../platform/utils/list":"./platform/utils/list","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/message_group":"./platform/utils/message_group","../../platform/utils/object":"./platform/utils/object","../../platform/utils/route":"./platform/utils/route","../../reducers_selectors":"./reducers_selectors","../../types":"./types","../ads/ad_feedback.jsx":139,"../ads/pencil_ad.jsx":148,"../ads/utils":150,"../item_list":"./molecules/item_list","./atoms/drag_icon.jsx":256,"./atoms/item.jsx":"./molecules/message_list/atoms/item","./atoms/loading_bar.jsx":"./molecules/message_list/atoms/loading_bar","./constants":"./molecules/message_list/constants","./styles/message_list":"./molecules/message_list/styles/message_list","./utils/senders":"./molecules/message_list/utils/senders","lodash/debounce":"./node_modules/lodash/debounce.js","lodash/every":"./node_modules/lodash/every.js","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js","redux":"./node_modules/redux/lib/index.js"}],"./molecules/message_list/styles/attachment_icon":[function(require,module,exports){
module.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F",attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"mCSbU"};
},{}],"./molecules/message_list/styles/message_item":[function(require,module,exports){
module.exports={className:{default:{container:"D_F r_P ab_C H_6TV4 bn_dBP bm_FJ bj_2spJWC p_R A_6EqO i_6FIA o_h X_eo6 h_Z1H3PfF I3_ZpgeKK ir3_1IO2sY it3_689y I4_Znwqu5",check:"en_0 i_0 H_6D6F E_689y Z_f8a k_w",checkbox:"H_6D6F",ybadgeIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F Q_6Eb4 E_eo6",attachmentIcon:"s_6LEV en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0 p_R",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z1VRpVF",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_0 a_6D6F D_F ab_C",subject:"o_h G_e J_x en_N",snippet:"J_x o_h C_Z1VRpVF",snippetContainer:"J_x o_h G_e Q_fq7",messageCount:"en_0 P_3gJiI Q_fq7 e_fFR A_6DUj I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"en_0 J_x C_ZnTFMv s_6NIX A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 Q_fq7",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",highlightedTerm:"I_2ieea9 D_X P_3zDxc",selected:"I_Z1eGHue I4_Z1eGHue",active:"I_ZpgeKK",messageDestinationLabel:"M_3gJOe o_h J_x G_e W_7yHc en_0"},"layout-1":{container:"H_6Mrc"},"layout-3":{container:"H_73rW"},isCompactLayout:{check:"D_X p_a L_dRA T_dm5",checkbox:"H_A",gridB2:"gl_CH em_U",readIcon:"D_X H_6LEV p_a T_fq7 L_6Eb4",ybadgeIcon:"D_X H_6LEV p_a T_fq7 L_6Eb4",starIcon:"D_X H_6LEV p_a Q_6Eb4 T_6Ntd L_6Eb4",maskStarIconWhenStarred:"D_X H_6LEV p_a Q_6Eb4 T_6Ntd L_6Eb4 O_0",draftIndicator:"D_X",senders:"p_a L_73HH T_fq7 a_e91 J_x G_e",subjectContainer:"D_B p_a T_6NIX L_74JI a_eFx J_x o_h G_e",snippetContainer:"p_a Q_0 T_74JI L_74JI a_eFx",attachmentIcon:"p_a M_0 X_fq7 N_eDQ R_eo6 B_fam",messageCount:"D_X",dateWrapper:"p_a T_fq7 R_eo6 t_r"},isCompactSlimLayout:{check:"T_dm5",readIcon:"T_eo6",ybadgeIcon:"T_eo6",starIcon:"T_6Mbr",senders:"T_eo6",subjectContainer:"T_6Mbr",snippetContainer:"T_72FG",dateWrapper:"T_eo6",attachmentIcon:"B_eTB"},isCompactNormalLayout:{check:"je_e8l",readIcon:"T_fam",ybadgeIcon:"T_fam",starIcon:"T_6Ntd",senders:"T_fam",subjectContainer:"T_6Ntd",snippetContainer:"T_74ed",dateWrapper:"T_fam",attachmentIcon:"B_fq7"},isCompactRelaxedLayout:{container:"i_6LEV",check:"je_eo6",readIcon:"T_fq7",ybadgeIcon:"T_fq7",starIcon:"T_6NIX",senders:"T_fq7",messageCount:"P_3gJyt",subjectContainer:"T_6NIX",snippetContainer:"T_74JI",dateWrapper:"T_fq7",attachmentIcon:"B_6DEy"},"layout-4":{container:"H_74tX"},"layout-5":{container:"H_7bXP"},"layout-6":{container:"H_7cul"},"layout-7":{container:"H_7jsH"},"layout-8":{container:"H_7qWz"},"layout-9":{container:"H_7sv6"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},isNonCompactSlimLayout:{checkbox:"je_Cd90f jb_Cd90f"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},"themeMode-DARK":{container:"C_ZpQYvz bj_ajOPR I3_ZS2g95 ir3_Z1FS2Mn I4_ZS2gnO",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_2sqbQg",selected:"I_ZS2g95 I4_ZS2g95",active:"I_ZS2g95"},borderless:{container:"bm_n"},isCompactHasAttachmentIcon:{subjectContainer:"a_1C0Rfo",snippetContainer:"a_1C0Rfo"},isCompactHovered:{subjectContainer:"a_ZLhQ7h",snippetContainer:"a_ZLhQ7h",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",gridB1:"p_s",readIcon:"L_6Fd5",ybadgeIcon:"L_6Fd5",senders:"L_74JI",check:"L_eTB"},"themeCombo-DARK_DEFAULT":{container:"I3_2ieeE8 I4_2ieeaE",active:"I_Z1IhS4n",selected:"I_Z1IhS4n I4_Z1IhS4n"},"themeCombo-DARK_SUNRISE":{container:"I3_iPHf4 I4_iPGKA",active:"I_20MV4T",selected:"I_20MV4T I4_20MV4T"},"themeCombo-DARK_AQUA_GREEN":{container:"I3_2sGYtY I4_2sGY0v",active:"I_1VIl3O",selected:"I_1VIl3O I4_1VIl3O"},"themeCombo-DARK_AQUA_BLUE":{container:"I3_ZzKDky I4_ZzKDO2",active:"I_1U9lQc",selected:"I_1U9lQc I4_1U9lQc"},"themeCombo-DARK_DEEP_PURPLE":{container:"I3_Z1I2wWh I4_Z1I2xqK",active:"I_R8PLs",selected:"I_R8PLs I4_R8PLs"},"themeCombo-DARK_BLUE_NIGHT":{container:"I3_NDqnh I4_NDpSN",active:"I_nIA00",selected:"I_nIA00 I4_nIA00"}},_key:"Z2avS5T"};
},{}],"./molecules/message_list/styles/message_list":[function(require,module,exports){
module.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_GG p_a o_h",msgDragProxy:"p_a Z_3n0uA P_eo6 b_Z14vXdP",counter:"C_52qC en_0 P_3gJiI e_fFR A_6DUj I_Z2aVTcY O_N D_X",dragIcon:"Z_3n0uA cdPFi_Z291T0t"},isBriefView:{container:"p_CS H_CS en_0 M_1UgtIa",list:"p_CS W_3v1qi I_52qC o_h",briefHeader:"M_1d6dau A_6EqO",briefContent:"M_1d6dau",briefFooter:"D_F gl_CH M_Z1jXKuU A_6Eb4 C_Z2aVTcY"},isBriefViewAndDark:{list:"I_sgPuT",briefHeader:"C_ZpQYvz",link:"C_Z21zYBA"},"themeMode-DARK":{dragIcon:"cdPFi_ZpQYvz"}},_key:"cIlzr"};
},{}],"./molecules/message_list/styles/read_icon":[function(require,module,exports){
module.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F Q_6Eb4 E_eo6 cdPFi_ZpQYvz cdPFi4_Z1TsNWR",iconContainer:"H_6LEV",indicator:"Q_e8l"},"isRead-false":{readIcon:"cdPFi_Z2aVTcY cdPFi4_Z2aVTcY"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1YAmK7"};
},{}],"./molecules/message_list/styles/search_icon":[function(require,module,exports){
module.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY Q_eo6 P_0",iconContainer:"H_6LEV"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"eboP8"};
},{}],"./molecules/message_list/styles/senders":[function(require,module,exports){
module.exports={className:{default:{participants:"o_h J_x em_N"},transparent:{participants:"em_0 v_h"}},_key:"rQEOQ"};
},{}],"./molecules/message_list/styles/star_icon":[function(require,module,exports){
module.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 P_3gIMd E_eo6 H_6D6F cdPFi_ZpQYvz cdPFi4_Z1TsNWR",iconContainer:"H_6LEV"},isDarkThemeMode:{starIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"wKsTV"};
},{}],"./molecules/message_list/styles/trash_icon":[function(require,module,exports){
module.exports={className:{default:{trashIcon:"I_T r_P b_0 cdPFi_Z1TsNWR cdPFi4_ZkiIcp P_eo6 Q_6Fd5 W_7jIs",trashIconAccessible:"I_T r_P b_0 cdPFi_Z1TsNWR cdPFi4_ZkiIcp P_0",trashCenter:"D_F ab_C gl_C H_6D6F",trashIconClickArea:"D_F cdPFi4_ZkiIcp",trashIconCompact:"I_T r_P b_0 cdPFi_Z1TsNWR cdPFi4_ZkiIcp D_F gl_F W_6D6F P_fq7 M_18qTTf"},isDarkThemeMode:{trashIcon:"cdPFi_ZpQYvz cdPFi4_Zkij7I",trashIconCompact:"cdPFi_ZpQYvz cdPFi4_Zkij7I"}},_key:"Z2vfet2"};
},{}],"./molecules/message_list/utils/senders":[function(require,module,exports){
"use strict";function e(e){return e.email+"@"+e.name}function r(r){var n,t=r.length;if(t<=1)return r;var i=r[0],c=(n={},n[e(i)]=i,n[e(r[t-1])]=r[t-1],n),a=[i];return r.slice(1,t-1).forEach(function(r){var n=e(r),t=c[n];(t!==i&&!t||!t.recent&&r.recent)&&(c[n]=r)}),r.slice(1,t-1).forEach(function(r){c[e(r)]===r&&a.push(r)}),a.push(r[t-1]),a.every(function(e){var r=e.email,n=e.recent,t=e.name;return i.email===r&&i.recent===n&&i.name===t})?[i]:a}function n(e){if(1===e.length)return[0];for(var r=[0,e.length-1],n=2,t=1;t<e.length-1;t++)e[t].recent?(r.splice(n,0,t),n++):r.push(t);return r}function t(){for(var e={},r=[],n=0,t=arguments.length,i=Array(t),c=0;c<t;c++)i[c]=arguments[c];return i.forEach(function(t){t.forEach(function(t){var i=e[t.email];return void 0!==i?void(r[i].recent=r[i].recent||t.recent):(e[t.email]=n,r[n]=Object.assign({},t),void n++)})}),r}function i(e){var r=e.recipients,n=e.participants,i=e.myAddresses,c=t(r,n);if(c.length){var a=c.filter(function(e){return!i[e.email]});a.length&&(c=a)}return c}exports.__esModule=!0,exports.dedupSenders=r,exports.createPriorityIndices=n,exports.sentParticipants=i;
},{}],258:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=void 0;var t=require("react"),r=e(t),s=require("../../apps/mail/controller_views/contact_card"),a=e(s),o=require("react-redux"),i=require("../../reducers_selectors"),l=require("../../platform/utils/stream"),u=require("../../platform/utils/list"),d=require("../../platform/utils/object"),n=require("../../platform/utils/mail_ui_vars"),m=r.default.createClass({displayName:"MessageReadContactCard",render:function e(){var t=this.props,s=t.emailAddress,o=t.innerWidth,i=t.verticalPreviewPane,l=t.hideRightPaneAds,u={hide:!i&&o<n.NARROW_SCREEN_WIDTH||i&&o<n.WIDER_SCREEN_WIDTH};return!s||u.hide||l?null:r.default.createElement("div",null,r.default.createElement(a.default,{key:"ContactCardControllerView",isInRightRail:!0,emailAddress:s,isCompose:!1,showContactSummary:!1}))}}),c=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t?t:r[r.length-1]},g=exports.mapStateToProps=function e(t){var r=(0,i.selectors)(t),s=r.getMessagesSelectors,a=r.getStreamsSelectors,o=r.getMessageGroupsSelectors,n=r.getRouterSelectors,m=a(),g=m.doesStreamExist,p=m.getCursorSelectors,f=s(),I=f.doesMessageIdExist,S=f.getParticipant,R=o(),_=R.doesMessageGroupIdExist,v=R.getMessageIdsFromMessageGroupId,C=(0,u.getListIdFromRoute)(n().getRoute()),h=n().getRouteParams(),E=h.groupId,M=_(E)?v(E):[],q=_(E)?(0,l.buildStreamIdFromStreamItem)(C,E):"",x=g(q)?p(q).getCursor():void 0,P=x?(0,d.getIn)(x,"streamItem.id",""):"",A=c(P,M),W=A&&I(A)?S(A):"";return{emailAddress:W&&W.email?W.email:""}};exports.default=(0,o.connect)(g)(m);
},{"../../apps/mail/controller_views/contact_card":47,"../../platform/utils/list":"./platform/utils/list","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../../platform/utils/stream":"./platform/utils/stream","../../reducers_selectors":"./reducers_selectors","react":"./node_modules/react/react.js","react-redux":"./node_modules/react-redux/lib/index.js"}],259:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s.default=e,s}function s(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.SelectAllActionCreators=void 0;var r=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},t,a,o,i=require("./constants"),c=s(i),l=require("../../actions/folder_message_list"),n=require("../../actions/message_group"),S=e(n),A=require("../../platform/react_action_constants"),m=require("../../apps/mail/molecules/mail_reader/actions"),p=require("../../platform/mail_constants"),d=require("../../actions/all_selected"),u=e(d),E={toolbarMenuShown:function e(s){s.dispatch(A.mail.MESSAGE_LIST_TOOLBAR_MENU_SHOWN)}},T=(t={archive:l.ListActions.archiveMessageGroups,restore:l.ListActions.restoreMessageGroups,delete:l.ListActions.deleteMessageGroups,markAsSpam:l.ListActions.markMessageGroupsAsSpam,markAsNotSpam:l.ListActions.markMessageGroupsAsNotSpam,move:l.ListActions.moveMessageGroups},t[p.SortOrder.DATE_DESC]=l.ListActions.changeSortOrder,t[p.SortOrder.DATE_ASC]=l.ListActions.changeSortOrder,t[p.SortOrder.UNREAD]=l.ListActions.changeSortOrder,t[p.SortOrder.STARRED]=l.ListActions.changeSortOrder,t[p.SortOrder.SENDER]=l.ListActions.changeSortOrder,t[p.SortOrder.SUBJECT]=l.ListActions.changeSortOrder,t[p.SortOrder.ATTACHMENT]=l.ListActions.changeSortOrder,t[p.SortOrder.RELEVANCE]=l.ListActions.changeSortOrder,t[i.SelectionTypes.ALL]=l.ListActions.selectAll,t[i.SelectionTypes.NONE]=l.ListActions.selectNone,t[i.SelectionTypes.READ]=l.ListActions.selectRead,t[i.SelectionTypes.UNREAD]=l.ListActions.selectUnread,t[i.SelectionTypes.STARRED]=l.ListActions.selectStarred,t[i.SelectionTypes.UNSTARRED]=l.ListActions.selectUnstarred,t),_={reply:S.replyToLastMessage,replyAll:S.replyAllToLastMessage,forward:S.forwardLastMessage,changeAllCardExpansions:S.changeAllCardExpansions},g=(a={},a[c.default.LIST]=Object.assign({},E,T),a[c.default.LIST_WITH_PREVIEW_RIGHT]=Object.assign({},E,_,T,{close:m.closePreviewMessage}),a[c.default.LIST_WITH_PREVIEW_BOTTOM]=Object.assign({},E,_,T),a[c.default.MESSAGE_VIEW]=Object.assign({},E,_,{archive:S.archiveMessageGroupsFromView,restore:S.restoreMessageGroupsFromView,delete:S.deleteMessageGroupsFromView,markAsSpam:S.markMessageGroupsAsSpamFromView,markAsNotSpam:S.markMessageGroupsAsNotSpamFromView,move:S.moveMessageGroupsFromView}),a),L=exports.SelectAllActionCreators=(o={},o[c.default.LIST]=r({},g[c.default.LIST],{delete:u.deleteMessages,move:u.move,archive:u.archive,restore:u.restore,markAsSpam:u.markAsSpam,markAsNotSpam:u.markAsNotSpam}),o[c.default.LIST_WITH_PREVIEW_RIGHT]=r({},g[c.default.LIST_WITH_PREVIEW_RIGHT],{delete:u.deleteMessages,move:u.move,archive:u.archive,restore:u.restore,markAsSpam:u.markAsSpam,markAsNotSpam:u.markAsNotSpam}),o[c.default.LIST_WITH_PREVIEW_BOTTOM]=r({},g[c.default.LIST_WITH_PREVIEW_BOTTOM],{delete:u.deleteMessages,move:u.move,archive:u.archive,restore:u.restore,markAsSpam:u.markAsSpam,markAsNotSpam:u.markAsNotSpam}),o[c.default.MESSAGE_VIEW]=g[c.default.MESSAGE_VIEW],o);exports.default=g;
},{"../../actions/all_selected":"./actions/all_selected","../../actions/folder_message_list":"./actions/folder_message_list","../../actions/message_group":"./actions/message_group","../../apps/mail/molecules/mail_reader/actions":77,"../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","./constants":261}],260:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),s=require("react-intl"),i=require("../../../atoms/constants/fuji_icon"),r=require("../../../atoms/fuji_icon_button.jsx"),o=e(r),l=require("../styles/buttons"),c=e(l),n=require("react-atomic-css/css"),u=e(n),d=(0,u.default)(c.default),_=(0,s.defineMessages)({search_back:{id:"back_to_list_btn_title",defaultMessage:"Back"}}),f=a.default.createClass({displayName:"BackToListBtn",contextTypes:{intl:s.intlShape.isRequired},render:function e(){var t=this.context.intl.formatMessage,r=t(_.search_back);return a.default.createElement(o.default,{"data-iskeynav":!0,"data-test-id":"toolbar-back-to-list","aria-label":r,title:r,kind:i.Kinds.ARROW_UP,size:i.Sizes.XS,rotate:i.Rotate.D270,onClick:this.props.onClick,colorState:i.ColorStates.INHERITED,className:d.backToListButton},a.default.createElement(s.FormattedMessage,{id:"back_to_list_icon_label",defaultMessage:"Back"}))}});exports.default=f,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../styles/buttons":263,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],261:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.UIActions=exports.SelectionTypes=exports.TOOLBAR_HEIGHT=void 0;var I,_,T,E,S,R,H=require("../../platform/utils/object"),W=require("../../platform/utils/mail_ui_vars"),e=(0,H.mirrorKeys)(["MESSAGE_VIEW","LIST","LIST_WITH_PREVIEW_RIGHT","LIST_WITH_PREVIEW_BOTTOM"]),r=exports.TOOLBAR_HEIGHT=13*W.GRID_UNIT,A=exports.SelectionTypes=(0,H.mirrorKeys)(["ALL","NONE","READ","UNREAD","STARRED","UNSTARRED"]),L=exports.UIActions={HAS_GROUP_SELECTION:(I={},I[e.LIST]=!0,I[e.LIST_WITH_PREVIEW_RIGHT]=!0,I[e.LIST_WITH_PREVIEW_BOTTOM]=!0,I),HAS_SORT:(_={},_[e.LIST]=!0,_[e.LIST_WITH_PREVIEW_RIGHT]=!0,_[e.LIST_WITH_PREVIEW_BOTTOM]=!0,_),HAS_CLOSE:(T={},T[e.LIST_WITH_PREVIEW_RIGHT]=!0,T[e.MESSAGE_VIEW]=!0,T),HAS_SINGLE_GROUP_ACTIONS:(E={},E[e.LIST_WITH_PREVIEW_RIGHT]=!0,E[e.LIST_WITH_PREVIEW_BOTTOM]=!0,E[e.MESSAGE_VIEW]=!0,E),HAS_EXPAND_COLLAPSE:(S={},S[e.LIST_WITH_PREVIEW_RIGHT]=!0,S[e.LIST_WITH_PREVIEW_BOTTOM]=!0,S[e.MESSAGE_VIEW]=!0,S),HAS_PREVIOUS_NEXT:(R={},R[e.MESSAGE_VIEW]=!0,R)};exports.default=e;
},{"../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object"}],262:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.MessageToolbar=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},s=require("react"),i=e(s),n=require("react-intl"),o=require("./strings"),r=e(o),a=require("./constants"),l=e(a),d=require("./actions"),c=e(d),u=require("../../platform/utils/object"),m=require("../../platform/utils/list"),h=require("../../atoms/toolbar/selection_controls.jsx"),p=e(h),f=require("../../atoms/toolbar/archive_button.jsx"),S=e(f),E=require("../../atoms/toolbar/delete_button.jsx"),v=e(E),A=require("../../atoms/toolbar/spam_button.jsx"),g=e(A),M=require("../../atoms/keyboard_navigation_focus_group.jsx"),T=require("../../atoms/list_item.jsx"),_=e(T),I=require("../../atoms/button.jsx"),C=e(I),b=require("../../atoms/fuji_icon.jsx"),O=e(b),L=require("../../atoms/fuji_icon_button.jsx"),R=e(L),y=require("../../atoms/navigable_list.jsx"),N=e(y),x=require("../../atoms/popover/popover_container.jsx"),D=e(x),k=require("../../atoms/popover/popover_anchor.jsx"),K=e(k),G=require("../../atoms/popover/popover_content.jsx"),F=e(G),w=require("../../atoms/constants/popover"),P=require("../../atoms/folder_menu.jsx"),U=e(P),B=require("../more_menu"),q=e(B),H=require("../../platform/utils/mail_ui_vars"),V=require("../../platform/theming/themes"),Y=require("../../platform/mail_constants"),j=require("../../types"),X=require("../../molecules/keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),W=e(X),z=require("../../platform/keyboard_shortcuts"),Z=require("../../platform/keyboard_shortcut_groups"),J=require("../../platform/utils"),Q=require("../../platform/rapid_client/constants"),$=require("../../atoms/constants/button"),ee=require("../../atoms/constants/fuji_icon"),te=require("./styles/message_toolbar"),se=e(te),ie=require("../../platform/keyboard_shortcuts/constants"),ne=require("../../atoms/dialog/confirm.jsx"),oe=e(ne),re=require("../../platform/utils/route"),ae=require("./atoms/back_to_list_btn"),le=e(ae),de=require("../../reducers_selectors"),ce=require("react-redux"),ue=Q.SEC_VALUES.MSG_LIST_BULK_ACTION,me=Q.SEC_VALUES.MSG_READ_TOOLBAR,he="D",pe="E",fe=(0,z.createShortcutGroup)({group:Z.Action,keys:Object.assign({},ie.commonMessageActionKeys,{escapeToFolder:{key:"ESC",description:i.default.createElement("strong",null,i.default.createElement(n.FormattedMessage,{id:"shortcut.message_group_escape_message",defaultMessage:"Escape to previous view"}))},delete:{key:"BACKSPACE, DEL",description:i.default.createElement("strong",null,i.default.createElement(n.FormattedMessage,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))},archiveMessageGroup:{key:pe,description:i.default.createElement("strong",null,i.default.createElement(n.FormattedMessage,{id:"shortcut.message_group_archive",defaultMessage:"Archive"}))},restoreMessageGroup:{key:"CTRL+E,META+E",description:i.default.createElement("strong",null,i.default.createElement(n.FormattedMessage,{id:"shortcut.message_group_restore",defaultMessage:"Restore to inbox"}))},openMoveMenu:{key:he,description:i.default.createElement("strong",null,i.default.createElement(n.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},openFilterEnabledMoveMenu:{key:"SHIFT+D",description:i.default.createElement("strong",null,i.default.createElement(n.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},previous:{key:"LEFT",description:i.default.createElement(n.FormattedMessage,{id:"shortcut.previous",defaultMessage:"Go to {previous} message or conversation",values:{previous:i.default.createElement("strong",null,i.default.createElement(n.FormattedMessage,{id:"shortcut.previous_bold",defaultMessage:"previous"}))}})},next:{key:"RIGHT",description:i.default.createElement(n.FormattedMessage,{id:"shortcut.next",defaultMessage:"Go to {next} message or conversation",values:{next:i.default.createElement("strong",null,i.default.createElement(n.FormattedMessage,{id:"shortcut.next_bold",defaultMessage:"next"}))}})}})}),Se=(0,u.values)(Y.SortOrder),Ee=exports.MessageToolbar=i.default.createClass({displayName:"MessageToolbar",contextTypes:{navigateTo:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired,intl:n.intlShape.isRequired,config:s.PropTypes.object.isRequired,getCss:s.PropTypes.func,getThemeMode:s.PropTypes.func},getDefaultProps:function e(){return{disabledFolderIdsForMove:[],availableSortOrders:[],currentSortOrder:Y.SortOrder.DATE_DESC,showLabels:!0,showActionLabels:!0,hideCloseButton:!1,navigateOnMessageAction:function e(){},selectAll:!1}},getInitialState:function e(){return{showDeleteConfirm:!1,showMoveConfirm:null,moveMenuActive:!1,moveMenuFilterFocused:!1}},getClassNames:function e(){var t=this.props,s=t.showLabels,i=t.showActionLabels,n=t.enabledActions,o=this.enableTriageActions(),r=this.isListVerticalPreviewMode(),a=this.isFullMessageViewMode();return this.context.getCss(se.default,{hamSpamDisabled:!n.ham&&!n.spam&&o,archiveRestoreDisabled:!n.archive&&!n.restore&&o,moveDisabled:!n.move&&o,deletePermDisabled:!n.delete&&!n.permDelete&&o,groupActionsActive:this.enableGroupActions(),triageActionsActive:o,showTriageActionsLabels:s&&i,verticalSortView:this.isVerticalSortView(),verticalSelectionControlView:this.isverticalSelectionControlView(),selectionControlDisabled:this.disableSelectionControl(),previousDisabled:!n.previous,nextDisabled:!n.next,fullMessageView:a,listWithVerticalPreview:r,listWithNonVerticalPreview:!r&&!a})},getItemSpaceBasedOnPreviewPaneOffset:function e(){var t=this.props.previewPaneOffset,s=(0,m.getListFilterFromListId)(this.props.listId)===Y.ListFilters.MAGIC_TRIAGE,i={};return this.isListVerticalPreviewMode()&&(i={flexBasis:t/2+"%"},s&&(i={flexBasis:t+"%"})),i},isListVerticalPreviewMode:function e(){return this.props.kind===l.default.LIST_WITH_PREVIEW_RIGHT},isFullMessageViewMode:function e(){return this.props.kind===l.default.MESSAGE_VIEW},enableGroupActions:function e(){return""!==this.props.activeGroupId&&0===this.props.selectedGroupIds.length},isVerticalSortView:function e(){return this.props.kind===l.default.LIST_WITH_PREVIEW_RIGHT},isverticalSelectionControlView:function e(){return this.props.kind===l.default.LIST_WITH_PREVIEW_RIGHT},enableTriageActions:function e(){return""!==this.props.activeGroupId||this.props.selectedGroupIds.length>0},enableSingleGroupActions:function e(){var t=this.props.kind,s=this.props.enabledActions.raf;return a.UIActions.HAS_SINGLE_GROUP_ACTIONS[t]&&s},disableSelectionControl:function e(){var t=(0,m.getListContentTypeFromListId)(this.props.listId);return t===Y.ListContentTypes.IMAGES||t===Y.ListContentTypes.DOCUMENTS},getActionCreators:function e(){var t=this.props,s=t.allItemsSelected,i=t.allItemsCount,n=t.selectAll,o=this.isBulkAction();return n&&s&&i>0&&o?d.SelectAllActionCreators[this.props.kind]:c.default[this.props.kind]},getActionableGroupIds:function e(){var t=this.props,s=t.activeGroupId,i=t.selectedGroupIds;return s?[s]:i},getMkeys:function e(){var t;return t={},t[a.SelectionTypes.ALL+"-checkbox"]=Q.MKEYS.TOOLBAR_SELECTALL_MSG,t[a.SelectionTypes.NONE+"-checkbox"]=Q.MKEYS.TOOLBAR_SELECT_NONE,t[a.SelectionTypes.ALL]=Q.MKEYS.TOOLBAR_BULK_CONTEXT_ALL,t[a.SelectionTypes.NONE]=Q.MKEYS.TOOLBAR_BULK_CONTEXT_NONE,t[a.SelectionTypes.READ]=Q.MKEYS.TOOLBAR_BULK_CONTEXT_READ,t[a.SelectionTypes.UNREAD]=Q.MKEYS.TOOLBAR_BULK_CONTEXT_UNREAD,t[a.SelectionTypes.STARRED]=Q.MKEYS.TOOLBAR_BULK_CONTEXT_STARRED,t[a.SelectionTypes.UNSTARRED]=Q.MKEYS.TOOLBAR_BULK_CONTEXT_UNSTARRED,t[Y.SortOrder.DATE_DESC]=Q.MKEYS.TOOLBAR_SORT_NEW,t[Y.SortOrder.DATE_ASC]=Q.MKEYS.TOOLBAR_SORT_OLD,t[Y.SortOrder.UNREAD]=Q.MKEYS.TOOLBAR_SORT_UNREAD,t[Y.SortOrder.STARRED]=Q.MKEYS.TOOLBAR_SORT_STARRED,t},isBulkAction:function e(){var t=this.props,s=t.activeGroupId,i=t.selectedGroupIds,n=t.bulkActionDialogThreshold;return!s&&i.length>=n},isPermDelete:function e(){var t=this.props.enabledActions;return!t.delete&&t.permDelete},isSpam:function e(){var t=this.props.enabledActions;return!!t.spam||!t.ham},isRestore:function e(){var t=this.props.enabledActions;return!t.archive&&t.restore},onToolbarMenuShow:function e(t){var s={MoveMenu:{mKey:Q.MKEYS.TOOLBAR_MOVE_MENU,sec:ue},MoreMenu:{mKey:Q.MKEYS.TOOLBAR_MORE_MENU,sec:ue},SelectionMenu:{mKey:Q.MKEYS.TOOLBAR_BULK_CONTEXT_MENU,sec:ue},SortMenu:{mKey:Q.MKEYS.TOOLBAR_SORT_MENU,sec:Q.SEC_VALUES.MSG_LIST_SORT}};if(s[t]){var i=s[t],n=i.mKey,o=i.sec;this.context.executeAction(this.getActionCreators().toolbarMenuShown,{i13nModel:{mKey:n,sec:o}})}},handleSelection:function e(t,s,i){var n=this.getMkeys(),o=i?t+"-checkbox":""+t,r=this.getActionCreators(),a=this.props.listId;this.context.executeAction(r[t],{listId:a,i13nModel:{mKey:n[o],sec:ue,interactionType:(0,J.getInteractionFromEvent)(s)}})},handleSingleGroupAction:function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.INTERACTION_TYPES.click,i=this.props,n=i.listId,o=i.activeGroupId;if(o){var r={mKey:Q.MKEYS["TOOLBAR_"+t.toUpperCase()],sec:me,mKeyGroup:Q.MKEY_GROUPS[t],interactionType:s};this.context.executeAction(this.getActionCreators()[t],{listId:n,messageGroupId:o,i13nModel:r})}},handleArchive:function e(s){s.preventDefault(),this.props.navigateOnMessageAction();var i=this.getActionCreators(),n=this.getActionableGroupIds(),o={mKey:Q.MKEYS.TOOLBAR_ARCHIVE,sec:ue,mKeyGroup:Q.MKEY_GROUPS.archive,interactionType:(0,J.getInteractionFromEvent)(s)},a=this.props,l=a.allItemsCount,d=a.allItemsSelected,c=a.conversations,u=a.selectAll,m=this.isBulkAction(),h=void 0;if(h=this.isRestore()?{confirmTitle:r.default.confirm_restore_title,confirmMessages:r.default.confirm_restore_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm}:{confirmTitle:r.default.confirm_archive_title,confirmMessages:r.default.confirm_archive_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm},u&&d&&l>0&&m&&!this.state.confirmTitle)return void this.setState(h);if(n.length){var p=this.props,f=p.listId,S=p.allItemsCount;this.context.executeAction(this.isRestore()?i.restore:i.archive,t({listId:f,messageGroupIds:n},S&&{allItemsCount:S},{conversations:c,i13nModel:o}))}this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1}),this.hideConfirm()},handleMove:function e(s,i){i.preventDefault(),this.props.navigateOnMessageAction();var n=this.props,o=n.listId,r=n.allItemsSelected,a=n.allItemsCount,l=n.conversations,d=n.selectAll,c=this.isBulkAction();return d&&r&&a>0&&c&&!this.state.showMoveConfirm?void this.setState({showMoveConfirm:s}):(this.context.executeAction(this.getActionCreators().move,t({destinationFolderId:s,listId:o,messageGroupIds:this.getActionableGroupIds()},a&&{allItemsCount:a},{conversations:l,i13nModel:{mKey:Q.MKEYS.TOOLBAR_MOVE,sec:ue,mKeyGroup:Q.MKEY_GROUPS.move,interactionType:(0,J.getInteractionFromEvent)(i)}})),void this.hideMoveConfirm())},hideMoveConfirm:function e(){this.setState({showMoveConfirm:null})},handleSpam:function e(s){s.preventDefault();var i=this.getActionCreators(),n=this.props,o=n.listId,a=n.allItemsCount,l=n.allItemsSelected,d=n.conversations,c=n.selectAll,u=this.isBulkAction(),m=void 0;return m=this.isSpam()?{confirmTitle:r.default.confirm_spam_title,confirmMessages:r.default.confirm_spam_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm}:{confirmTitle:r.default.confirm_ham_title,confirmMessages:r.default.confirm_ham_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm},c&&l&&a>0&&u&&!this.state.confirmTitle?void this.setState(m):(this.props.navigateOnMessageAction(),this.context.executeAction(this.isSpam()?i.markAsSpam:i.markAsNotSpam,t({listId:o,messageGroupIds:this.getActionableGroupIds()},a&&{allItemsCount:a},{conversations:d,i13nModel:{mKey:this.isSpam()?Q.MKEYS.TOOLBAR_SPAM:Q.MKEYS.TOOLBAR_NOT_SPAM,sec:ue,mKeyGroup:this.isSpam()?Q.MKEY_GROUPS.mark_spam:null,interactionType:(0,J.getInteractionFromEvent)(s)}})),void this.hideConfirm())},hideConfirm:function e(){this.setState({confirmTitle:!1})},handleDelete:function e(s){s.preventDefault();var i=this.props,n=i.listId,o=i.navigateOnMessageAction,r=i.allItemsCount,a=i.conversations,l=this.getActionableGroupIds(),d=this.isBulkAction();if((this.isPermDelete()||d)&&!this.state.showDeleteConfirm)return void this.setState({showDeleteConfirm:!0});var c={mKey:Q.MKEYS.TOOLBAR_DELETE,sec:ue,mKeyGroup:Q.MKEY_GROUPS.delete,interactionType:(0,J.getInteractionFromEvent)(s)};o(),this.context.executeAction(this.getActionCreators().delete,t({listId:n,messageGroupIds:l,permanent:this.isPermDelete()},r&&{allItemsCount:r},{conversations:a,i13nModel:c})),this.hideDeleteConfirm()},hideDeleteConfirm:function e(){this.setState({showDeleteConfirm:!1})},handleSort:function e(t,s){var i=this.getActionCreators(),n=this.getMkeys();this.context.executeAction(i[s],{sortOrder:s}),this.context.navigateTo({route:this.props.getListRoute({sortOrder:s}),i13nModel:{mKey:n[s],sec:Q.SEC_VALUES.MSG_LIST_SORT,interactionType:(0,J.getInteractionFromEvent)(t)}})},handleFilterChange:function e(t,s){var i,n=(0,m.getListContentTypeFromListId)(this.props.listId),o=(i={},i[Y.ListContentTypes.MESSAGES]="msg",i[Y.ListContentTypes.DOCUMENTS]="docs",i[Y.ListContentTypes.IMAGES]="photo",i),r=Q.MKEYS["FILTER_"+s],a=r?{mKey:r,sec:Q.SEC_VALUES.MSG_LIST_BULK_ACTION,interactionType:(0,J.getInteractionFromEvent)(t),actionData:{cntxt:o[n]||o[Y.ListContentTypes.MESSAGES]}}:null;this.context.navigateTo({route:{name:Y.RouteNames.SEARCH,params:{query:(0,m.serializeListIdForRoute)((0,m.recreateListId)(this.props.listId,{listFilter:s}))}},i13nModel:a})},handleClose:function e(t){var s={mKey:Q.MKEYS.TOOLBAR_CLOSE_MSG,sec:me,interactionType:(0,J.getInteractionFromEvent)(t)};t.key===Y.Keys.ESCAPE?this.props.onEscape({i13nModel:s}):this.props.onClose({i13nModel:s})},handleNext:function e(){this.props.loadMoreIfNeeded(),this.props.onNextItem()},handleMoveMenuToggle:function e(t){t.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.enableTriageActions()})},handleMoveMenuShow:function e(t){var s=this.enableTriageActions(),i={moveMenuActive:s};t&&(i.moveMenuFilterFocused=s),this.setState(i),this.onToolbarMenuShow("MoveMenu")},handleMoveMenuHide:function e(){this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})},handleExpandContractClick:function e(t){t.stopPropagation(),this.context.executeAction(this.getActionCreators().changeAllCardExpansions,{listId:this.props.listId,messageGroupId:this.props.activeGroupId,newState:this.props.enabledActions.collapseAll?Y.CARD_EXPANSION_STATES.COLLAPSED:Y.CARD_EXPANSION_STATES.EXPANDED})},handleBackToList:function e(t){var s=this.props.listId;this.context.navigateTo({route:(0,re.buildListRouteFromListId)(s),i13nModel:{mKey:Q.MKEYS.TOOLBAR_BACK_TO_LIST,sec:Q.SEC_VALUES.MSG_READ_TOOLBAR,interactionType:(0,J.getInteractionFromEvent)(t)}})},renderExpandMessages:function e(t){var s=this.props.enabledActions,n=this.context.intl.formatMessage,o=this.context.getThemeMode()===V.ThemeModes.DARK;return s.collapseAll||s.expandAll?i.default.createElement("div",{className:t.expandCollapse},i.default.createElement(R.default,{title:n(r.default[s.collapseAll?"collapse_list":"expand_list"]),"aria-label":n(r.default[s.collapseAll?"list_is_expanded":"list_is_collapsed"]),kind:s.collapseAll?ee.Kinds.COLLAPSE_LIST:ee.Kinds.EXPAND_LIST,size:ee.Sizes.XS,paddingLess:!1,colorState:ee.ColorStates.INHERITED,onClick:this.handleExpandContractClick,"data-iskeynav":!0,isOnDarkBackground:o})):null},renderSelectionControls:function e(t){var s=this,n=(0,m.getListContentTypeFromListId)(this.props.listId),o=this.props,r=o.listId,l=o.allItemsSelected,d=o.selectedGroupIds,c=o.allItemsCount,u=o.previewpane;if((0,m.getReferrerFromListId)(r)===Y.ListReferrer.SMARTVIEW)switch(n){case Y.ListContentTypes.IMAGES:case Y.ListContentTypes.DOCUMENTS:return null}return i.default.createElement("div",{className:t.selectionControlsWrapper},i.default.createElement(p.default,{onMenuShow:this.onToolbarMenuShow.bind(null,"SelectionMenu"),onSelectAll:function e(t,i){return s.handleSelection(a.SelectionTypes.ALL,t,i)},onSelectNone:function e(t,i){return s.handleSelection(a.SelectionTypes.NONE,t,i)},onSelectRead:function e(t){return s.handleSelection(a.SelectionTypes.READ,t)},onSelectUnread:function e(t){return s.handleSelection(a.SelectionTypes.UNREAD,t)},onSelectStarred:function e(t){return s.handleSelection(a.SelectionTypes.STARRED,t)},onSelectUnstarred:function e(t){return s.handleSelection(a.SelectionTypes.UNSTARRED,t)},itemsSelected:d.length>0,selectedGroupIds:d,allItemsSelected:l,allItemsCount:c,previewpane:u}))},renderArchive:function e(t){var s=this;if(this.isRestore()&&!this.props.canRestoreToInbox)return null;var n=this.props,o=n.showLabels,r=n.showActionLabels,a=n.enabledActions,l=function e(t){return s.handleArchive(t)},d=[],c=a.restore||a.archive;return a.restore?d.push(fe.restoreMessageGroup(l)):a.archive&&d.push(fe.archiveMessageGroup(l)),i.default.createElement(_.default,null,i.default.createElement(W.default,{keys:d},i.default.createElement("div",{className:t.archiveRestore},i.default.createElement(S.default,{disabled:!this.enableTriageActions()||!c,onClick:l,restore:this.isRestore(),showLabel:o&&r}))))},renderMoveMenu:function e(t){var s=this.context.intl.formatMessage,o=this.props,a=o.enabledActions,l=o.disabledFolderIdsForMove,d=o.folders,c=o.showLabels,u=o.showActionLabels,m=o.disabledMoveTitle,h=!this.enableTriageActions()||!a.move,p=s(h&&m?m:r.default.move_msgs);return i.default.createElement(_.default,{name:"move-menu-item",title:p},i.default.createElement("div",{className:t.move},i.default.createElement(U.default,{"data-iskeynav":!0,title:p,label:c&&u?i.default.createElement(n.FormattedMessage,{id:"move_menu_icon_label",defaultMessage:"Move"}):null,folders:d,disabledFolderIds:l,excludedFolderTypes:[Y.FolderTypes.DRAFT,Y.FolderTypes.SENT],tabIndex:-1,disabled:h,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,onClick:this.handleMove,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle,hasShortcuts:!0,primaryShortcutKey:he,archiveShortcutKey:pe})))},renderDelete:function e(t){var s=this.props,n=s.enabledActions,o=s.showLabels,r=s.showActionLabels,a=n.permDelete||n.delete;return i.default.createElement(_.default,{name:this.isPermDelete()?"perm-delete":"delete"},i.default.createElement("div",{className:t.deletePerm},i.default.createElement(v.default,{disabled:!this.enableTriageActions()||!a,onClick:this.handleDelete,permanent:this.isPermDelete(),showLabel:o&&r})))},renderSpam:function e(t){var s=this.props,n=s.enabledActions,o=s.showLabels,r=s.showActionLabels,a=n.spam||n.ham;return i.default.createElement(_.default,{name:this.isSpam()?"not-spam":"spam"},i.default.createElement("div",{className:t.hamSpam},i.default.createElement(g.default,{disabled:!this.enableTriageActions()||!a,markAsSpam:this.isSpam(),onClick:this.handleSpam,showLabel:o&&r})))},renderMoreMenu:function e(t){var s=this.props,n=s.messageIds,o=s.isDraftMessage,r=s.allItemsSelected,a=s.allItemsCount,l=s.listId,d=s.selectAll,c=s.conversations,u=this.isBulkAction(),m=d&&r&&a>0&&u;return i.default.createElement(_.default,{name:"more-menu-item"},i.default.createElement("div",{className:t.more},i.default.createElement(q.default,{"data-iskeynav":!0,disabled:!this.enableTriageActions(),selectedGroupIds:this.getActionableGroupIds(),onMenuShow:this.onToolbarMenuShow.bind(null,"MoreMenu"),messageIds:n,isDraftMessage:o,doAllSelectedActions:m,listId:l,allItemsCount:a,conversations:c})))},renderSortMenu:function e(){var t=this,s=this.context.getThemeMode()===V.ThemeModes.DARK,n=this.context.intl.formatMessage,o=this.props,a=o.availableSortOrders,l=o.currentSortOrder,d=o.showLabels,c=d?n(r.default.sort_menu):null,u=this.getClassNames(),m=this.getItemSpaceBasedOnPreviewPaneOffset(),h=a.map(function(e){return i.default.createElement(_.default,{key:e,name:"sort-by-"+e},i.default.createElement(C.default,{"data-test-id":"sort-by-"+e,kind:$.Kinds.MENUITEM,onClick:function s(i){return t.handleSort(i,e)},style:{position:"relative"}},e===l?i.default.createElement("span",{className:u.sortByMenuItemIcon},i.default.createElement(O.default,{kind:ee.Kinds.CHECKMARK,size:ee.Sizes.XXS,colorState:ee.ColorStates.NORMAL})):null,i.default.createElement("span",{className:u.sortByMenuItemLabel},n(r.default["sort_by_"+e]))))});return i.default.createElement("div",{style:m,className:u.viewMenu},i.default.createElement("div",{className:u.sortMenuContainer},i.default.createElement(D.default,null,i.default.createElement(K.default,null,i.default.createElement(C.default,{"data-test-id":"toolbar-sort-menu-button",kind:$.Kinds.CHROMELESS,tabIndex:"-1","data-iskeynav":!0,isOnDarkBackground:s},i.default.createElement("span",{className:u.sortByMenu},c,i.default.createElement(O.default,{kind:ee.Kinds.CHEVRON_UP,size:ee.Sizes.XS,rotate:ee.Rotate.D180,colorState:ee.ColorStates.INHERITED})))),i.default.createElement(F.default,{triggerOn:w.Triggers.CLICK,permittedArrowDirections:[w.PermittedArrowDirections.UP],offset:4*H.GRID_UNIT,align:w.Align.END,zAltitude:H.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover",onShow:this.onToolbarMenuShow.bind(null,"SortMenu")},i.default.createElement("div",{className:u.popoverListWrapper},i.default.createElement(N.default,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},h))))))},renderListFilter:function e(){var t=this,s=this.context.intl.formatMessage,n=(0,m.getListFilterFromListId)(this.props.listId).toLowerCase(),o=this.getClassNames(),a=i.default.createElement(_.default,{key:n,name:"list-filter-"+n},i.default.createElement(C.default,{"data-test-id":"list-filter-from",kind:$.Kinds.MENUITEM,onClick:function e(s){return t.handleFilterChange(s,Y.ListFilters.FROM)}},s(r.default.list_filter_from)),i.default.createElement(C.default,{"data-test-id":"list-filter-to",kind:$.Kinds.MENUITEM,onClick:function e(s){return t.handleFilterChange(s,Y.ListFilters.TO)}},s(r.default.list_filter_to)),i.default.createElement(C.default,{"data-test-id":"list-filter-all",kind:$.Kinds.MENUITEM,onClick:function e(s){return t.handleFilterChange(s,Y.ListFilters.ALL)}},s(r.default.list_filter_all)));return i.default.createElement("div",{className:o.listFilterViewMenu},i.default.createElement(D.default,null,i.default.createElement(K.default,null,i.default.createElement(C.default,{"data-test-id":"toolbar-list-filter-button",kind:$.Kinds.CHROMELESS,tabIndex:"-1","data-iskeynav":!0},i.default.createElement("span",{className:o.listFilterMenu},s(r.default["list_filter_"+n]),i.default.createElement(O.default,{kind:ee.Kinds.CHEVRON_UP,size:ee.Sizes.XS,rotate:ee.Rotate.D180,colorState:ee.ColorStates.INHERITED})))),i.default.createElement(F.default,{triggerOn:w.Triggers.CLICK,offset:5*H.GRID_UNIT,align:w.Align.CENTER,zAltitude:H.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},i.default.createElement("div",{className:o.popoverListWrapper},i.default.createElement(N.default,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},a)))))},renderListHeading:function e(){var t=(0,m.getListContentTypeFromListId)(this.props.listId),s=this.context.intl.formatMessage,n=this.getClassNames();switch(t){case Y.ListContentTypes.IMAGES:return i.default.createElement("span",{className:n.listHeading},s(r.default.photos));case Y.ListContentTypes.DOCUMENTS:return i.default.createElement("span",{className:n.listHeading},s(r.default.documents))}},renderTriageActions:function e(){var t=this.getClassNames();return i.default.createElement("ul",{className:t.triageActionList},this.renderArchive(t),this.renderMoveMenu(t),this.renderDelete(t),this.renderSpam(t),this.renderMoreMenu(t))},renderDeleteConfirm:function e(){if(this.state.showDeleteConfirm){var t=this.props,s=t.allItemsSelected,n=t.allItemsCount,o=t.selectAll,a=t.conversations,l=this.context.intl.formatMessage,d=this.getActionableGroupIds(),c={conversations:a,count:o&&s&&n>0?n:d.length};return i.default.createElement(oe.default,{title:l(r.default.confirm_delete_title),message:this.props.enabledActions.permDelete?l(r.default.confirm_permanently_delete_messages,c):l(r.default.confirm_delete_messages,c),onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirm})}return null},renderMoveConfirm:function e(t){var s=this;if(this.state.showMoveConfirm){var n=this.props,o=n.allItemsSelected,a=n.allItemsCount,l=n.conversations,d=n.selectAll,c=this.context.intl.formatMessage,u=this.getActionableGroupIds(),m={conversations:l,count:d&&o&&a>0?a:u.length};return i.default.createElement(oe.default,{title:c(r.default.confirm_move_title),message:c(r.default.confirm_move_messages,m),onConfirm:function e(i){return s.handleMove(t,i)},onAbort:this.hideMoveConfirm})}return null},renderConfirm:function e(t,s,n,o){var r=this.props,a=r.allItemsSelected,l=r.allItemsCount,d=r.conversations,c=r.selectAll,u=this.context.intl.formatMessage,m=this.getActionableGroupIds(),h={conversations:d,count:c&&a&&l>0?l:m.length};return i.default.createElement(oe.default,{title:u(t),message:u(s,h),onConfirm:n,onAbort:o})},renderSingleGroupActions:function e(){var t=this,s=this.context.intl.formatMessage,n=this.getClassNames(),o=[{kind:ee.Kinds.REPLY,action:"reply",stringKey:"message_reply"},{kind:ee.Kinds.REPLY_ALL,action:"replyAll",stringKey:"message_reply_all"},{kind:ee.Kinds.FORWARD,action:"forward",stringKey:"message_forward"}],a=this.context.getThemeMode()===V.ThemeModes.DARK,l=o.map(function(e){var o=e.kind,l=e.action,d=e.stringKey,c=s(r.default[d]);return i.default.createElement(_.default,{name:o,key:o,className:n.singleGroupItem},i.default.createElement(R.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+o,"aria-label":c,title:c,kind:o,size:ee.Sizes.XS,disabled:!t.enableGroupActions(),onClick:function e(s){return t.handleSingleGroupAction(l,(0,J.getInteractionFromEvent)(s))},colorState:ee.ColorStates.INHERITED,isOnDarkBackground:a}))});return i.default.createElement("div",{className:n.singleGroupActions},i.default.createElement("ul",{key:"group-actions",className:n.singleGroupActionList},l))},renderPreviousNext:function e(t){var s=this.context.intl.formatMessage,n={conversations:this.props.conversations},o=!this.props.enabledActions.previous,a=!this.props.enabledActions.next;return i.default.createElement(W.default,{keys:[fe.previous(this.props.onPreviousItem),fe.next(this.handleNext)]},i.default.createElement("div",{className:t.nextPrevContainer},i.default.createElement("span",{className:o?t.nextPrevDisabled:t.nextPrev},i.default.createElement(R.default,{"data-iskeynav":!0,"data-test-id":"toolbar-previous",kind:ee.Kinds.INPUT_ARROW_DOWN,rotate:ee.Rotate.D180,paddingLess:!0,disabled:o,size:ee.Sizes.S,onClick:this.props.onPreviousItem,title:s(r.default.previous,n),"aria-label":s(r.default.previous,n),colorState:ee.ColorStates.INHERITED})),i.default.createElement("span",{className:a?t.nextPrevDisabled:t.nextPrev},i.default.createElement(R.default,{"data-iskeynav":!0,"data-test-id":"toolbar-next",kind:ee.Kinds.INPUT_ARROW_DOWN,paddingLess:!0,disabled:a,size:ee.Sizes.S,onClick:this.handleNext,title:s(r.default.next,n),"aria-label":s(r.default.next,n),colorState:ee.ColorStates.INHERITED}))))},getKeyboardShortcutGroupKeys:function e(){return this.enableSingleGroupActions()?[fe.escapeToFolder(this.handleClose),fe.delete(this.handleDelete),fe.reply(this.handleSingleGroupAction.bind(null,"reply",Q.INTERACTION_TYPES.shortcut)),fe.replyAll(this.handleSingleGroupAction.bind(null,"replyAll",Q.INTERACTION_TYPES.shortcut)),fe.forward(this.handleSingleGroupAction.bind(null,"forward",Q.INTERACTION_TYPES.shortcut)),fe.openMoveMenu(this.handleMoveMenuShow.bind(null,!1)),fe.openFilterEnabledMoveMenu(this.handleMoveMenuShow.bind(null,!0))]:[fe.escapeToFolder(this.handleClose),fe.delete(this.handleDelete),fe.openMoveMenu(this.handleMoveMenuShow.bind(null,!1)),fe.openFilterEnabledMoveMenu(this.handleMoveMenuShow.bind(null,!0))]},renderCheckboxAndFilters:function e(){var t=this.props,s=t.kind,n=t.showListFilter,o=this.getClassNames(),r=this.getItemSpaceBasedOnPreviewPaneOffset();if(a.UIActions.HAS_GROUP_SELECTION[s]||n)return i.default.createElement("div",{style:r,className:o.cboxWrapper},a.UIActions.HAS_GROUP_SELECTION[s]&&this.renderSelectionControls(o),n&&this.renderListFilter())},renderUsabiltyOptions:function e(){var t=this.getClassNames(),s=this.context.intl.formatMessage,n=this.props,o=n.kind,l=n.hideCloseButton,d=this.context.getThemeMode()===V.ThemeModes.DARK;if(a.UIActions.HAS_EXPAND_COLLAPSE[o]||a.UIActions.HAS_PREVIOUS_NEXT[o]||a.UIActions.HAS_CLOSE[o]&&!l)return i.default.createElement("div",{className:t.usabiltyOptions},a.UIActions.HAS_EXPAND_COLLAPSE[o]&&this.renderExpandMessages(t),a.UIActions.HAS_PREVIOUS_NEXT[o]&&this.renderPreviousNext(t),a.UIActions.HAS_CLOSE[o]&&!l?i.default.createElement("div",{"data-test-id":"close-wrapper",className:t.closeWrapper},i.default.createElement(R.default,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!this.enableGroupActions(),kind:ee.Kinds.CLOSE,size:ee.Sizes.XS,onClick:this.handleClose,title:s(r.default.close),"aria-label":s(r.default.close),colorState:ee.ColorStates.INHERITED,isOnDarkBackground:d})):null)},render:function e(){var t=this.getClassNames(),s=this.props.kind,n=this.getKeyboardShortcutGroupKeys(),o=(0,m.getListFilterFromListId)(this.props.listId)===Y.ListFilters.MAGIC_TRIAGE,r=this.state,l=r.confirmTitle,d=r.confirmMessages,c=r.handleConfirm,u=r.hideConfirm;return i.default.createElement(W.default,{keys:n},i.default.createElement(M.KeyboardNavigationFocusGroup,{axis:M.NAVIGATION_AXES.HORIZONTAL,circularNavigation:!1,className:t.container,"data-test-id":"message-toolbar",groupTabIndex:H.TabIndices.MESSAGE_LIST_TOOLBAR,role:"toolbar"},this.renderCheckboxAndFilters(),this.props.showBackToList?i.default.createElement(le.default,{onClick:this.handleBackToList}):null,this.enableSingleGroupActions()&&this.renderSingleGroupActions(),i.default.createElement("div",{className:t.mainActionControls},this.props.showTriageActions?this.renderTriageActions():null,this.props.showListHeading?this.renderListHeading():null),this.renderUsabiltyOptions(),a.UIActions.HAS_SORT[s]&&!o&&this.renderSortMenu(),i.default.createElement("hr",{className:t.bottomLine}),this.renderDeleteConfirm(),this.renderMoveConfirm(this.state.showMoveConfirm),l?this.renderConfirm(l,d,c,u):null))}}),ve=exports.mapStateToProps=function e(t){var s=(0,de.selectors)(t),i=s.getFeaturesSelectors,n=i();return{bulkActionDialogThreshold:n.getSetting("bulkActionDialogThreshold"),selectAll:n.isEnabled("selectAll"),conversations:n.isEnabled(Y.Features.CONVERSATIONS),canRestoreToInbox:n.isEnabled("restoreToInbox")}};exports.default=(0,ce.connect)(ve)(Ee);
},{"../../atoms/button.jsx":"./atoms/button","../../atoms/constants/button":"./atoms/constants/button","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/dialog/confirm.jsx":"./atoms/dialog/confirm","../../atoms/folder_menu.jsx":97,"../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../atoms/keyboard_navigation_focus_group.jsx":"./atoms/keyboard_navigation_focus_group","../../atoms/list_item.jsx":"./atoms/list_item","../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../atoms/toolbar/archive_button.jsx":127,"../../atoms/toolbar/delete_button.jsx":"./atoms/toolbar/delete_button","../../atoms/toolbar/selection_controls.jsx":128,"../../atoms/toolbar/spam_button.jsx":129,"../../molecules/keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../platform/keyboard_shortcuts/constants":"./platform/keyboard_shortcuts/constants","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/theming/themes":"./platform/theming/themes","../../platform/utils":"./platform/utils","../../platform/utils/list":"./platform/utils/list","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../../platform/utils/route":"./platform/utils/route","../../reducers_selectors":"./reducers_selectors","../../types":"./types","../more_menu":269,"./actions":259,"./atoms/back_to_list_btn":260,"./constants":261,"./strings":"./molecules/message_toolbar/strings","./styles/message_toolbar":"./molecules/message_toolbar/styles/message_toolbar","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js"}],"./molecules/message_toolbar/strings":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("react-intl");exports.default=(0,e.defineMessages)({move_msgs:{id:"move_msgs",defaultMessage:"Move the selected messages to another folder"},mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"},confirm_delete_title:{id:"message_list.confirm_delete_title",defaultMessage:"Delete message"},confirm_delete_messages:{id:"message_list.confirm_delete_messages",defaultMessage:"\n            Are you sure you want to move {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } to Trash?\n        "},confirm_permanently_delete_messages:{id:"message_list.confirm_permanently_delete_messages",defaultMessage:"\n            Are you sure you want to permanently delete {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }\n        "},confirm_move_title:{id:"message_list.confirm_move_title",defaultMessage:"Move messages"},confirm_move_messages:{id:"message_list.confirm_move_messages",defaultMessage:"\n            Are you sure you want to move {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},confirm_spam_title:{id:"message_list.confirm_spam_title",defaultMessage:"Spam messages"},confirm_spam_messages:{id:"message_list.confirm_spam_messages",defaultMessage:"\n            Are you sure you want to mark {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } as spam?\n        "},confirm_ham_title:{id:"message_list.confirm_ham_title",defaultMessage:"Mark as not spam"},confirm_ham_messages:{id:"message_list.confirm_ham_messages",defaultMessage:"\n            Are you sure you want to mark {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            } as not spam?\n        "},confirm_archive_title:{id:"message_list.confirm_archive_title",defaultMessage:"Archive message"},confirm_archive_messages:{id:"message_list.confirm_archive_messages",defaultMessage:"\n            Are you sure you want to archive {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},confirm_restore_title:{id:"message_list.confirm_restore_title",defaultMessage:"Archive message"},confirm_restore_messages:{id:"message_list.confirm_restore_messages",defaultMessage:"\n            Are you sure you want to restore {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    other {# messages}\n                }}\n            }?\n        "},sort_menu:{id:"sort_menu",defaultMessage:"Sort"},sort_by_date_desc:{id:"sort_by_date_desc",defaultMessage:"Date: Newest on Top"},sort_by_date_asc:{id:"sort_by_date_asc",defaultMessage:"Date: Oldest on Top"},sort_by_unread:{id:"sort_by_unread",defaultMessage:"Unread"},sort_by_flagged:{id:"sort_by_flagged",defaultMessage:"Starred"},sort_by_sender:{id:"sort_by_sender",defaultMessage:"Sender"},sort_by_subject:{id:"sort_by_subject",defaultMessage:"Subject"},sort_by_asc:{id:"sort_by_asc",defaultMessage:"Date: Oldest on Top"},sort_by_desc:{id:"sort_by_desc",defaultMessage:"Date: Newest on Top"},sort_by_relevance:{id:"sort_by_relevance",defaultMessage:"Relevance"},sort_by_attachment:{id:"sort_by_attachment",defaultMessage:"Attachments"},list_filter_from:{id:"list_filter_from",defaultMessage:"From"},list_filter_to:{id:"list_filter_to",defaultMessage:"To"},list_filter_all:{id:"list_filter_all",defaultMessage:"All"},delete_msg_group:{id:"delete_msg_group",defaultMessage:"Delete all these messages"},move_msg_group:{id:"move_msg_group",defaultMessage:"Move these messages to another folder"},close:{id:"close",defaultMessage:"Close"},message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},previous:{id:"button.previous",defaultMessage:"Previous {conversations, select,\n                true {conversation}\n                false {message}\n            } [ , ]"},next:{id:"button.next",defaultMessage:"Next {conversations, select,\n                true {conversation}\n                false {message}\n            } [ . ]"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},photos:{id:"photos_label",defaultMessage:"Photos from email"},documents:{id:"document_label",defaultMessage:"Documents from email"}}),module.exports=exports.default;
},{"react-intl":"./node_modules/react-intl/lib/index.js"}],263:[function(require,module,exports){
module.exports={className:{default:{button:"y_ZwubDW A_6EqO",backToListButton:"y_ZwubDW A_6EqO J_x C_q cdPFi_q E_fq7"}},_key:"1rGevU"};
},{}],"./molecules/message_toolbar/styles/message_toolbar":[function(require,module,exports){
module.exports={className:{default:{container:"ab_C k_w D_F H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",cboxWrapper:"D_F",usabiltyOptions:"D_F t_r",selectionControlsWrapper:"D_F Q_6EGz",viewMenu:"E_eo6 en_0",listFilterViewMenu:"E_eo6 en_0 D_F",mainActionControls:"D_F em_N gl_C",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",triageActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",hamSpam:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",archiveRestore:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",deletePerm:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",move:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",more:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarForward:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarSave:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",bottomLine:"M_0 P_0 cn_0 D_n",sortByMenu:"D_F ab_C y_ZwubDW X_eo6 A_6EqO cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrev:"cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",nextPrevDisabled:"cdPFi_sgPuo r_BN cZW7ROP_n",sortByMenuItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",sortByMenuItemLabel:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",listFilterMenu:"D_F ab_C y_ZwubDW X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrevContainer:"D_F P_3gIMd",listHeading:"A_6FsP"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",hamSpam:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",archiveRestore:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",deletePerm:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",move:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",more:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarForward:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarSave:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarClose:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sortByMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",listFilterMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",nextPrev:"cdPFi_ZpQYvz cdPFi4_52qC",nextPrevDisabled:"cdPFi_ZpQYvz O_cMr r_BN cZW7ROP_n",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"},fullMessageView:{container:"gl_FM"},listWithVerticalPreview:{cboxWrapper:"ip_N ej_d70",viewMenu:"ip_O t_r ej_d70 E_0",singleGroupActions:"ip_P Q_fq7",mainActionControls:"em_N ip_Q",usabiltyOptions:"ip_R",sortMenuContainer:"N_6MGW"},listWithNonVerticalPreview:{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},verticalSelectionControlView:{listFilterViewMenu:"p_CS T_6Fd5",listFilterMenu:"X_fq7"},hamSpamDisabled:{hamSpam:"r_n O_6uB4 cZW7ROP_n"},archiveRestoreDisabled:{archiveRestore:"r_n O_6uB4 cZW7ROP_n"},moveDisabled:{move:"r_n O_6uB4 cZW7ROP_n"},deletePermDisabled:{deletePerm:"r_n O_6uB4 cZW7ROP_n"},sponsoredVideoMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY"},groupActionsActive:{singleGroupActionList:"O_N r_BN cZW7ROP_A"},triageActionsActive:{triageActionList:"O_N r_BN cZW7ROP_A",closeWrapper:"O_N"},selectionControlDisabled:{selectionControlsWrapper:"hd_n D_F ab_C M_Z1feokn P_0 O_6uB4 r_n cZW7ROP_n"},showTriageActionsLabels:{hamSpam:"M_1MYwXA",archiveRestore:"M_1MYwXA",deletePerm:"M_1MYwXA",move:"M_1MYwXA",more:"M_1MYwXA"}},_key:"1OJV5o"};
},{}],264:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){var r=e.kind,a=e.activeGroup,d=e.cards,n=e.cardExpansions,p=e.primaryFolderType,u=r!==l.default.LIST&&Boolean(d)&&a&&a.messages.length>1;if(r===l.default.MESSAGE_VIEW){if(!a)return{};var i=(0,s.onlySpam)(a),m=!i&&(0,s.onlyDrafts)(a),c=!m&&(0,s.onlyTrash)(a),f=p===t.FolderTypes.ARCHIVE,T=m||c||i,y=u&&!(0,o.allCardsExpanded)(d,n);return{spam:!i&&!m,ham:i&&!m,move:!m,archive:!(m||i||c||f),restore:i||c||f,delete:!T,permDelete:T,raf:!i&&!m,expandAll:y,collapseAll:u&&!y}}var A=Boolean(p),v=p===t.FolderTypes.DRAFT,E=p===t.FolderTypes.TRASH,F=p===t.FolderTypes.ARCHIVE,x=p===t.FolderTypes.BULK,S=p===t.FolderTypes.SENT,_=v||E||x,h=!!u&&!(0,o.allCardsExpanded)(d,n);return{spam:!A||!v&&!x&&!S,ham:x&&!S,move:!A||!v,archive:!A||!v&&!F&&!x&&!E,restore:F||x||E,delete:!A||!_,permDelete:_,raf:r!==l.default.LIST&&(!A||!x&&!v),expandAll:h,collapseAll:u&&!h}}exports.__esModule=!0,exports.enabledActions=r;var a=require("./constants"),l=e(a),s=require("../../platform/utils/message_group"),o=require("../../platform/utils/cards"),t=require("../../platform/mail_constants");
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/cards":381,"../../platform/utils/message_group":"./platform/utils/message_group","./constants":261}],265:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),i=e(t),o=require("react-dom"),n=e(o),s=require("../../../../platform/utils/script_loader"),r=require("../../../../reducers_selectors"),a=require("./styles/mim"),u=e(a),l=require("../../../../atoms/popover/popover_container.jsx"),d=e(l),c=require("../../../../atoms/popover/popover_anchor.jsx"),m=e(c),p=require("../../../../atoms/popover/popover_content.jsx"),g=e(p),f=require("../../../../atoms/fuji_icon_button.jsx"),h=e(f),v=require("../../../../atoms/unread_count.jsx"),w=e(v),C=require("react-intl"),T=require("../../../../platform/mail_constants"),L=require("../../../../platform/utils/mail_ui_vars.js"),P=require("../../../../platform/theming/themes"),E=require("../../../../atoms/constants/popover"),N=require("../../../../atoms/constants/fuji_icon"),_=(0,C.defineMessages)({mim:{id:"properties.messenger_icon_branding",defaultMessage:"Messenger"}}),M=i.default.createClass({displayName:"MimLoader",contextTypes:{getCss:t.PropTypes.func,intl:C.intlShape.isRequired,executeAction:t.PropTypes.func,navigateTo:t.PropTypes.func,getThemeMode:t.PropTypes.func,getTheme:t.PropTypes.func,store:t.PropTypes.object,config:t.PropTypes.object},getDefaultProps:function e(){return{scripts:[],css:[]}},getTheme:function e(){var t=this.context.getTheme()||P.Themes.DEFAULT;return{bgColor:P.ThemingValues[t].COMPOSE_BUTTON_COLOR||L.PRIMARY_BUTTON_ACTIVE_COLOR,textColor:L.WHITE}},hideMimPopover:function e(){return window.iris&&window.iris.client?(window.iris.client.closeGroupList(),void this.setState({mimOpen:!1})):0},openMimPopover:function e(){return window.iris&&window.iris.client?(this.groupListNode&&this.refs.groupListContainer&&(this.groupListNode.className="mim-group-list",this.refs.groupListContainer.appendChild(this.groupListNode),window.iris.client.openGroupList()),void this.setState({mimOpen:!0})):0},componentDidMount:function e(){var t=this,i=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),a=(0,r.selectors)(this.context.store.getState()),u=a.getFeaturesSelectors,l=u(),d=l.isEnabled(T.Features.RTL);n.style.zIndex=L.ZIndices.POPOVER.LOW-1,n.style.top=0,n.style.left=0,n.style.height=0,n.style.width=0,n.style.position="absolute",n.className="norrin-mim",document.body.appendChild(n),i.id="minimal-iris",this.refs.domNode&&this.refs.domNode.appendChild(i);var c=function e(i){var o=i||{},n=o.badgeCount,s=o.messages;t.setState({badgeCount:n,messages:s})};if(window.iris={bootstrap:function e(s,r){s.injectCss(),r.merge({locale:t.context.intl.locale,messages:window.IrisLocaleData,session:{locale:t.context.intl.locale},isRtl:d,app:{features:{showPresence:!1}},compose:{links:{learnMoreOldBuddies:!1}}}),s.bootstrap({mountNode:i,dev:!1,groupListNode:o,windowContainer:n,onOnePush:c})},initConfig:function e(i){return i.merge({locale:t.context.intl.locale,messages:window.IrisLocaleData||{},theme:t.getTheme(),session:{locale:t.context.intl.locale},isRtl:d,app:{features:{showPresence:!1}},compose:{links:{learnMoreOldBuddies:!1}}})}},window.IrisBundleConfig&&window.IrisBundleConfig.assets){var m=window.IrisBundleConfig.assets,p=m.langBundle,g=void 0===p?[]:p,f=m.scripts,h=void 0===f?[]:f;Promise.all(g.map(function(e){return(0,s.loadScript)(e)})).then(function(){h.map(function(e){(0,s.loadScript)(e)})}).catch(function(){h.map(function(e){(0,s.loadScript)(e)})})}this.mimAppMountPoint=i,this.groupListNode=o},componentWillUnmount:function e(){this.groupListNode&&(n.default.unmountComponentAtNode(this.groupListNode),this.refs.groupListContainer&&this.refs.groupListContainer.removeChild(this.groupListNode)),this.mimAppMountPoint&&(n.default.unmountComponentAtNode(this.mimAppMountPoint),this.refs.domNode.removeChild(this.mimAppMountPoint))},getFujiIcon:function e(){var t=this.context.intl.formatMessage,o=this.context.getThemeMode()!==P.ThemeModes.LIGHT;return i.default.createElement(h.default,{"data-iskeynav":!0,paddingLess:!0,size:N.Sizes.XS,kind:N.Kinds.MESSENGER,title:t(_.mim),"aria-label":t(_.mim),colorState:N.ColorStates.INHERITED,isOnDarkBackground:o})},gulpEvent:function e(t){var i=this;t.stopPropagation(),setTimeout(function(){var e=window.iris&&window.iris.client||{};e.groupListNode&&!e.groupListNode.children.length&&(i._container.hide(E.Triggers.CLICK),i.hideMimPopover())},0)},getInitialState:function e(){return{mimOpen:!1,badgeCount:0,messages:[]}},updateBadge:function e(t){var o=this.context.getThemeMode()!==P.ThemeModes.LIGHT;return this.state.badgeCount?i.default.createElement("span",{className:t.badgeCount},i.default.createElement(w.default,{value:this.state.badgeCount,whiteBackground:!o,highlight:!0})):null},render:function e(){var t=this,o=this.props,n=o.verticalLayout,s=o.previewPaneSetting,r=o.windowDimensions,a=s===T.PreviewPaneSettings.RIGHT,l=r||{},c=l.innerWidth,p=a?L.WIDE_SCREEN_WIDTH:L.NARROW_SCREEN_WIDTH,f=n||!n&&c>p?E.Align.START:E.Align.CENTER,h=n?E.PermittedArrowDirections.RIGHT:E.PermittedArrowDirections.UP,v=!!this.state.mimOpen,w=this.context.getCss(u.default,{verticalLayout:n,verticalPreviewPane:a,mimOpen:v}),C=i.default.createElement(d.default,{ref:function e(i){return t._container=i}},i.default.createElement(m.default,null,i.default.createElement("div",{className:w.messengerIcon+" nav-item-messenger"},this.getFujiIcon(),this.updateBadge(w))),i.default.createElement(g.default,{offset:8,align:f,arrowSize:E.ArrowSizes.M,triggerOn:E.Triggers.CLICK,overflowScroll:!1,permittedArrowDirections:[h],bg:E.BackgroundKinds.DEFAULT,onShow:this.openMimPopover,onHide:this.hideMimPopover},i.default.createElement("div",{id:"mim-grouplist",ref:"groupListContainer",className:w.groupListContainer,onClick:this.gulpEvent})));return i.default.createElement("div",{id:"mim-container",ref:"domNode",className:w.messengerIconContainer},C)}});exports.default=M,module.exports=exports.default;
},{"../../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../../atoms/constants/popover":"./atoms/constants/popover","../../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../../../atoms/unread_count.jsx":131,"../../../../platform/mail_constants":"./platform/mail_constants","../../../../platform/theming/themes":"./platform/theming/themes","../../../../platform/utils/mail_ui_vars.js":"./platform/utils/mail_ui_vars","../../../../platform/utils/script_loader":"./platform/utils/script_loader","../../../../reducers_selectors":"./reducers_selectors","./styles/mim":266,"react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js"}],266:[function(require,module,exports){
module.exports={className:{default:{container:"D_F",groupListContainer:"H_3zREf W_3vhr3 p_R Z_0",property:"D_F U_0 E_6EGz cdPFi_Z1TsNWR cdPFi4_Z2aVTcY ir3_1IO2sY",messengerIcon:"D_F p_R",label:"D_n N_fq7 u_b A_6EqO",badgeCount:"D_X p_a T_36Jhx L_6DEy",messengerIconContainer:"D_F ab_C r_P cdPFi_Z1TsNWR cdPFi4_Z2aVTcY ir3_1IO2sY",chevronIcon:"Q_A",menuContainer:"W_3vaYc",menuContainerLazy:"W_3vaYc d_3z5BY D_F ab_C gl_C",menuList:"M_0 P_0 hd_n",menuItemHeader:"M_0 D_F ab_C u_dPo k_w A_6EqO H_72FG P_1EudUu C_Z26U5qH m_Z12nDQf",menuItem:"M_0 r_BN u_b A_6EqO P_1EudUu H_73HH i_73HH C_Z26U5qH z_Z12nDQf",menuItemQuickAccess:"r_BN o_A q_ZnkeaL K_3vFXG P_22E7lI c272488_n",menuItemFooter:"M_0 u_e69 A_6DUj H_73HH i_73HH P_Z1fehm1 z_Z12nDQf",menuLinkWrapper:"D_B C4_Z2aVTcY",link:"C_Z1VRpVF E_6MGW C4_Z2aVTcY r_P"},verticalLayout:{properties:"ek_BB Y_0",property:"E_0 U_0",messengerIconContainer:"jb_0"},"verticalPreviewPane-false":{label:"cZ1YE9AC_B"},"mimOpen-true":{messengerIconContainer:"C_Z29WjXl cdPFi_Z29WjXl C4_Z29WjXl cdPFi4_Z29WjXl"},"verticalPreviewPane-true":{label:"cWeabk_B"},"themeMode-MEDIUM":{messengerIconContainer:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn"},"themeMode-DARK":{messengerIconContainer:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn"}},_key:"Z1kpHya"};
},{}],267:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},r=require("react"),s=e(r),i=require("react-intl"),n=require("./styles/mim.js"),a=e(n),o=require("../../atoms/fuji_icon.jsx"),l=e(o),p=require("../../atoms/constants/fuji_icon"),u=require("../../platform/rapid_client/constants"),c=require("../../platform/utils/"),d=require("./atoms/mim/mim.jsx"),m=e(d),f=(0,i.defineMessages)({messenger_icon:{id:"properties.messenger_icon_branding",defaultMessage:"Messenger"}}),h=s.default.createClass({displayName:"MimContainer",contextTypes:{config:r.PropTypes.object,intl:i.intlShape.isRequired,getCss:r.PropTypes.func},componentDidMount:function e(){window.IrisBundleConfig&&window.IrisBundleConfig.assets?this.irisScripts=window.IrisBundleConfig.assets.scripts:this.irisScripts=[]},handle:function e(t,r){var s=(0,c.getInteractionFromEvent)(t),i=this.props.onPropertyClick;t.stopPropagation(),i(s,r)},renderProperty:function e(t,r){var i=this,n=t.href,a=t.kind,o=t.text,u=t.propertyClassNames,c=void 0===u?"":u,d=this.context.intl.formatMessage(o);return s.default.createElement("a",{key:o.id,onClick:function e(r){return i.handle(r,t)},href:n,className:r.property+" "+c,"aria-label":d,title:d,target:a,"data-iskeynav":!0,tabIndex:-1},s.default.createElement(l.default,{kind:a,size:p.Sizes.XS,colorState:p.ColorStates.INHERITED}))},render:function e(){var r=this,i=this.props,n=i.verticalLayout,o=i.windowDimensions,l=this.context.getCss(a.default,{verticalLayout:n}),c=[{href:"https://messenger.yahoo.com/",kind:p.Kinds.MESSENGER,text:f.messenger_icon,propertyClassNames:"nav-item-messenger",mKey:u.MKEYS.MESSENGER_ICON}];return s.default.createElement("div",{"data-test-id":"mim-launcher",role:"navigation",className:l.properties},this.props.mimEnabled||c.map(function(e){return r.renderProperty(e,l)}),this.props.mimEnabled&&s.default.createElement(m.default,t({},this.props,{scripts:this.irisScripts||[],verticalLayout:this.props.verticalLayout,windowDimensions:o})))}});exports.default=h,module.exports=exports.default;
},{"../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/":"./platform/utils","./atoms/mim/mim.jsx":265,"./styles/mim.js":268,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],268:[function(require,module,exports){
module.exports={className:{default:{container:"D_F",properties:"E_6EGz",property:"D_F U_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY ir3_1IO2sY"},verticalLayout:{properties:"ek_BB Y_0 U_6EGz",property:"E_0 U_0"},"themeMode-MEDIUM":{property:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn"},"themeMode-DARK":{property:"cdPFi_2sqbRh cdPFi4_52qC ir3_Z1FS2Mn"}},_key:"1ovjnH"};
},{}],269:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r=require("react"),o=e(r),a=require("../../atoms/popover/popover_container.jsx"),n=e(a),s=require("../../atoms/popover/popover_anchor.jsx"),i=e(s),u=require("../../atoms/popover/popover_content.jsx"),l=e(u),m=require("../../atoms/fuji_icon_button.jsx"),c=e(m),d=require("../../atoms/constants/popover"),p=require("../../platform/utils/mail_ui_vars"),f=require("./styles/more_menu"),_=e(f),h=require("react-atomic-css/css"),g=e(h),q=require("../../atoms/lazy_component"),v=require("../../atoms/loading_indicator.jsx"),x=e(v),M=require("../../platform/theming/themes"),b=require("../../atoms/constants/fuji_icon"),j=require("react-intl"),y=(0,g.default)(_.default),E=(0,j.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}}),P=o.default.createClass({displayName:"MoreMenu",contextTypes:{executeAction:r.PropTypes.func,intl:j.intlShape.isRequired,config:r.PropTypes.object,getThemeMode:r.PropTypes.func},getDefaultProps:function e(){return{onMenuShow:function e(){}}},render:function e(){var r=this.context.intl.formatMessage,a=this.props.disabled,s=this.context.getThemeMode()===M.ThemeModes.DARK;return o.default.createElement(n.default,{className:y.popoverContainer},o.default.createElement(i.default,null,o.default.createElement(c.default,{"data-iskeynav":!0,"aria-label":r(E.more_menu_label),title:r(E.more_menu_label),"data-test-id":"more-menu-button",disabled:a,kind:b.Kinds.MORE,size:b.Sizes.XS,colorState:b.ColorStates.INHERITED,isOnDarkBackground:s})),o.default.createElement(l.default,{triggerOn:d.Triggers.CLICK,permittedArrowDirections:[d.PermittedArrowDirections.UP],zAltitude:p.ZIndices.POPOVER.HIGH,onShow:this.props.onMenuShow},o.default.createElement(q.LazyComponent,t({import:"./more_menu_items.jsx"},this.props,{_moduleGetter:function e(){return require("./more_menu_items.jsx")}}),o.default.createElement(q.When,{loading:!0},o.default.createElement(x.default,null)))))}});exports.default=P,module.exports=exports.default;
},{"../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/loading_indicator.jsx":"./atoms/loading_indicator","../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../platform/theming/themes":"./platform/theming/themes","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","./more_menu_items.jsx":"./molecules/more_menu/more_menu_items","./styles/more_menu":"./molecules/more_menu/styles/more_menu","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/more_menu/styles/more_menu":[function(require,module,exports){
module.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk"}},_key:"2oJIEc"};
},{}],270:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),o=e(t),r=require("lodash/debounce"),s=e(r),l=require("../../types"),n=require("../../molecules/folder_list"),a=e(n),i=require("../../atoms/folder_label"),d=e(i),c=require("../../molecules/ads"),u=require("../../atoms/compose_link.jsx"),m=e(u),h=require("../../atoms/overlay.jsx"),p=e(h),f=require("../../atoms/account_switcher.jsx"),E=e(f),g=require("./styles/navigation"),_=e(g),S=require("../feature_cue/styles/information_cue"),T=e(S),v=require("../../platform/utils/mail_ui_vars"),C=require("../../platform/utils/array"),A=require("../../atoms/keyboard_navigation_focus_group.jsx"),F=require("../../actions/folder"),M=require("../../actions/settings"),L=require("../../platform/utils/folder"),R=require("../../platform/utils/object"),N=require("react-intl"),y=require("../../platform/keyboard_shortcuts"),O=require("../../platform/keyboard_shortcut_groups"),D=require("../keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),x=e(D),I=require("../../platform/mail_constants"),b=require("../../atoms/dialog/confirm"),U=e(b),w=require("../../platform/utils"),K=require("../../platform/rapid_client/constants.js"),k=require("../../atoms/lazy_component"),P=require("../../atoms/popover/popover_content.jsx"),q=e(P),Y=require("../../atoms/constants/popover"),V=require("../../platform/utils/route"),G=require("../../atoms/fuji_icon.jsx"),B=e(G),H=require("../../atoms/constants/fuji_icon"),j=require("./utils"),X=require("../feature_cue/actions"),W=250,z=(0,N.defineMessages)({confirm_folder_delete_all_title:{id:"confirm.folder_delete_all_title",defaultMessage:"Delete all emails"},confirm_folder_archive_all_title:{id:"confirm.folder_archive_all_title",defaultMessage:"Archive all emails"},confirm_inbox_archive_all_personalized_title:{id:"confirm.confirm_inbox_archive_all_personalized_title",defaultMessage:"{sendingName}, let's clean your Inbox"},confirm_inbox_archive_all_title:{id:"confirm.inbox_archive_all_title",defaultMessage:"Let's clean your Inbox"},archive_emails_button_label:{id:"confirm.archive_emails_button_label",defaultMessage:"Archive emails"}}),Z=(0,y.createShortcutGroup)({group:O.General,keys:{openCompose:{key:"N",description:o.default.createElement(N.FormattedMessage,{id:"shortcut.open_compose",defaultMessage:"Start a {newConvo}",values:{newConvo:o.default.createElement("strong",null,o.default.createElement(N.FormattedMessage,{id:"shortcut.open_compose_strong",defaultMessage:"New Email Conversation"}))}})},openInbox:{key:"M",description:o.default.createElement(N.FormattedMessage,{id:"shortcut.open_inbox",defaultMessage:"Go to {inbox}",values:{inbox:o.default.createElement("strong",null,o.default.createElement(N.FormattedMessage,{id:"shortcut.open_box_strong",defaultMessage:"Inbox"}))}})}}}),J=o.default.createClass({displayName:"Navigation",contextTypes:{executeAction:t.PropTypes.func,navigateTo:t.PropTypes.func.isRequired,getCss:t.PropTypes.func,intl:N.intlShape.isRequired,config:t.PropTypes.object},getDefaultProps:function e(){return{showComposeBadge:!1,showDocumentsBadge:!1}},getInitialState:function e(){return{scrollingUnder:!1,confirmRequested:!1,isScrolling:!1,toggleAccountsList:!0}},componentDidMount:function e(){this.detectScrollStop=(0,s.default)(this.detectScrollStop,W)},closeHotspotBadge:function e(t){var o={name:t,userAction:"click",i13nModel:{sec:K.SEC_VALUES.FEATURE_CUE,mKey:"cue_"+t+"_click"}};this.context.executeAction(X.closeFeatureCue,o)},handleComposeLinkClick:function e(t){if(t.preventDefault(),this.props.showComposeBadge)return void this.closeHotspotBadge("HSComposeBadge");var o={mKey:K.MKEYS.COMPOSE_BUTTON,sec:K.SEC_VALUES.LEFTRAIL_COMPOSE,mKeyGroup:K.MKEY_GROUPS.compose,interaction_type:(0,w.getInteractionFromEvent)(t)};this.props.navigateToNewCompose({i13nModel:o})},handleComposeDrop:function e(t){t.preventDefault();var o=t.dataTransfer;Array.prototype.slice.call(o&&o.types||[]).some(function(e){return"Files"===e})&&this.props.navigateToNewCompose({files:Array.prototype.slice.call(o.files)})},handleDragOver:function e(t){t.preventDefault()},handleDragScroll:function e(t){if(t.preventDefault(),t&&t.clientY){var o=this.folderList,r=o.scrollTop,s=o.scrollHeight,l=(0,j.updateScrollOnDragOver)(t.clientY,o.getBoundingClientRect(),r,s);r!==l&&(o.scrollTop=l)}},handleDragEnter:function e(t){t.preventDefault()},handleFolderClick:function e(t,o,r){t.preventDefault(),[I.SystemFolders.STARRED,I.SystemFolders.DRAFT,I.SystemFolders.SENT,I.SystemFolders.SPAM,I.SystemFolders.TRASH].indexOf(o)===-1&&o===this.props.activeFolderId&&"folder"===this.props.currentRoute.name?this.props.navigateToFolder(o,{i13nModel:r,refresh:!0}):this.props.navigateToFolder(o,{i13nModel:r,refresh:!1})},handleSmartViewClick:function e(t,o){var r=void 0;if(t.preventDefault(),o===I.SmartViewTypes.DOCUMENTS&&this.props.showDocumentsBadge)return void this.closeHotspotBadge("HSDocumentsBadge");var s={UNREAD:K.MKEYS.UNREAD_SMARTVIEW,STARRED:K.MKEYS.STARRED_SMARTVIEW,PHOTOS:K.MKEYS.PHOTO_SMARTVIEW,DOCUMENTS:K.MKEYS.DOCUMENT_SMARTVIEW,TUTORIAL:K.MKEYS.TUTORIAL_SMARTVIEW,MAGIC_TRIAGE:K.MKEYS.MAGIC_TRIAGE,COUPONS:K.MKEYS.COUPONS_SMARTVIEW},l=s[o];l&&(r={mKey:l,sec:K.SEC_VALUES.LEFTRAIL_SMARTVIEW,interactionType:(0,w.getInteractionFromEvent)(t)},o!==I.SmartViewTypes.TUTORIAL&&(r.mKeyGroup=K.MKEY_GROUPS.search));var n=this.props.activeAccount,a={accountIds:n.id};this.context.navigateTo({route:(0,V.buildSmartViewRoute)(o,a),i13nModel:r})},handleFolderDelete:function e(t){var o=t.folder,r=t.i13nModel,s=t.hasSubFolder,l=this.context.intl.formatMessage;s||o.total>0?this.context.executeAction(F.deleteNonEmptyFolder,{folder:o,i13nModel:r,formatMessage:l}):this.deleteFolder({folder:o,i13nModel:r})},deleteFolder:function e(t){var o=t.folder,r=t.i13nModel,s=this.context.intl.formatMessage;r=Object.assign({mKey:K.MKEYS.FOLDER_CONTEXTMENU_DELETE,sec:K.SEC_VALUES.LEFTRAIL_CONTEXTMENU,mKeyGroup:K.MKEY_GROUPS.delete_fldr},r),o.id===this.props.activeFolderId&&this.props.navigateToFolder(this.props.defaultFolderId),this.context.executeAction(F.deleteFolder,{folder:o,i13nModel:r,formatMessage:s})},handleFolderMenuShow:function e(){var t={mKey:K.MKEYS.FOLDER_CONTEXTMENU,sec:K.SEC_VALUES.LEFTRAIL_CONTEXTMENU};this.context.executeAction(F.showFolderMenu,{i13nModel:t})},handleFolderCreate:function e(t){var o=t.folderName,r=t.i13nModel,s=this.context.intl.formatMessage,l=this.props.activeAccount;r=Object.assign({mKey:K.MKEYS.ADD_FOLDER,sec:K.SEC_VALUES.LEFTRAIL_USERFOLDER,mKeyGroup:K.MKEY_GROUPS.create_fldr},r),this.context.executeAction(F.createFolder,{folderName:(0,L.getFolderName)(o,l),accountId:l.id,i13nModel:r,formatMessage:s})},handleSubfolderCreate:function e(t){var o=t.folder,r=t.subfolderName,s=t.i13nModel,l=this.context.intl.formatMessage,n=this.props.activeAccount,a=(0,L.buildFolderPath)(o.id,this.props.folders);s=Object.assign({mKey:K.MKEYS.ADD_FOLDER,sec:K.SEC_VALUES.LEFTRAIL_USERFOLDER,mKeyGroup:K.MKEY_GROUPS.create_fldr},s),this.context.executeAction(F.createFolder,{folderName:(0,L.getFolderName)(r,n,a),accountId:n.id,i13nModel:s,formatMessage:l})},handleFolderRename:function e(t){var o=t.originalFolderName,r=t.newFolderName,s=t.folderId,l=t.i13nModel,n=this.props.activeAccount,a=(0,L.buildFolderPath)(s,this.props.folders),i=a.substr(0,a.lastIndexOf(o)-1)||"";l=Object.assign({mKey:K.MKEYS.FOLDER_CONTEXTMENU_RENAME,sec:K.SEC_VALUES.LEFTRAIL_CONTEXTMENU,mKeyGroup:K.MKEY_GROUPS.rename_fldr},l),this.context.executeAction(F.renameFolder,{folderName:(0,L.getFolderName)(r,n,i),folderId:s,i13nModel:l})},handleFolderMarkRead:function e(t){var o=t.folder,r=t.i13nModel,s=this.context.intl.formatMessage;r=Object.assign({mKey:K.MKEYS.FOLDER_CONTEXTMENU_ALL_READ,sec:K.SEC_VALUES.LEFTRAIL_CONTEXTMENU,mKeyGroup:K.MKEY_GROUPS.mark_read},r),this.context.executeAction(F.markFolderAsRead,{folder:o,i13nModel:r,formatMessage:s})},handleFolderArchive:function e(t){var o=this.context.intl.formatMessage,r=this.state.selectedFolder,s={mKey:K.MKEYS.FOLDER_CONTEXTMENU_ALL_ARCHIVE,sec:K.SEC_VALUES.LEFTRAIL_CONTEXTMENU,interactionType:(0,w.getInteractionFromEvent)(t),mKeyGroup:K.MKEY_GROUPS.archive,actionData:{numMsg:r.total}};this.context.executeAction(F.archiveAllMessages,{folder:r,i13nModel:s,formatMessage:o}),this.hideConfirm()},handleExpandFolderToggle:function e(t,o){var r=this.props.expandedFolders;if(this.props.folders.some(function(e){return e.folder.id===t})){var s=r.indexOf(t),l=s!==-1,n=void 0;if(o&&!l)n=(0,C.append)(r,t);else{if(o||!l)return;n=(0,C.remove)(r,s,1)}this.context.executeAction(M.updateSetting,{name:I.Settings.EXPANDED_FOLDERS,value:n})}},handleToggleCustomFolders:function e(t){this.context.executeAction(M.updateSetting,{name:I.Settings.SHOW_CUSTOM_FOLDERS,value:t})},handleToggleAccountsLinkClick:function e(t){t.preventDefault();var o={mKey:this.state.toggleAccountsList?K.MKEYS.COLLAPSE_ACCOUNT_SWITCHER:K.MKEYS.EXPAND_ACCOUNT_SWITCHER,sec:K.SEC_VALUES.LEFTRAIL_ACCOUNTS,interactionType:(0,w.getInteractionFromEvent)(t)};this.context.executeAction(F.toggleAccountsList,{i13nModel:o}),this.setState({toggleAccountsList:!this.state.toggleAccountsList})},showConfirmDialog:function e(t,o){this.setState({confirmRequested:!0,confirmType:t,selectedFolder:o})},hideConfirm:function e(){this.setState({confirmRequested:!1,confirmType:null,selectedFolder:null})},handleFolderClear:function e(t){var o=this.context.intl.formatMessage,r=this.state.selectedFolder,s=(0,L.getPrimaryFolderType)(r),l=s===I.FolderTypes.BULK||s===I.FolderTypes.TRASH,n={mKey:l?K.MKEYS.FOLDER_CONTEXTMENU_EMPTY:K.MKEYS.FOLDER_CONTEXTMENU_ALL_DELETE,sec:K.SEC_VALUES.LEFTRAIL_CONTEXTMENU,interactionType:(0,w.getInteractionFromEvent)(t),mKeyGroup:K.MKEY_GROUPS.delete,actionData:{numMsg:r.total}};this.context.executeAction(F.deleteAllMessages,{folder:r,i13nModel:n,formatMessage:o}),this.hideConfirm()},navigateToInbox:function e(t){this.handleFolderClick(t,I.SystemFolders.INBOX,{mKey:K.MKEYS.INBOX_FOLDER,sec:K.SEC_VALUES.LEFTRAIL_SYSFOLDER,interactionType:(0,w.getInteractionFromEvent)(t)}),this.folderList&&(this.folderList.scrollTop=0)},detectScrollStop:function e(){this.setState({isScrolling:!1})},handleScroll:function e(){var t=this.folderList.scrollTop;this.state.isScrolling||this.setState({isScrolling:!0}),this.detectScrollStop(),this.state.scrollingUnder&&t<1?this.setState({scrollingUnder:!1}):!this.state.scrollingUnder&&t>0&&this.setState({scrollingUnder:!0})},handleToggleSystemFolders:function e(t){var o={mKey:t===!0?K.MKEYS.SETTINGS_EXPAND_SYSTEM_FOLDERS:K.MKEYS.SETTINGS_COLLAPSE_SYSTEM_FOLDERS,sec:K.SEC_VALUES.LEFTRAIL_SYSFOLDER,interactionType:K.INTERACTION_TYPES.click};this.context.executeAction(M.updateSetting,{name:I.Settings.SHOW_ALL_SYSTEM_FOLDERS,value:t,i13nModel:o})},renderConfirmDialog:function e(){var t=this.context.intl.formatMessage,r=this.state,s=r.selectedFolder,l=r.confirmType,n=this.props.conversationSetting,a=(0,L.getPrimaryFolderType)(s),i=o.default.createElement("strong",null,o.default.createElement(d.default,{folderDisplayType:a,name:'"'+s.name+'"'})),c=(0,L.isPermDeleteFolderType)(a);switch(l){case I.ConfirmIds.CLEAR_FOLDER:return o.default.createElement(U.default,{title:t(z.confirm_folder_delete_all_title),onConfirm:this.handleFolderClear,onAbort:this.hideConfirm},c?o.default.createElement(N.FormattedMessage,{id:"confirm.folder_delete_all_message",defaultMessage:"Are you sure you want to delete all\n                                {emailsNum, plural,\n                                    one {# conversation}\n                                    other {# conversations}\n                                } from {folderName}?",values:{emailsNum:s.total,folderName:i,conversations:n}}):o.default.createElement(N.FormattedMessage,{id:"confirm.folder_delete_move_all_message",defaultMessage:"Are you sure you want to delete all\n                                {emailsNum, plural,\n                                    one {# conversation}\n                                    other {# conversations}\n                                }, moving them from {folderName} to the Trash?",values:{emailsNum:s.total,folderName:i,conversations:n}}));case I.ConfirmIds.ARCHIVE_FOLDER:var u=(0,L.getPrimaryFolderType)(s),m=u===I.FolderTypes.INBOX,h=z.confirm_inbox_archive_all_title,p=z.confirm_inbox_archive_all_personalized_title,f=z.confirm_folder_archive_all_title,E=z.archive_emails_button_label,g=this.props.activeAccount.sendingName,_=void 0;return _=m?g?p:h:f,o.default.createElement(U.default,{title:t(_,{sendingName:g}),onConfirm:this.handleFolderArchive,onAbort:this.hideConfirm,hideIcon:!0,acceptLabel:E},m?o.default.createElement(N.FormattedMessage,{id:"confirm.inbox_archive_all_message",defaultMessage:"You can start with a clean inbox by archiving all\n                                        {emailsNum, plural,\n                                            one {# conversation}\n                                            other {# conversations}\n                                        } (instead of deleting).\n                                        Don't worry, to find them later, simply go to the Archive folder.",values:{emailsNum:s.total,folderName:i,conversations:n}}):o.default.createElement(N.FormattedMessage,{id:"confirm.folder_archive_all_message",defaultMessage:"Are you sure you want to archive all\n                                    {emailsNum, plural,\n                                        one {# conversation}\n                                        other {# conversations}\n                                    }, moving them from {folderName} to your Archive folder?",values:{emailsNum:s.total,folderName:i,conversations:n}}));default:return null}},renderComposeCue:function e(){var t=this.props.navigateToNewCompose;return this.props.showHSComposeCue&&this.composeBtn?o.default.createElement(q.default,{popoverAnchor:this.composeBtn,align:Y.Align.CENTER,triggerOn:Y.Triggers.MOUNT,permittedArrowDirections:[Y.PermittedArrowDirections.LEFT],bg:Y.BackgroundKinds.GRADIENT,zAltitude:v.ZIndices.POPOVER.HIGH},o.default.createElement(k.LazyComponent,{import:"../../molecules/scout_cue/",cueName:"HSComposeCue",navigateToNewCompose:t,_moduleGetter:function e(){return require("../../molecules/scout_cue/")}})):null},renderPreTourCue:function e(){var t=this.context.getCss(T.default);return this.props.showHSPreTourCue?o.default.createElement(p.default,null,o.default.createElement("div",{className:t.preTourContainer},o.default.createElement(k.LazyComponent,{import:"../../molecules/scout_cue/",cueName:"HSPreTourCue",firstName:this.props.activeAccount.sendingName,_moduleGetter:function e(){return require("../../molecules/scout_cue/")}}))):null},shouldRenderAccountSwitcher:function e(){return this.props.rootAccounts.filter(function(e){return e.status===I.AccountStatus.ENABLED}).length>1},render:function e(){var t=this,r=this.context.getCss(_.default,{scrollingUnder:this.state.scrollingUnder}),s=this.props,l=s.appRootPath,n=s.autoOpenReauth,i=s.feedbackPanel,d=s.feedbackURL,u=s.tutorial,h=s.magicTriage,p=s.smartViews;return o.default.createElement(x.default,{keys:[Z.openCompose(this.handleComposeLinkClick),Z.openInbox(this.navigateToInbox)]},o.default.createElement(A.KeyboardNavigationFocusGroup,{"data-test-id":"navigation",className:r.container+" navigation",circularNavigation:!1,groupTabIndex:v.TabIndices.FOLDER_LIST},o.default.createElement("div",{ref:function e(o){t.composeBtn=o}},o.default.createElement(m.default,{appRootPath:l,onClick:this.handleComposeLinkClick,handleDrop:this.handleComposeDrop,handleDragOver:this.handleDragOver,handleDragEnter:this.handleDragEnter,showComposeBadge:this.props.showComposeBadge}),this.renderComposeCue()),o.default.createElement("div",{className:r.shadow}),o.default.createElement("div",{className:r.folderList,onScroll:this.handleScroll,"data-test-id":"left-rail-scrolling-container",ref:function e(o){return t.folderList=o},onDragOver:this.handleDragScroll},this.shouldRenderAccountSwitcher()?o.default.createElement(E.default,{activeAccountId:this.props.activeAccount.id,rootAccounts:this.props.rootAccounts,accountDefaultFolders:this.props.accountDefaultFolders,toggleAccountsList:this.state.toggleAccountsList,expiredAccounts:this.props.expiredAccounts,onClick:this.handleFolderClick,autoOpenReauth:n}):null,this.shouldRenderAccountSwitcher()?o.default.createElement("div",{className:r.divider,onClick:this.handleToggleAccountsLinkClick},o.default.createElement("button",{className:r.moreButton,"data-iskeynav":!0}),o.default.createElement(B.default,{kind:H.Kinds.MORE,colorState:H.ColorStates.INHERITED,className:r.moreIcon})):null,o.default.createElement(a.default,{smartViews:p,tutorial:u,magicTriage:h,travelView:this.props.travelView,activeAccountId:this.props.activeAccount.id,folders:this.props.folders,sortOrder:this.props.folderListSortOrder,mailboxId:this.props.mailboxId,unreadCountForAccount:this.props.unreadCountForAccount,highlightFolderId:this.props.activeFolderId,folderRefreshing:this.props.folderRefreshing,onFolderOpen:this.handleFolderClick,onFolderDelete:this.handleFolderDelete,onFolderCreate:this.handleFolderCreate,onFolderMarkRead:this.handleFolderMarkRead,onFolderArchive:this.showConfirmDialog.bind(this,I.ConfirmIds.ARCHIVE_FOLDER),onFolderClear:this.showConfirmDialog.bind(this,I.ConfirmIds.CLEAR_FOLDER),onSubfolderCreate:this.handleSubfolderCreate,onFolderMenuShow:this.handleFolderMenuShow,onFolderRename:this.handleFolderRename,onSmartViewOpen:this.handleSmartViewClick,onFolderExpandToggle:this.handleExpandFolderToggle,onToggleCustomFolders:this.handleToggleCustomFolders,showDocumentsBadge:this.props.showDocumentsBadge,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showHSDocumentsCue:this.props.showHSDocumentsCue,expandedFolders:this.props.expandedFolders,showCustomFolders:this.props.showCustomFolders,isScrolling:this.state.isScrolling,selection:this.props.selection,collapsibleSystemFolders:this.props.collapsibleSystemFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.handleToggleSystemFolders,selectAllOnDrop:this.props.selectAllOnDrop,allItemsCount:this.props.allItemsCount,loadingState:this.props.loadingState,reloadingBar:this.props.reloadingBar,showCouponsView:this.props.showCouponsView}),this.props.hasAds?o.default.createElement("div",{className:r.adTL},o.default.createElement(c.Tl1AdComponent,null)):o.default.createElement("div",{className:r.adTL}),this.state.confirmRequested?this.renderConfirmDialog():null,i?o.default.createElement("div",{ref:function e(o){t.feedbackBtn=o}},o.default.createElement(k.LazyComponent,{defer:!0,import:"../../molecules/feedback_panel/index.jsx",feedbackURL:d,_moduleGetter:function e(){return require("../../molecules/feedback_panel/index.jsx")}})):null,this.renderPreTourCue())))}});exports.default=J,module.exports=exports.default;
},{"../../actions/folder":"./actions/folder","../../actions/settings":"./actions/settings","../../atoms/account_switcher.jsx":91,"../../atoms/compose_link.jsx":94,"../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/dialog/confirm":"./atoms/dialog/confirm","../../atoms/folder_label":"./atoms/folder_label","../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../atoms/keyboard_navigation_focus_group.jsx":"./atoms/keyboard_navigation_focus_group","../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/overlay.jsx":"./atoms/overlay","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../molecules/ads":147,"../../molecules/feedback_panel/index.jsx":"./molecules/feedback_panel","../../molecules/folder_list":208,"../../molecules/scout_cue/":"./molecules/scout_cue","../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants.js":"./platform/rapid_client/constants","../../platform/utils":"./platform/utils","../../platform/utils/array":"./platform/utils/array","../../platform/utils/folder":"./platform/utils/folder","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../../platform/utils/route":"./platform/utils/route","../../types":"./types","../feature_cue/actions":"./molecules/feature_cue/actions","../feature_cue/styles/information_cue":"./molecules/feature_cue/styles/information_cue","../keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","./styles/navigation":271,"./utils":272,"lodash/debounce":"./node_modules/lodash/debounce.js","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],271:[function(require,module,exports){
module.exports={className:{default:{container:"p_R Z_0 em_N W_6D6F D_F ek_BB",shadow:"O_0 Z_N p_a T_73HH W_6D6F H_eo6 aw_K5qmQ",folderList:"Y_fq7 P_Z1jXKuU D_B iz_A iy_h it_68UO",divider:"M_ZyFsHm q_ak5k6 r_P cdPFi_Z26U5tf t_C H_0 p_R P_dRA q4_52qC cdPFi4_Z26U5rI",moreButton:"b_n r_P P_dRA p_R H_6Fd5 T_69H5 q_T W_6D6F ir3_1IO2sY",moreIcon:"p_a T_68F4 L_dRK W_6Eb4 H_6Eb4",adTL:"Y_6TFj U_7iGr"},scrollingUnder:{shadow:"O_N"},"themeMode-MEDIUM":{container:"C_52qC",divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_52qC",divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"}},_key:"1BNruS"};
},{}],272:[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=exports.updateScrollOnDragOver=function t(o,r,e,a){var l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=r.top,s=r.bottom,u=r.height,h=u/8,i=10,p=0;return o<=n+h?(p=l?n/o*i:i,e-=p,e<0&&(e=0)):o>=s-h&&(p=l?o/s*i:i,e+u!==a&&(e+=p)),Math.floor(e)};
},{}],273:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var a=e.nextUrl,s=t.navigateTo;return o.default.createElement(n.FormattedMessage,{id:"compose.send_success_notification_with_link",defaultMessage:"Your {message} has been sent.",values:{message:a?o.default.createElement("a",{href:a,className:_.link,"data-test-id":"navigate-button",onClick:function e(t){t.preventDefault(),s({url:a})}},o.default.createElement(n.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):o.default.createElement(n.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})}function a(e,t){var a=e.onClose,s=e.filename,i=e.dataId,r=e.csid,c=t.executeAction;return o.default.createElement("div",{"data-test-id":"notification-img-upload-failure"},o.default.createElement("div",{className:_.notificationTitle},o.default.createElement(n.FormattedMessage,{id:"compose.inline_image_upload_or_download_failure_notification_title",defaultMessage:"Image upload failed"})),o.default.createElement("div",{className:_.notificationSubText},o.default.createElement(n.FormattedMessage,{id:"compose.inline_image_upload_fail_notification",defaultMessage:"Failed to upload {filename}.",values:{filename:s||"image"}})," ",o.default.createElement("span",{onClick:function e(){c(l.removeInlineImage,{dataId:i,csid:r}),a()},className:_.link,"data-test-id":"notification-remove-img"},o.default.createElement(n.FormattedMessage,{id:"compose.inline_image_remove",defaultMessage:"Remove"}))))}function s(e,t){var a=e.messageGroupId,s=e.message,i=e.composeMode,l=t.executeAction,c=o.default.createElement("span",{onClick:function e(){l(r.retryComposeAction,{messageGroupId:a,message:s,composeMode:i})},className:_.link,"data-test-id":"notification-retry-compose-action"},o.default.createElement(n.FormattedMessage,{id:"notification.compose_draft_failed_retry_link",defaultMessage:"Retry"}));return i===g.Compose.Modes.FORWARD?o.default.createElement(n.FormattedMessage,{id:"notification.draft_forward_failed",defaultMessage:"We encountered some issues while forwarding this message. {link}",values:{link:c}}):o.default.createElement(n.FormattedMessage,{id:"notification.draft_reply_or_reply_all_failed",defaultMessage:"We encountered some issues while replying to this message. {link}",values:{link:c}})}exports.__esModule=!0,exports.SendSuccess=t,exports.InlineImgFailure=a,exports.ComposeReplyOrForwardFailure=s;var i=require("react"),o=e(i),n=require("react-intl"),l=require("../compose/actions.js"),r=require("../../actions/message"),c=require("react-atomic-css/css"),d=e(c),u=require("./styles/actionable_compose_notifications"),m=e(u),f=require("../../platform/utils/object"),g=require("../../platform/mail_constants"),p=require("../../types"),_=(0,d.default)(m.default);t.contextTypes={navigateTo:i.PropTypes.func},a.contextTypes={executeAction:i.PropTypes.func},s.contextTypes={executeAction:i.PropTypes.func};
},{"../../actions/message":"./actions/message","../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/object":"./platform/utils/object","../../types":"./types","../compose/actions.js":"./molecules/compose/actions","./styles/actionable_compose_notifications":297,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],274:[function(require,module,exports){
"use strict";function t(t,o){var a=o.notification;t.dispatch(i.mail.NOTIFICATION_CLOSED,{notification:a})}exports.__esModule=!0,exports.closeNotification=t;var i=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],275:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.infectedFileName;return r.default.createElement(d.FormattedMessage,{id:"attachment_tray.infected_files",values:{infectedFileName:t},defaultMessage:"File infected - {infectedFileName}"})}function a(e){var t=e.downloadUrl,a={color:s.BASE_LINK_COLOR};return r.default.createElement(d.FormattedMessage,{id:"attachment_tray.unsupported_files",defaultMessage:"Please {download} to view this file",values:{download:r.default.createElement("a",{style:a,href:t},r.default.createElement(d.FormattedMessage,{id:"attachment_tray.unsupported_file_download_link",defaultMessage:"download"}))}})}exports.__esModule=!0,exports.InfectedFiles=t,exports.UnsupportedFiles=a;var l=require("react"),r=e(l),d=require("react-intl"),s=require("../../../platform/utils/mail_ui_vars");
},{"../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],276:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){return g.default.createElement(M.FormattedMessage,{id:"compose.send_email_address_missing_notification",defaultMessage:"Please add at least one email address before sending."})}function a(){return g.default.createElement("div",null,g.default.createElement("div",{className:y.notificationTitle},g.default.createElement(M.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_title",defaultMessage:"Send Error: Too many recipients for this email"})),g.default.createElement("div",{className:y.notificationSubText},g.default.createElement(M.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_subtext",defaultMessage:"Please reduce the number of recipients and try to send again."}),g.default.createElement("br",null),g.default.createElement(h.default,{kind:S.Kinds.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:function e(){return window.open(q,"_blank")}},g.default.createElement("span",{className:y.button},g.default.createElement(M.FormattedMessage,{id:"compose.learn_more_url",defaultMessage:"Learn more"})))))}function s(e){var t=e.invalidAddresses,a=void 0===t?[]:t,s={};a.forEach(function(e,t,a){var n="_"+t;s[n]=g.default.createElement("span",null,e),t<a.length-1&&(s[n+"-delim"]=g.default.createElement(M.FormattedMessage,{id:"email_separator",defaultMessage:"\n                        {isLast, select,\n                            false {,\\u0020}\n                            true {, and\\u0020}}\n                    ",values:{isLast:t===a.length-2}}))});var n=(0,p.default)(s);return g.default.createElement(M.FormattedMessage,{id:"compose.send_email_address_correction_notification",defaultMessage:"Please correct these email addresses before sending: {emailList}",values:{emailList:g.default.createElement("span",null,n)}})}function n(){return g.default.createElement(M.FormattedMessage,{id:"compose.sending_email_status",defaultMessage:"Sending..."})}function r(){return g.default.createElement(M.FormattedMessage,{id:"compose.send_failure_notification",defaultMessage:"We encountered issues while sending message."})}function o(){return g.default.createElement(M.FormattedMessage,{id:"notification.draft_saved",defaultMessage:"Message saved as draft."})}function d(){return g.default.createElement(M.FormattedMessage,{id:"notification.draft_save_failed",defaultMessage:"Message cannot be saved as draft."})}function i(){return g.default.createElement(M.FormattedMessage,{id:"notification.saved_to_inbox",defaultMessage:"Message saved to inbox."})}function l(){return g.default.createElement(M.FormattedMessage,{id:"notification.save_to_inbox_failed",defaultMessage:"Message cannot be saved to inbox."})}function u(e){var t=e.messageIds;return g.default.createElement(M.FormattedMessage,{id:"notification.delete_draft_success",defaultMessage:"{count, plural, one {Draft} other {Drafts}} permanently deleted.",values:{count:t.length}})}function c(e){var t=e.messageIds;return g.default.createElement(M.FormattedMessage,{id:"notification.delete_draft_failure",defaultMessage:"Unable to delete the {count, plural, one {draft} other {drafts}}.",values:{count:t.length}})}function f(){return g.default.createElement(M.FormattedMessage,{id:"compose.draft_unavailable_notification",defaultMessage:"The message you are trying to open is no longer available."})}exports.__esModule=!0,exports.NoAddress=t,exports.MaxRecipientsExceeded=a,exports.InvalidAddresses=s,exports.Send=n,exports.SendFailure=r,exports.SaveSuccess=o,exports.SaveFailure=d,exports.SaveToInboxSuccess=i,exports.SaveToInboxFailure=l,exports.DeleteDraftSuccess=u,exports.DeleteDraftFailure=c,exports.MessageAlreadySent=f;var m=require("react"),g=e(m),_=require("react-addons-create-fragment"),p=e(_),M=require("react-intl"),v=require("react-atomic-css/css"),E=e(v),x=require("./styles/compose_notifications"),b=e(x),F=require("../../../atoms/button.jsx"),h=e(F),S=require("../../../atoms/constants/button"),y=(0,E.default)(b.default),q="https://help.yahoo.com/kb/mail/sln3353.html";
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","./styles/compose_notifications":288,"react":"./node_modules/react/react.js","react-addons-create-fragment":"./node_modules/react-addons-create-fragment/index.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],277:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function o(e){var o=e.fileCount,i=void 0===o?1:o,r=e.filename,n=e.error,d=void 0===n?{}:n,u=d.code,f=void 0===u?"":u,s=d.validationErrors,c=void 0===s?[]:s;return f===t&&c.join("").indexOf("virus")>-1?a.default.createElement(l.FormattedMessage,{id:"notification.download_virus_error",defaultMessage:"Virus scan failed. Unable to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:i,filename:r}}):a.default.createElement(l.FormattedMessage,{id:"notification.download_error",defaultMessage:"Failed to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:i,filename:r}})}exports.__esModule=!0,exports.DownloadFailed=o;var i=require("react"),a=e(i),l=require("react-intl"),t="EC-4001";
},{"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],278:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.ThemesCueV2Closed=void 0;var t=require("react"),s=e(t),i=require("react-intl"),n=require("react-atomic-css/css"),a=e(n),o=require("./styles/feature_cue_notifications"),u=e(o),r=require("../../../actions/settings"),c=require("../../feature_cue/actions"),l=(0,a.default)(u.default),d=exports.ThemesCueV2Closed=s.default.createClass({displayName:"ThemesCueV2Closed",contextTypes:{executeAction:t.PropTypes.func.isRequired},handleClick:function e(t){t.preventDefault(),this.props.onClose(),this.context.executeAction(r.autoOpenSettingsPopover,{status:!0})},render:function e(){var t=s.default.createElement("span",{onClick:this.handleClick,className:l.settings,"data-test-id":"settings-link"},s.default.createElement(i.FormattedMessage,{id:"notification.themes_cue_v2_closed_settings",defaultMessage:"Settings"}));return s.default.createElement(i.FormattedMessage,{id:"notification.themes_cue_v2_closed",defaultMessage:"Theme saved. For more ways to personalize, go to {Settings}.",values:{Settings:t}})},componentWillUnmount:function e(){this.context.executeAction(c.featureCueNotificationClosed,{name:"themesCueV2"})}});
},{"../../../actions/settings":"./actions/settings","../../feature_cue/actions":"./molecules/feature_cue/actions","./styles/feature_cue_notifications":289,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],279:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.create_success",defaultMessage:"{folderName} folder created",values:{folderName:a}})}function a(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.create_failure",defaultMessage:"Failed creating {folderName} folder",values:{folderName:a}})}function l(e){var r=e.newFolderName,a=e.originalFolderName,l=N.default.createElement("strong",null,r),t=N.default.createElement("strong",null,a);return N.default.createElement(v.FormattedMessage,{id:"folder.rename_success",defaultMessage:"Folder {originalFolderName} renamed to {newFolderName}",values:{newFolderName:l,originalFolderName:t}})}function t(e){var r=e.newFolderName,a=e.originalFolderName,l=N.default.createElement("strong",null,r),t=N.default.createElement("strong",null,a);return N.default.createElement(v.FormattedMessage,{id:"folder.rename_failure",defaultMessage:"Failed renaming folder {originalFolderName} to {newFolderName}",values:{newFolderName:l,originalFolderName:t}})}function d(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.delete_success",defaultMessage:"{folderName} folder deleted",values:{folderName:a}})}function o(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.delete_failure",defaultMessage:"Failed deleting {folderName} folder",values:{folderName:a}})}function s(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.mark_read_success",defaultMessage:"Folder {folderName} was marked as read",values:{folderName:a}})}function n(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.mark_read_failure",defaultMessage:"Failed marking folder {folderName} as read",values:{folderName:a}})}function u(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.archive_success",defaultMessage:"Messages in folder {folderName} were moved to archive",values:{folderName:a}})}function f(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.archive_failure",defaultMessage:"Failed moving folder {folderName} messages to archive",values:{folderName:a}})}function m(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.clear_success",defaultMessage:"Folder {folderName} was cleared",values:{folderName:a}})}function c(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.clear_failure",defaultMessage:"Failed clearing folder {folderName}",values:{folderName:a}})}function i(){return N.default.createElement(v.FormattedMessage,{id:"folder.access_failure",defaultMessage:"The folder you're trying to access is no longer valid"})}function g(e){var r=e.folderName,a=N.default.createElement("strong",null,r);return N.default.createElement(v.FormattedMessage,{id:"folder.delete_nonempty",defaultMessage:"Only empty folders can be deleted. Please delete all contents of the {folderName} folder first.",values:{folderName:a}})}exports.__esModule=!0,exports.FolderCreateSuccess=r,exports.FolderCreateFailure=a,exports.FolderRenameSuccess=l,exports.FolderRenameFailure=t,exports.FolderDeleteSuccess=d,exports.FolderDeleteFailure=o,exports.FolderMarkReadSuccess=s,exports.FolderMarkReadFailure=n,exports.FolderArchiveSuccess=u,exports.FolderArchiveFailure=f,exports.FolderClearSuccess=m,exports.FolderClearFailure=c,exports.FolderAccessFailure=i,exports.DeleteNonEmptyFolderNotification=g;var F=require("react"),N=e(F),v=require("react-intl");
},{"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],280:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.NoInternet=void 0;var t=require("react"),n=e(t),r=require("react-intl"),o=exports.NoInternet=n.default.createClass({displayName:"NoInternet",render:function e(){return n.default.createElement(r.FormattedMessage,{id:"notification.no_internet",defaultMessage:"No internet connection."})}});
},{"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],281:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.NotSyncing=void 0;var t=require("react"),i=e(t),n=require("react-intl"),o=require("../../../atoms/constants/button"),a=require("../../../atoms/button"),r=e(a),s=require("react-atomic-css/css"),u=e(s),d=require("./styles/notification"),l=e(d),c=require("../../../platform/utils"),p=require("../../../platform/rapid_client/constants"),g=require("../../../platform/utils/route"),f=require("../../../platform/mail_constants"),m=(0,u.default)(l.default),h=exports.NotSyncing=i.default.createClass({displayName:"NotSyncing",contextTypes:{navigateTo:t.PropTypes.func},handleClick:function e(t){var i={mKey:p.MKEYS.FIX_IMAP_ACCOUNT,sec:p.SEC_VALUES.NOTIFICATION_ACTION,interactionType:(0,c.getInteractionFromEvent)(t)},n=this.props,o=n.accountId,a=n.provider,r=n.autoOpenReauth;r&&(window.oAuthWindow=window.open("","authorizeWindow","width=800, height=600, top="+(screen.height-300)+", left="+(screen.width-400))),this.props.onClose(),this.context.navigateTo({route:(0,g.buildSettingsRoute)({settingsGroupId:f.SettingsTab.ACCOUNTS,accountId:o,provider:a,openReauth:r}),i13nModel:i})},render:function e(){var t=this.props,a=t.autoOpenReauth,s=t.provider,u=void 0;return u=a&&s===f.EmailProviders.GOOGLE?i.default.createElement(n.FormattedMessage,{id:"notifications.signintogoogle",defaultMessage:"Sign in to Google"}):i.default.createElement(n.FormattedMessage,{id:"notifications.gotosettings",defaultMessage:"Go to Settings"}),i.default.createElement("div",null,i.default.createElement(n.FormattedMessage,{id:"mailbox.not_sycning",defaultMessage:"This mailbox is not syncing and needs permission to resume."})," ",i.default.createElement(r.default,{"aria-hidden":!0,kind:o.Kinds.CHROMELESS,onClick:this.handleClick},i.default.createElement("span",{className:m.actionLink},u)))}});
},{"../../../atoms/button":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../../platform/utils":"./platform/utils","../../../platform/utils/route":"./platform/utils/route","./styles/notification":290,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],282:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.move_message_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, one {conversation} other {conversations} }} false {{count, plural, one {message} other {messages} }} } to the selected folder.",values:{conversations:t,count:s}})}function s(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.markSpam_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation is} other {Conversations are} }} false {{count, plural, one {Message is} other {Messages are} }} } successfully marked as Spam",values:{conversations:t,count:s}})}function o(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.markSpam_failure",defaultMessage:"Unable to mark the {conversations, select, true {{count, plural, one {conversation} other {conversations} }} false {{count, plural, one {message} other {messages} }} } as Spam.",values:{conversations:t,count:s}})}function a(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.notSpam_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation is} other {Conversations are} }} false {{count, plural, one {Message is} other {Messages are} }} } moved to Inbox",values:{conversations:t,count:s}})}function n(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.notSpam_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, one {conversation} other {conversations} }} false {{count, plural, one {message} other {messages} }} } to Inbox",values:{conversations:t,count:s}})}function r(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.archive_failure",defaultMessage:"Unable to Archive the {conversations, select, true {{count, plural, one {conversation} other {# conversations} }} false {{count, plural, one {message} other {messages} }} }.",values:{conversations:t,count:s}})}function u(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.restore_inbox_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to Inbox",values:{conversations:t,count:s}})}function c(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.restore_inbox_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, one {conversation} other {# conversations} }} false {{count, plural, one {message} other {messages} }} } to Inbox",values:{conversations:t,count:s}})}function i(e){var t=e.conversations,s=e.count;return g.default.createElement(p.FormattedMessage,{id:"notification.delete_failure",defaultMessage:"Unable to delete the {conversations, select, true {{count, plural, one {conversation} other {# conversations} }} false {{count, plural, one {message} other {# messages} }} }.",values:{conversations:t,count:s}})}function l(){return g.default.createElement(p.FormattedMessage,{id:"notification.undo_success",defaultMessage:"Undo succeeded"})}function d(){return g.default.createElement(p.FormattedMessage,{id:"notification.undo_failed",defaultMessage:"Undo failed"})}function v(){return g.default.createElement(p.FormattedMessage,{id:"notification.geminiSponsoredAssetFailed",defaultMessage:"Ad asset load failed"})}function f(){return g.default.createElement(p.FormattedMessage,{id:"notification.message_access_failure",defaultMessage:"The message you're trying to access is no longer valid"})}exports.__esModule=!0,exports.MessagesMoveFailure=t,exports.MarkSpamSuccess=s,exports.MarkSpamFailure=o,exports.NotSpamSuccess=a,exports.NotSpamFailure=n,exports.ArchiveFailure=r,exports.RestoreInboxSuccess=u,exports.RestoreInboxFailure=c,exports.DeleteFailure=i,exports.UndoMoveSuccess=l,exports.UndoMoveFailure=d,exports.GeminiSponsoredAssetFailed=v,exports.MessageAccessFailure=f;var m=require("react"),g=e(m),p=require("react-intl");
},{"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],283:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),i=e(t),s=require("react-intl"),a=require("react-atomic-css/css"),o=e(a),n=require("./styles/notification"),r=e(n),l=require("../../../atoms/fuji_icon.jsx"),c=e(l),u=require("../../../atoms/fuji_icon_button.jsx"),d=e(u),f=require("../../../platform/utils/object"),p=require("../../../atoms/constants/fuji_icon"),m=require("../../../platform/mail_constants"),N=(0,s.defineMessages)({close:{id:"notification.close",defaultMessage:"Close notification"}}),E=i.default.createClass({displayName:"Notification",contextTypes:{intl:s.intlShape.isRequired},getDefaultProps:function e(){return{sticky:!1,requireInteraction:!1,type:m.NotificationTypes.NORMAL}},render:function e(){var t=this.props,s=t.type,a=t.icon,n=t.sticky,l=(0,o.default)(r.default,{type:s}),u=this.context.intl.formatMessage(N.close),f=a;return f||s===m.NotificationTypes.ADVISORY||(f=s===m.NotificationTypes.WARNING?p.Kinds.EXCLAMATION_ALT:p.Kinds.CHECKMARK),i.default.createElement("div",{className:l.container},i.default.createElement("div",{className:l.innerContainer},f?i.default.createElement("div",{className:l.icon,role:"presentation"},i.default.createElement(c.default,{kind:f,size:p.Sizes.S,colorState:p.ColorStates.INVERTED})):null,i.default.createElement("div",{className:l.content},this.props.children),n?null:i.default.createElement("div",{className:l.close},i.default.createElement(d.default,{kind:p.Kinds.CLOSE_MINI,size:p.Sizes.XS,colorState:p.ColorStates.NORMAL,title:u,role:"presentation",onClick:this.props.onClose}))))}});exports.default=E,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/object":"./platform/utils/object","./styles/notification":290,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],284:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(){return l.default.createElement(u.FormattedMessage,{id:"folder.move_query_failure",defaultMessage:"Failed moving all items "})}function t(){return l.default.createElement(u.FormattedMessage,{id:"folder.mark_query_success",defaultMessage:"Items were updated"})}function a(){return l.default.createElement(u.FormattedMessage,{id:"folder.mark_query_failure",defaultMessage:"Failed updating all items "})}exports.__esModule=!0,exports.MoveQuerySuccess=void 0,exports.MoveQueryFailure=r,exports.MarkQuerySuccess=t,exports.MarkQueryFailure=a;var s=require("react"),l=e(s),u=require("react-intl"),o=require("../../../atoms/folder_label"),d=e(o),n=require("../../../platform/utils/folder"),i=exports.MoveQuerySuccess=l.default.createClass({displayName:"MoveQuerySuccess",render:function e(){var r=this.props,t=r.folder,a=r.conversations;return l.default.createElement("div",null,l.default.createElement(u.FormattedMessage,{id:"folder.move_query_success",defaultMessage:"All {conversations, select, true {conversations} false {messages} } moved to {destinationFolderName}.",values:{destinationFolderName:l.default.createElement("strong",null,l.default.createElement(d.default,{folderDisplayType:(0,n.getFolderDisplayType)(t),name:t.name})),conversations:a}}))}});
},{"../../../atoms/folder_label":"./atoms/folder_label","../../../platform/utils/folder":"./platform/utils/folder","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],285:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),s=require("react-intl"),a=require("../../../atoms/constants/button"),u=require("../../../atoms/button"),n=e(u),d=require("react-atomic-css/css"),o=e(d),i=require("./styles/refresh_button"),l=e(i),f=(0,o.default)(l.default),c=r.default.createClass({displayName:"RefreshButton",render:function e(){return r.default.createElement(n.default,{"aria-hidden":!0,"data-test-id":"refresh-button",kind:a.Kinds.CHROMELESS,onClick:this.props.onRefresh},r.default.createElement("span",{className:f.refresh},r.default.createElement(s.FormattedMessage,{id:"notifications.refresh",defaultMessage:"Refresh"})))}});exports.default=c,module.exports=exports.default;
},{"../../../atoms/button":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","./styles/refresh_button":291,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],286:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.SearchLoadMoreFailure=void 0;var r=require("react"),t=e(r),a=require("react-intl"),s=require("./refresh_button"),o=e(s),i=require("../../../actions/search_message_list"),l=exports.SearchLoadMoreFailure=t.default.createClass({displayName:"SearchLoadMoreFailure",contextTypes:{executeAction:r.PropTypes.func},refresh:function e(){var r=this.props,t=r.listId;(0,r.onClose)(),this.context.executeAction(i.ListActions.retryLoading,{listId:t})},render:function e(){return t.default.createElement("div",null,t.default.createElement(a.FormattedMessage,{id:"search.load_more_failure",defaultMessage:"Can't load additional messages."})," ",t.default.createElement(o.default,{onRefresh:this.refresh}))}});
},{"../../../actions/search_message_list":"./actions/search_message_list","./refresh_button":285,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],287:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){return c.default.createElement(l.FormattedMessage,{id:"notification.settings_filter_saved",defaultMessage:"Message filter has been saved successfully"})}function a(){return c.default.createElement(l.FormattedMessage,{id:"notification.user_preference_failed_to_load",defaultMessage:"Your preferences failed to load at this time due to a temporary error."})}function r(){return c.default.createElement(l.FormattedMessage,{id:"notification.settings_vacation_response_saved",defaultMessage:"Vacation response has been saved successfully"})}function n(){return c.default.createElement(l.FormattedMessage,{id:"notification.settings_resend_confirm_succeed",defaultMessage:"Confirmation email sent."})}function i(){return c.default.createElement(l.FormattedMessage,{id:"notification.settings_resend_confirm_failed",defaultMessage:"Confirmation email sent failed."})}function s(){return c.default.createElement(l.FormattedMessage,{id:"notification.settings_account_reauth_succeed",defaultMessage:"Mailbox reauthorized. Sync will begin soon."})}function o(e){var t=e.error,a=e.provider,r=e.email;switch(t){case 412:return c.default.createElement(l.FormattedMessage,{id:"notification.settings_cancel_permission",defaultMessage:"Account connection cancelled."});case 403:return c.default.createElement("div",{className:p.errorWrapper},c.default.createElement("div",{className:p.errorHeader},c.default.createElement(l.FormattedMessage,{id:"notification.settings_different_id_header",defaultMessage:"{email} could not be added",values:{email:r}})),c.default.createElement("div",{className:p.errorBody},c.default.createElement(l.FormattedMessage,{id:"notification.settings_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:(0,_.getProviderName)(a),nextLine:c.default.createElement("br",null),sign_out:c.default.createElement("a",{className:p.link,target:"_blank",href:M.IMAP_SETTINGS[a].providerUrl},c.default.createElement(l.FormattedMessage,{id:"notification.settings_sign_out",defaultMessage:"sign out"}))}})));case 503:return c.default.createElement(l.FormattedMessage,{id:"notification.provider_not_available",defaultMessage:"Yahoo cannot connect to {provider} at this time. Please try to connect your account later.",values:{provider:(0,_.getProviderName)(a)}});case 409:return c.default.createElement(l.FormattedMessage,{id:"notification.account_conflict",defaultMessage:"This account is already connected"});default:return c.default.createElement(l.FormattedMessage,{id:"notification.account_general_error",defaultMessage:"Unable to add mailbox. Please try again later."})}}exports.__esModule=!0,exports.SettingsFilterSaved=t,exports.SettingsFailedToLoad=a,exports.SettingsVacationResponseSaved=r,exports.resendConfirmEmailSucceed=n,exports.resendConfirmEmailFailed=i,exports.AccountReauthSucceeded=s,exports.AccountReauthFailed=o;var d=require("react"),c=e(d),l=require("react-intl"),u=require("react-atomic-css/css"),f=e(u),m=require("./styles/settings_notifications"),g=e(m),_=require("../../../platform/utils/account"),M=require("../../../platform/mail_constants"),p=(0,f.default)(g.default);
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/account":"./platform/utils/account","./styles/settings_notifications":292,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],288:[function(require,module,exports){
module.exports={className:{default:{notificationTitle:"t_CS A_6EWk C_Z291T0t u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO",button:"C_Z2aVTcY A_6EqO"}},_key:"Z4U2H9"};
},{}],289:[function(require,module,exports){
module.exports={className:{default:{settings:"C_Z2aVTcY r_P"}},_key:"62EcE"};
},{}],290:[function(require,module,exports){
module.exports={className:{default:{icon:"C_52qC en_0 P_3gJOe ac_FT ab_C D_F gl_C ba_6Eor",container:"k_w p_R a_3PmnJ D_F",innerContainer:"D_F ab_CH ac_CH gl_C q_52qC j_1zwO34 e_dRA o_h cZW7ROP_A",content:"em_N D_F P_Z2baRGn A_6EWk i_6Mbr C_Z291T0t o_h",close:"P_C04i4 ac_CI",link:"C_Z2aVTcY",actionLink:"C_Z2aVTcY A_6EWk"},"type-NORMAL":{icon:"I_1mrWUc aw_buWz3"},"type-ADVISORY":{icon:"I_Z1Bab0a aw_Z1vTr7U"},"type-WARNING":{icon:"I_Z9gXar aw_TD3i8"}},_key:"Z1eAP6S"};
},{}],291:[function(require,module,exports){
module.exports={className:{default:{refresh:"C_Z2aVTcY A_6EWk"}},_key:"1iekj1"};
},{}],292:[function(require,module,exports){
module.exports={className:{default:{link:"C_Z2aVTcY Q_dRA u_e69 r_P",errorWrapper:"t_l",errorHeader:"u_e69 U_eo6",errorBody:"A_6EqO i_6Fd5"}},_key:"2bqA1X"};
},{}],293:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){return a.default.createElement(r.FormattedMessage,{id:"notification.unsub_lists_cleaned",defaultMessage:"Enjoy your cleaner Inbox! Glad that was useful. New recommendations tomorrow!"})}function n(){return a.default.createElement(r.FormattedMessage,{id:"notification.unsub_list_cleaned",defaultMessage:"Enjoy your cleaner Inbox! We'll have new recommendations tomorrow."})}function o(){return a.default.createElement(r.FormattedMessage,{id:"notification.unsub_dialog_closed",defaultMessage:"Great! Glad you still like those emails. We'll have new recommendations tomorrow."})}exports.__esModule=!0,exports.UnsubscribeMultipleListsCleaned=t,exports.UnsubscribeSingleListCleaned=n,exports.UnsubscribeDialogClosed=o;var s=require("react"),a=e(s),r=require("react-intl");
},{"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],294:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.ExceptionOccurred=void 0;var t=require("react"),a=e(t),n=require("react-intl"),r=require("../../atoms/button.jsx"),c=e(r),i=require("../../atoms/constants/button"),s=require("react-atomic-css/css"),u=e(s),o=require("./styles/exception_notifications"),d=e(o),l=(0,u.default)(d.default),p=exports.ExceptionOccurred=a.default.createClass({displayName:"ExceptionOccurred",handleSplunkSearch:function e(){window.open(this.props.splunkUrl,"_blank")},render:function e(){return a.default.createElement("div",null,a.default.createElement(n.FormattedMessage,{id:"notification.exception_occurred",defaultMessage:"Javascript exception occurred."})," ",a.default.createElement(c.default,{kind:i.Kinds.CHROMELESS,"data-test-id":"search-btn",onClick:this.handleSplunkSearch},a.default.createElement("span",{className:l.button},a.default.createElement(n.FormattedMessage,{id:"notification.exception_run_diagnostics",defaultMessage:"Run diagnostics"}))))}});
},{"../../atoms/button.jsx":"./atoms/button","../../atoms/constants/button":"./atoms/constants/button","./styles/exception_notifications":298,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],295:[function(require,module,exports){
"use strict";function i(i){if(i&&i.__esModule)return i;var e={};if(null!=i)for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e.default=i,e}function e(i){return i&&i.__esModule?i:{default:i}}function t(i){var e=i.type;return i.requireInteraction?"alertdialog":e===R.NotificationTypes.NORMAL?"status":"alert"}function o(i){var e=(0,M.selectors)(i.store.getState()),t=e.getFeaturesSelectors,o=t(),a=o.isEnabled(R.Features.CONVERSATIONS);return{notification:i.getStore(u.default).get(),multiTask:o.isEnabled(R.Settings.MAIL_TABS),conversations:a}}exports.__esModule=!0;var a=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},s;exports.getStateFromStores=o;var E=require("react"),n=e(E),r=require("fluxible-addons-react"),c=require("react-addons-create-fragment"),S=e(c),_=require("./styles/notification"),d=e(_),I=require("react-atomic-css/css"),l=e(I),f=require("../../stores/notification"),u=e(f),N=require("../../atoms/layer.jsx"),A=e(N),C=require("./actions"),D=require("./atoms/notification.jsx"),F=e(D),R=require("../../platform/mail_constants"),L=require("../../types"),M=require("../../reducers_selectors"),O=require("../../platform/rapid_client/constants"),T=require("./atoms/general_notifications.jsx"),m=i(T),U=require("./atoms/compose_notifications.jsx"),p=i(U),v=require("./exception_notifications.jsx"),g=i(v),x=require("./actionable_compose_notifications"),h=i(x),q=require("./atoms/folder_notifications.jsx"),G=i(q),P=require("./atoms/query_notifications.jsx"),b=i(P),y=require("./atoms/message_notifications.jsx"),V=i(y),B=require("./atoms/attachment_notifications.jsx"),j=i(B),H=require("../timezone_check/notifications"),k=i(H),K=require("./message_undo_notifications"),w=i(K),Q=require("../../apps/mail/controller_views/async_task"),Y=e(Q),X=require("./atoms/settings_notifications.jsx"),z=i(X),W=require("./atoms/unsubscribe_notifications.jsx"),Z=i(W),J=require("./atoms/download_notifications.jsx"),$=i(J),ii=require("./atoms/mailbox_notifications.jsx"),ei=i(ii),ti=require("./atoms/feature_cue_notifications.jsx"),oi=i(ti),ai=require("./atoms/search_notifications.jsx"),si=i(ai),Ei=(s={},s[R.NotificationIds.ATTACHMENT_VIRUS_DETECTED]=j.InfectedFiles,s[R.NotificationIds.ATTACHMENT_PREVIEW_FAILED]=j.UnsupportedFiles,s[R.NotificationIds.COMPOSE_REPLY_OR_FORWARD_FAILED]=h.ComposeReplyOrForwardFailure,s[R.NotificationIds.COMPOSE_NO_ADDRESS_DETECTED]=p.NoAddress,s[R.NotificationIds.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]=p.MaxRecipientsExceeded,s[R.NotificationIds.COMPOSE_ADDRESSING_FAILED]=p.InvalidAddresses,s[R.NotificationIds.COMPOSE_SEND]=p.Send,s[R.NotificationIds.COMPOSE_SEND_SUCCEEDED]=h.SendSuccess,s[R.NotificationIds.COMPOSE_MESSAGE_ALREADY_SENT]=p.MessageAlreadySent,s[R.NotificationIds.COMPOSE_SEND_FAILED]=p.SendFailure,s[R.NotificationIds.INLINE_IMAGE_LOAD_FAILURE]=h.InlineImgFailure,s[R.NotificationIds.SAVE_DRAFT_SUCCESS]=p.SaveSuccess,s[R.NotificationIds.SAVE_DRAFT_FAILURE]=p.SaveFailure,s[R.NotificationIds.SAVE_TO_INBOX_SUCCESS]=p.SaveToInboxSuccess,s[R.NotificationIds.SAVE_TO_INBOX_FAILURE]=p.SaveToInboxFailure,s[R.NotificationIds.DELETE_DRAFT_SUCCESS]=p.DeleteDraftSuccess,s[R.NotificationIds.DELETE_DRAFT_FAILURE]=p.DeleteDraftFailure,s[R.NotificationIds.ARCHIVE_FOLDER_SUCCEEDED]=G.FolderArchiveSuccess,s[R.NotificationIds.ARCHIVE_FOLDER_FAILED]=G.FolderArchiveFailure,s[R.NotificationIds.CREATE_FOLDER_SUCCEEDED]=G.FolderCreateSuccess,s[R.NotificationIds.CREATE_FOLDER_FAILED]=G.FolderCreateFailure,s[R.NotificationIds.RENAME_FOLDER_SUCCEEDED]=G.FolderRenameSuccess,s[R.NotificationIds.RENAME_FOLDER_FAILED]=G.FolderRenameFailure,s[R.NotificationIds.DELETE_FOLDER_SUCCEEDED]=G.FolderDeleteSuccess,s[R.NotificationIds.DELETE_FOLDER_FAILED]=G.FolderDeleteFailure,s[R.NotificationIds.MARK_READ_FOLDER_SUCCEEDED]=G.FolderMarkReadSuccess,s[R.NotificationIds.MARK_READ_FOLDER_FAILED]=G.FolderMarkReadFailure,s[R.NotificationIds.CLEAR_FOLDER_SUCCEEDED]=G.FolderClearSuccess,s[R.NotificationIds.CLEAR_FOLDER_FAILED]=G.FolderClearFailure,s[R.NotificationIds.FOLDER_ACCESS_FAILED]=G.FolderAccessFailure,s[R.NotificationIds.MOVE_QUERY_SUCCEEDED]=b.MoveQuerySuccess,s[R.NotificationIds.MOVE_QUERY_FAILED]=b.MoveQueryFailure,s[R.NotificationIds.MARK_QUERY_SUCCEEDED]=b.MarkQuerySuccess,s[R.NotificationIds.MARK_QUERY_FAILED]=b.MarkQueryFailure,s[R.NotificationIds.DELETE_NON_EMPTY_FOLDER_REQUESTED]=G.DeleteNonEmptyFolderNotification,s[R.NotificationIds.BULK_PROGRESS]=Y.default,s[R.NotificationIds.OFFLINE]=m.NoInternet,s[R.NotificationIds.TIMEZONE_CHANGE_REQUESTED]=k.TimezoneChangeRequestedNotification,s[R.NotificationIds.TIMEZONE_CHANGE_SUCCESS]=k.TimezoneChangeSuccessNotification,s[R.NotificationIds.TIMEZONE_CHANGE_FAILURE]=k.TimezoneChangeFailureNotification,s[R.NotificationIds.MESSAGES_MARK_SPAM_SUCCEEDED]=V.MarkSpamSuccess,s[R.NotificationIds.MESSAGES_MARK_SPAM_FAILED]=V.MarkSpamFailure,s[R.NotificationIds.MESSAGES_MARK_NOT_SPAM_SUCCEEDED]=V.NotSpamSuccess,s[R.NotificationIds.MESSAGES_MARK_NOT_SPAM_FAILED]=V.NotSpamFailure,s[R.NotificationIds.MESSAGES_MOVE_SUCCEEDED]=w.MessagesMoveSuccess,s[R.NotificationIds.MESSAGES_MOVE_FAILED]=V.MessagesMoveFailure,s[R.NotificationIds.ARCHIVE_MESSAGES_SUCCESS]=w.ArchiveSuccess,s[R.NotificationIds.ARCHIVE_MESSAGES_FAILURE]=V.ArchiveFailure,s[R.NotificationIds.RESTORE_INBOX_MESSAGES_SUCCESS]=V.RestoreInboxSuccess,s[R.NotificationIds.RESTORE_INBOX_MESSAGES_FAILURE]=V.RestoreInboxFailure,s[R.NotificationIds.DELETE_MESSAGES_SUCCESS]=w.DeleteSuccess,s[R.NotificationIds.DELETE_MESSAGES_FAILURE]=V.DeleteFailure,s[R.NotificationIds.UNDO_MOVE_SUCCESS]=V.UndoMoveSuccess,s[R.NotificationIds.UNDO_MOVE_FAILURE]=V.UndoMoveFailure,s[R.NotificationIds.GEMINI_SPONSORED_ASSET_FAILED]=V.GeminiSponsoredAssetFailed,s[R.NotificationIds.MESSAGE_ACCESS_FAILED]=V.MessageAccessFailure,s[R.NotificationIds.USER_PREFERENCES_FAILED_TO_LOAD]=z.SettingsFailedToLoad,s[R.NotificationIds.UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED]=Z.UnsubscribeMultipleListsCleaned,s[R.NotificationIds.UNSUBSCRIBE_SINGLE_LIST_CLEANED]=Z.UnsubscribeSingleListCleaned,s[R.NotificationIds.UNSUBSCRIBE_DIALOG_CLOSED]=Z.UnsubscribeDialogClosed,s[R.NotificationIds.SETTINGS_SAVE_FILTERS_SUCCEEDED]=z.SettingsFilterSaved,s[R.NotificationIds.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED]=z.SettingsVacationResponseSaved,s[R.NotificationIds.THEMES_CUE_V2_CLOSED]=oi.ThemesCueV2Closed,s[R.NotificationIds.RESEND_CONFIRM_EMAIL_SUCCEEDED]=z.resendConfirmEmailSucceed,s[R.NotificationIds.RESEND_CONFIRM_EMAIL_FAILED]=z.resendConfirmEmailFailed,s[R.NotificationIds.REAUTH_ACCOUNT_SUCCEEDED]=z.AccountReauthSucceeded,s[R.NotificationIds.REAUTH_ACCOUNT_FAILED]=z.AccountReauthFailed,s[R.NotificationIds.EXCEPTION_OCCURRED]=g.ExceptionOccurred,s[R.NotificationIds.DOWNLOAD_FAILED]=$.DownloadFailed,s[R.NotificationIds.MAILBOX_NOT_SYNCING]=ei.NotSyncing,s[R.NotificationIds.MORE_SEARCH_LIST_ITEMS_FAILED]=si.SearchLoadMoreFailure,s),ni=n.default.createClass({displayName:"NotificationWrapper",contextTypes:{executeAction:E.PropTypes.func,config:E.PropTypes.object},shouldComponentUpdate:function i(e){return e.notification!==this.props.notification||e.appName!==this.props.appName},handleNotificationClose:function i(e){e.messageId===R.NotificationIds.UNSUBSCRIBE_DIALOG_CLOSED||e.messageId===R.NotificationIds.UNSUBSCRIBE_SINGLE_LIST_CLEANED||e.messageId===R.NotificationIds.UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED?this.context.executeAction(C.closeNotification,{notification:e,i13nModel:{mKey:O.MKEYS.UNSUB_ALL_DONE,sec:O.SEC_VALUES.UNSUB_PANE}}):this.context.executeAction(C.closeNotification,{notification:e})},wrapInModal:function i(e,t){return this.props.notification.modal?n.default.createElement("div",{className:e.modal,"data-test-id":"modal",role:"presentation"},t):t},render:function i(){var e=this.props,o=e.notification,s=e.appName,E=e.multiTask,r=e.conversations,c={alert:n.default.createElement(A.default,{role:"alert"}),status:n.default.createElement(A.default,{role:"status"})};if(!o)return n.default.createElement("div",null,(0,S.default)(c));var _=Ei[o.messageId],I=o.messageId===R.NotificationIds.MORE_SEARCH_LIST_ITEMS_FAILED,f=(0,l.default)(d.default,{appName:s,multiTask:E,bottomAlert:I});if(!_)throw new Error("Could not find a notification component for "+o.messageId);var u=this.wrapInModal(f,n.default.createElement("div",{className:f.alert,"data-test-id":"notifications"},n.default.createElement(F.default,a({onClose:this.handleNotificationClose.bind(this,o)},o),n.default.createElement(_,a({},o.data,{conversations:r,onClose:this.handleNotificationClose.bind(this,o)}))))),N=t(o);return c[N]=n.default.createElement(A.default,{role:N},u),n.default.createElement("div",null,(0,S.default)(c))}});exports.default=(0,r.connectToStores)(ni,[u.default],o,{store:n.default.PropTypes.object});
},{"../../apps/mail/controller_views/async_task":45,"../../atoms/layer.jsx":"./atoms/layer","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../reducers_selectors":"./reducers_selectors","../../stores/notification":414,"../../types":"./types","../timezone_check/notifications":320,"./actionable_compose_notifications":273,"./actions":274,"./atoms/attachment_notifications.jsx":275,"./atoms/compose_notifications.jsx":276,"./atoms/download_notifications.jsx":277,"./atoms/feature_cue_notifications.jsx":278,"./atoms/folder_notifications.jsx":279,"./atoms/general_notifications.jsx":280,"./atoms/mailbox_notifications.jsx":281,"./atoms/message_notifications.jsx":282,"./atoms/notification.jsx":283,"./atoms/query_notifications.jsx":284,"./atoms/search_notifications.jsx":286,"./atoms/settings_notifications.jsx":287,"./atoms/unsubscribe_notifications.jsx":293,"./exception_notifications.jsx":294,"./message_undo_notifications":296,"./styles/notification":299,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","react":"./node_modules/react/react.js","react-addons-create-fragment":"./node_modules/react-addons-create-fragment/index.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js"}],296:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.MessagesMoveSuccess=exports.ArchiveSuccess=exports.DeleteSuccess=void 0;var s=require("react"),t=e(s),o=require("react-intl"),a=require("./undo_button"),n=e(a),r=require("../../atoms/folder_label"),l=e(r),u=require("../../platform/utils/folder"),c=exports.DeleteSuccess=t.default.createClass({displayName:"DeleteSuccess",render:function e(){var s=this.props,a=s.conversations,r=s.count,l=s.undoPayload,u=s.permanent,c=s.onClose;return t.default.createElement("div",null,t.default.createElement(o.FormattedMessage,{id:"notification.delete_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } deleted.",values:{conversations:a,count:r}})," ",!u&&l&&t.default.createElement(n.default,{undoPayload:l,onClose:c}))}}),d=exports.ArchiveSuccess=t.default.createClass({displayName:"ArchiveSuccess",render:function e(){var s=this.props,a=s.conversations,r=s.count,l=s.undoPayload,u=s.onClose;return t.default.createElement("div",null,t.default.createElement(o.FormattedMessage,{id:"notification.archive_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to Archive.",values:{conversations:a,count:r}})," ",t.default.createElement(n.default,{undoPayload:l,onClose:u}))}}),i=exports.MessagesMoveSuccess=t.default.createClass({displayName:"MessagesMoveSuccess",render:function e(){var s=this.props,a=s.folder,r=s.count,c=s.conversations,d=s.undoPayload,i=s.onClose;return t.default.createElement("div",null,t.default.createElement(o.FormattedMessage,{id:"notification.move_message_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to {destinationFolderName}.",values:{destinationFolderName:t.default.createElement("strong",null,t.default.createElement(l.default,{folderDisplayType:(0,u.getFolderDisplayType)(a),name:a.name})),conversations:c,count:r}})," ",t.default.createElement(n.default,{undoPayload:d,onClose:i}))}});
},{"../../atoms/folder_label":"./atoms/folder_label","../../platform/utils/folder":"./platform/utils/folder","./undo_button":303,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],297:[function(require,module,exports){
module.exports={className:{default:{link:"C_Z2aVTcY r_P",notificationTitle:"t_CS A_6EWk C_Z291T0t u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO"}},_key:"Zimn2X"};
},{}],298:[function(require,module,exports){
module.exports={className:{default:{button:"C_Z2aVTcY A_6EWk"}},_key:"1iekj1"};
},{}],299:[function(require,module,exports){
module.exports={className:{default:{alert:"p_f T_7kKt L_0 R_0 Z_djS t_C jn_1HWwRx D_F gl_C cZW7ROP_n",modal:"p_f T_0 R_0 B_0 L_0 Z_3mRud q_Z26U5rI",undo:"C_Z2aVTcY A_6EWk"},"appName-COMPOSE_APP":{alert:"T_6NIX"},multiTask:{alert:"T_7jIs"},bottomAlert:{alert:"B_fq7"}},_key:"2mldbH"};
},{}],300:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0,exports.mapStateToPropsThatGetsTheToastBasedOnAnAction=exports.ToastCenter=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},s=require("react"),a=t(s),c=require("react-redux"),i=require("../../reducers_selectors"),p=require("../../platform/mail_constants"),u=exports.ToastCenter=function(t){function n(r){return e(this,n),o(this,t.call(this,r))}return r(n,t),n.prototype.componentDidMount=function t(){var e=this.props.toast;e&&this.context.toast(e)},n.prototype.componentDidUpdate=function t(e){var o=this.props.toast;o&&o!==e.toast&&this.context.toast(o)},n.prototype.render=function t(){return null},n}(s.Component);u.contextTypes={toast:s.PropTypes.func};var f=exports.mapStateToPropsThatGetsTheToastBasedOnAnAction=function t(e,o){var r=o.TOAST_MAP,s=(0,i.selectors)(e),a=s.getAction,c=s.getFeaturesSelectors,u=c(),f=a(),l=r[f.type];return u.isEnabled(p.Features.V3_NOTIFICATION)&&l?{toast:n({},l,{data:f})}:{}};exports.default=(0,c.connect)(f)(u);
},{"../../platform/mail_constants":"./platform/mail_constants","../../reducers_selectors":"./reducers_selectors","react":"./node_modules/react/react.js","react-redux":"./node_modules/react-redux/lib/index.js"}],301:[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o]);return i.default=e,i}function i(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var o,t=require("react"),s=i(t),a=require("../../platform/mail_constants"),E=require("../../platform/react_action_constants"),S=require("../../atoms/constants/fuji_icon"),N=require("./actionable_compose_notifications"),A=e(N),l=require("./atoms/folder_notifications.jsx"),R=e(l),c=require("./atoms/compose_notifications.jsx"),n=e(c),_=require("./atoms/query_notifications.jsx"),r=e(_),T=require("./atoms/message_notifications.jsx"),m=e(T),f=require("./message_undo_notifications"),M=e(f),p=require("./atoms/settings_notifications.jsx"),y=e(p),D=require("./exception_notifications.jsx"),I=e(D),L=require("./atoms/download_notifications.jsx"),O=e(L),u=require("./atoms/search_notifications.jsx"),G=e(u),F=require("./atoms/mailbox_notifications.jsx"),C=e(F),g=require("../timezone_check/notifications"),U=e(g);exports.default=(o={},o[E.mail.RENAME_FOLDER_SUCCEEDED]={message:R.FolderRenameSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.RENAME_FOLDER_FAILED]={message:R.FolderRenameFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED]={message:A.ComposeReplyOrForwardFailure,role:a.NotificationRoles.ALERT_DIALOG,type:a.NotificationTypes.WARNING,requireInteraction:!0},o[E.mail.INLINE_IMAGE_LOAD_FAILED]={message:A.InlineImgFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.COMPOSE_NO_ADDRESS_DETECTED]={message:n.NoAddress,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]={message:n.MaxRecipientsExceeded,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.SEND]={message:n.Send,role:a.NotificationRoles.ALERT_DIALOG,type:a.NotificationTypes.NORMAL,requireInteraction:!0},o[E.mail.COMPOSE_INVALID_MESSAGE_OPENED]={message:n.MessageAlreadySent,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.SEND_FAILURE]={message:n.SendFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGE_SAVE_FAILED]={message:n.SaveFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING,priority:a.NotificationPriorities.MEDIUM},o[E.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED]={message:n.SaveToInboxSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.SPONSORED_SAVE_TO_INBOX_FAILED]={message:n.SaveToInboxFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.DELETE_DRAFT_SUCCEEDED]={message:n.DeleteDraftSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.DELETE_DRAFT_FAILED]={message:n.DeleteDraftFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MARK_QUERY_SUCCEEDED]={message:r.MarkQuerySuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MOVE_QUERY_SUCCEEDED]={message:r.MoveQuerySuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_MARK_SPAM_SUCCEEDED]={message:m.MarkSpamSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_SUCCEEDED]={message:m.MarkSpamSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_FAILED]={message:m.MarkSpamFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_MARK_NOT_SPAM_SUCCEEDED]={message:m.NotSpamSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_SUCCEEDED]={message:m.NotSpamSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_MARK_NOT_SPAM_FAILED]={message:m.NotSpamFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_FAILED]={message:m.NotSpamFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_MOVE_SUCCEEDED]={message:M.MessagesMoveSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_MOVE_FAILED]={message:m.MessagesMoveFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_SUCCEEDED]={message:M.MessagesMoveSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_FAILED]={message:m.MessagesMoveFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_ARCHIVE_FAILED]={message:m.ArchiveFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_FAILED]={message:m.ArchiveFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_RESTORE_SUCCEEDED]={message:m.RestoreInboxSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_SUCCEEDED]={message:m.RestoreInboxSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_RESTORE_FAILED]={message:m.RestoreInboxFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_FAILED]={message:m.RestoreInboxFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_DELETE_SUCCEEDED]={message:m.DeleteSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_SUCCEEDED]={message:m.DeleteSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_DELETE_FAILED]={message:m.DeleteFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_FAILED]={message:m.DeleteFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.UNDO_MOVE_SUCCEEDED]={message:m.UndoMoveSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.UNDO_MOVE_FAILED]={message:m.UndoMoveFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.GEMINI_SPONSORED_ASSET_FAILED]={message:m.GeminiSponsoredAssetFailed,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MESSAGES_ARCHIVE_SUCCEEDED]={essage:M.ArchiveSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_SUCCEEDED]={message:M.ArchiveSuccess,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.CONFIRM_EMAIL_RESEND_SUCCEEDED]={message:y.resendConfirmEmailSucceed,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.CONFIRM_EMAIL_RESEND_FAILED]={message:y.resendConfirmEmailFailed,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.ACCOUNT_REAUTH_SUCCEEDED]={message:y.AccountReauthSucceeded,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.ACCOUNT_REAUTH_FAILED]={message:y.AccountReauthFailed,role:a.NotificationRoles.STATUS,type:a.NotificationTypes.NORMAL},o[E.mail.EXCEPTION_OCCURRED]={message:I.ExceptionOccurred,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING,modal:!0},o[E.mail.DOWNLOAD_FAILED]={message:O.DownloadFailed,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.MORE_SEARCH_LIST_ITEMS_FAILED]={message:G.SearchLoadMoreFailure,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING,bottomAlert:!0},o[E.mail.MAILBOX_NOT_SYNCING]={message:C.NotSyncing,role:a.NotificationRoles.ALERT,type:a.NotificationTypes.WARNING},o[E.mail.TIMEZONE_CHANGE_DETECTED]={message:U.TimezoneChangeRequestedNotification,role:a.NotificationRoles.ALERT_DIALOG,type:a.NotificationTypes.ADVISORY,icon:S.Kinds.CLOCK,sticky:!0,requireInteraction:!0,modal:!0},o),module.exports=exports.default;
},{"../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../timezone_check/notifications":320,"./actionable_compose_notifications":273,"./atoms/compose_notifications.jsx":276,"./atoms/download_notifications.jsx":277,"./atoms/folder_notifications.jsx":279,"./atoms/mailbox_notifications.jsx":281,"./atoms/message_notifications.jsx":282,"./atoms/query_notifications.jsx":284,"./atoms/search_notifications.jsx":286,"./atoms/settings_notifications.jsx":287,"./exception_notifications.jsx":294,"./message_undo_notifications":296,"react":"./node_modules/react/react.js"}],302:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.mapStateToProps=exports.ToastWrapper=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r=require("react"),o=e(r),s=require("react-redux"),a=require("../../reducers_selectors"),i=require("../../platform/mail_constants"),n=require("./styles/notification"),c=e(n),l=require("./atoms/notification.jsx"),u=e(l),p=exports.ToastWrapper=function e(r,s){var a=r.toast,n=r.onClose,l=r.multiTask,p=r.conversations,d=r.appName,f=s.getCss,m=a.message,v=a.data,T=a.type,y=void 0===T?i.NotificationTypes.WARNING:T,x=a.bottomAlert,N=void 0!==x&&x,g=a.sticky,q=void 0!==g&&g,S=a.icon,_=f(c.default,{appName:d,bottomAlert:N,multiTask:l});return o.default.createElement("div",{className:_.alert,"data-test-id":"notifications"},o.default.createElement(u.default,{icon:S,sticky:q,type:y,onClose:n},o.default.createElement(m,t({},v,{conversations:p,onClose:n}))))};p.contextTypes={getCss:r.PropTypes.func.isRequired};var d=exports.mapStateToProps=function e(t){var r=(0,a.selectors)(t),o=r.getFeaturesSelectors,s=o();return{multiTask:s.isEnabled(i.Settings.MAIL_TABS),conversations:s.isEnabled(i.Features.CONVERSATIONS)}};exports.default=(0,s.connect)(d)(p);
},{"../../platform/mail_constants":"./platform/mail_constants","../../reducers_selectors":"./reducers_selectors","./atoms/notification.jsx":283,"./styles/notification":299,"react":"./node_modules/react/react.js","react-redux":"./node_modules/react-redux/lib/index.js"}],303:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),o=require("react-intl"),a=require("../../atoms/constants/button"),r=require("../../atoms/button"),i=e(r),s=require("react-atomic-css/css"),u=e(s),d=require("./styles/notification"),c=e(d),l=require("../../platform/utils"),p=require("../../platform/rapid_client/constants"),f=(0,u.default)(c.default),m=n.default.createClass({displayName:"UndoButton",contextTypes:{executeAction:t.PropTypes.func},undo:function e(t){var n=this.props.undoPayload,o=n.undoMap,a=n.actionCreator,r=n.destinationFolderType,i={mKey:p.MKEYS.UNDO_ACTION,sec:p.SEC_VALUES.MSG_LIST_NOTIFICATION,interactionType:(0,l.getInteractionFromEvent)(t)};this.props.onClose(),this.context.executeAction(a,{undoMap:o,i13nModel:i,destinationFolderType:r})},render:function e(){return n.default.createElement(i.default,{"aria-hidden":!0,"data-test-id":"undo-button",kind:a.Kinds.CHROMELESS,onClick:this.undo},n.default.createElement("span",{className:f.undo},n.default.createElement(o.FormattedMessage,{id:"notifications.undo",defaultMessage:"Undo"})))}});exports.default=m,module.exports=exports.default;
},{"../../atoms/button":"./atoms/button","../../atoms/constants/button":"./atoms/constants/button","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils":"./platform/utils","./styles/notification":299,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],304:[function(require,module,exports){
"use strict";function t(t,n){var a=n.online;t.dispatch(e.mail.ONLINE_STATUS_CHANGED,{online:a})}exports.__esModule=!0,exports.updateOnlineStatus=t;var e=require("../../platform/react_action_constants");
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],305:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),i=require("../../platform/http_transport"),s=e(i),o=require("./actions"),c=require("./ping"),u=1e4,l=n.default.createClass({displayName:"OfflineChecker",contextTypes:{executeAction:t.PropTypes.func},getInitialState:function e(){return{checking:!1}},shouldComponentUpdate:function e(){return!1},componentDidMount:function e(){window.addEventListener("offline",this.handleOfflineEvent),window.addEventListener("online",this.handleOnlineEvent),s.default.on("error",this.handleNetworkRequestFailure),s.default.on("success",this.handleNetworkRequestSuccess)},componentWillUnmount:function e(){window.removeEventListener("offline",this.handleOfflineEvent),window.removeEventListener("online",this.handleOnlineEvent),s.default.off("error",this.handleNetworkRequestFailure),s.default.off("success",this.handleNetworkRequestSuccess)},handleOfflineEvent:function e(){this.state.checking&&this.stopChecking(),this.setOffline()},handleOnlineEvent:function e(){this.startChecking()},handleNetworkRequestFailure:function e(t){t.url!==c.STATUS_PAGE_URL&&this.startChecking()},handleNetworkRequestSuccess:function e(){this.state.checking&&(this.stopChecking(),this.setOnline())},check:function e(){var t=this;(0,c.ping)().then(function(){t.stopChecking(),t.setOnline()},function(){t.state.checking&&(t.setOffline(),setTimeout(t.check,u))})},startChecking:function e(){this.state.checking||(this.setState({checking:!0}),this.check())},stopChecking:function e(){this.setState({checking:!1})},setOnline:function e(){this.context.executeAction(o.updateOnlineStatus,{online:!0})},setOffline:function e(){this.context.executeAction(o.updateOnlineStatus,{online:!1})},render:function e(){return null}});exports.default=l,module.exports=exports.default;
},{"../../platform/http_transport":"./platform/http_transport","./actions":304,"./ping":306,"react":"./node_modules/react/react.js"}],306:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(){return new s.default("HEAD",n,{timeout:u}).send()}exports.__esModule=!0,exports.STATUS_PAGE_URL=void 0,exports.ping=e;var r=require("../../platform/http_transport"),s=t(r),o=require("../../platform/assets"),u=9e3,n=exports.STATUS_PAGE_URL=(0,o.getURL)("/html/status.html");
},{"../../platform/assets":"./platform/assets","../../platform/http_transport":"./platform/http_transport"}],307:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),r=e(t),u=require("fluxible-router"),n=r.default.createClass({displayName:"Pager",contextTypes:{executeAction:t.PropTypes.func},shouldComponentUpdate:function e(t){return this.props.nextPage!==t.nextPage&&t.nextPage},componentDidUpdate:function e(){var t=this.props.nextPage;this.context.executeAction(u.navigateAction,{routeName:t.route.name,params:t.route.params,query:t.route.query,page:t})},render:function e(){return null}});exports.default=n,module.exports=exports.default;
},{"fluxible-router":"./node_modules/fluxible-router/index.js","react":"./node_modules/react/react.js"}],308:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("react"),t=e(r),u=t.default.createClass({displayName:"RouteHandler",render:function e(){var r=this.props.currentRoute.handler;return t.default.createElement(r,this.props)}});exports.default=u,module.exports=exports.default;
},{"react":"./node_modules/react/react.js"}],309:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.DisconnectedSearch=exports.mapDispatchToProps=exports.mapStateToProps=void 0;var r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},t=require("react"),o=e(t),s=require("react-redux"),a=require("../../types"),n=require("react-intl"),u=require("../search_box"),c=e(u),i=require("../../action_creators/search_mail"),h=require("../../action_creators/suggestions_search"),l=require("../../platform/rapid_client/constants"),p=require("../../platform/utils/route"),d=require("../keyboard_shortcut_manager/keyboard_shortcut_group.jsx"),g=e(d),S=require("../../platform/keyboard_shortcuts"),f=require("../../platform/keyboard_shortcut_groups"),m=require("../../platform/utils/list"),y=require("../../reducers_selectors"),v=(0,S.createShortcutGroup)({group:f.General,keys:{focusOnSearch:{key:"S,/",description:o.default.createElement("strong",null,o.default.createElement(n.FormattedMessage,{id:"shortcut.focus_search",defaultMessage:"Search"}))}}}),b="uh-mail-web",_="p:ml,m:sb",q=l.SEC_VALUES.HEADER_SEARCH,x=o.default.createClass({displayName:"Search",contextTypes:{getStore:o.default.PropTypes.func.isRequired,navigateTo:o.default.PropTypes.func.isRequired},getDefaultProps:function e(){return{searchQuery:{},getSearchSuggestions:function e(){}}},getInitialState:function e(){var r=this.props.searchQuery,t=r.keyword;return{suggestionsQuery:void 0===t?"":t}},componentWillReceiveProps:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.searchQuery,o=void 0===t?{}:t,s=o.keyword||"",a=this.state.suggestionsQuery,n=this.props.searchQuery;(0,m.convertSearchQueryToListId)(n)!==(0,m.convertSearchQueryToListId)(o)&&a!==s&&this.setState({suggestionsQuery:s})},handleSearchSubmit:function e(r){var t=r.query,o=r.i13nModel,s=(0,p.buildSearchRouteFromQuery)(t);s||(s=(0,p.buildSearchRouteFromQuery)({accountIds:this.props.accountList.map(function(e){return e.id})})),this.context.navigateTo({route:s,i13nModel:o})},handleSearchChange:function e(r){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.suggestionsKeyword,a=void 0===s?"":s;this.setState({suggestionsQuery:a||r},function(){t.props.onSuggestionsRequest({query:t.state.suggestionsQuery})})},handleWebSearch:function e(r){var t=encodeURIComponent(r),o=encodeURIComponent(b),s=encodeURIComponent(_),a="https://search.yahoo.com/search?p="+t+"&fr="+o+"&fr2="+s;window.open(a,"_blank")},focusOnSearch:function e(r){r.preventDefault(),this.refs.searchBox.focus()},render:function e(){var t=this.props.importantContacts||[],s=this.props.getSearchSuggestions(this.state.suggestionsQuery);return o.default.createElement(g.default,{keys:[v.focusOnSearch(this.focusOnSearch)]},o.default.createElement(c.default,r({},this.props,{suggestions:s,importantContacts:t,onSearchSubmit:this.handleSearchSubmit,onSearchChange:this.handleSearchChange,onWebSearchSubmit:this.handleWebSearch,ref:"searchBox"})))}}),Q=exports.mapStateToProps=function e(r){var t=(0,y.selectors)(r),o=t.getFeaturesSelectors,s=t.getSearchSuggestions,a=o();return{advancedMailSearch:a.isEnabled("advancedMailSearch"),getSearchSuggestions:s,dragDropPill:a.isEnabled("dragDropPill")}},R=exports.mapDispatchToProps=function e(r){return{onFocus:function e(){return r((0,i.focusSearch)({}))},onSearchBarFocus:function e(t){var o=t.i13nModel;return r((0,i.focusSearch)({i13nModel:Object.assign({sec:q},o)}))},onSuggestionsRequest:function e(t){return r((0,h.requestSearchSuggestions)(t))}}},C=exports.DisconnectedSearch=x;exports.default=(0,s.connect)(Q,R)(x);
},{"../../action_creators/search_mail":6,"../../action_creators/suggestions_search":7,"../../platform/keyboard_shortcut_groups":"./platform/keyboard_shortcut_groups","../../platform/keyboard_shortcuts":"./platform/keyboard_shortcuts","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/list":"./platform/utils/list","../../platform/utils/route":"./platform/utils/route","../../reducers_selectors":"./reducers_selectors","../../types":"./types","../keyboard_shortcut_manager/keyboard_shortcut_group.jsx":"./molecules/keyboard_shortcut_manager/keyboard_shortcut_group","../search_box":310,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js","react-redux":"./node_modules/react-redux/lib/index.js"}],310:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.PILL_TYPES=exports.strings=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},a,s=require("react-intl"),i=require("react"),n=e(i),r=require("react-dom"),l=e(r),o=require("react-atomic-css/css"),u=e(o),c=require("react-atomic-css/merge"),d=e(c),h=require("./styles/search_box"),p=e(h),g=require("../compose/styles/auto_suggest_contact"),m=e(g),S=require("../../atoms/fuji_icon_button.jsx"),f=e(S),v=require("../../types"),E=require("../../platform/mail_constants"),y=require("../../platform/utils/mail_ui_vars"),_=require("../../platform/utils/suggestions"),C=require("../../platform/utils/account"),b=require("../../atoms/overlay.jsx"),P=e(b),A=require("../../atoms/suggestion_item.jsx"),I=e(A),O=require("../../atoms/advanced_search_button.jsx"),T=e(O),D=require("../../atoms/lazy_component"),F=require("../../atoms/fuji_icon.jsx"),R=e(F),w=require("../../atoms/constants/fuji_icon"),x=require("../../platform/utils/list"),L=require("../../atoms/constants/corners"),N=require("../../platform/utils/folder"),q=require("../../platform/utils/string"),k=require("react-y-pills"),B=require("../../platform/utils/object"),M=require("../../platform/invariant"),V=e(M),H=require("../../atoms/pill.jsx"),K=e(H),j=require("react-dom/lib/getEventKey"),W=e(j),z=require("../../platform/utils/"),G=require("../../platform/rapid_client/constants"),Y=require("../../atoms/popover/popover_content.jsx"),U=e(Y),Q=require("../../atoms/popover/popover_container.jsx"),X=e(Q),Z=require("../../atoms/popover/popover_anchor.jsx"),J=e(Z),$=require("../../atoms/constants/popover"),ee=require("../../molecules/advanced_search_pane/atoms/strings"),te=e(ee),ae=(0,u.default)(m.default),se=exports.strings=(0,s.defineMessages)({search_button_title:{id:"search.search_button_title",defaultMessage:"Search"},search_placeholder:{id:"search.search_placeholder",defaultMessage:"Find messages, documents, photos or people"},search_aria_label:{id:"search.search_aria_label",defaultMessage:"Search box. Find messages, documents, photos or people"},search_keyword_placeholder:{id:"search.keyword_placeholder",defaultMessage:"Add keywords"},suggestions_available:{id:"search.suggestions_available",defaultMessage:"{suggestionsNum, plural,\n                            =0 {No suggestions are available.}\n                            one {# suggestion is available.}\n                            other {# suggestions are available. Use up and down arrows to select.}\n                        }"}}),ie=G.SEC_VALUES.HEADER_SEARCH,ne=(a={},a[E.SuggestionType.PERSON]="P",a[E.SuggestionType.KEYWORD]="K",a[E.SuggestionType.WEB_SEARCH]="W",a),re=exports.PILL_TYPES=(0,B.mirrorKeys)(["CONTACT","FOLDER"]),le=n.default.createClass({displayName:"SearchBox",contextTypes:{config:i.PropTypes.object,intl:s.intlShape.isRequired},getInitialState:function e(){var t=this.props.searchQuery,a=t.keyword,s=void 0===a?"":a,i=t.name,n=void 0===i?"":i,r=t.emailAddresses,l=void 0===r?[]:r,o=t.accountIds,u=void 0===o?[]:o,c=t.folders,d=void 0===c?[]:c,h=u&&1===u.length,p=h&&u[0]||"",g=d[0],m=void 0===g?"":g;return{inputValue:s,pillContact:{name:n,emailAddresses:l,type:re.CONTACT},activeSuggestion:null,showInputHint:!1,showAdvancedSearchPane:!1,searchBoxDimensions:null,pillFolder:{accountId:p,folderId:m,type:re.FOLDER}}},getDefaultProps:function e(){return{suggestions:[],importantContacts:[],suggestionsQuery:"",searchQuery:{},onSearchChange:function e(){},showSearchBadge:!1,dragDropPill:!0}},componentDidMount:function e(){var t=this.refs.searchField;if(t){var a=l.default.findDOMNode(t),s=a.getBoundingClientRect();this.setState({searchBoxDimensions:s})}},componentWillReceiveProps:function e(t){var a=t.searchQuery,s=t.isWindowResizingDone,i=this.props.searchQuery,n=(0,x.convertSearchQueryToListId)(i),r=(0,x.convertSearchQueryToListId)(a),o=a.accountIds,u=o&&1===o.length;if(n!==r&&this.setState({inputValue:a.keyword,pillContact:{name:a.name,emailAddresses:a.emailAddresses,type:re.CONTACT},pillFolder:{accountId:u&&o[0]||"",folderId:a.folders&&a.folders[0]||"",type:re.FOLDER}}),s){var c=l.default.findDOMNode(this.refs.searchField).getBoundingClientRect();this.setState({showAdvancedSearchPane:!1,searchBoxDimensions:c})}},handleSearchFocus:function e(t){this.props.onFocus&&this.props.onFocus({i13nModel:{mKey:G.MKEYS.SEARCH_BAR,sec:ie,interactionType:(0,z.getInteractionFromEvent)(t)}})},handleBasicSearchSubmit:function e(t){this.handleSearchSubmit({i13nModel:{mKey:G.MKEYS.SEARCH_BUTTON,interactionType:(0,z.getInteractionFromEvent)(t)}})},handleAdvancedSearchSubmit:function e(t){this.handleSearchSubmit({i13nModel:{mKey:G.MKEYS.ADVANCED_SEARCH_BUTTON,interactionType:(0,z.getInteractionFromEvent)(t)}})},handleSearchSubmit:function e(t){var a=this,s=this.state,i=s.pillContact,n=s.pillFolder,r=s.inputValue,l={emailAddresses:i.emailAddresses,name:i.name,keyword:r};n.accountId&&Object.assign(l,{accountIds:[n.accountId]}),n.folderId&&Object.assign(l,{folders:[n.folderId]}),this.setState({showInputHint:!1,showAdvancedSearchPane:!1},function(){a.props.onSearchSubmit({query:l,i13nModel:Object.assign({sec:ie,mKeyGroup:G.MKEY_GROUPS.search},t.i13nModel)})}),document.activeElement&&document.activeElement.blur()},handleSearchChange:function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.suggestionsKeyword,i=void 0===s?"":s,n=a.folders,r=a.accountIds,l=this.props.onSearchChange,o={inputValue:t,showInputHint:!0};n&&Object.assign(o,{pillFolder:{accountId:"",folderId:n[0]||"",type:re.FOLDER}}),r&&Object.assign(o,{pillFolder:{accountId:r[0]||"",folderId:"",type:re.FOLDER}}),this.setState(o,function(){l(t,{suggestionsKeyword:i})})},handleWebSearch:function e(){var t=this.state.inputValue;this.props.onWebSearchSubmit(t)},handleSearchSuggestionSelect:function e(a){var s=this,i=this.getSuggestions(),n=this.state,r=n.pillFolder,l=n.inputValue;if(a===E.SuggestionType.WEB_SEARCH)return void this.handleWebSearch();var o=i[a-1],u=i.map(function(e){return ne[e.type]}),c=i.map(function(e){switch(e.type){case E.SuggestionType.PERSON:return s.suggestionValue(e).name;case E.SuggestionType.KEYWORD:return e.name;default:(0,V.default)(!1,"All suggestion type must be handled here.")}}),d={mKey:o.type===E.SuggestionType.PERSON?G.MKEYS.SEARCH_PEOPLE_SUGGEST:G.MKEYS.SEARCH_KWRD_SUGGEST,sec:ie,mKeyGroup:G.MKEY_GROUPS.search,actionData:{suggPos:a,prefix:l,suggType:u,suggVal:c}},h={};switch(r.accountId&&(h=t({},h,{accountIds:[r.accountId]})),r.folderId&&(h=t({},h,{folders:[r.folderId]})),o.type){case E.SuggestionType.PERSON:var p=this.suggestionValue(o),g=p.emailAddresses,m=p.name;h=t({},h,{emailAddresses:g,name:m}),this.props.onSearchSubmit({query:h,i13nModel:d}),this.setState({pillContact:{name:m,emailAddresses:g},activeSuggestion:null,inputValue:""});break;case E.SuggestionType.KEYWORD:h=t({},h,{keyword:o.name}),this.props.onSearchSubmit({query:h,i13nModel:d}),this.setState({activeSuggestion:null,inputValue:""});break;default:(0,V.default)(!1,"All suggestion type must be handled here.")}},handleAdvancedSearchKeyDown:function e(t){switch((0,W.default)(t)){case"Escape":this.setState({showAdvancedSearchPane:!1});break;case"Enter":(this.state.inputValue||this.state.pillFolder.accountId||this.state.pillFolder.folderId)&&this.handleAdvancedSearchSubmit(t);break;case"Tab":t.preventDefault()}},isCursorEndOfInput:function e(t){return t.target.selectionEnd===this.state.inputValue.length},handleKeydown:function e(t){var a=void 0,s=this.getSuggestions();switch(t.key){case"Enter":this.handleBasicSearchSubmit(t);break;case"ArrowUp":case"ArrowDown":break;case"ArrowRight":if(this.isCursorEndOfInput(t)&&s&&s[0]){var i=this.suggestionValue(s[0]),n=i.name;this.setState({inputValue:n||this.state.inputValue,activeSuggestion:null})}break;case"Tab":!this.hasPillContact()&&s&&s[0]&&(this.handleSearchSuggestionSelect(1),t.preventDefault());break;case"Escape":this.setState({activeSuggestion:null});break;case"Backspace":var r=this.getPills();if(a={inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null},""===this.state.inputValue&&r.length)switch(r[r.length-1].type){case re.FOLDER:a.pillFolder={};break;case re.CONTACT:a.pillContact={};break;default:(0,V.default)(!1,"all pill types should be handled here")}this.setState(a);break;default:this.setState({inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null})}},renderSuggestion:function e(t,a){var s=this.state.inputValue;return n.default.createElement(k.Option,{key:a,value:a+1},n.default.createElement(I.default,{suggestion:t,inputValue:s}))},getSuggestions:function e(){var t=this.props,a=t.suggestions,s=t.importantContacts,i=this.state.inputValue;return(0,_.getReconciledSuggestions)(a,s,i)},renderContactPill:function e(t,a,s,i){var r=t.emailAddresses&&t.emailAddresses[0],l=t.name||r,o=l;if(r)return n.default.createElement(K.default,{value:l,title:r?l+" <"+r+">":o,useEllipsis:!0,maxWidth:y.PillMaxWidths.L,contactEmail:r,isLastElement:a===s.length-1,isSelected:i,onPillRemove:this.clearContactPill,dragDropPill:this.props.dragDropPill})},renderPill:function e(t,a,s,i){return t.type===re.FOLDER?this.renderFolderPill(t,a,s,i):t.type===re.CONTACT?this.renderContactPill(t,a,s,i):null},clearContactPill:function e(){this.setState({pillContact:{}})},clearFolderPill:function e(){this.setState({pillFolder:{}})},hasPillContact:function e(){var t=this.state.pillContact,a=t.name,s=t.emailAddresses,i=void 0===s?[]:s;return!(!a&&!i[0])},hasPillFolder:function e(){var t=this.props.accountList,a=this.state.pillFolder,s=a.accountId,i=a.folderId;return!!(s&&1!==t.length||i)},getAccountDescription:function e(t){var a=this.context.intl.formatMessage,s=t.description,i=(0,C.getProviderFromAccount)(t);if(s)return s;switch(i){case E.EmailProviders.YAHOO:case E.EmailProviders.YAHOO_SB:return a(te.default.yahoo_account_description);case E.EmailProviders.GOOGLE:case E.EmailProviders.GOOGLE_APP:return a(te.default.gmail_account_description);case E.EmailProviders.OUTLOOK:return a(te.default.outlook_account_description);case E.EmailProviders.AOL:return a(te.default.aol_account_description);default:return a(te.default.unknown_account_description)}},normalizeFolderPill:function e(){var t=this.state.pillFolder,a=t.accountId,s=t.folderId,i=this.props,n=i.accountList,r=i.folderList,l=this.context.intl.formatMessage,o=void 0,u=void 0;if(a&&(u=n.find(function(e){return e.id===a}),o=this.getAccountDescription(u)),s){var c=(0,N.flattenFolderTree)(r),d=c[s],h=(0,N.getLocalisedFolderName)(l,(0,N.getFolderDisplayType)(d)),p=h||d.name;u=n.find(function(e){return e.id===d.accountId}),o=1===n.length?p:this.getAccountDescription(u)+"/"+p}return{label:o,email:u.email,type:re.FOLDER}},renderFolderPill:function e(t,a,s,i){var r=t.label,l=t.email;return n.default.createElement(K.default,{value:r,title:r,useEllipsis:!0,maxWidth:y.PillMaxWidths.L,contactEmail:l,isLastElement:a===s.length-1,isSelected:i,onPillRemove:this.clearFolderPill,isFolderPill:!0,pillFujiKind:w.Kinds.FOLDER,pillFujiColorState:w.ColorStates.SECOND_LEVEL_GRAY,pillFujiSize:w.Sizes.XXS,dragDropPill:this.props.dragDropPill})},getPills:function e(){var t=[];return this.hasPillFolder()&&t.push(this.normalizeFolderPill(this.state.pillFolder)),this.hasPillContact()&&t.push(this.state.pillContact),t},renderWebSearchSuggestion:function e(){var t=E.SuggestionType.WEB_SEARCH,a=this.state.inputValue,i=this.getSuggestions(),r=(0,u.default)(p.default,{showPeopleSuggestion:i.length>0&&!this.hasPillContact()});return n.default.createElement(k.Option,{value:t},n.default.createElement("div",{className:r.suggestionWebOptionBorder}),n.default.createElement("div",{className:r.suggestionWebOption},n.default.createElement("span",{className:r.suggestionWebIcon},n.default.createElement(R.default,{kind:w.Kinds.SEARCH_WEB,size:w.Sizes.S,colorState:w.ColorStates.NORMAL_LESS_DIM})),n.default.createElement("span",{className:r.suggestionWebLabel},n.default.createElement(s.FormattedMessage,{id:"search.search_web_query",defaultMessage:"Search the web for {formattedWebSearchQuery}",values:{formattedWebSearchQuery:n.default.createElement("span",{className:r.suggestionWebQuery},n.default.createElement("b",null,n.default.createElement("q",null,a)))}}))))},suggestionValue:function e(t){return{name:t.name,emailAddresses:t.emailIds}},getInputHint:function e(){var t=this.state,a=t.inputValue,s=t.showInputHint,i=t.activeSuggestion,n=t.showAdvancedSearchPane,r=this.getSuggestions();if(!r||!r[0])return"";var l=this.suggestionValue(r[0]),o=l.name,u=l.emailAddresses,c=void 0===u?[]:u,d=c[0],h=new RegExp("^"+(0,q.escapeRegExp)(a),"i");return!a||!s||i||this.hasPillContact()||n?"":h.test(o)?a+o.slice(a.length):h.test(d)?a+d.slice(a.length):""},updatedSelectedSuggestion:function e(t){var a=this.getSuggestions();this.hasPillContact()||this.setState({activeSuggestion:a[t]})},getTypeaheadDisplayText:function e(){var t=this.state,a=t.activeSuggestion,s=t.inputValue;return a&&this.suggestionValue(a).name||s},focus:function e(){this.refs.input.focus()},handleAdvancedSearchButtonClick:function e(t){var a=t.i13nModel,s=this.state.showAdvancedSearchPane;this.setState({showAdvancedSearchPane:!s}),this.props.onSearchBarFocus({i13nModel:a})},handleAdvancedSearchPaneClick:function e(t){t.overlayClicked||this.setState({showAdvancedSearchPane:!1})},renderAdvancedSearch:function e(){var t=[],a=(0,_.filterPeopleSuggestions)(this.props.suggestions);a=(0,_.flattenPeopleSuggestionsByEmailId)(a);var s=this.state,i=s.showAdvancedSearchPane,r=s.searchBoxDimensions,l=s.inputValue,o=s.pillFolder,u=o.accountId,c=o.folderId;if(t.push(n.default.createElement(T.default,{tabIndex:y.TabIndices.APP_HEADER_SEARCHBOX,key:"advanced-search-button",onClick:this.handleAdvancedSearchButtonClick,chevronDown:!i})),i){var d={width:r.width},h={inputValue:l,accountIds:u?[u]:[],folders:c?[c]:[]};t.push(n.default.createElement(P.default,{key:"advanced-search-pane",alignTo:this.refs.searchField,alignmentPoints:[L.Corners.TopLeft,L.Corners.BottomLeft],useShim:!0,onClick:this.handleAdvancedSearchPaneClick,onKeyDown:this.handleAdvancedSearchKeyDown},n.default.createElement(D.LazyComponent,{import:"../advanced_search_pane/index.js",style:d,folderList:this.props.folderList,accountList:this.props.accountList,searchInput:h,suggestions:a,onSearchChange:this.handleSearchChange,onSearchSubmit:this.handleAdvancedSearchSubmit,_moduleGetter:function e(){return require("../advanced_search_pane/index.js")}})))}return t},getFujiIcon:function e(t,a){return this.props.showHSSearchCue?n.default.createElement(X.default,null,n.default.createElement(J.default,null,n.default.createElement(f.default,{className:t.searchButton,"data-test-id":"search-basic-btn",tabIndex:y.TabIndices.APP_HEADER_SEARCHBOX,title:a(se.search_button_title),"aria-label":a(se.search_button_title),kind:w.Kinds.SEARCH,size:w.Sizes.S,onClick:this.handleBasicSearchSubmit,colorState:w.ColorStates.INVERTED,"data-iskeynav":!0,paddingLess:!0})),this.renderSearchCue()):n.default.createElement(f.default,{className:t.searchButton,"data-test-id":"search-basic-btn",tabIndex:y.TabIndices.APP_HEADER_SEARCHBOX,title:a(se.search_button_title),"aria-label":a(se.search_button_title),kind:w.Kinds.SEARCH,size:w.Sizes.S,onClick:this.handleBasicSearchSubmit,colorState:w.ColorStates.INVERTED,"data-iskeynav":!0,paddingLess:!0})},renderSearchCue:function e(){return n.default.createElement(U.default,{persistent:!0,align:$.Align.CENTER,triggerOn:$.Triggers.MOUNT,permittedArrowDirections:[$.PermittedArrowDirections.UP],zAltitude:y.ZIndices.POPOVER.HIGH},n.default.createElement(D.LazyComponent,{import:"../scout_cue/",cueName:"HSSearchCue",onTryButton:this.handleBasicSearchSubmit,_moduleGetter:function e(){return require("../scout_cue/")}}))},render:function e(){var t=this.context.intl.formatMessage,a=this.state.inputValue,s=this.props.advancedMailSearch,i=this.hasPillContact()?se.search_keyword_placeholder:se.search_placeholder,r=(0,u.default)(p.default,{hasPill:this.hasPillContact()||this.hasPillFolder()}),l=this.context.intl.formatMessage(se.suggestions_available,{suggestionsNum:this.getSuggestions().length});return n.default.createElement("div",{className:r.container,"data-test-id":"search-box"},n.default.createElement("div",{className:r.searchInputContainer,ref:"searchField"},n.default.createElement(k.Pills,{ref:"input",multiple:!1,initialActiveIndex:-1,className:(0,d.default)(ae.pills,r.pills),containerClassName:(0,d.default)(ae.pillsContainer,r.pillsContainer),containerChildClassName:ae.pillsContainerChild,pillClassName:ae.pillOuter,ariaLabel:t(se.search_aria_label),placeholder:t(i),typeaheadInputClassName:r.searchInput,typeaheadInputContainerClassName:r.typeaheadInputContainer,typeaheadInputHintClassName:r.searchHint,typeaheadDropDownClassName:r.suggestionDropdown,inputValue:this.getTypeaheadDisplayText(),onFocus:this.handleSearchFocus,onInputKeyDown:this.handleKeydown,onInputChange:this.handleSearchChange,selected:this.getPills(),onSelect:this.handleSearchSuggestionSelect,inputTabIndex:y.TabIndices.APP_HEADER_SEARCHBOX,hintValue:this.getInputHint(),onActiveIndexChange:this.updatedSelectedSuggestion,renderPill:this.renderPill,messageForIncomingOptions:l,typeaheadAriaStatusClassName:r.typeaheadAriaStatus},this.hasPillContact()?null:this.getSuggestions().map(this.renderSuggestion),a&&this.renderWebSearchSuggestion()),s?this.renderAdvancedSearch():null),this.props.showSearchBadge?n.default.createElement("div",{onClick:this.handleBasicSearchSubmit,className:r.searchButton,"data-test-id":"hotspots-badge"},n.default.createElement(D.LazyComponent,{import:"../feature_cue/atoms/badge",cueName:"HSSearchBadge",size:w.Sizes.S,kind:w.Kinds.SEARCH,bigBadge:!0,_moduleGetter:function e(){return require("../feature_cue/atoms/badge")}},n.default.createElement(D.When,{loading:!0},this.getFujiIcon(r,t)))):this.getFujiIcon(r,t))}});exports.default=le;
},{"../../atoms/advanced_search_button.jsx":93,"../../atoms/constants/corners":"./atoms/constants/corners","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/overlay.jsx":"./atoms/overlay","../../atoms/pill.jsx":"./atoms/pill","../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../atoms/suggestion_item.jsx":"./atoms/suggestion_item","../../molecules/advanced_search_pane/atoms/strings":"./molecules/advanced_search_pane/atoms/strings","../../platform/invariant":"./platform/invariant","../../platform/mail_constants":"./platform/mail_constants","../../platform/rapid_client/constants":"./platform/rapid_client/constants","../../platform/utils/":"./platform/utils","../../platform/utils/account":"./platform/utils/account","../../platform/utils/folder":"./platform/utils/folder","../../platform/utils/list":"./platform/utils/list","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../../platform/utils/string":"./platform/utils/string","../../platform/utils/suggestions":"./platform/utils/suggestions","../../types":"./types","../advanced_search_pane/index.js":"./molecules/advanced_search_pane","../compose/styles/auto_suggest_contact":185,"../feature_cue/atoms/badge":"./molecules/feature_cue/atoms/badge","../scout_cue/":"./molecules/scout_cue","./styles/search_box":311,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-atomic-css/merge":"./node_modules/react-atomic-css/merge.js","react-dom":"./node_modules/react-dom/index.js","react-dom/lib/getEventKey":"./node_modules/react-dom/lib/getEventKey.js","react-intl":"./node_modules/react-intl/lib/index.js","react-y-pills":"./node_modules/react-y-pills/build/src/index.js"}],311:[function(require,module,exports){
module.exports={className:{default:{container:"D_F en_0 H_74JI p_R",searchButton:"en_0 I_2sqbOJ u_b k_w ck_dRA bl_dRA J_x W_7GHz H_74JI gl_C M_0 D_F cZ1RN91d_n A_6EqO y_ZwubDW b_0 C_52qC r_P I4_2sqbPK ir3_1IO2sY it3_dRA",searchInputContainer:"D_F W_6D6F s_3z5BY cj_dRA bk_dRA k_w b_0 I_52qC p_R",searchInput:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_ZwubDW I_T p_R Z_N",searchHint:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_ZwubDW I_T C_Z1AHs3T p_a q_T L_0 Z_0",suggestionDropdown:"W_Z2mrcQq Z_fcS I_52qC k_w ha_n L_0 T_750t M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",suggestionWebOption:"P_fQq0A k_w W_6D6F D_F ab_C H_73HH r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionWebIcon:"X_eTB N_eTB E_fq7",suggestionWebLabel:"J_x G_e o_h",suggestionWebQuery:"C_Z291T0t",suggestionDetails:"C_ZxFlP3 Q_fq7",pills:"ab_C",pillsContainer:"eo_x el_EZ",typeaheadInputContainer:"p_R",typeaheadAriaStatus:"L_Z1yJMeR p_a"},showPeopleSuggestion:{suggestionWebOptionBorder:"M_Z2rzCvT z_Z14vXdP"},hasPill:{searchInput:"P_fq7",searchHint:"P_fq7",pillsContainer:"Q_fq7"}},_key:"1gBuwf"};
},{}],312:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),s=e(t),r=require("../../atoms/search_header.jsx"),o=e(r),a=require("../../platform/utils/list"),i=require("../../platform/utils/route"),n=require("../../platform/mail_constants"),l=s.default.createClass({displayName:"SearchHeader",contextTypes:{executeAction:t.PropTypes.func,navigateTo:t.PropTypes.func.isRequired},handleContentTypeChange:function e(t){var s=t.listContentType,r=t.i13nModel;this.context.navigateTo({route:{name:n.RouteNames.SEARCH,params:{query:(0,a.serializeListIdForRoute)((0,a.recreateListId)(this.props.listId,{listContentType:s}))}},i13nModel:r})},handleContactClick:function e(t){var s=t.name,r=t.email,o=t.emails,a=void 0===o?[]:o,n=r||a[0];this.context.navigateTo({route:(0,i.buildSearchRouteFromQuery)({emailAddresses:n,name:s})})},render:function e(){return s.default.createElement(o.default,{suggestedWords:this.props.suggestedWords,onContentTypeChange:this.handleContentTypeChange,onContactClick:this.handleContactClick,isPeopleSearch:(0,a.isPeopleSearch)(this.props.listId),activeContentType:(0,a.getListContentTypeFromListId)(this.props.listId),keyword:(0,a.getKeywordFromListId)(this.props.listId),suggestedContacts:this.props.suggestedContacts,showSearchCue:this.props.showSearchCue,showHSNarrowSearchCue:this.props.showHSNarrowSearchCue,dragDropPill:this.props.dragDropPill})}});exports.default=l,module.exports=exports.default;
},{"../../atoms/search_header.jsx":109,"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/list":"./platform/utils/list","../../platform/utils/route":"./platform/utils/route","react":"./node_modules/react/react.js"}],"./molecules/settings/atoms/section_title":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var a=e.header,n=e.hint,r=e.canToggle,i=e.toggleEnabled,o=e.onToggle,g=e.subHeader,f=t.intl.formatMessage,m=(0,s.default)(u.default,{subHeader:g});return l.default.createElement("header",{className:m.titleWrapper},l.default.createElement("h4",{className:m.title},l.default.createElement("span",null,a),l.default.createElement("span",{className:m.rightAlign,"data-test-id":"toggle-header-button"},r?l.default.createElement(d.default,{onClick:o,isEnabled:i,ariaLabel:f(c.enableSettings)}):null)),n?l.default.createElement("span",{className:m.hint},n):null)}exports.__esModule=!0;var a=require("react"),l=e(a),n=require("react-atomic-css/css"),s=e(n),r=require("../styles/section_title"),u=e(r),i=require("react-intl"),o=require("../../../atoms/toggle_button.jsx"),d=e(o),c=(0,i.defineMessages)({enableSettings:{id:"enable_vacation_response_setting",defaultMessage:"Enabel vacation settings"}});t.contextTypes={intl:i.intlShape.isRequired},t.defaultProps={canToggle:!1,subHeader:!1,onToggle:function e(){},toggleEnabled:!0},exports.default=t,module.exports=exports.default;
},{"../../../atoms/toggle_button.jsx":"./atoms/toggle_button","../styles/section_title":"./molecules/settings/styles/section_title","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./molecules/settings/styles/section_title":[function(require,module,exports){
module.exports={className:{default:{titleWrapper:"W_6D6F",hint:"D_X A_6DUj C_Z1TsNWR Y_fq7",title:"M_0 D_F A_6FsP u_N",rightAlign:"Q_A"},subHeader:{title:"u_b A_6EqO"}},_key:"1e73u8"};
},{}],"./molecules/settings/styles/settings_menu":[function(require,module,exports){
module.exports={className:{default:{settingsGearIcon:"D_F",label:"D_n N_fq7 u_b A_6EqO",settingsLabelIconContainer:"D_F ab_C cdPFi_Z2aVTcY C_Z2aVTcY r_P",chevronIcon:"Q_A",menuContainer:"W_3vaYc",menuContainerLazy:"W_3vaYc d_3z5BY D_F ab_C gl_C",menuList:"M_0 P_0 hd_n",menuItemHeader:"M_0 D_F ab_C u_dPo k_w A_6EqO H_72FG P_1EudUu C_Z26U5qH m_Z12nDQf",menuItem:"M_0 r_BN u_b A_6EqO P_ZCWGgd i_6FIA C_Z26U5qH z_Z12nDQf",menuItemQuickAccess:"r_BN o_A q_ZnkeaL K_3vNsy P_Z1StkHV c272488_n",menuItemFooter:"M_0 u_e69 A_6DUj i_6EqO P_2wk2SL z_Z12nDQf D_F",menuLinkWrapper:"D_B C4_Z2aVTcY i_6FIA",link:"C_Z1VRpVF C4_Z2aVTcY r_P",optOutLink:"E_6LEV C_Z1VRpVF C4_Z2aVTcY r_P",badgeContainer:"h_Zc8u05"},"themeMode-MEDIUM":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"themeMode-DARK":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"theme-DEFAULT":{settingsLabelIconContainer:"C4_Z29WjXl cdPFi4_Z29WjXl"},verticalLayout:{settingsLabelIconContainer:"jb_6FIA"},"verticalPreviewPane-false":{label:"cZ1YE9AC_B"},"verticalPreviewPane-true":{label:"cWeabk_B"},hasContactCard:{label:"D_B"},"themeCombo-LIGHT_DEFAULT":{settingsLabelIconContainer:"cdPFi_Z2aVTcY C_Z2aVTcY"},"themeCombo-LIGHT_SUNRISE":{settingsLabelIconContainer:"cdPFi_ZmlXUP C_ZmlXUP"},"themeCombo-LIGHT_AQUA_GREEN":{settingsLabelIconContainer:"cdPFi_Z1UHURv C_Z1UHURv"},"themeCombo-LIGHT_AQUA_BLUE":{settingsLabelIconContainer:"cdPFi_Z280Xf5 C_Z280Xf5"},"themeCombo-LIGHT_DEEP_PURPLE":{settingsLabelIconContainer:"cdPFi_Zwa5YI C_Zwa5YI"},"themeCombo-LIGHT_BLUE_NIGHT":{settingsLabelIconContainer:"cdPFi_Z21zYBA C_Z21zYBA"}},_key:"Z56hW4"};
},{}],"./molecules/stationery/theme_picker":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r=v.default.config,o=r.stationeryThemes,n=r.themeVersions,i=r.stationeryMobThmPath,s=o[e];return s&&(s.themeName=e,s.themeVersion=n[e],s.mobstorPath=i,s.isDefaultTheme=e===t),s}exports.__esModule=!0;var r=require("react"),o=e(r),n=require("react-intl"),i=require("../../atoms/fuji_icon.jsx"),s=e(i),a=require("../../atoms/button"),u=e(a),l=require("../../atoms/lazy_component"),p=require("../../platform/utils/mail_ui_vars"),d=require("../../atoms/constants/fuji_icon"),m=require("../../atoms/constants/button"),c=require("../../atoms/popover/popover_content.jsx"),h=e(c),f=require("../../atoms/popover/popover_container.jsx"),g=e(f),y=require("../../atoms/popover/popover_anchor.jsx"),T=e(y),_=require("../../atoms/constants/popover"),C=require("stationery-themes"),v=e(C),E=(0,n.defineMessages)({theme_picker:{id:"compose.theme_picker",defaultMessage:"Add stationery"}}),O=o.default.createClass({displayName:"ThemePicker",contextTypes:{intl:n.intlShape.isRequired},getInitialState:function e(){var t=this.props.stationeryTheme;return{menuOpen:!!(void 0===t?null:t)}},componentDidMount:function e(){var r=this.props.stationeryTheme||this.props.stationeryDefaultTheme;r&&this.props.onThemeChange(t(r,this.props.stationeryDefaultTheme))},_toggleMenu:function e(t){t&&(t.stopPropagation(),t.preventDefault());var r=this.state.menuOpen;r?(this._stationeryPopoverContainer.hide(_.Triggers.CLICK),this.props.focusBackEditor()):this._stationeryPopoverContainer.show(_.Triggers.CLICK),this.setState({menuOpen:!r})},renderStationeryCue:function e(){return this.props.showStationeryCue&&this.refs.button?o.default.createElement(h.default,{popoverAnchor:this.refs.button,align:_.Align.CENTER,triggerOn:_.Triggers.MOUNT,permittedArrowDiretions:[_.PermittedArrowDirections.DOWN,_.PermittedArrowDirections.RIGHT],zAltitude:p.ZIndices.POPOVER.HIGH},o.default.createElement(l.LazyComponent,{import:"../scout_cue",cueName:"stationeryCue",close:this.state.menuOpen,onTryNow:this._toggleMenu,_moduleGetter:function e(){return require("../scout_cue")}})):null},renderHotSpotStationeryCue:function e(){return this.props.showHSStationeryCue&&this.refs.button?o.default.createElement(h.default,{popoverAnchor:this.refs.button,align:_.Align.CENTER,triggerOn:_.Triggers.MOUNT,permittedArrowDiretions:[_.PermittedArrowDirections.DOWN,_.PermittedArrowDirections.RIGHT],zAltitude:p.ZIndices.POPOVER.HIGH},o.default.createElement(l.LazyComponent,{import:"../scout_cue",cueName:"HSStationeryCue",onTryButton:this._toggleMenu,_moduleGetter:function e(){return require("../scout_cue")}})):null},renderStationeryPopup:function e(){var r=this;return o.default.createElement(h.default,{ref:function e(t){return r._stationeryPopoverContent=t},permittedArrowDirections:[_.PermittedArrowDirections.DOWN],hideArrow:!0,triggerOn:_.Triggers.CLICK,customPositioning:!0,"data-test-id":"stationery-pop-up",onHide:this._toggleMenu},o.default.createElement(l.LazyComponent,{import:"./stationery.jsx",getThemeConfig:t,onThemeChange:this.props.onThemeChange,defaultTheme:this.props.stationeryDefaultTheme,selectedTheme:this.props.stationeryTheme,toggleMenu:this._toggleMenu,onHide:this._toggleMenu,width:this.props.width,left:this.props.left,stationeryRestrictedThemes:this.props.stationeryRestrictedThemes,rtl:this.props.rtl,_moduleGetter:function e(){return require("./stationery.jsx")}}))},render:function e(){var t=this,r=this.context.intl.formatMessage,n=this.state.menuOpen;return o.default.createElement("div",null,o.default.createElement("div",{onClick:this._toggleMenu},o.default.createElement(g.default,{ref:function e(r){return t._stationeryPopoverContainer=r}},o.default.createElement(T.default,{"data-test-id":"stationery-picker-anchor"},o.default.createElement(u.default,{ref:"button","data-test-id":"stationery-button",title:r(E.theme_picker),"aria-label":r(E.theme_picker),kind:n?m.Kinds.ICON_HIGHLIGHTED:m.Kinds.ICON},o.default.createElement(s.default,{kind:d.Kinds.STATIONERY,size:d.Sizes.XS,colorState:d.ColorStates.NORMAL}))),n?this.renderStationeryPopup():null)),this.renderStationeryCue(),this.renderHotSpotStationeryCue())}});exports.default=O,module.exports=exports.default;
},{"../../atoms/button":"./atoms/button","../../atoms/constants/button":"./atoms/constants/button","../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../atoms/constants/popover":"./atoms/constants/popover","../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../atoms/lazy_component":"./atoms/lazy_component","../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../scout_cue":"./molecules/scout_cue","./stationery.jsx":"./molecules/stationery/stationery","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js","stationery-themes":"./node_modules/stationery-themes/index.js"}],313:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),s=require("react-intl"),i=require("../../../atoms/fuji_icon_button.jsx"),r=e(i),o=require("../../../atoms/fuji_icon.jsx"),l=e(o),n=require("../../../atoms/constants/fuji_icon"),d=require("../../../platform/utils/object"),c=require("../../../platform/mail_constants"),u=require("../constants"),b=require("../styles/tab_button"),T=e(b),f=require("../../../platform/theming/themes"),h=(0,s.defineMessages)({noSubject:{id:"tab.title.no_subject",defaultMessage:"No Subject"},loading:{id:"tab.title.loading",defaultMessage:"Loading"},error:{id:"tab.title.error",defaultMessage:"Error"},newDraft:{id:"tab.title.new_draft",defaultMessage:"New Subject"},closeTab:{id:"tab.label.close",defaultMessage:"Close tab"},searchDefault:{id:"tab.title.search_default",defaultMessage:"All"},settings:{id:"tab.title.settings",defaultMessage:"Settings"},sponsoredAd:{id:"tab.title.sponsored_ad",defaultMessage:"Sponsored"}}),p=a.default.createClass({displayName:"TabButton",getInitialState:function e(){return{hover:!1}},contextTypes:{intl:s.intlShape,getCss:t.PropTypes.func,getThemeMode:t.PropTypes.func},handleClose:function e(t){t.stopPropagation(),this.props.onClose(t)},handleHoverChange:function e(t){this.setState({hover:t})},render:function e(){var t=this.context.intl.formatMessage,s=this.props,i=s.isActive,o=s.isCloseable,d=s.onClick,b=s.url,p=s.titleType,m=s.decorator,S=s.kind,g=s.title,E=s.widthOverride,M=m!==c.TabButtonDecorators.NONE,v=S===u.TabKinds.BAR&&i,C=this.context.getThemeMode()===f.ThemeModes.DARK,N=this.context.getCss(T.default,{kind:S,activeBar:v,decoratedMenu:M&&S===u.TabKinds.MENU,decoratedBar:M&&S===u.TabKinds.BAR,activeHover:i&&this.state.hover,activeMenu:S===u.TabKinds.MENU&&i,inactiveHover:!i&&this.state.hover}),_=g,A=n.ColorStates.DARK,D=void 0;switch(m){case c.TabButtonDecorators.SEARCH:D=n.Kinds.SEARCH_MINI;break;case c.TabButtonDecorators.COMPOSE:D=n.Kinds.COMPOSE}switch(p){case c.TabTitleTypes.NO_SUBJECT:_=t(h.noSubject);break;case c.TabTitleTypes.LOADING:_=t(h.loading);break;case c.TabTitleTypes.ERROR:_=t(h.error);break;case c.TabTitleTypes.NEW_DRAFT:_=t(h.newDraft);break;case c.TabTitleTypes.SEARCH_DEFAULT:_=t(h.searchDefault);break;case c.TabTitleTypes.SETTINGS:_=t(h.settings);break;case c.TabTitleTypes.SPONSORED_AD:_=t(h.sponsoredAd)}return S===u.TabKinds.BAR&&(A=i&&!C?n.ColorStates.INHERITED:n.ColorStates.INVERTED),a.default.createElement("a",{"data-test-id":"tab-item","data-test-active":i,href:b,style:{width:E},className:C&&S===u.TabKinds.BAR?N.darkThemeModeTab:N.tab,onClick:d,onMouseOver:this.handleHoverChange.bind(this,!0),onMouseLeave:this.handleHoverChange.bind(this,!1),title:_},m!==c.TabButtonDecorators.NONE?a.default.createElement("span",{className:N.decorator},a.default.createElement(l.default,{kind:D,size:n.Sizes.XS,colorState:A})):null,C?a.default.createElement("span",{className:v?N.darkThemeModeActiveBarText:N.text},_):a.default.createElement("span",{className:v?N.activeBarText:N.text},_),o&&this.state.hover?a.default.createElement(r.default,{onClick:this.handleClose,className:N.close,kind:n.Kinds.CLOSE_MINI,size:n.Sizes.XS,colorState:A,"aria-label":t(h.closeTab),title:t(h.closeTab)}):null)}});exports.default=p,module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/fuji_icon_button.jsx":"./atoms/fuji_icon_button","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/theming/themes":"./platform/theming/themes","../../../platform/utils/object":"./platform/utils/object","../constants":315,"../styles/tab_button":317,"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],314:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),a=e(t),s=require("react-intl"),r=require("../../../platform/utils/mail_ui_vars"),l=require("../../../atoms/fuji_icon.jsx"),n=e(l),o=require("../../../atoms/constants/fuji_icon"),i=require("../../../platform/utils/object"),u=require("../../../platform/mail_constants"),d=require("../constants"),c=require("../../../atoms/popover/popover_content.jsx"),m=e(c),f=require("../../../atoms/popover/popover_container.jsx"),p=e(f),b=require("../../../atoms/popover/popover_anchor.jsx"),T=e(b),E=require("../../../atoms/constants/popover"),g=require("../../../atoms/button.jsx"),q=e(g),_=require("../../../atoms/constants/button"),v=require("./tab_button.jsx"),x=e(v),M=require("../../../atoms/navigable_list.jsx"),N=e(M),C=require("../styles/tabs_menu"),y=e(C),j=require("react-atomic-css/css"),h=e(j),P=require("../../categorization/categorization"),A=e(P),I=(0,h.default)(y.default),R=t.PropTypes.shape({title:t.PropTypes.string,titleType:t.PropTypes.oneOf((0,i.values)(u.TabTitleTypes)).isRequired,url:t.PropTypes.string.isRequired}),S=a.default.createClass({displayName:"TabsMenu",contextTypes:{intl:t.PropTypes.object},renderTabButtons:function e(t,s){var r=this.props,l=r.onSelection,n=r.onClose;return t.map(function(e){var t=e.title,r=e.titleType,o=e.url,i=e.decorator,u=e.active;return a.default.createElement("li",{className:I.tabItem,key:o},a.default.createElement(x.default,{onClick:l.bind(null,s?d.TabKinds.BAR:d.TabKinds.MENU,e),isCloseable:!0,isActive:u,onClose:n.bind(null,e),title:t,titleType:r,decorator:i,kind:d.TabKinds.MENU,url:o}))})},render:function e(){var t=this.props,l=t.remainingTabs,i=t.barTabs,u=void 0===i?[]:i,d=t.onCloseAll,c=t.categories,f=(0,s.defineMessages)({tabsMenu:{id:"tabs_menu.menu_button",defaultMessage:"Tabs menu"}});return a.default.createElement(p.default,{className:I.menuContainer},a.default.createElement(T.default,null,a.default.createElement(q.default,{"data-test-id":"tabs-menu-button",tabIndex:0,kind:_.Kinds.CHROMELESS,className:I.menuButton,"aria-label":this.context.intl.formatMessage(f.tabsMenu)},a.default.createElement("span",{className:I.menuSpan},a.default.createElement("span",{className:I.chevron},a.default.createElement(n.default,{kind:o.Kinds.CHEVRON_UP,size:o.Sizes.XS,rotate:o.Rotate.D180,colorState:o.ColorStates.INVERTED}))))),a.default.createElement(m.default,{triggerOn:E.Triggers.CLICK,offset:3*r.GRID_UNIT,align:E.Align.END,permittedArrowDirections:[E.PermittedArrowDirections.UP],zAltitude:r.ZIndices.POPOVER.HIGH},u.length?a.default.createElement(N.default,{"data-test-id":"tabs-menu",className:I.tabList,focusOnMount:!0},this.renderTabButtons(l,!1),this.renderTabButtons(u,!0),a.default.createElement("li",{className:I.rule}),a.default.createElement("li",null,a.default.createElement(q.default,{"data-test-id":"tabs-close-all",onClick:d,className:I.closeAllButton,tabIndex:0},a.default.createElement("span",{className:I.closeAllText},a.default.createElement(s.FormattedMessage,{id:"tabs.menu_close_all",defaultMessage:"Close all tabs"}))))):null,c.length?a.default.createElement(A.default,{isMenuMode:!0,categories:c}):null))}});exports.default=S,module.exports=exports.default;
},{"../../../atoms/button.jsx":"./atoms/button","../../../atoms/constants/button":"./atoms/constants/button","../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../atoms/constants/popover":"./atoms/constants/popover","../../../atoms/fuji_icon.jsx":"./atoms/fuji_icon","../../../atoms/navigable_list.jsx":"./atoms/navigable_list","../../../atoms/popover/popover_anchor.jsx":"./atoms/popover/popover_anchor","../../../atoms/popover/popover_container.jsx":"./atoms/popover/popover_container","../../../atoms/popover/popover_content.jsx":"./atoms/popover/popover_content","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../../platform/utils/object":"./platform/utils/object","../../categorization/categorization":"./molecules/categorization/categorization","../constants":315,"../styles/tabs_menu":319,"./tab_button.jsx":313,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],315:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.TAB_RIGHT_MARGIN=exports.TabKinds=void 0;var r=require("../../platform/utils/object"),e=exports.TabKinds=(0,r.mirrorKeys)(["BAR","MENU"]),s=exports.TAB_RIGHT_MARGIN=2;
},{"../../platform/utils/object":"./platform/utils/object"}],316:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),i=require("react-dom"),a=require("./atoms/tab_button.jsx"),o=e(a),r=require("./atoms/tabs_menu.jsx"),s=e(r),l=require("./styles/tabs"),u=e(l),d=require("react-atomic-css/css"),c=e(d),h=require("react-addons-create-fragment"),T=e(h),f=require("../../platform/utils/object"),p=require("../../platform/utils/route"),b=require("../../types"),g=require("../../platform/mail_constants"),m=require("./constants"),v=require("../../platform/utils/mail_ui_vars"),_=v.TAB_MIN_WIDTH+m.TAB_RIGHT_MARGIN,A=v.TAB_MAX_WIDTH+m.TAB_RIGHT_MARGIN,M=(0,c.default)(u.default),C=n.default.createClass({displayName:"Tabs",contextTypes:{executeAction:t.PropTypes.func,navigateTo:t.PropTypes.func},getInitialState:function e(){return{boundingWidth:null}},getBoundingWidth:function e(){this.isMounted()&&this.setState({boundingWidth:(0,i.findDOMNode)(this).getBoundingClientRect().width})},componentDidMount:function e(){this.getBoundingWidth(),window.addEventListener("resize",this.getBoundingWidth)},componentWillUnmount:function e(){window.removeEventListener("resize",this.getBoundingWidth)},handleSelection:function e(t,n,i){i.preventDefault();var a={route:n.route};n.active||(t===m.TabKinds.MENU?this.context.navigateTo(Object.assign(a,{reorderPage:!0})):this.context.navigateTo(a))},handleTabClose:function e(t,n){var i=t.route;n.preventDefault(),this.props.closePage({route:i})},handleTabCloseAll:function e(t){t.preventDefault(),this.context.navigateTo({route:(0,p.buildFolderRouteFromFolderId)(this.props.defaultFolderId),closeAllTabs:!0})},renderToFit:function e(){var t=this,i=this.props.tabContent,a=[],r=[],l=void 0;if(this.state.boundingWidth){var u=Math.floor((this.state.boundingWidth-v.TAB_MENU_WIDTH)/A);if(i.length>u){u=Math.floor((this.state.boundingWidth-v.TAB_MENU_WIDTH)/_);var d=Math.min(u,i.length);l=Math.floor((this.state.boundingWidth-v.TAB_MENU_WIDTH)/d)-m.TAB_RIGHT_MARGIN+"px"}i.forEach(function(e){!e.active&&a.length<i.length-u&&e.titleType!==g.TabTitleTypes.CATEGORY?a.push(e):r.push(e)})}else r=i.slice(0,4);return(0,T.default)({tabButtons:r.map(function(e){var i=e.title,a=e.titleType,r=e.url,s=e.active,u=e.decorator;return n.default.createElement("li",{key:r,className:M.item},n.default.createElement(o.default,{onClick:function n(i){return t.handleSelection(m.TabKinds.BAR,e,i)},isCloseable:a!==g.TabTitleTypes.CATEGORY,onClose:function n(i){return t.handleTabClose(e,i)},title:i,titleType:a,decorator:u,url:r,kind:m.TabKinds.BAR,isActive:s,widthOverride:l}))}),tabMenu:i.length?n.default.createElement("li",{className:M.moreMenu},n.default.createElement(s.default,{barTabs:r.filter(function(e){return e.titleType!==g.TabTitleTypes.CATEGORY}),remainingTabs:a,onSelection:this.handleSelection,onClose:this.handleTabClose,onCloseAll:this.handleTabCloseAll,categories:this.props.categories})):null})},render:function e(){var t=this.props.tabContent;return n.default.createElement("ul",{className:M.container,"data-test-id":"tab-list","data-test-count":t.length},this.renderToFit())}});exports.default=C,module.exports=exports.default;
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../../platform/utils/object":"./platform/utils/object","../../platform/utils/route":"./platform/utils/route","../../types":"./types","./atoms/tab_button.jsx":313,"./atoms/tabs_menu.jsx":314,"./constants":315,"./styles/tabs":318,"react":"./node_modules/react/react.js","react-addons-create-fragment":"./node_modules/react-addons-create-fragment/index.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js"}],317:[function(require,module,exports){
module.exports={className:{default:{tab:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z291T0t",darkThemeModeTab:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z291T0t",textSvg:"em_N H_6FIA",text:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x",close:"en_0 O_0 I_T Q_36RhU O4_N P_2gqvDS",decorator:"D_F en_0 E_eo6"},"kind-MENU":{tab:"W_3qYiD P_1Eu7sD C_Z291T0t I_52qC I4_Z1owzy4 N4_6Eb4",text:"C_Z291T0t G_e"},"kind-BAR":{tab:"W_3nq6r P_fQoXz I_a0xIC I4_ak5k6",darkThemeModeTab:"W_3nq6r P_fQoXz I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z291T0t",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},activeBar:{tab:"I_52qC cdPFi_Z291T0t I4_52qC",darkThemeModeTab:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC"},activeMenu:{text:"u_b"},decoratedMenu:{tab:"X_6Fd5"},decoratedBar:{tab:"P_3gIMd",darkThemeModeTab:"P_3gIMd"},activeHover:{tab:"r_BN",darkThemeModeTab:"r_BN",close:"O_N Q_0"},inactiveHover:{close:"O_N Q_0"}},_key:"ZzvvOT"};
},{}],318:[function(require,module,exports){
module.exports={className:{default:{container:"D_F hd_n P_0 M_0 o_h J_x H_6UbO",item:"H_6D6F E_dRA",svgDefs:"W_0 H_0"}},_key:"2qYHHJ"};
},{}],319:[function(require,module,exports){
module.exports={className:{default:{menuContainer:"D_F em_N H_6Nds s_6NIX r_P cj_dRA ck_dRA p_R je_eDQ",menuButton:"em_N r_P y_ZwubDW A_6EqO b_0 I_T",menuSpan:"p_a L_0 W_6D6F T_0 H_6D6F D_F ab_C gl_C C_52qC A_6EqO o_h",text:"Q_fq7 o_h",chevron:"D_F en_0",rule:"b_Z14vXdP cn_ZvFCRQ M_fQoXz",tabList:"ha_n M_0 P_3Y3Gk",tabItem:"H_6VdP M_Ic8v9",closeAllButton:"y_ZwubDW A_6EqO b_0 I_T t_l C_Z2aVTcY P_1Eu7sD H_6VdP W_6D6F r_P I4_Z1owzy4",closeAllText:"D_F ab_C"}},_key:"2dhwxv"};
},{}],"./molecules/theme_provider":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return s.default.createClass({displayName:"WrappedThemeProvider",childContextTypes:{getCss:o.PropTypes.func,getTheme:o.PropTypes.func,getThemeMode:o.PropTypes.func},getChildContext:function e(){var t=this;return{getCss:function e(r,o){return(0,p.default)(r,Object.assign({},o,{themeMode:t.props.themeMode,theme:t.props.theme,themeCombo:t.props.themeMode+"_"+t.props.theme}))},getTheme:function e(){return t.props.theme},getThemeMode:function e(){return t.props.themeMode}}},render:function t(){return s.default.createElement(e,r({key:this.props.theme+"-"+this.props.themeMode,ref:"childComponent"},this.props))}})}exports.__esModule=!0,exports.provide=exports.mapStateToProps=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};exports.wrappedThemeProvider=t;var o=require("react"),s=e(o),n=require("react-atomic-css/css"),p=e(n),u=require("react-redux"),i=require("../../platform/theming/themes"),c=require("../../platform/utils/object"),a=require("../../reducers_selectors"),h=exports.mapStateToProps=function e(t){var r=(0,a.selectors)(t),o=r.getFeaturesSelectors,s=o();return{theme:s.getSetting("theme"),themeMode:s.getSetting("themeMode")}},m=exports.provide=function e(r){return(0,u.connect)(h)(t(r))};
},{"../../platform/theming/themes":"./platform/theming/themes","../../platform/utils/object":"./platform/utils/object","../../reducers_selectors":"./reducers_selectors","react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-redux":"./node_modules/react-redux/lib/index.js"}],"./molecules/timezone_check/actions":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){if((0,(0,l.selectors)(e.store.getState()).getFeaturesSelectors)().isEnabled("udb")&&(!t||t.server!==r.server||t.client!==r.client)){var s;e.udbClient.write((s={},s[o.UDBKeys.YM_LAST_OBSERVED_TZ]=JSON.stringify(r),s))}}function r(e,r){var s=r.geoLocation,i=r.serverInferredTimezone,o=r.lastObservedTimezone,a=n.default.determine(),l=a&&a.name(),E=e.getStore(u.default),d=E.getActiveAccountId();t(e,o,{client:l,server:i}),o&&(s&&i!==o.server||l!==o.client&&l!==i)&&e.dispatch(c.mail.TIMEZONE_CHANGE_DETECTED,{accountId:d})}function s(e){e.dispatch(c.mail.PREFERRED_TIMEZONE_CHANGE_REJECTED)}exports.__esModule=!0,exports.promptForPossibleTimezoneChange=r,exports.rejectTimezoneChange=s;var i=require("jstz"),n=e(i),o=require("../../platform/udb_client/constants"),c=require("../../platform/react_action_constants"),a=require("../../stores/mail"),u=e(a),l=require("../../reducers_selectors");
},{"../../platform/react_action_constants":"./platform/react_action_constants","../../platform/udb_client/constants":"./platform/udb_client/constants","../../reducers_selectors":"./reducers_selectors","../../stores/mail":"./stores/mail","jstz":"./node_modules/jstz/index.js"}],320:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.TimezoneChangeRequestedNotification=void 0;var t=require("react"),a=e(t),n=require("react-intl"),i=require("../../atoms/button"),s=e(i),o=require("../../atoms/constants/button"),c=require("./actions"),r=require("./styles/notification"),u=e(r),d=require("react-atomic-css/css"),l=e(d),m=require("../../platform/utils/route"),f=require("../../platform/mail_constants"),g=(0,l.default)(u.default),p=exports.TimezoneChangeRequestedNotification=a.default.createClass({displayName:"TimezoneChangeRequestedNotification",contextTypes:{executeAction:t.PropTypes.func,navigateTo:t.PropTypes.func},handleChangeAccept:function e(){this.context.navigateTo({route:(0,m.buildSettingsRoute)({settingsGroupId:f.SettingsTab.VIEWING_EMAIL,accountId:this.props.accountId})})},handleChangeReject:function e(){this.context.executeAction(c.rejectTimezoneChange)},render:function e(){return a.default.createElement("div",{className:g.container},a.default.createElement("span",{className:g.msgContainer},a.default.createElement(n.FormattedMessage,{id:"timezone.change_msg",defaultMessage:"New time zone detected."})),a.default.createElement(s.default,{kind:o.Kinds.CHROMELESS,onClick:this.handleChangeAccept},a.default.createElement("span",{"data-test-id":"primary-button",className:g.primaryButton},a.default.createElement(n.FormattedMessage,{id:"timezone.change_accept",defaultMessage:"Update my location"}))),a.default.createElement(s.default,{kind:o.Kinds.CHROMELESS,onClick:this.handleChangeReject},a.default.createElement("span",{"data-test-id":"secondary-button",className:g.secondaryButton},a.default.createElement(n.FormattedMessage,{id:"timezone.change_reject",defaultMessage:"Ignore"}))))}});
},{"../../atoms/button":"./atoms/button","../../atoms/constants/button":"./atoms/constants/button","../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/route":"./platform/utils/route","./actions":"./molecules/timezone_check/actions","./styles/notification":321,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-intl":"./node_modules/react-intl/lib/index.js"}],321:[function(require,module,exports){
module.exports={className:{default:{container:"E_fq7",msgContainer:"E_fq7",primaryButton:"A_6EWk C_Z2aVTcY P_fq7",secondaryButton:"A_6EWk P_fq7"}},_key:"m8Htr"};
},{}],322:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.createCaptchaClient=exports.createCalendarClient=exports.createEmojiSearchClient=exports.createLinkEnhancerClient=exports.createYQLClient=exports.createRapidClient=exports.createSportsAPIClient=exports.createPaymentClient=exports.createGifCategoriesClient=exports.createHeartbeatAPIClient=exports.createUdbClient=exports.createPriceGrabberAPIClient=exports.createVideoAPIClient=exports.createGeminiAPIClient=exports.createCredstoreClient=exports.createAutoSuggestClient=exports.createAthenaClient=exports.createBootcampClient=exports.createMailAPIClient=void 0;var t=require("./emoji_search_client"),r=e(t),i=require("./gif_categories_client/client"),n=e(i),a=require("./mail_api_client"),o=e(a),l=require("./gemini_api_client"),s=e(l),c=require("./video_api_client"),u=e(c),p=require("./sports_api_client/client"),g=e(p),m=require("./price_grabber_api_client"),d=e(m),C=require("./xobni_client"),h=e(C),b=require("./credstore_client"),_=e(b),f=require("./heartbeat_api_client"),x=e(f),A=require("./bootcamp_client"),q=e(A),H=require("./athena_client"),I=e(H),w=require("./rapid_client"),v=e(w),P=require("./yql_client"),N=e(P),R=require("./link_enhancer_client"),k=e(R),y=require("./payment_api_client"),O=e(y),S=require("./calendar_api_client"),T=e(S),L=require("./bootcamp_client/constants"),E=require("./udb_client"),B=e(E),G=require("./captcha_client"),W=e(G),Q=require("./utils/generic"),M=require("./mail_constants"),j=exports.createMailAPIClient=function e(t){var r=t.loginHash,i=t.mailWssid,n=t.crumb,a=t.cookie,l=t.loggerParams,s=t.timezone,c=t.httpRetry,u=t.requestQueue,p=t.isOnline;return new o.default({appId:M.appId,loginHash:r,wssid:i,crumb:n,cookie:a,loggerParams:(0,Q.isBrowser)()?{}:l,loggerName:M.ApiClientLoggerNames.MailAPIClient,timezone:s,requestQueue:u,executeRequestsSequentially:(0,Q.isBrowser)(),httpRetry:c,isOnline:p})},z=exports.createBootcampClient=function e(t){var r=t.loginHash,i=t.mailWssid,n=t.crumb,a=t.cookie,o=t.loggerParams,l=t.timezone,s=void 0===l?{}:l,c=t.region,u=t.bootcampHost,p=t.httpRetry,g=t.requestQueue,m=t.isOnline;return new q.default({appId:M.appId,loginHash:r,cookie:a,crumb:n,wssid:i,bootcampHost:u,timezone:s.name,strategy:L.BROWSER_TO_NODE_STRATEGY,requestQueue:g,executeRequestsSequentially:(0,Q.isBrowser)(),region:c,httpRetry:p,loggerName:M.ApiClientLoggerNames.BootcampClient,loggerParams:(0,Q.isBrowser)()?{}:o,isOnline:m})},Y=exports.createAthenaClient=function e(t){var r=t.loginHash,i=t.mailWssid,n=t.crumb,a=t.cookie,o=t.athenaHost;return new I.default({appId:M.appId,loginHash:r,cookie:a,crumb:n,wssid:i,athenaHost:o,strategy:L.BROWSER_TO_NODE_STRATEGY,executeRequestsSequentially:(0,Q.isBrowser)(),loggerName:M.ApiClientLoggerNames.AthenaClient})},D=exports.createAutoSuggestClient=function e(t){var r=t.loginHash,i=t.crumb,n=t.mailWssid,a=t.httpRetry,o=t.isOnline;return new h.default({loginHash:r,crumb:i,wssid:n,host:M.XOBNI_HOST,httpRetry:a,isOnline:o})},U=exports.createCredstoreClient=function e(t){var r=t.guid,i=t.loginHash,n=t.crumb,a=t.mailWssid;return new _.default({appId:M.appId,crumb:n,guid:r,loginHash:i,wssid:a,host:M.CREDSTORE_HOST})},V=exports.createGeminiAPIClient=function e(t){var r=t.loginHash,i=t.crumb,n=t.cookie,a=t.userAgent,o=t.remoteAddress,l=t.environment,c=t.region,u=t.locale,p=t.buckets,g=t.sectionIdsToCache;return new s.default({appId:M.appId,loginHash:r,cookie:n,crumb:i,userAgent:a,remoteAddress:o,environment:l,region:c,locale:u,buckets:p,sectionIdsToCache:g,loggerName:M.ApiClientLoggerNames.GeminiAPIClient})},X=exports.createVideoAPIClient=function e(t){var r=t.loginHash,i=t.crumb,n=t.cookie,a=t.environment,o=t.region,l=t.locale,s=t.colo;return new u.default({loginHash:r,crumb:i,cookie:n,environment:a,region:o,locale:l,colo:s})},F=exports.createPriceGrabberAPIClient=function e(t){var r=t.crumb,i=t.region,n=t.locale,a=t.buckets;return new d.default({crumb:r,region:i,locale:n,buckets:a,loggerName:M.ApiClientLoggerNames.PriceGrabberClient})},J=exports.createUdbClient=function e(t){var r=t.cookie,i=t.crumb,n=t.httpRetry,a=t.requestQueue,o=t.isOnline;return new B.default({cookie:r,crumb:i,httpRetry:n,requestQueue:a,isOnline:o})},K=exports.createHeartbeatAPIClient=function e(t){var r=t.loginHash,i=t.buildNumber,n=t.launchTime,a=t.crumb;return new x.default({buildNumber:i,crumb:a,launchTime:n,loginHash:r,loggerName:M.ApiClientLoggerNames.HeartbeatAPIClient})},Z=exports.createGifCategoriesClient=function e(t){var r=t.locale,i=t.loginHash,a=t.httpRetry;return new n.default({appId:M.appId,locale:r,loginHash:i,loggerName:M.ApiClientLoggerNames.GifCategories,httpRetry:a})},$=exports.createPaymentClient=function e(t){var r=t.loginHash,i=t.crumb,n=t.cookie,a=t.environment,o=t.remoteAddress,l=t.region,s=t.locale;return new O.default({loginHash:r,cookie:n,crumb:i,region:l,locale:s,environment:a,remoteAddress:o,loggerName:M.ApiClientLoggerNames.PaymentClient})},ee=exports.createSportsAPIClient=function e(){return new g.default({loggerName:M.ApiClientLoggerNames.SportsAPIClient})},te=exports.createRapidClient=function e(){return v.default},re=exports.createYQLClient=function e(t){var r=t.locale;return new N.default({locale:r})},ie=exports.createLinkEnhancerClient=function e(t){var r=t.crumb;return new k.default({crumb:r})},ne=exports.createEmojiSearchClient=function e(t){var i=t.httpRetry,n=t.loginHash;return new r.default({loggerName:M.ApiClientLoggerNames.EmojiSearch,httpRetry:i,loginHash:n})},ae=exports.createCalendarClient=function e(t){var r=t.mailWssid,i=t.calendarWssid,n=t.partner;return new T.default({mailWssid:r,calendarWssid:i,partner:n})},oe=exports.createCaptchaClient=function e(t){var r=t.cspToken;return new W.default({cspToken:r})};
},{"./athena_client":325,"./bootcamp_client":333,"./bootcamp_client/constants":332,"./calendar_api_client":346,"./captcha_client":349,"./credstore_client":350,"./emoji_search_client":352,"./gemini_api_client":357,"./gif_categories_client/client":359,"./heartbeat_api_client":361,"./link_enhancer_client":362,"./mail_api_client":"./platform/mail_api_client","./mail_constants":"./platform/mail_constants","./payment_api_client":370,"./price_grabber_api_client":371,"./rapid_client":"./platform/rapid_client","./sports_api_client/client":377,"./udb_client":378,"./utils/generic":"./platform/utils/generic","./video_api_client":385,"./xobni_client":390,"./yql_client":394}],"./platform/assets":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){if(!e||"object"!==("undefined"==typeof e?"undefined":o(e)))throw new TypeError(e+" is not an object");return function(t){return e[t]?n.assetHost.replace(i,"")+u+e[t].replace(f,""):t}}exports.__esModule=!0,exports.getURL=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.makeGetAssetUrlFn=t;var n=require("../../config/asset_config.json"),r=require("../../config/binary_assets.json"),s=e(r),u="/",f=/^\s*\//,i=/\/\s*$/,c=exports.getURL=t(s.default);
},{"../../config/asset_config.json":"./config/asset_config.json","../../config/binary_assets.json":"./config/binary_assets.json"}],323:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=require("../http_transport"),r=t(n),u=require("../mail_constants"),a=u.YCPI_PATH_PREFIX+"/athena_api",o=function(){function t(){e(this,t)}return t.prototype.unSubscribeApi=function t(e){var n=e.crumb,u=a+"/unsubscribe?crumb="+n,o=new r.default("POST",u);return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send(e).then(function(t){return JSON.parse(t.text)})},t}();exports.default=o,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants"}],324:[function(require,module,exports){
"use strict";exports.__esModule=!0;var E=exports.REQUEST_TIMEOUT=1e3,T=exports.BROWSER_TO_NODE_STRATEGY="BROWSER_TO_NODE_STRATEGY",_=exports.NODE_TO_ATHENA_STRATEGY="NODE_TO_ATHENA_STRATEGY",O=exports.PLATFORMS=["WEB_DESKTOP","WEB_MOBILE","MOBILE_IOS","MOBILE_ANDROID"];
},{}],325:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var i,s=require("../invariant"),o=e(s),a=require("../ymreqid"),u=e(a),c=require("../mail_constants"),l=require("../base_client"),p=e(l),f=require("./browser_to_node_request"),d=e(f),_=require("./node_to_athena_request"),h=e(_),m=require("./constants"),b="unsubscribemail",y=(i={},i[m.BROWSER_TO_NODE_STRATEGY]=d.default,i[m.NODE_TO_ATHENA_STRATEGY]=h.default,i),O=function(e){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,i);var s=r(this,e.call(this,n)),a=n.appId,l=n.cookie,p=n.headers,f=n.loginHash,d=n.athenaHost,_=n.timezone,h=n.strategy;return(0,o.default)(h===m.BROWSER_TO_NODE_STRATEGY||h===m.NODE_TO_ATHENA_STRATEGY,"Invalid strategy "+h),s.appId=a,s.cookie=l,s.athenaHost=d,s.timezone=_,s.strategy=h,s._request=new y[h]({headers:p,athenaHost:d,cookie:l}),f&&(s.ymreqidGenerator=new u.default(f,c.YMREQ_CLIENT_ID,c.SESSION_ID)),s}return n(i,e),i.prototype.getDefaultUrlParams=function e(){return{appid:this.appId,crumb:this.crumb,wssid:this.wssid,clientId:b,timezone:this.timezone,ymreqid:this.ymreqidGenerator.generate()}},i.prototype.request=function e(t,r){return this[t](t,r)},i.prototype.unSubscribeItems=function e(t,r){var n=this.getDefaultUrlParams(),i=n.wssid,s=n.crumb,o={apiName:t,wssid:i,crumb:s},a=void 0,u=void 0;return this.strategy===m.BROWSER_TO_NODE_STRATEGY?(a=r.originalSendersInfo.filter(function(e){return e.name&&e.email}).map(function(e){return{email:e.email,from:e.name}}),u=this._request.unSubscribeApi(Object.assign({},n,{senders:a}))):u=this._request.unSubscribeApi(Object.assign({},n,r)),this.logRequest(u,o),u},i.prototype.getUserSegmentData=function e(t,r){var n={apiName:t},i=this._request.userSegmentApi(Object.assign({appId:this.appId},r));return this.logRequest(i,n,"userSegmentDataCall"),i},i}(p.default);exports.default=O,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","../ymreqid":"./platform/ymreqid","./browser_to_node_request":323,"./constants":324,"./node_to_athena_request":326}],326:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var s=require("../http_transport"),r=e(s),n=require("./transforms"),o=require("./constants"),a=function(){function e(s){var r=s.athenaHost,n=s.cookie,o=s.headers;t(this,e),this.cookie=n,this.athenaHost=r,this.headers=o}return e.prototype._setCustomHeaders=function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s&&Object.keys(s).forEach(function(e){t.setHeader(e,s[e])})},e.prototype.unSubscribeApi=function e(t){var s=t.senders,o=t.wssid,a=this.athenaHost+"/v1/commsdata/getunsubsuggestions?crumb="+o,i=new r.default("POST",a);return i.setHeader("Accept","application/json"),i.setCookieHeader(this.cookie),this._setCustomHeaders(i,this.headers),i.withCredentials=!0,i.send({senders:s}).then(function(e){return JSON.stringify((0,n.transformUnSubscribeResponse)(JSON.parse(e.text)))})},e.prototype.userSegmentApi=function e(t){var s=this.athenaHost+"/v1/commsdata/userprofile?",a=new r.default("GET",s,o.REQUEST_TIMEOUT);return a.setHeader("Accept","application/json"),a.setCookieHeader(this.cookie),this._setCustomHeaders(a,this.headers),a.withCredentials=!0,a.send(t).then(function(e){return(0,n.transformUserSegmentResponse)(JSON.parse(e.text))})},e}();exports.default=a,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","./constants":324,"./transforms":327}],327:[function(require,module,exports){
"use strict";function r(r){return r&&r.__esModule?r:{default:r}}function e(r){if(r&&Array.isArray((0,i.getIn)(r,"commsDataUnsubscribe.result.0.unsubscribe.unsubscribeList")))return(0,i.getIn)(r,"commsDataUnsubscribe.result.0.unsubscribe.unsubscribeList");throw new u.default("AthenaApiClient.DataError",r)}function t(r){return r&&Array.isArray((0,i.getIn)(r,"commsDataUserProfile.result.0.userProfile.attributesList"))?(0,i.getIn)(r,"commsDataUserProfile.result.0.userProfile.attributesList").filter(function(r){return!(!r||!r.platform)&&o.PLATFORMS.indexOf(r.platform)!==-1}).reduce(function(r,e){var t;return s({},r,(t={},t[e.platform]=e,t))},{}):{}}exports.__esModule=!0;var s=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r};exports.transformUnSubscribeResponse=e,exports.transformUserSegmentResponse=t;var n=require("../mail_error"),u=r(n),i=require("../utils/object"),o=require("./constants");
},{"../mail_error":"./platform/mail_error","../utils/object":"./platform/utils/object","./constants":324}],"./platform/base_client":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),s=require("./logger"),i=r(s),n=require("../mail_error"),u=r(n),a=require("../invariant"),l=r(a),d=require("../utils/generic"),c=require("../utils/object"),f=require("../utils/api_logger"),g=e(f),h=require("../mail_error/constants"),p=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),(0,l.default)(r.loggerName,"loggerName is missing");var o=r.loggerName,s=r.loggerParams,i=void 0===s?{}:s,n=r.crumb,u=r.wssid,a=r.isOnline,d=void 0===a?function(){return!0}:a;this.loggerName=o,this.loggerParams=i,n&&(this.crumbValue=n),u&&(this.wssid=u),this.isOnline=d}return e.prototype.setRequestBlocked=function r(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,d.isBrowser)()&&(e.requestBlocked=t)},e.prototype.isRequestBlocked=function r(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!!(0,d.isBrowser)()&&t&&e.requestBlocked},e.prototype.getRequestBlockedPromise=function e(){return Promise.reject(new u.default("BaseClient.RequestBlocked"))},e.prototype.logRequest=function e(r,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.isOnline(),n=Object.assign({isOnline:s},this.loggerParams,t),u=o||this.loggerName,a=i.default.feature(u,n);return r.then(function(e){return a.logSuccessAndLatency(),e}).catch(function(e){throw g.apiErrorLogger(i.default,u,n,e),e})},e.prototype.handleYdodError=function e(r){if(429===r.statusCode)return this.setRequestBlocked(!0),r},e.prototype.handleWssidReissueError=function e(r){var t=r.statusCode,o="",s="";if(400===t&&(o=(0,c.getIn)(r,"data.body.error.code",""),"EC-4003"===o&&(s=(0,c.getIn)(r,"data.body.error.details.wssid",""))),403===t&&(o=(0,c.getIn)(r,"data.body.code",""),"Client.ClientRedirect.SessionIdReissue"===o&&(s=(0,c.getIn)(r,"data.body.wssid",""))),s)return this.wssid=s,new u.default(h.AUTHENTICATION_WSSID_REISSUE,{wssid:s,statusCode:t})},e.prototype.handleCommonError=function e(r){var t=null;return t||(t=this.handleYdodError(r)),t||(t=this.handleWssidReissueError(r)),t||r},e.prototype.setMailboxParams=function e(r){this.getMailboxParams=r},o(e,[{key:"crumb",get:function e(){return this.crumbValue||""},set:function e(r){r&&(this.crumbValue=r)}},{key:"wssid",get:function r(){return(0,d.isBrowser)()?e.wssid||"":this.wssidValue||""},set:function r(t){t&&((0,d.isBrowser)()?e.wssid=t:this.wssidValue=t)}}]),e}();p.wssid="",p.requestBlocked=!1,exports.default=p,module.exports=exports.default;
},{"../invariant":"./platform/invariant","../mail_error":"./platform/mail_error","../mail_error/constants":"./platform/mail_error/constants","../utils/api_logger":"./platform/utils/api_logger","../utils/generic":"./platform/utils/generic","../utils/object":"./platform/utils/object","./logger":"./platform/base_client/logger"}],"./platform/base_client/logger":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/base_client"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],328:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r){var t=document.charset||document.defaultCharset||"",n=window.location.href,s={c1:2,c2:7241469,c5:r,c7:n,ns__t:Date.now(),ns_c:t};return e&&e.LTT!==-1&&(s.c14=e.LTT),e&&e.ageCode!==-1&&e.genderCode!==-1&&(s.c15=e.ageCode+"$"+e.genderCode),(0,o.sendBeacon)("https://sb.scorecardresearch.com/p?"+c.default.stringify(s),!1)}exports.__esModule=!0,exports.fireComScoreBeacon=r;var o=require("../../../platform/utils/beacon"),t=require("querystring"),c=e(t);
},{"../../../platform/utils/beacon":"./platform/utils/beacon","querystring":"querystring"}],329:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(){var t={src:6589630,type:"nrn",cat:"nrnfsttm",u1:window.AppBootstrapData.guidHash,u2:"",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};(0,r.sendIframeBeacon)("https://6589630.fls.doubleclick.net/activityi;"+a.default.stringify(t,";")+"?")}exports.__esModule=!0,exports.fireMarketingBeacon=e;var r=require("../../../platform/utils/beacon"),i=require("querystring"),a=t(i);
},{"../../../platform/utils/beacon":"./platform/utils/beacon","querystring":"querystring"}],330:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.anonid,r=t.query,n=t.mailboxId,i=t.wssid,a=t.offset,c=t.source,d=void 0===c?s.BOOTCAMP_GIF_SOURCE.TUMBLR:c,f=Object.assign({vertical:"WEB",mimeTypes:"image/gif",source:d,limit:20,appid:"norrin",order:"desc",mailboxId:n,wssid:i,cursor:a},r||d===s.BOOTCAMP_GIF_SOURCE.TENOR?{query:r}:{},e?{anonid:e}:{});return u+p+"?"+(0,o.stringify)(f)}exports.__esModule=!0;var n=require("../http_transport"),i=t(n),s=require("../mail_constants"),o=require("querystring"),a=require("./transforms"),u="https://data.mail.yahoo.com/psearch",p="/v3/items",c=function(){function t(r){var n=r.httpRetry;e(this,t),this.httpRetry=n}return t.prototype.gifsApi=function t(e){var n=e.ymreqid,o=e.timezone,u=r(e),p=new i.default("GET",u,{httpRetry:this.httpRetry});return p.setHeader("Accept","application/json"),p.withCredentials=!0,p.send({ymreqid:n}).then(function(t){return(0,a.transformItemsResponse)(JSON.parse(t.text),{listContentType:s.ListContentTypes.GIFS},{timezone:o})})},t}();exports.default=c,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants","./transforms":338,"querystring":"querystring"}],331:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var r=require("../http_transport"),n=t(r),i=require("../multipart_parser"),o=t(i),a=require("../../vendor/through"),s=t(a),u=require("../mail_error"),p=t(u),c=require("../mail_constants"),d=require("querystring"),h=require("./constants"),f=c.YCPI_PATH_PREFIX+"/bootcamp_api",l=function(){function t(r){var n=r.httpRetry;e(this,t),this.httpRetry=n}return t.prototype.searchStream=function t(e,r){var i=f+"/search",a=new n.default("GET",i,{timeout:h.REQUEST_TIMEOUT,httpRetry:this.httpRetry}),u=0;a.setHeader("Accept","multipart/form-data"),a.withCredentials=!0;var c=a.createStream(e),d=c.pipe((0,o.default)({boundary:h.MULTIPART_BOUNDARY,useBuffer:!1,consolidate:!0})).pipe((0,s.default)(function(t){try{var e=t.slice(u);if(u=t.length,0===e.length)return;var n=e.reduce(function(t,e){var n=JSON.parse(e);return r.logLatency(n),Object.keys(n).forEach(function(e){t[e]||(t[e]={}),Object.keys(n[e]).forEach(function(r){t[e][r]=n[e][r]})}),t},{});this.emit("data",n)}catch(t){this.emit("data",{status:500,error:p.default.errorify(t)})}}));return c.on("error",function(t){return d.emit("error",t)}),d},t.prototype.itemsApi=function t(e){var r=f+"/items",i=new n.default("GET",r,{httpRetry:this.httpRetry});return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(e).then(function(t){return JSON.parse(t.text)})},t.prototype.gifsApi=function t(e){var r=f+"/gifs",i=new n.default("GET",r,{httpRetry:this.httpRetry});return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(e).then(function(t){return JSON.parse(t.text)})},t.prototype.suggestionsApi=function t(e){var r=f+"/suggestions",i=new n.default("GET",r,{httpRetry:this.httpRetry});return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(e).then(function(t){return JSON.parse(t.text)})},t.prototype.contentProvidersApi=function t(e){var r=f+"/contentProviders",i=new n.default("GET",r,{httpRetry:this.httpRetry});return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(e).then(function(t){return JSON.parse(t.text)})},t.prototype.linkContentProviderApi=function t(e){var r=e.redirectUrl,i=e.errorUrl,o=e.q,a=e.unlink?"/remove":"",s=f+"/contentProviders/"+e.provider+a+"?"+(0,d.stringify)(o),u=new n.default("POST",s,{httpRetry:this.httpRetry});return u.setHeader("Accept","application/json"),u.withCredentials=!0,u.send({redirectUrl:r,errorUrl:i}).then(function(t){return JSON.parse(t.text)})},t}();exports.default=l,module.exports=exports.default;
},{"../../vendor/through":"./vendor/through/browser","../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants","../mail_error":"./platform/mail_error","../multipart_parser":368,"./constants":332,"querystring":"querystring"}],332:[function(require,module,exports){
"use strict";exports.__esModule=!0;var T=exports.MULTIPART_BOUNDARY="Boundary_721950_932302703_1435368466480",_=exports.REQUEST_TIMEOUT=3e4,O=exports.BROWSER_TO_BOOTCAMP_STRATEGY="BROWSER_TO_BOOTCAMP_STRATEGY",E=exports.BROWSER_TO_NODE_STRATEGY="BROWSER_TO_NODE_STRATEGY",R=exports.NODE_TO_BOOTCAMP_STRATEGY="NODE_TO_BOOTCAMP_STRATEGY";
},{}],333:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var i,o=require("../base_client"),u=e(o),n=require("./logger"),a=e(n),c=require("../invariant"),l=e(c),h=require("../utils/object"),d=require("../ymreqid"),p=e(d),m=require("../mail_constants"),g=require("./browser_to_node_request"),q=e(g),f=require("./node_to_bootcamp_request"),_=e(f),R=require("./browser_to_bootcamp_request"),y=e(R),O=require("./constants"),b=require("lodash/omit"),T=e(b),v=require("../utils/generic"),S=require("../utils/api_logger"),A=require("./search_stream_logger"),E=e(A),P=require("querystring"),B="mailsearch",j=(i={},i[O.BROWSER_TO_NODE_STRATEGY]=q.default,i[O.NODE_TO_BOOTCAMP_STRATEGY]=_.default,i[O.BROWSER_TO_BOOTCAMP_STRATEGY]=y.default,i),C=(0,h.mirrorKeys)(["us","uk","de","fr","it","es","ch","at","nl","no","dk","se","fi","au","br","hk","tw","ca","mx","ar","in","sg","ie","co","cl","ve","pe"]),k=function(e){function i(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,i);var o=r(this,e.call(this,s)),u=s.appId,n=s.cookie,a=s.headers,c=s.loginHash,h=s.bootcampHost,d=void 0===h?"https://prod1psearch.mail.yahoo.com":h,g=s.timezone,q=s.executeRequestsSequentially,f=s.requestQueue,_=s.strategy,R=s.region,y=s.parseXML,b=s.httpRetry;return(0,l.default)(_===O.BROWSER_TO_NODE_STRATEGY||_===O.NODE_TO_BOOTCAMP_STRATEGY,"Invalid strategy "+_),o.strategy=_,o._getRequest=function(){return new j[arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.strategy]({headers:a,bootcampHost:d,cookie:n,httpRetry:b})},o.appId=u,o.cookie=n,o.headers=a,o.httpRetry=b,o.bootcampHost=d,o.timezone=g,o.executeRequestsSequentially=q,o.requestQueue=f,o.region=R,o.parseXML=y,c&&(o.ymreqidGenerator=new p.default(c,m.YMREQ_CLIENT_ID,m.SESSION_ID)),o}return s(i,e),i.prototype.getDefaultUrlParams=function e(){var t=this.strategy===O.BROWSER_TO_NODE_STRATEGY?this.getMailboxParams():null;return Object.assign({appid:this.appId,crumb:this.crumb,wssid:this.wssid,clientId:B,timezone:this.timezone,allowGoogleDocs:1,ymreqid:this.ymreqidGenerator.generate()},t)},i.prototype.getOffsetFromUrl=function e(t){if(t){var r=(0,P.parse)(t);return r&&r.cursor}return"0"},i.prototype.searchStream=function e(t,r){t="search";var s=this.getDefaultUrlParams(),i=s.ymreqid,o=Object.assign({},this.loggerParams,{apiName:t,ymreqid:i,crumb:this.crumb}),u=a.default.feature(m.ApiClientLoggerNames.BootcampClient,o),n=r,c=n.expand;(0,l.default)(c,"Bootcamp SRP expand parameter is required"),r=Object.assign({},s,r);var h=Object.assign({multipart:!0},r);this.strategy===O.NODE_TO_BOOTCAMP_STRATEGY&&Object.assign(h,{parseXML:this.parseXML,adCount:2,sourceTag:r.sourceTag,market:C[this.region]||"us"});var d=r,p=d.folders,g=void 0===p?[]:p,q=d.accountIds,f=void 0===q?[]:q,_=d.emailAddresses,R=void 0===_?[]:_;g=[].concat(g),f=[].concat(f),R=[].concat(R),g.length?h.folders=g.join(","):f.length&&(h.accountIds=f.join(",")),R.length&&(h.contentId=R.map(function(e){return"smtp:"+e}).join(",")),h=(0,T.default)(h,["referrer","name","listContentType","listFilter","emailAddresses"]);var y=new E.default(o),b=void 0;return b=this.executeRequestsSequentially?this.requestQueue.addStream(this._getRequest().searchStream.bind(this,h,y),t):this._getRequest().searchStream(h,y),b.on("end",u.logSuccessAndLatency),b.on("error",function(e){return(0,S.apiErrorLogger)(a.default,m.ApiClientLoggerNames.BootcampClient,o,e)}),b},i.prototype.searchItems=function e(t,r){var s=this.getDefaultUrlParams(),i=s.ymreqid,o={apiName:t,ymreqid:i,crumb:this.crumb},u=void 0;return u=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(this._getRequest().itemsApi.bind(this,Object.assign({},s,r)),t):this._getRequest().itemsApi(Object.assign({},s,r)),this.logRequest(u,o),u},i.prototype.searchGifs=function e(t,r){var s=this,i=this.getDefaultUrlParams(),o=i.ymreqid,u={apiName:t,ymreqid:o,crumb:this.crumb},n=(0,v.isBrowser)()?O.BROWSER_TO_BOOTCAMP_STRATEGY:O.NODE_TO_BOOTCAMP_STRATEGY,a=void 0;return r.offset=this.getOffsetFromUrl(r.nextItemsUrl),a=this.executeRequestsSequentially?this.requestQueue.add(this._getRequest(n).gifsApi.bind(this,Object.assign({},i,r)),t):this._getRequest(n).gifsApi(Object.assign({},i,r)),this.logRequest(a,u),a.catch(function(e){throw e=s.handleCommonError(e)})},i.prototype.searchTenorGifs=function e(t,r){return r.source=m.BOOTCAMP_GIF_SOURCE.TENOR,this.searchGifs(t,r)},i.prototype.searchSuggestions=function e(t,r){var s=this.getDefaultUrlParams(),i=s.ymreqid,o={apiName:t,ymreqid:i,crumb:this.crumb},u=void 0;return u=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(this._getRequest().suggestionsApi.bind(this,Object.assign({},s,r)),t):this._getRequest().suggestionsApi(Object.assign({},s,r)),this.logRequest(u,o),u},i.prototype.getContentProviders=function e(t,r){var s=this.getDefaultUrlParams(),i=s.ymreqid,o={apiName:t,ymreqid:i,crumb:this.crumb},u=void 0;return u=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(this._getRequest().contentProvidersApi.bind(this,Object.assign({},s,r)),t):this._getRequest().contentProvidersApi(Object.assign({},s,r)),this.logRequest(u,o),u},i.prototype.linkContentProvider=function e(t,r){var s=this.getDefaultUrlParams(),i=s.ymreqid,o={apiName:t,ymreqid:i,crumb:this.crumb},u=void 0;return r.q=Object.assign({},s,r.q),r.unlink=r.unlink||!1,u=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(this._getRequest().linkContentProviderApi.bind(this,r),t):this._getRequest().linkContentProviderApi(r),this.logRequest(u,o),u},i.prototype.createStream=function e(t,r){return this[t](t,r)},i.prototype.request=function e(t,r){return this[t](t,r)},i}(u.default);exports.default=k,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","../utils/api_logger":"./platform/utils/api_logger","../utils/generic":"./platform/utils/generic","../utils/object":"./platform/utils/object","../ymreqid":"./platform/ymreqid","./browser_to_bootcamp_request":330,"./browser_to_node_request":331,"./constants":332,"./logger":334,"./node_to_bootcamp_request":336,"./search_stream_logger":337,"lodash/omit":"./node_modules/lodash/omit.js","querystring":"querystring"}],334:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/bootcamp_client"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],335:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){return e.map(function(e){var n=e.itemType;return"THREAD"===n?{id:e.conversationId,messages:i(e.messages.reverse(),t)}:"MESSAGE"===n?{id:e.mid,messages:i([e],t)}:void 0})}function i(e){var t=function e(t){return{email:t.id,name:t.name}};return e.map(function(e){var i=Number(e.creationDate)/1e3,n={id:e.mid,folder:{id:e.folderNumber.toString()},conversationId:e.conversationId,flags:{flagged:e.isFlagged,read:e.isRead},headers:{subject:e.subject||"",cc:e.ccList?e.ccList.map(t):[],bcc:e.bccList?e.bccList.map(t):[],to:e.toList?e.toList.map(t):[],from:e.fromList?e.fromList.map(t):[],date:i},snippet:e.snippet||"",attachments:a(e.attachments.map(function(t){return Object.assign({},t,{mid:e.mid,creationDate:e.creationDate,csid:e.csid})})).map(function(e){return e.attachment}),verifiedDomains:e.verifiedDomains||[]};return e.csid&&(n.csid=e.csid),n})}function n(e){return e.map(function(e){var t,i,n=e.payload,a=n.id,o=(t={},t[a]=n,t),r=m.ListContentTypes.PEOPLE,s=(i={},i[r]=[a],i),d=e.relationshipHistory;return{contactDetails:(0,p.default)({ep:r,contacts_info:o,contacts_by_ep:s,relationshipHistory:d})}})}function a(e){return e.map(function(e){var t=e.mimeType.split("/"),i=t[0],n=t[1],a=e.partId,o=void 0===a?e.id:a,r=e.conversationId,s=e.csid,d=m.Attachments.Dispositions,c=e.mid?(0,u.convertV2IdToV3ImmutableId)(e.mid):void 0;return{attachment:{id:c?(0,u.generateAttachmentId)({partId:o},c,!1):e.id,virus:"N",filename:e.name,size:e.size,partId:o,type:i,subtype:n,conversationId:r,csid:s,disposition:e.disposition||d.ATTACHMENT,downloadUrl:e.online?e.onlineContentLink:e.downloadLink,thumbnailUrl:e.thumbnail,isExternal:e.online||!1,creationDate:e.creationDate,documentId:e.documentId},message:{id:c,subject:e.subject}}})}function o(e){return(e||[]).map(function(e){var t=e.$;return{creativeId:t.ListingId||"",pencilAd:{adHeadline:(0,c.default)(t.title)||"",adSummary:(0,c.default)(t.description)||"",adImg:t.faviconUrl||"",adSource:t.siteHost||"",clickUrl:e.ClickUrl[0]._||"",beacon:"",impressionTrackingUrls:[],type:f.UsageType.PencilAdType,adFeedbackBeacon:""}}})}function r(e){return(e||[]).map(function(e){var t=e.downloadLink,i=e.height,n=e.width,a=e.id,o=e.online,r=e.onlineContentLink,s=e.ownerId,d=e.source,c=e.thumbnail,u=e.thumbnailHeight,m=e.thumbnailWidth,l=e.thumbnails,p=e.feedbackUrl;return{downloadLink:t,height:i,width:n,id:a,online:o,onlineContentLink:r,ownerId:s,source:d,thumbnail:c,thumbnailHeight:u,thumbnailWidth:m,thumbnails:l,feedbackUrl:void 0===p?"":p}})}exports.__esModule=!0,exports.ItemMapper=void 0;var s,d=require("lodash/unescape"),c=e(d),u=require("../utils/message"),m=require("../mail_constants"),l=require("../../platform/xobni_client/mapper"),p=e(l),f=require("../gemini_api_client/constants"),h=exports.ItemMapper=(s={},s[m.ListContentTypes.MESSAGES]=t,s[m.ListContentTypes.DOCUMENTS]=a,s[m.ListContentTypes.IMAGES]=a,s[m.ListContentTypes.PEOPLE]=n,s[m.ListContentTypes.ADS]=o,s[m.ListContentTypes.GIFS]=r,s);
},{"../../platform/xobni_client/mapper":392,"../gemini_api_client/constants":355,"../mail_constants":"./platform/mail_constants","../utils/message":"./platform/utils/message","lodash/unescape":"./node_modules/lodash/unescape.js"}],336:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return(0,u.default)(function(t){var r=this;try{var s=JSON.parse(t),i=s.status,o=s.response;if(401===i)throw new m.default(l.AUTHENTICATION_INVALID_CREDENTIALS,{statusCode:i});if(!o||200!==i)throw new m.default("BootcampApiClient.SearchError");if(o.verticals){var a=(0,y.groupByContentType)(o.verticals,e);e.searchStreamLogger.logLatency(a),(0,w.isEmpty)(a)||this.emit("data",JSON.stringify(a))}else if(o.ads){var n=new Buffer(o.ads,"base64").toString("ascii");e.parseXML(n,function(t,s){if(t)throw new m.default("BootcampApiClient.SearchAdsError");var i=(0,y.transformAdResponse)(s);e.searchStreamLogger.logLatency(i),r.emit("data",JSON.stringify(i))})}}catch(e){return this.emit("data",JSON.stringify({status:500,error:m.default.errorify(e)}))}})}function s(e){var t=e.query,r=e.mailboxId,s=e.wssid,i=e.offset,o=e.source,a=void 0===o?T.BOOTCAMP_GIF_SOURCE.TUMBLR:o,n=Object.assign({vertical:"WEB",mimeTypes:"image/gif",source:a,limit:20,appid:"norrin",order:"desc",mailboxId:r,wssid:s,cursor:i},t||a===T.BOOTCAMP_GIF_SOURCE.TENOR?{query:t}:{});return S+O+"?"+(0,h.stringify)(n)}exports.__esModule=!0,exports.searchTransformStream=r;var i=require("../http_transport"),o=e(i),a=require("../multipart_parser"),n=e(a),d=require("../multipart_generator"),p=e(d),c=require("../../vendor/through"),u=e(c),h=require("querystring"),f=require("../mail_error"),m=e(f),l=require("../mail_error/constants"),y=require("./transforms"),C=require("lodash/omit"),v=e(C),g=require("./constants"),T=require("../mail_constants"),w=require("../../platform/utils/object"),R={date_desc:"hero",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"},S="https://prod1psearch.mail.yahoo.com",O="/v3/items",_=function(){function e(r){var s=r.bootcampHost,i=r.cookie,o=r.headers,a=r.httpRetry;t(this,e),this.cookie=i,this.bootcampHost=s,this.headers=o,this.httpRetry=a}return e.prototype._setCustomHeaders=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r&&Object.keys(r).forEach(function(e){t.setHeader(e,r[e])})},e.prototype.searchStream=function e(t,s){var i=this.bootcampHost+"/v3/srp?",a=new o.default("GET",i,{timeout:g.REQUEST_TIMEOUT,httpRetry:this.httpRetry}),d=(0,v.default)(t,"keyword");a.setHeader("Accept","multipart/form-data"),a.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),a.setCookieHeader(this.cookie),this._setCustomHeaders(a,this.headers),a.withCredentials=!0,d.query=t.keyword;var c=t.sortOrder,u=void 0===c?T.SortOrder.DATE_DESC:c;d.order=R[u],"hero"===d.order&&(d.herocount=3);var h=a.createStream(d),f=h.pipe((0,n.default)({boundary:g.MULTIPART_BOUNDARY})).pipe(r({timezone:t.timezone,formatDateUsingUTC:"false"!==t.formatDateUsingUTC,parseXML:t.parseXML,searchStreamLogger:s})).pipe((0,p.default)({boundary:g.MULTIPART_BOUNDARY,headers:{"Content-Type":"application/json"}}));return h.on("error",function(e){return f.emit("error",e)}),f},e.prototype.itemsApi=function e(t){var r=t.wssid,s=t.url+"&wssid="+r,i=new o.default("GET",s,{httpRetry:this.httpRetry}),a=t.ymreqid,n=t.listContentType,d=t.timezone;return i.setHeader("Accept","application/json"),i.setCookieHeader(this.cookie),this._setCustomHeaders(i,this.headers),i.withCredentials=!0,i.send({ymreqid:a}).then(function(e){return JSON.stringify((0,y.transformItemsResponse)(JSON.parse(e.text),{listContentType:n},{timezone:d}))})},e.prototype.gifsApi=function e(t){var r=t.ymreqid,i=t.timezone,a=s(t),n=new o.default("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.setCookieHeader(this.cookie),this._setCustomHeaders(n,this.headers),n.withCredentials=!0,n.send({ymreqid:r}).then(function(e){return JSON.stringify((0,y.transformItemsResponse)(JSON.parse(e.text),{listContentType:T.ListContentTypes.GIFS},{timezone:i}))})},e.prototype.suggestionsApi=function e(t){var r=this.bootcampHost+"/v3/suggestions?",s=new o.default("GET",r,{httpRetry:this.httpRetry});return s.setHeader("Accept","multipart/form-data"),s.setCookieHeader(this.cookie),this._setCustomHeaders(s,this.headers),s.withCredentials=!0,new Promise(function(e,r){s.createStream(Object.assign({multipart:!0},t)).on("error",r).pipe((0,n.default)({boundary:g.MULTIPART_BOUNDARY})).once("data",function(s){var i=void 0;try{i=(0,y.transformSuggestionsResponse)(JSON.parse(s),{timezone:t.timezone})}catch(e){return r(e)}e(JSON.stringify(i))})})},e.prototype.contentProvidersApi=function e(t){var r=t.appid,s=t.wssid,i=this.bootcampHost+"/v3/contentProviders",a=new o.default("GET",i,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.setCookieHeader(this.cookie),this._setCustomHeaders(a,this.headers),a.withCredentials=!0,a.send({appid:r,wssid:s}).then(function(e){return JSON.stringify((0,y.transformContentProvidersResponse)(JSON.parse(e.text)))})},e.prototype.linkContentProviderApi=function e(t){var r=t.redirectUrl,s=t.errorUrl,i=t.q,a=i.appid,n=i.wssid,d=t.unlink?"/remove":"",p=this.bootcampHost+"/v3/contentProviders/"+t.provider+d+"?"+(0,h.stringify)({appid:a,wssid:n}),c=new o.default("POST",p,{httpRetry:this.httpRetry});return c.setHeader("Accept","application/json"),c.setCookieHeader(this.cookie),this._setCustomHeaders(c,this.headers),c.withCredentials=!0,c.send({redirectUrl:r,errorUrl:s}).then(function(e){return e.text})},e}();exports.default=_;
},{"../../platform/utils/object":"./platform/utils/object","../../vendor/through":"./vendor/through/browser","../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants","../mail_error":"./platform/mail_error","../mail_error/constants":"./platform/mail_error/constants","../multipart_generator":366,"../multipart_parser":368,"./constants":332,"./transforms":338,"lodash/omit":"./node_modules/lodash/omit.js","querystring":"querystring"}],337:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var o=require("./logger"),r=t(o),a=function(){function t(o){e(this,t),this.loggerParams=o,this.startTime=Date.now(),this.loggers={}}return t.prototype.logLatency=function t(e){var o=this;Object.keys(e||{}).forEach(function(t){Object.keys(e[t]||{}).forEach(function(e){var a=t+"__"+e;o.loggers[a]||(r.default.feature("bootcamp_client_stream_call",Object.assign({},o.loggerParams,{contentType:t,filterType:e}),o.startTime).logLatency(),o.loggers[a]=!0)})})},t}();exports.default=a,module.exports=exports.default;
},{"./logger":334}],338:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){var s=t.listContentType;if(!e||!s)throw new l.default("BootcampApiClient.SearchError");var n=e.items,o=void 0===n?[]:n,i=e.totalHits,u=e.extendUrl,p=void 0===u?"":u,c=e.cursor;return{totalHits:i,offset:o.length?c:"",nextItemsUrl:p,items:a.ItemMapper[s]?a.ItemMapper[s](o,r):o}}function r(e,t){return e.reduce(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.concat((0,c.getIn)(t,"contentBlocks",[]))},[]).reduce(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.blockType,n=r.filter,o=void 0===n?u.ListFilters.WITH_KEYWORD:n,p=r.content;if(!u.ListFilters[o])return e;if(e[s]||(e[s]={}),e[s][o]={items:[],suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0},p){var l=p.items,c=void 0===l?[]:l,f=p.suggestedWords,d=void 0===f?[]:f,m=p.extendUrl,g=void 0===m?"":m,v=p.totalHits,I=p.cursor,x=p.queryResponse;e[s][o]=i({totalHits:v,offset:c.length?I:void 0,nextItemsUrl:g,suggestedWords:d,items:a.ItemMapper[s]?a.ItemMapper[s](c,t):c},x&&{lmv3Query:x})}return e},{})}function s(e){var t,r,s=(0,c.getIn)(e,"UNIResponse.AdResponse.0.Results.0.ResultSet.0.Listing",[]),n=a.ItemMapper[u.ListContentTypes.ADS](s);return r={},r[u.ListContentTypes.ADS]=(t={},t[u.ListFilters.WITH_KEYWORD]={items:n},t),r}function n(e){if(!e||!e.response)throw new l.default("BootcampApiClient.SuggestionError");return e.response.suggestions}function o(e){return e.reduce(function(e,t){var r;return Object.assign(e,(r={},r[t.name]=t.isConnected,r))},{})}exports.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e};exports.transformItemsResponse=t,exports.groupByContentType=r,exports.transformAdResponse=s,exports.transformSuggestionsResponse=n,exports.transformContentProvidersResponse=o;var u=require("../mail_constants"),a=require("./mapper"),p=require("../mail_error"),l=e(p),c=require("../utils/object");
},{"../mail_constants":"./platform/mail_constants","../mail_error":"./platform/mail_error","../utils/object":"./platform/utils/object","./mapper":335}],339:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){function t(){return{loginHash:y.loginHash,mailWssid:y.mailWssid,crumb:y.crumb,guid:y.guid,timezone:y.timezone,region:y.region,config:k,os:y.os,queryStringOverrides:y.queryStringOverrides,__initializeFeatures__:y.__initializeFeatures__,csid:(0,p.generateUID)(),localeData:y.localeData,cspToken:y.cspToken,encryptedQueryParams:y.encryptedQueryParams}}function o(t,r){if(t)return void i(r,t);if(!r.store){var o=(0,C.default)(y,e,U,{isOnline:K},r);o.store.subscribe(L.checkUserAndRefreshSession),r.store=o.store,r.apiClients=o.apiClients,r.routeMapper=o.routeMapper}var c=D+H,d=void 0;d=B?B.context.dispatcher.stores.PageStore.launchOverrideUrl||B.context.dispatcher.stores.RouteStore.currentUrl:r.getStore("PageStore").launchOverrideUrl,d&&d!==c&&history.replaceState(null,null,d),window.context=r,(0,P.default)(r,y);var p=(0,M.default)(r.routeMapper,r.getComponentContext()),f=(0,s.handleHistory)(p(e.component),{ignorePopstateOnPageLoad:!0,checkRouteOnPageLoad:!0}),g=p(q.default);window.setTimeout(function(){a.default.render(n.default.createElement(l.IntlProvider,window.AppIntl,n.default.createElement(u.FluxibleComponent,{context:r.getComponentContext()},n.default.createElement(f,{store:r.store}))),document.getElementById(Q));var e=document.getElementById("mail-search");k.ybar&&e&&a.default.render(n.default.createElement(l.IntlProvider,window.AppIntl,n.default.createElement(u.FluxibleComponent,{context:r.getComponentContext()},n.default.createElement(g,{store:r.store}))),e),G.logSuccessAndLatency()},10)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!!t;t=t||O,window.context=e,a.default.render(n.default.createElement(l.IntlProvider,window.AppIntl,n.default.createElement(u.FluxibleComponent,{context:e.getComponentContext()},n.default.createElement(A.default,{error:t,hideLogo:r}))),document.getElementById(Q))}function c(e){g.default.set(S),"debug"===e.logLevel&&g.default.read((0,v.default)()),g.default.read((0,b.default)({endpoint:h.LOGGER_PATH,interval:5e3})),g.default.level(e.logLevel||"error")}window.onerror=w.handleUncaughtBrowserError,window.YAHOO.i13n.WEBWORKER_FILE=h.RAPID_WEBWORKER_FILE;var f=window,m=f.AppState,_=void 0===m?{}:m,y=f.AppBootstrapData,E=f.ReactIntlLocaleData,S=f.BrowserLoggerParams,I=f.LaunchErrorObj,O=void 0===I?{}:I,B=_.fluxibleState,U=_.reduxState,k=y&&y.config||B.context.plugins.MailFluxibleContextPlugin.config,D=location.pathname,H=location.search,W=new RegExp("^("+h.UNIVERSAL_YCPI_PATH_PREFIX+")/test"),z=W.test(D);z||c(k),"object"===("undefined"==typeof E?"undefined":r(E))&&Object.keys(E).forEach(function(e){return(0,l.addLocaleData)(E[e])});var T=(0,d.default)(e),j=y.route?"launch_"+y.route.toLowerCase():"unknown",G=x.default.feature(j,{ssr:!!B}),K=function e(){return window.context?(0,(0,(0,F.selectors)(window.context.store.getState()).getOnlineSelectors)().isOnline)():function(){return!0}},Q=(0,p.getAppContainerId)(e);if(B)T.rehydrate(B,o);else if(y){z&&(g.default.disable(),D=D.replace(W,function(e,t){return t}),history.replaceState(null,null,D+H));var Y=T.createContext(t()),N=(0,C.default)(y,e,U,{isOnline:K},Y),V=N.store,X=N.apiClients,J=N.routeMapper;V.subscribe(L.checkUserAndRefreshSession),Y.store=V,Y.apiClients=X,Y.routeMapper=J,(0,R.isEmpty)(O)?Y.getActionContext().executeAction(s.navigateAction,{url:D+H},function(e){o(e,Y)}):i(Y)}}exports.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.default=t,require("../../client/polyfills"),require("../../vendor/rapid/rapid");var o=require("react"),n=e(o),i=require("react-dom"),a=e(i),l=require("react-intl"),u=require("fluxible-addons-react"),s=require("fluxible-router"),c=require("./create_fluxible_app"),d=e(c),p=require("../utils"),f=require("norrin-logger"),g=e(f),m=require("../logger"),x=e(m),_=require("norrin-logger/readers/browser"),b=e(_),y=require("norrin-logger/readers/development_console"),v=e(y),h=require("../mail_constants"),w=require("../../client/uncaught_browser_error_handler"),E=require("../../apps/mail/controller_views/search_bar_contextualized"),q=e(E),S=require("./bootstrap_redux"),C=e(S),I=require("../../atoms/launch_error"),A=e(I),O=require("./utils/prefetch_messages"),P=e(O),L=require("./utils"),R=require("../utils/object"),F=require("../../reducers_selectors"),B=require("../../apps/mail/providers/router"),M=e(B);module.exports=exports.default;
},{"../../apps/mail/controller_views/search_bar_contextualized":64,"../../apps/mail/providers/router":85,"../../atoms/launch_error":100,"../../client/polyfills":134,"../../client/uncaught_browser_error_handler":136,"../../reducers_selectors":"./reducers_selectors","../../vendor/rapid/rapid":"./vendor/rapid/rapid","../logger":"./platform/logger","../mail_constants":"./platform/mail_constants","../utils":"./platform/utils","../utils/object":"./platform/utils/object","./bootstrap_redux":340,"./create_fluxible_app":341,"./utils":343,"./utils/prefetch_messages":344,"fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","fluxible-router":"./node_modules/fluxible-router/index.js","norrin-logger":"./node_modules/norrin-logger/index.js","norrin-logger/readers/browser":"./node_modules/norrin-logger/readers/browser.js","norrin-logger/readers/development_console":"./node_modules/norrin-logger/readers/development_console.js","react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js","react-intl":"./node_modules/react-intl/lib/index.js"}],340:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}exports.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=require("redux"),u=require("redux-thunk"),a=e(u),o=require("../redux_middleware/logger"),l=e(o),s=require("../redux_middleware/action_enhancer"),c=e(s),p=require("../redux_middleware/syncer"),d=e(p),f=require("../../reducers_selectors"),C=e(f),y=require("../../action_enhancers"),_=e(y),m=require("../../action_syncers"),b=e(m),q=require("../api_clients"),A=require("../request_queue"),g=e(A),h=require("../utils/generic"),P=require("./route_mapper"),x=e(P),I=require("../mail_constants"),S=require("../../apps/route_map"),E=require("../invariant"),v=e(E),O=require("../logger"),Q=e(O),T=require("lodash/omit"),w=e(T),D=(0,h.isBrowser)()&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}};exports.default=function(e,u,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=s.isOnline,y=arguments[4],m=new g.default,A={mailAPIClient:(0,q.createMailAPIClient)(n({},e,{requestQueue:m,isOnline:p})),geminiAPIClient:(0,q.createGeminiAPIClient)(n({},e,{requestQueue:m})),bootcampClient:(0,q.createBootcampClient)(n({},e,{requestQueue:m,isOnline:p})),athenaClient:(0,q.createAthenaClient)(n({},e,{requestQueue:m})),autoSuggestClient:(0,q.createAutoSuggestClient)(n({},e,{requestQueue:m,isOnline:p})),udbClient:(0,q.createUdbClient)(n({},e,{requestQueue:m,isOnline:p})),heartbeatAPIClient:(0,q.createHeartbeatAPIClient)(n({},e,{requestQueue:m})),credstoreClient:(0,q.createCredstoreClient)(n({},e,{requestQueue:m})),rapidClient:(0,q.createRapidClient)(n({},e,{requestQueue:m})),yqlClient:(0,q.createYQLClient)(n({},e,{requestQueue:m})),linkEnhancerClient:(0,q.createLinkEnhancerClient)(n({},e,{requestQueue:m})),videoAPIClient:(0,q.createVideoAPIClient)(n({},e,{requestQueue:m})),priceGrabberAPIClient:(0,q.createPriceGrabberAPIClient)(n({},e,{requestQueue:m})),gifCategoriesClient:(0,q.createGifCategoriesClient)(n({},e,{requestQueue:m})),paymentClient:(0,q.createPaymentClient)(n({},e,{requestQueue:m})),emojiSearchClient:(0,q.createEmojiSearchClient)(n({},e,{requestQueue:m})),calendarClient:(0,q.createCalendarClient)(n({},e,{requestQueue:m})),sportsAPIClient:(0,q.createSportsAPIClient)(n({},e,{requestQueue:m})),captchaClient:(0,q.createCaptchaClient)(n({},e,{requestQueue:m}))},h={listeners:[],getUnsavedData:function e(){return h.listeners.map(function(e){return e()})},registerHandler:function e(t){return h.listeners.push(t),{remove:function e(){h.listeners=h.listeners.filter(function(e){return e!==t})}}}},P=(0,i.createStore)(C.default,o,(0,i.compose)((0,i.applyMiddleware)((0,l.default)(e.crumb),a.default.withExtraArgument(A),(0,c.default)((0,_.default)(e),h.getUnsavedData),(0,d.default)(b.default,A)),D()));P.registerUnsavedDataHandler=h.registerHandler;var E=function e(){var t=(0,f.selectors)(P.getState()),r=t.getAccountSelectors,n=t.getSelectedMailboxId,i=r(),u=i.getPrimaryAccountId,a=i.getAccountEmailByAccountId,o=i.getAccountTypeByAccountId,l=u();return{mailboxid:n(),mailboxemail:a(l),mailboxtype:o(l)}};Object.keys(A).filter(function(e){return A[e].setMailboxParams}).forEach(function(e){A[e].setMailboxParams(E)});var O=u.routes,T=S.routesByApp[e.app]||{},R=T.actionCreators,M=void 0===R?{}:R,U=T.appRootPath,N="/m"===U,j=N?I.MOBILE_YCPI_PATH_PREFIX:I.DESKTOP_YCPI_PATH_PREFIX,B=Object.keys(O).map(function(e){return{name:e,path:j+O[e].path,actionCreator:M[e]}});x.default.addRoutes(B);var G={listeners:[],fluxibleDispatch:function e(t,r){return G.listeners.map(function(e){return e(t,r)})},subscribeToFluxibleAction:function e(t){return G.listeners.push(t)}};return y.proxyFluxDispatch=G.fluxibleDispatch,G.subscribeToFluxibleAction(function(e,t){if("NAVIGATE_START"===e||"NAVIGATE_SUCCESS"===e||"NAVIGATE_FAILURE"===e)return P.dispatch(n({},t,{type:e,__type__:t.type}));(0,v.default)(void 0!==r(t.type),"`type` is a reserved property for redux actions. Please rename your property for action "+e+" with payload "+JSON.stringify(t));try{P.dispatch(n({},(0,w.default)(t,["type","unsavedData"]),{type:e}))}catch(r){y.getActionContext().dispatch(e,t,!0),Q.default.error("V3_DISPATCH:REDUX_JS_ERROR:"+e+":"+r)}}),P.subscribe(function(){var e=(0,f.selectors)(P.getState()),r=e.getAction,i=r(),u=i.type,a=t(i,["type"]);y.getActionContext().dispatch(u,n({},a,{type:a.__type__}),!0)}),{store:P,apiClients:A,routeMapper:x.default,fluxibleReduxBinding:G}},module.exports=exports.default;
},{"../../action_enhancers":17,"../../action_syncers":26,"../../apps/route_map":"./apps/route_map","../../reducers_selectors":"./reducers_selectors","../api_clients":322,"../invariant":"./platform/invariant","../logger":"./platform/logger","../mail_constants":"./platform/mail_constants","../redux_middleware/action_enhancer":372,"../redux_middleware/logger":373,"../redux_middleware/syncer":374,"../request_queue":375,"../utils/generic":"./platform/utils/generic","./route_mapper":342,"lodash/omit":"./node_modules/lodash/omit.js","redux":"./node_modules/redux/lib/index.js","redux-thunk":"./node_modules/redux-thunk/lib/index.js"}],341:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.default=function(e){var r=new o.default,u=e.appRootPath||l.DESKTOP_YCPI_PATH_PREFIX,s=(0,t.default)(e.routes);Object.keys(s).forEach(function(e){var r=s[e];r.path=u+r.path,r.redirect&&(r.redirect.url=u+r.redirect.url)});var n=a.RouteStore.withStaticRoutes(s);return r.registerStore(n),e.stores.forEach(function(e){r.registerStore(e)}),r.plug((0,i.batchedUpdatePlugin)()),e.plugins.forEach(function(e){r.plug(e)}),r};var r=require("lodash/cloneDeep"),t=e(r),u=require("fluxible"),o=e(u),a=require("fluxible-router"),i=require("fluxible-addons-react"),l=require("../mail_constants");module.exports=exports.default;
},{"../mail_constants":"./platform/mail_constants","fluxible":"./node_modules/fluxible/index.js","fluxible-addons-react":"./node_modules/fluxible-addons-react/index.js","fluxible-router":"./node_modules/fluxible-router/index.js","lodash/cloneDeep":"./node_modules/lodash/cloneDeep.js"}],342:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},t=require("path-to-regexp"),n=e(t),a=require("url"),u=require("querystring"),o=e(u),i=require("../invariant"),s=e(i),f=require("norrin-logger"),l=e(f),m=l.default.create("norrin/route_mapper");exports.default={routesInfo:[],addRoutes:function e(r){var t=this;this.routesInfo=r.map(function(e){var r=e.path;return(0,s.default)(e.name&&r,"config.routes should be in this format [{route.name: routePattern}]"),Object.assign({pattern:t._urlPatternGenerator(r)},e)})},_urlPatternGenerator:function e(t){var a=[],u=(0,n.default)(t,a);return{match:function e(t){var e=u.exec(t);if(!e)return null;var n=e.slice(1);return a.reduce(function(e,t,a){if(n[a]){var u;return r({},e,(u={},u[t.name]=decodeURIComponent(n[a]),u))}return e},{})},stringify:n.default.compile(t)}},normalizeURL:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=(0,a.parse)(t),i=u.pathname,s=u.query,f=r({},n,o.default.parse(s)),l=o.default.stringify(f);return l?i+"?"+l:i},normalizeRoute:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];(0,s.default)(t.name,"route.name is missing");var a=r({},n,t.query),u=this.routesInfo.find(function(e){return e.name===t.name});u||m.info("invalid_route",{route:t.name,routes:this.routesInfo.map(function(e){return e.name}).join(",")});var o=u.pattern.stringify(t.params||{},{pretty:!0});return{name:t.name,params:t.params,query:a,url:this.normalizeURL(o,a)}},getRouteInfo:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,a.parse)(r),n=t.pathname,u=t.query,i=this.routesInfo.find(function(e){return e.pattern.match(n)});return i?{name:i.name,params:i.pattern.match(n),query:o.default.parse(u),url:r}:{}},getActionCreatorByRouteName:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(this.routesInfo.find(function(e){return e.name===r})||{}).actionCreator||null}},module.exports=exports.default;
},{"../invariant":"./platform/invariant","norrin-logger":"./node_modules/norrin-logger/index.js","path-to-regexp":"./node_modules/path-to-regexp/index.js","querystring":"querystring","url":"url"}],343:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(){if((0,n.isBrowser)()){var e=window.AppBootstrapData.yl,r=(0,t.getCurrentLoginName)();if(e&&r&&e!==r){var o={reason:a.AUTH_FAIL_REASON.DIFFERENT_USER,statusCode:401,originalLogin:e,currentLogin:r},s=i.default.feature("error_handler",o),l=new u.default(a.AUTHENTICATION_INVALID_CREDENTIALS,o);s.logFailure(l),(0,n.refreshInbox)()}}}exports.__esModule=!0,exports.checkUserAndRefreshSession=r;var o=require("../../logger"),i=e(o),t=require("../../utils/cookie"),n=require("../../utils/generic"),s=require("../../mail_error"),u=e(s),a=require("../../mail_error/constants");
},{"../../logger":"./platform/logger","../../mail_error":"./platform/mail_error","../../mail_error/constants":"./platform/mail_error/constants","../../utils/cookie":382,"../../utils/generic":"./platform/utils/generic"}],344:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var r=e.getStore(o.default),i=e.getStore(u.default).getActivePageRoute(),c=(0,a.getListIdFromRoute)(i),d=(0,a.getListContentTypeFromListId)(c),f=t.config.conversations,p=d===s.ListContentTypes.MESSAGES?r.getItemList(c):[],m=(0,g.selectors)(e.store.getState()),S=m.getMessageBodiesSelectors,M=m.getFeaturesSelectors,q=S(),x=M().isEnabled("fetchFullBody"),E=p.slice(0,t.config.numMessageGroupsToPrefetch).reduce(function(e,t){return e.concat((0,l.getIdsOfMessagesToExpand)(t))},[]).filter(function(e){return!q.doesMessageBodyExist(e)}),_=!f||x,h=_?"messages.prefetchBodiesFull":"messages.prefetchBodies";E.length&&d===s.ListContentTypes.MESSAGES&&e.executeAction(n.getMessageBodies,{listId:c,messageIds:E,full:_,apiMethod:h})}exports.__esModule=!0,exports.default=t;var s=require("../../../platform/mail_constants"),r=require("../../../stores/mail"),o=e(r),i=require("../../../stores/pages"),u=e(i),a=require("../../../platform/utils/list"),l=require("../../../platform/utils/message_group"),n=require("../../../actions/message"),g=require("../../../reducers_selectors");module.exports=exports.default;
},{"../../../actions/message":"./actions/message","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/message_group":"./platform/utils/message_group","../../../reducers_selectors":"./reducers_selectors","../../../stores/mail":"./stores/mail","../../../stores/pages":"./stores/pages"}],345:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=e.event;return t.startTime&&(t.startTime=n(t.startTime)),t.endTime?t.endTime=n(t.endTime):t.duration?t.endTime=r(t.startTime,t.duration):t.endTime=t.startTime,t.response=t.partStat,t.startTime&&t.endTime&&(t.isSameDay=(0,s.default)(t.startTime,t.endTime)),t.videoLink=i(t.description),t.attendees=d(t.attendees),t}function n(e){var t=(0,f.default)(e);return(0,g.default)("Invalid Date"!==t.toString(),"Invalid Date"),t}function r(e,t){var n=[{unit:"D",addFunction:c.default},{unit:"T",addFunction:function e(t){return t}},{unit:"H",addFunction:T.default},{unit:"M",addFunction:v.default},{unit:"S",addFunction:x.default}],r=1,a=e;return n.forEach(function(e){var n=e.unit,i=e.addFunction,d=t.indexOf(n,r);d>-1&&(a=i(a,parseInt(t.substring(r,d),10)||0),r=d+1)}),a}function a(e){return(0,D.default)(e,"YYYYMMDDThhmmss")}function i(e){var t=/https:\/\/plus.google.com\/hangouts\/_\/.*\/.*/.exec(e);return t&&t[0]}function d(e){return e&&e.attendee?e.attendee.map(function(e){return e.email}):[]}exports.__esModule=!0,exports.processInviteInfo=t,exports.parseTime=n,exports.parseEndTimeFromDuration=r,exports.assembleDateString=a,exports.findVideoLink=i,exports.processAttendees=d;var u=require("date-fns/is_same_day"),s=e(u),o=require("date-fns/parse"),f=e(o),m=require("date-fns/add_days"),c=e(m),p=require("date-fns/add_hours"),T=e(p),l=require("date-fns/add_minutes"),v=e(l),_=require("date-fns/add_seconds"),x=e(_),q=require("date-fns/format"),D=e(q),F=require("invariant"),g=e(F);
},{"date-fns/add_days":"./node_modules/date-fns/add_days/index.js","date-fns/add_hours":"./node_modules/date-fns/add_hours/index.js","date-fns/add_minutes":"./node_modules/date-fns/add_minutes/index.js","date-fns/add_seconds":"./node_modules/date-fns/add_seconds/index.js","date-fns/format":"./node_modules/date-fns/format/index.js","date-fns/is_same_day":"./node_modules/date-fns/is_same_day/index.js","date-fns/parse":"./node_modules/date-fns/parse/index.js","invariant":"./node_modules/invariant"}],346:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var r=require("../http_transport"),n=e(r),s=require("./helpers"),o=require("./logger"),a=e(o),i="/cal/ws",d=1,l=function(){function e(r){t(this,e),this.mailWssid=r.mailWssid,this.calendarWssid=r.calendarWssid,this.isYCorp="ycorp"===r.partner}return e.prototype.getInviteInfo=function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.downloadUrl,i=t.folderName,d=t.currentOffset,l="/cal/ws?inviteUp&crumb="+encodeURIComponent(this.mailWssid)+"&url="+encodeURIComponent(o)+"&folderName="+encodeURIComponent(i)+"&offset="+d+"&fullAttendeeList=true"+(this.isYCorp?"&parseIcsOnly=true&supportPublish=true":""),u=new n.default(r.HTTP_METHODS.GET,l),c=a.default.feature("calendar_get_invite_call",{crumb:this.mailWssid,params:t});u.setHeader("Content-Type","application/json");var p=u.send();return p.then(c.logSuccessAndLatency,c.logFailure),p.then(this._handleInviteResponse(t,s+1))},e.prototype._handleInviteResponse=function e(t,r){var n=this;return function(e){var o=e.body;if(!o)return Promise.reject({error:"Empty response"});if("Invalid Crumb"===o.error){if(r<=d){n.mailWssid=o.crumb;try{return n.getInviteInfo(t,r)}catch(e){return Promise.reject({error:"Bad response",data:e})}}return Promise.reject(o)}return o.wssid&&(n.calendarWssid=o.wssid),(0,s.processInviteInfo)(o)}},e.prototype.sendReply=function e(t,s){var o=Date.now(),i="/cal/ws/v2/event/"+encodeURIComponent(t)+"/rsvp/?format=json&wssid="+this.calendarWssid+"&rand="+o+"&prog=qrsvp",d=new n.default(r.HTTP_METHODS.POST,i),l=a.default.feature("calendar_invite_reply_call",{wssid:this.calendarWssid,uid:t,data:s});d.setHeader("Content-Type","application/json");var u=d.send({invite:s});return u.then(l.logSuccessAndLatency,l.logFailure),u.then(function(e){return e.body}).catch(function(e){return 201===e.statusCode?e.data.body:Promise.reject(e)})},e}();exports.default=l,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","./helpers":345,"./logger":347}],347:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/calendar"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],348:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("react"),n=e(t),s=require("react-dom"),a=e(s),o=require("lodash/unescape"),i=e(o),r=require("../invariant"),c=e(r),l=n.default.createClass({displayName:"CaptchaComponent",handleEvent:function e(t){switch(t.type){case"message":this.handlePostMessage(t);break;case"load":this.handleCaptchaLoaded(t)}},handlePostMessage:function e(t){var n=this._callbacks[t.data.type];n&&n.length&&n.forEach(function(e){e(t.data.payload)})},handleCaptchaLoaded:function e(){var t=a.default.findDOMNode(this);window.addEventListener("message",this,!1),t.contentWindow.postMessage("register",window.location.href)},on:function e(t,n){this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(n)},off:function e(t,n){(0,c.default)(Array.isArray(this._callbacks[t]),"Invalid eventName. Perhaps you should call on before off");var s=this._callbacks[t].indexOf(n);s>-1&&this._callbacks[t].splice(s,1)},wrapContent:function e(t,n){var s=this.props.cspToken;return n=n.replace("<script ",'<script nonce="'+s+'" '),'<html>\n                 <head>\n                     <script nonce="'+s+'">\n                        function listener(event) {\n                            if (event.data !== "register") { return; }\n                            YAHOO.CAPTCHA.hook.complete = function(answer) {\n                                event.source.postMessage({\n                                    type: "complete",\n                                    payload: answer\n                                }, event.origin);\n                            }\n                            YAHOO.CAPTCHA.hook();\n                        };\n                        window.addEventListener("message", listener);\n                        '+t+"\n                     </script>\n                 </head>\n                 <body>\n                    "+n+"\n                 </body>\n             </html>\n        "},componentDidMount:function e(){this._callbacks=Object.create(null),a.default.findDOMNode(this).addEventListener("load",this,!1),this.on("complete",this.props.onComplete)},componentWillUnmount:function e(){this.off("complete",this.props.onComplete),window.removeEventListener("message",this,!1),a.default.findDOMNode(this).removeEventListener("load",this,!1)},sanitize:function e(t){return t?(0,i.default)(t).replace(/http:\/\/l.yimg.com\//g,"https://s.yimg.com/"):""},render:function e(){var t=this.wrapContent(this.sanitize(this.props.script),this.sanitize(this.props.markup));return n.default.createElement("iframe",{srcDoc:t,style:{display:"none"}})}});exports.default=l,module.exports=exports.default;
},{"../invariant":"./platform/invariant","lodash/unescape":"./node_modules/lodash/unescape.js","react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js"}],349:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var o=require("react"),r=e(o),n=require("react-dom"),a=e(n),c=require("./captcha"),u=e(c),s=require("../utils/generic"),i=function(){function e(o){t(this,e),this.cspToken=o.cspToken,this.rootNode=o.rootNode,this.Captcha=o.CaptchaComponent||u.default}return e.prototype.processCaptcha=function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.isBrowser)()&&o.Javascript?new Promise(function(e,n){try{var c=document.getElementById("mail-captcha");t.rootNode||(t.rootNode=document.getElementById("app")),c||(c=document.createElement("div"),t.rootNode.appendChild(c)),a.default.unmountComponentAtNode(c),a.default.render(r.default.createElement(t.Captcha,{cspToken:t.cspToken,onComplete:e,script:o.Javascript.CONTENT,markup:o.Turnkey}),c)}catch(e){n(e)}}):Promise.resolve()},e}();exports.default=i,module.exports=exports.default;
},{"../utils/generic":"./platform/utils/generic","./captcha":348,"react":"./node_modules/react/react.js","react-dom":"./node_modules/react-dom/index.js"}],350:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var r=require("./logger"),i=e(r),s=require("query-string"),o=e(s),n=require("../http_transport"),a=e(n),u=require("../ymreqid"),d=e(u),p=require("../mail_constants"),c=require("../invariant"),l=e(c),h=require("../../platform/mail_constants"),f=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.host,s=r.guid,o=r.crumb,n=r.loginHash,a=r.wssid,u=r.appId;t(this,e),this.ymreqidGenerator=new d.default(n,p.YMREQ_CLIENT_ID,p.SESSION_ID),this.guid=s,this.crumb=o,this.wssid=a,this.appId=u,this.credstoreHost=i}return e.prototype._log=function e(t){return i.default.feature(p.ApiClientLoggerNames.CredstoreClient,{apiName:t,crumb:this.crumb,ymreqid:this.getRequestId()})},e.prototype._isEmptySuccessResponse=function e(t){return!(!t||!t.data)&&200===t.data.statusCode},e.prototype.transport=function e(t,r){r||(r=n.HTTP_METHODS.GET);var e=new a.default(r,t);return e.withCredentials=!0,e},e.prototype.getRequestId=function e(){return this.ymreqidGenerator.generate()},e.prototype.unlink=function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.spid;(0,l.default)(i,"`spid` is a required option");var s=this._log("unlink"),o=this.credstoreHost+"/progrss/v1/credstore/user/"+this.guid+"/credential/"+i,a=this.transport(o,n.HTTP_METHODS.DELETE).send().catch(function(e){if(t._isEmptySuccessResponse(e))return e.data.responseText;throw e});return a.then(s.logSuccessAndLatency,s.logFailure),a},e.prototype.removeOAuthToken=function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.domain,s=r.email;(0,l.default)(i,"`domain` is a required option"),(0,l.default)(s,"`email` is a required option");var a=this._log("removeOAuthToken"),u=o.default.stringify({property:"comms",domain:i,email:s}),d=this.credstoreHost+"/progrss/v1/credstore/user/"+this.guid+"/credential/spid?"+u,p=this.transport(d,n.HTTP_METHODS.DELETE).send().catch(function(e){if(t._isEmptySuccessResponse(e))return e.data.responseText;throw e});return p.then(a.logSuccessAndLatency,a.logFailure),p},e.prototype.contextualizeRedirectUrl=function e(t,r){var i=r?"1":null;return t+"?"+o.default.stringify({isCorp:i,crumb:this.crumb})},e.prototype.getAuthorizationURL=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.provider,i=t.email,s=t.redirectUrl,a=t.isCorpUser,u=void 0!==a&&a;(0,l.default)(r,"`provider` is a required option"),(0,l.default)(i,"`email` is a required option");var d=this._log("getAuthorizationURL"),p=h.IMAP_SETTINGS[r],c=p.oauthDomain,f=p.scope,m=o.default.stringify({property:"comms",appid:this.appId,wssid:this.wssid,domain:c,email:i}),g=this.contextualizeRedirectUrl(s,u),y=".done="+encodeURIComponent(g)+(f?"&"+f:""),T=this.credstoreHost+"/progrss/v1/credstore/user/"+this.guid+"/service/spid/init?"+m,v=this.transport(T,n.HTTP_METHODS.POST).setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send(y).then(function(e){return e.body.results});return v.then(d.logSuccessAndLatency,d.logFailure),v},e}();exports.default=f,module.exports=exports.default;
},{"../../platform/mail_constants":"./platform/mail_constants","../http_transport":"./platform/http_transport","../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","../ymreqid":"./platform/ymreqid","./logger":351,"query-string":"./node_modules/query-string/index.js"}],351:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/credstore_client"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],352:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var n=require("../base_client"),i=e(n),a=require("../http_transport"),s=e(a),u=require("../ymreqid"),c=e(u),p=require("../mail_constants"),l="https://data.mail.yahoo.com/emoji/predict?",f=function(e){function n(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,n);var i=r(this,e.call(this,o)),a=o.httpRetry,s=o.loginHash;return i.httpRetry=a,i.ymreqidGenerator=new c.default(s,p.YMREQ_CLIENT_ID,p.SESSION_ID),i}return o(n,e),n.prototype.getEmojiSuggestions=function e(t){var r={ymreqid:this.ymreqidGenerator.generate()},o=new s.default(a.HTTP_METHODS.POST,l+("ymreqid="+r.ymreqid),{httpRetry:this.httpRetry}).setHeader("Accept","application/json"),n=encodeURIComponent(t),i=o.send("q="+n);return this.logRequest(i,r),i},n}(i.default);exports.default=f,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants","../ymreqid":"./platform/ymreqid"}],353:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var n=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},i=require("lodash/omit"),t=e(i),r=require("./utils/generic"),o=require("./loader"),a=e(o),s=require("../../config/settings/generated_sequences.json"),l=e(s);exports.default={name:"MailFluxibleContextPlugin",plugContext:function e(i){var o=i.config,s=i.loginHash,u=i.mailWssid,c=i.crumb,d=i.guid,g=i.csid,m=i.timezone,p=i.environment,f=i.region,v=i.os,y=i.farm,C=i.partner,_=i.usmLogString,x=i.locale,b=i.localeData,h=i.cspToken,w=i.__initializeFeatures__,q=i.queryStringOverrides,S=i.buildNumber,z=i.launchTime,O=i.loggerParams,P=i.encryptedQueryParams;return{plugComponentContext:function e(n,i){n.config=o,n.loader=new a.default({disabled:o.disableLazy}),n.timezone=m,n.region=f,n.usmLogString=_,n.os=v,n.locale=Object.assign({name:x},b),n.cspToken=h,n.store=i.store;var r=n.executeAction.bind(n),s=void 0;"undefined"!=typeof window&&window.context&&window.context.getStore&&(s=window.context.getStore.bind(window.context)),n.executeAction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];return n&&n.i13nModel&&(s&&(n.i13nModel.isBeaconEvent?i.apiClients.rapidClient.sendBeaconEvent(n,s):i.apiClients.rapidClient.sendI13nModel(n,s)),n.uiContext=n.i13nModel,n=(0,t.default)(n,"i13nModel")),r(e,n,o)},n.yqlClient=i.apiClients.yqlClient,n.credstoreClient=i.apiClients.credstoreClient,n.linkEnhancerClient=i.apiClients.linkEnhancerClient,n.partner=C},plugActionContext:function e(i,t){var r=t.store;i.encryptedQueryParams=P,i.config=o,i.store=r;var a=i.dispatch;i.dispatch=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments[2]?a(e,n):t.proxyFluxDispatch(e,n)},Object.assign(i,n({},t.apiClients,{csid:g}))},plugStoreContext:function e(n,i){n.__initializeFeatures__=w,n.config=o,n.timezone=m,n.partner=C,n.queryStringOverrides=q,n.sequences=l.default,n.store=i.store},dehydrate:function e(){return{buildNumber:S,config:o,launchTime:z,loginHash:s,mailWssid:u,guid:d,crumb:c,csid:g,locale:x,localeData:b,timezone:m,region:f,usmLogString:_,cspToken:h,os:v,farm:y,partner:C,environment:p,__initializeFeatures__:w,queryStringOverrides:q,loggerParams:(0,r.isBrowser)()?{}:O,encryptedQueryParams:P}},rehydrate:function e(n){S=n.buildNumber,o=n.config,s=n.loginHash,u=n.mailWssid,c=n.crumb,d=n.guid,g=n.csid,z=n.launchTime,x=n.locale,b=n.localeData,m=n.timezone,f=n.region,_=n.usmLogString,v=n.os,y=n.farm,C=n.partner,p=n.environment,w=n.__initializeFeatures__,q=n.queryStringOverrides,O=n.loggerParams,h=n.cspToken,P=n.encryptedQueryParams}}}},module.exports=exports.default;
},{"../../config/settings/generated_sequences.json":1,"./loader":364,"./utils/generic":"./platform/utils/generic","lodash/omit":"./node_modules/lodash/omit.js"}],354:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=require("../http_transport"),r=t(n),o=require("../mail_constants"),u=o.YCPI_PATH_PREFIX+"/gemini_api/",a=1e4,i=function(){function t(){e(this,t)}return t.prototype.request=function t(e){var o=new r.default(n.HTTP_METHODS.GET,u,{timeout:a});return o.setHeader("Accept","application/json"),o.send(e).then(function(t){return t.body})},t}();exports.default=i,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants"}],355:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={UsageType:{HtmlPrimary:"HTML_PRIMARY",VideoPreview:"VIDEO_PREVIEW",VideoPrimary:"VIDEO_PRIMARY",NativeAdType:"NativeAdType",VideoAdType:"VideoAdType",PencilAdType:"PencilAdType",FallbackAdType:"FallbackAdType"}},module.exports=exports.default;
},{}],356:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("querystring"),t=e(r),n=require("../http_transport"),s=e(n),o=require("../invariant"),i=e(o),u=require("./mapper"),a=e(u),c="http://n.gemini.yahoo.com:4080",d="/ssi",l=n.HTTP_METHODS.GET,g=1e3,f={bucket:"bk",apiVersion:"ve",size:"sz",sectionId:"se",creativeCode:"cc",contentType:"ct",adCount:"tk",propertyName:"ui",siteLanguage:"sl",countryCode:"co",requestId:"ri",publisherInfo:"pb",contentInHttps:"hs",forceFilter:"ff",format:"format",nonRevenue:"nr",adCategories:"ac"},p={Transport:s.default,request:function e(r){return p._sendRequest(r).then(p._constructAdObject)},_sendRequest:function e(r){(0,i.default)(r.ymreqid,"ymreqid is required for making requests to Gemini ssi"),(0,i.default)(r.userAgent,"userAgent is required for making requests to Gemini ssi");var t=new p.Transport(l,c+d,g);return t.setHeader("Accept","application/json"),t.setHeader("X-Forwarded-For",r.remoteAddress),t.setHeader("User-Agent",r.userAgent),r.cookie&&!r.forceFilter&&t.setHeader("Cookie",r.cookie),t.send(p._getQueryParams(r))},getForceFilter:function e(r){var n=t.default.stringify({useForceFilter:!0,forceFilter:"creative_id:"+r,useSpaceBall:!1,useFrequencyCapping:!1,useBudget:!1,useDeviceTargeting:!1,useBooleanQueries:!1,useSegmentsTargeting:!1,useBudgetCampaignFineThrottling:!1,useCF:!1,honorBlacklistedProperties:!1,dedupOnTitleSummaryHash:!1,"grouping.maxCreativesPerAdvertiser":5});return new Buffer(n).toString("base64")},_getQueryParams:function e(r){var t=r.locale,n=r.region,s=r.ymreqid,o="zh-Hant-HK"===t||"zh-Hant-TW"===t?"zh_TW":t.substr(0,2),i=Object.assign({format:"json",apiVersion:2,size:"3x3",sectionId:5443516,creativeCode:"STRM",adCount:2,propertyName:"mail_norrin",siteLanguage:o,countryCode:n,requestId:s,publisherInfo:"||159600001|STRM|",contentInHttps:1},r);r.buckets&&r.buckets.length&&(i.bucket=r.buckets.join(",")),"devbox"===r.environment&&(i.nonRevenue=1),i.forceFilter&&(i.forceFilter=p.getForceFilter(i.forceFilter),i.nonRevenue=2);var u={};for(var a in i)f[a]&&(u[f[a]]=i[a]);return u},_constructAdObject:function e(r){var t=[];return r&&r.body&&r.body.ads&&(t=(0,a.default)(r.body.ads)),t}};exports.default=p,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../invariant":"./platform/invariant","./mapper":358,"querystring":"querystring"}],357:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0,exports.STRATEGIES=void 0;var i=require("../base_client"),n=e(i),s=require("../ymreqid"),a=e(s),u=require("../utils/object"),c=require("../utils/generic"),l=require("./gemini_request.js"),d=require("./browser_proxy.js"),h=e(d),E=require("../mail_constants"),f=exports.STRATEGIES=(0,u.mirrorKeys)(["NODE_TO_GEMINI","BROWSER_TO_NODE"]),y=function(e){function i(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];t(this,i);var s=r(this,e.call(this,o));return s.strategy=n||s.getDefaultStrategy(),s.browserProxy=new h.default(o),s.REQUESTS={Gemini:l.request,BrowserProxy:s.browserProxy.request},s.validateStrategy(s.strategy),s.appId=E.appId,s.cookie=o.cookie,s.environment=o.environment,s.buckets=o.buckets,s.locale=o.locale,s.region=o.region,s.remoteAddress=o.remoteAddress,s.userAgent=o.userAgent,o.loginHash&&(s.ymreqidGenerator=new a.default(o.loginHash,E.YMREQ_CLIENT_ID,E.SESSION_ID)),s}return o(i,e),i.prototype.getDefaultStrategy=function e(){return(0,c.isBrowser)()?f.BROWSER_TO_NODE:f.NODE_TO_GEMINI},i.prototype.validateStrategy=function e(t){if("string"!=typeof t||!f[t])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(f)));if((0,c.isBrowser)()&&t===f.NODE_TO_GEMINI)throw new Error(f.NODE_TO_GEMINI+" strategy can not be used in the browser");if(!(0,c.isBrowser)()&&t===f.BROWSER_TO_NODE)throw new Error(f.BROWSER_TO_NODE+" strategies can not be used on the server")},i.prototype.request=function e(t,r){var e=void 0;if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated. making a request or initialize GeminiAPIClient with `loginHash`, so that it can generate a new one");var o=this.ymreqidGenerator.generate(),i=this.crumb,n=Object.assign({},t,{ymreqid:o,appId:E.appId,crumb:i});switch(this.strategy){case f.NODE_TO_GEMINI:Object.assign(n,{userAgent:this.userAgent,remoteAddress:this.remoteAddress,buckets:this.buckets,cookie:this.cookie,environment:this.environment,region:this.region,locale:this.locale}),e=this.REQUESTS.Gemini;break;case f.BROWSER_TO_NODE:e=this.REQUESTS.BrowserProxy.bind(this.browserProxy)}var s=e(n),a={ymreqid:o,crumb:i,intl:this.region};return r&&r.adPosition&&(a.adPosition=r.adPosition),this.logRequest(s,a),s},i}(n.default);exports.default=y;
},{"../base_client":"./platform/base_client","../mail_constants":"./platform/mail_constants","../utils/generic":"./platform/utils/generic","../utils/object":"./platform/utils/object","../ymreqid":"./platform/ymreqid","./browser_proxy.js":354,"./gemini_request.js":356}],358:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){if(!Array.isArray(e.assets)||e.assets.length<=0)return{};var r=e.assets.map(function(e){return e.mediaInfo.map(function(r){return r.usageType=e.usageType,r}).reduce(function(e,r){return r.url?r:e},{})});return(0,m.default)(r,function(e){return e.usageType})}function a(e){var r=void 0;try{r=JSON.parse(e)}catch(e){p.default.error("Gemini ad tag is not valid JSON")}return r}function t(e,r,a){return a?s({},a,{clickUrl:r.clickUrl||"",rules:e.rules,actionUrls:e.actionUrls,callToAction:r.callToAction,thumbnail:r.thumbnailImage||r.hqImage||""}):null}function n(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r){var t=e.actionUrls,n=e.ccCode,i=a.url,c=a.contentType,l=a.usageType,o=new RegExp("(.png|.gif|.jpg|.jpeg)$","i"),s="";return i&&i.match(o)&&(s=['<a target="_blank" href="'+r.clickUrl+'">','<img src="'+i+'" style="display: block; margin: auto; max-width: 100%;"/>',"</a>"].join("")),{contentType:c||"",url:i||"",usageType:l||"",geminiSponsoredAsset:s,actionUrls:"STRM_VIDEO"===n?"":t}}}function i(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r)return r.secThumbnailImage=/^https:\/\//.test(r.secThumbnailImage)?r.secThumbnailImage:"",{adHeadline:r.headline||"",adSummary:r.summary||"",adImg:r.secThumbnailImage||r.secImage||"",adSource:r.source||"",clickUrl:r.clickUrl||"",creativeId:e.creativeId.toString(),impressionTrackingUrls:r.imprTrackingUrls?r.imprTrackingUrls:[r.imprTrackingUrl],adFeedbackBeacon:r.ad_feedback_beacon||"",rules:e.rules,actionUrls:e.actionUrls,previewVideoContentType:a.contentType||"",previewVideoUrl:a.url||""}}function c(e,r,a){return"STRM_VIDEO"===e&&r?d.UsageType.VideoAdType:a.usageType===d.UsageType.HtmlPrimary&&a.url?d.UsageType.NativeAdType:d.UsageType.PencilAdType}function l(e){var r=e.adFeedbackBeacon,a=e.adImg,t=e.beacon,n=e.clickUrl,i=e.impressionTrackingUrls;![r,a,t,n].concat(i).every(function(e){return!e||/^https:\/\//.test(e)})&&p.default.feature("gemini_non_https_url",e).logFailure()}function o(e){return Array.isArray(e)?e.map(function(e,o){var s=a(e.tag);if(s){var u=r(s),p=t(e,s,u[d.UsageType.VideoPrimary]),g=n(e,s,u[d.UsageType.HtmlPrimary]),m=i(e,s,u[d.UsageType.VideoPreview]);return m.actionUrls&&m.actionUrls.STATIC_VIEW_3P&&(m.actionUrls.STATIC_VIEW_3P[0]=m.actionUrls.STATIC_VIEW_3P[0].replace("$(S_VIEW_TYPE)",m.rules.viewabilityDefStatic3P[0].t)),m.beacon=e.beacon.replace("$(AD_POSN)",o+1)||"",m.type=c(e.ccCode,p,g),l(m),{creativeId:e.creativeId.toString(),nativeAd:g,pencilAd:m,videoAd:p}}}).filter(Boolean):[]}exports.__esModule=!0;var s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e};exports.checkNonHttpsUrl=l,exports.default=o;var u=require("../logger"),p=e(u),d=require("./constants"),g=require("lodash/keyBy"),m=e(g);
},{"../logger":"./platform/logger","./constants":355,"lodash/keyBy":"./node_modules/lodash/keyBy.js"}],359:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=require("../base_client"),a=t(i),s=require("../http_transport"),p=t(s),u=require("../ymreqid"),l=t(u),c=require("../mail_constants"),f="https://content.msg.yahoo.com/gifs",h=3e4,d=function(t){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,i);var o=r(this,t.call(this,n)),a=n.appId,s=n.locale,p=n.loginHash,u=n.httpRetry;return o.appid=a,o.lang=s,o.ymreqidGenerator=new l.default(p,c.YMREQ_CLIENT_ID,c.SESSION_ID),o.httpRetry=u,o}return n(i,t),i.prototype.getGifCategories=function t(){var e={ymreqid:this.ymreqidGenerator.generate()},r=o({},e,{lang:this.lang,appid:this.appid}),n=new p.default(s.HTTP_METHODS.GET,f,{timeout:h,httpRetry:this.httpRetry});n.setHeader("Accept","application/json"),n.withCredentials=!0;var i=n.send(r);return this.logRequest(i,e),i},i.prototype.getGifCategoryPreloadImages=function t(e){var r={ymreqid:this.ymreqidGenerator.generate()},n=o({},r,{appid:this.appid}),i=new p.default(s.HTTP_METHODS.GET,e,{timeout:h,httpRetry:this.httpRetry});i.setHeader("Accept","application/json");var a=i.send(n).then(function(t){return t.body});return this.logRequest(a,r,"gif_top_items_json_url_call"),a},i}(a.default);exports.default=d,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants","../ymreqid":"./platform/ymreqid"}],360:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../http_transport"),r=e(t),n=require("../mail_constants"),u=t.HTTP_METHODS.GET,s=3e3,o=["version","launchtime","ymreqid","crumb"],a={Transport:r.default,request:function e(t){return a._sendRequest(t)},_sendRequest:function e(t){var r=new a.Transport(u,n.HEARTBEAT_PATH,s),d=o.reduce(function(e,r){return e[r]=t[r],e},{});return r.setHeader("Accept","application/json"),r.send(d)}};exports.default=a,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants"}],361:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=require("../base_client"),i=e(o),u=require("../mail_constants"),s=require("../ymreqid"),c=e(s),a=require("./heartbeat_request.js"),f=require("../utils/generic"),l=36e5,h=function(e){function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,o);var i=r(this,e.call(this,n));return i.emergencyRefresh=!1,n.loginHash&&(i.ymreqidGenerator=new c.default(n.loginHash,u.YMREQ_CLIENT_ID,u.SESSION_ID)),(0,f.isBrowser)()&&setInterval(function(){i.request({version:n.buildNumber,launchtime:n.launchTime}).then(function(e){i.emergencyRefresh=e},function(){i.emergencyRefresh=!1})},l),i}return n(o,e),o.prototype.request=function e(t){var r={crumb:this.crumb,ymreqid:this.ymreqidGenerator.generate()},n=Object.assign({},t,r),o=(0,a.request)(n);return this.logRequest(o,r),o.then(function(e){return!!e.body.emergencyRefresh}).catch(function(){return!1})},o}(i.default);exports.default=h,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../mail_constants":"./platform/mail_constants","../utils/generic":"./platform/utils/generic","../ymreqid":"./platform/ymreqid","./heartbeat_request.js":360}],"./platform/http_transport/adapters/superagent/base":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var o=require("superagent"),r=t(o),n=require("./superagent_error"),s=require("../../../utoa"),i=t(s),u=require("../../constants"),a=function(){function t(){e(this,t)}return t.prototype.send=function t(e){var o=this;return new Promise(function(t,r){var s=o._getRequest(e);s.end(function(e,i){var u=(0,n.handleError)(e,i,s);return u?r(u):void t(o._mapResponse(i))})})},t.prototype._getRequest=function t(e){var o=e.method,n=e.url,s=e.body,i=e.withCredentials,a=e.headers,d=e.fields,c=e.attachments,f=e.parser,p=e.httpRetry,h=void 0===p?0:p,_=e.timeout,y=void 0===_?u.REQUEST_TIMEOUT:_,l=r.default[this._getMethodName(o)](n);return this._setBody(l,o,s),i&&l.withCredentials(),this._setHeaders(l,a),this._setFields(l,d),this._setAttachments(l,c),this._setParser(l,f),this._setRetry(l,h),y&&l.timeout(y),l},t.prototype._getMethodName=function t(e){return e=e.toLowerCase(),"delete"===e&&(e="del"),e},t.prototype._mapResponse=function t(e){return{body:e.body,text:e.text,status:e.status,headers:e.headers}},t.prototype._setBody=function t(e,o,r){~u.QUERY_STRING_METHODS.indexOf(this._getMethodName(o))?e.query(r):e.send(r)},t.prototype._setHeaders=function t(e,o){o&&Object.keys(o).forEach(function(t){e.unset(t),e.set(t,o[t])})},t.prototype._setFields=function t(e,o){o&&Object.keys(o).forEach(function(t){e.field(t,o[t])})},t.prototype._setAttachments=function t(e,o){o&&Object.keys(o).forEach(function(t){var r=(0,i.default)(o[t].name),n="=?UTF-8?b?"+r+"?=";e.attach(t,o[t],n)})},t.prototype._setParser=function t(e,o){o&&e.parse(function(t,e){t.text="",t.on("data",function(e){t.text+=e}),t.on("end",function(){o(t.text,e)})})},t.prototype._setRetry=function t(e,o){e.retry(o)},t}();exports.default=a,module.exports=exports.default;
},{"../../../utoa":"./platform/utoa/browser","../../constants":"./platform/http_transport/constants","./superagent_error":"./platform/http_transport/adapters/superagent/superagent_error","superagent":"./node_modules/superagent"}],"./platform/http_transport/adapters/superagent/browser":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var n=require("../../../../vendor/through"),i=e(n),u=require("./base"),a=e(u),s=require("./superagent_error"),f=function(e){function n(){return t(this,n),r(this,e.apply(this,arguments))}return o(n,e),n.prototype.createStream=function e(t){var r=this._getRequest(t),o=(0,i.default)(),n=!1;if("undefined"!=typeof window&&window.AppBootstrapData){var u=window.AppBootstrapData,a=u.browserName,f=u.browserVersion;n="Edge"===a&&15===parseInt(f,10)}return r.on("progress",function(e){n||o.emit("data",e.currentTarget.responseText)}),r.end(function(e,t){var i=(0,s.handleError)(e,t,r);return i?void setTimeout(function(){o.emit("error",i)},0):void setTimeout(function(){n&&o.emit("data",t.text),o.emit("end")},0)}),o},n}(a.default);exports.default=f,module.exports=exports.default;
},{"../../../../vendor/through":"./vendor/through/browser","./base":"./platform/http_transport/adapters/superagent/base","./superagent_error":"./platform/http_transport/adapters/superagent/superagent_error"}],"./platform/http_transport/adapters/superagent/superagent_error":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,C){var l=null;return l||(l=r(e)),l||(l=n(e)),l||(l=o(e)),l||(l=s(e)),l||(l=a(e)),l||(l=u(t)),l||(l=d(t)),l||(l=f(t)),l||(l=i(t,C)),l||(l=c(e,t)),l}function r(e){if(e&&e.crossDomain)return new l.default("HttpTransport.OutboundError")}function n(e){if(e&&"ENOTFOUND"===e.code)return new l.default("HttpTransport.ServerNotFound")}function o(e){if(e&&"ECONNREFUSED"===e.code)return new l.default("HttpTransport.ConnectionRefused",e.message)}function s(e){if(e&&"ECONNABORTED"===e.code)return new l.default("HttpTransport.ConnectionTimedOut",e.message)}function a(e){if(e&&(e.parse||"SyntaxError"===e.name))return new l.default("HttpTransport.JSONParseError",e.message,{statusCode:e.statusCode,responseText:e.rawResponse})}function u(e){var t=e&&e.status;if(403===t&&(0,p.getIn)(e,"body.name")===T.AUTHENTICATION_INVALID_CRUMB)return new l.default(T.AUTHENTICATION_INVALID_CRUMB,{data:e.body.data,statusCode:t})}function d(e){var t=e&&e.status;if(403===t&&"Client.ClientRedirect.SessionIdReissue"===(0,p.getIn)(e,"body.code",""))return null;if(401===t||403===t){var r=401===t?"INVALID_COOKIE":"EMPTY_COOKIE",n=(0,p.getIn)(e,"body.error.code");return"EC-4008"===n&&(r=n),new l.default(T.AUTHENTICATION_INVALID_CREDENTIALS,{reason:r,statusCode:t})}}function i(e,t){var r=t&&t.header&&(t.header.Accept||t.header.accept||""),n=e&&e.type||"";if(r&&n&&n.toLowerCase().indexOf(r.toLowerCase())<0)return new l.default("HttpTransport.ContentTypeError",{html:e.text,headers:e.headers,statusCode:e.status})}function f(e){if(e&&200!==e.status)return new l.default("HttpTransport.NotOkStatusCode",{responseText:e.text,body:e.body,statusCode:e.status})}function c(e,t){if(e||!t)return new l.default("Generic",e&&e.name+": "+e.message||"")}exports.__esModule=!0,exports.handleError=t;var C=require("../../../mail_error"),l=e(C),p=require("../../../utils/object"),T=require("../../../mail_error/constants");
},{"../../../mail_error":"./platform/mail_error","../../../mail_error/constants":"./platform/mail_error/constants","../../../utils/object":"./platform/utils/object"}],"./platform/http_transport/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=exports.QUERY_STRING_METHODS=["get","head"],s=exports.REQUEST_TIMEOUT=3e4;
},{}],"./platform/http_transport":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.timeout,o=void 0===s?u.REQUEST_TIMEOUT:s,n=i.httpRetry,a=void 0===n?0:n;this.adapter=new r.default,this.withCredentials=!1,this._method=t.toUpperCase(),(0,h.default)(p[this._method],"Invalid HTTP method. Valid options are: "+JSON.stringify(Object.keys(p))),this._timeout=o,this._url=e,this._headers={},this._fields={},this._attachments={},this._body=null,this._httpRetry=a}exports.__esModule=!0,exports.HTTP_METHODS=void 0;var i=require("./adapters/superagent"),r=t(i),s=require("../utils/object"),o=require("../invariant"),h=t(o),n=require("jvent"),a=t(n),d=require("cookie"),u=require("./constants"),p=exports.HTTP_METHODS=(0,s.mirrorKeys)(["GET","HEAD","POST","PUT","PATCH","DELETE"]),_=new a.default;e.prototype.setHeader=function(t,e){return this._headers[t]=e,this},e.prototype.setCookieHeader=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,h.default)(t,"Cookie should not be empty"),this.setHeader("Cookie",t),e){var i=(0,d.parse)(t),r=i.SSL,s=void 0===r?"":r;s&&this.setHeader("SSLCOOKIE","SSL="+s)}},e.prototype.setField=function(t,e){return this._fields[t]=e,this},e.prototype.setAttachment=function(t,e){return this._attachments[t]=e,this},e.prototype.setParser=function(t){return this._parser=t,this},e.prototype.setRetry=function(t){return this._httpRetry=t,this},e.prototype.send=function(t){var e=this;t&&(this._body=t);var i={withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout,httpRetry:this._httpRetry},r=this.adapter.send(i);return r.then(function(){_.emit("success")},function(t){t.url=e._url,_.emit("error",t)}),r},e.prototype.createStream=function(t){t&&(this._body=t);var e={withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout},i=this.adapter.createStream(e);return i.on("error",function(t){return _.emit("error",t)}),i},e.on=function(){_.on.apply(_,arguments)},e.off=function(){_.off.apply(_,arguments)},e.emit=function(){_.emit.apply(_,arguments)},exports.default=e;
},{"../invariant":"./platform/invariant","../utils/object":"./platform/utils/object","./adapters/superagent":"./platform/http_transport/adapters/superagent/browser","./constants":"./platform/http_transport/constants","cookie":"./node_modules/cookie/index.js","jvent":"./node_modules/jvent/index.js"}],"./platform/invariant":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=function(e,t){if(!e)throw new Error(t)},module.exports=exports.default;
},{}],"./platform/keyboard_shortcut_groups":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.AttachmentPreview=exports.Action=exports.Selection=exports.General=void 0;var e=require("react-intl"),t=(0,e.defineMessages)({general:{id:"shortcut_group.general",defaultMessage:"General"},selection:{id:"shortcut_group.selection",defaultMessage:"Checking/Unchecking"},action:{id:"shortcut_group.actions",defaultMessage:"Actions"},attachmentPreview:{id:"shortcut_group.attachmentPreview",defaultMessage:"Attachment Preview"}}),i=exports.General={priority:0,id:"general",description:t.general},r=exports.Selection={priority:1,id:"selection",description:t.selection},o=exports.Action={priority:2,id:"action",description:t.action},s=exports.AttachmentPreview={priority:3,id:"attachmentPreview",description:t.attachmentPreview};
},{"react-intl":"./node_modules/react-intl/lib/index.js"}],"./platform/keyboard_shortcuts/constants":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.commonMessageActionKeys=exports.COMBINATION_DELIMITER=exports.MULTI_KEY_DELIMITER=void 0;var t=require("react"),r=e(t),s=require("react-intl"),l=exports.MULTI_KEY_DELIMITER=",",a=exports.COMBINATION_DELIMITER="+",o=exports.commonMessageActionKeys={reply:{key:"R",description:r.default.createElement("strong",null,r.default.createElement(s.FormattedMessage,{id:"shortcut.reply",defaultMessage:"Reply"}))},replyAll:{key:"A",description:r.default.createElement("strong",null,r.default.createElement(s.FormattedMessage,{id:"shortcut.reply_all",defaultMessage:"Reply All"}))},forward:{key:"F",description:r.default.createElement("strong",null,r.default.createElement(s.FormattedMessage,{id:"shortcut.forward",defaultMessage:"Forward"}))},print:{key:"P",description:r.default.createElement("strong",null,r.default.createElement(s.FormattedMessage,{id:"shortcut.print",defaultMessage:"Print"}))}};
},{"react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./platform/keyboard_shortcuts":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){(0,y.default)(e||"object"===("undefined"==typeof t?"undefined":a(t))&&"string"==typeof t.description.id,"The 'group' has to be an object returned by React Intl's defineMessages. Currently we got "+t),Object.keys(r).forEach(function(t){var n=r[t];(0,y.default)(e||c.default.isValidElement(n.description)||"object"===a(n.description)&&"string"==typeof n.description.id,"The 'message' has to be an object returned by React Intl's defineMessages\n            or has to be an instance of a React element (FormattedMessage). Currently, the key is "+t)})}function r(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=n.description;if(i===t)return n;if(!(c.default.isValidElement(i)&&i.type!==f.FormattedMessage||c.default.isValidElement(t)&&t.type!==f.FormattedMessage)&&(c.default.isValidElement(i)?i.props.id:i.id)===(c.default.isValidElement(t)?t.props.id:t.id))return n}}function n(e,t,n){var i={};if(Object.keys(n).forEach(function(e){i[e]=++b}),e===!0)return i;var o=t.id,s=p[o];return s||(p[t.id]=s={group:t,keys:[]}),Object.keys(n).forEach(function(e){var t=n[e],o=t.key,a=t.description,u=r(s.keys,a);if(u)u.key.indexOf(o)<0&&(u.key+=d.MULTI_KEY_DELIMITER+o);else{var c=i[e],f={id:c,key:o,description:a};s.keys.indexOf(f)===-1&&s.keys.push(f)}}),i}function i(e,t){var r={};return Object.keys(e).forEach(function(n){var i=e[n].key,o=t[n];r[n]=function(e){return{id:o,key:i,callback:e}}}),r}function o(e){var r=e.invisible,o=e.group,s=e.keys;return t(r,o,s),i(s,n(r,o,s))}function s(){return p}exports.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.createShortcutGroup=o,exports.__dangerouslyGetManifest=s;var u=require("react"),c=e(u),f=require("react-intl"),d=require("./constants"),l=require("../invariant"),y=e(l),p={},b=0;
},{"../invariant":"./platform/invariant","./constants":"./platform/keyboard_shortcuts/constants","react":"./node_modules/react/react.js","react-intl":"./node_modules/react-intl/lib/index.js"}],"./platform/lazy_loading/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=exports.lazyLoadingNamespace="__lazyBundles";
},{}],"./platform/lazy_loading/resolver":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function n(e){return a.YCPI_PATH_PREFIX+"/"+e.toLowerCase()+"-bundles.json"}function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bundleMapURL;return r?t(r).then(function(n){return window[u.lazyLoadingNamespace]=n,o(e,n)}):new Promise(function(n){return n(o(e,window[u.lazyLoadingNamespace]))})}function t(e){return new i.default("GET",e).setHeader("Accept","application/json").send().then(function(e){return JSON.parse(e.text)})}function o(e,n){var r=n.urls[n.urlIndexForEntry[e]];if(!r)throw new Error("Unknown bundle URL for module "+e);return r}exports.__esModule=!0,exports.getBundleMapURL=n,exports.default=r;var u=require("./constants"),a=require("../mail_constants"),s=require("../http_transport"),i=e(s);
},{"../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants","./constants":"./platform/lazy_loading/constants"}],362:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var r=require("../http_transport"),n=e(r),u=require("../mail_constants"),o=require("./logger"),c=e(o),a=u.YCPI_PATH_PREFIX+"/linkEnhancer",i=3500,s=function(){function e(r){t(this,e),this.crumb=r.crumb}return e.prototype.get=function e(t){var u=a+"?crumb="+this.crumb+"&url="+encodeURIComponent(t),o=new n.default(r.HTTP_METHODS.GET,u,{timeout:i}),s=c.default.feature("lucy_client_api_call",{crumb:this.crumb});o.setHeader("Accept","application/json");var l=o.send();return l.then(s.logSuccessAndLatency,s.logFailure),l},e}();exports.default=s,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants","./logger":363}],363:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/link_enhancer"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],364:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var r=require("../utils/script_loader"),n=require("../lazy_loading/resolver"),o=e(n),a=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.disabled;t(this,e),this._cache={},this._disabled=n}return e.prototype.locate=function e(t,r){var n=r.bundleMapURL;return(0,o.default)(t,{bundleMapURL:n})},e.prototype.fetch=function e(t,n){if(!n.cache)return(0,r.loadScript)(t);var o=this._cache;return o[t]||(o[t]=(0,r.loadScript)(t)),o[t]},e.prototype.loadModule=function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.cache,a=void 0===o||o,i=n.bundleMapURL;if(this._disabled)return Promise.reject(new Error("Lazy loading disabled"));var u={cache:a,bundleMapURL:i};return this.locate(t,u).then(function(e){return r.fetch(e,u)})},e}();exports.default=a,module.exports=exports.default;
},{"../lazy_loading/resolver":"./platform/lazy_loading/resolver","../utils/script_loader":"./platform/utils/script_loader"}],"./platform/logger":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/app"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],"./platform/mail_api_client/batch_request":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t]);return s.default=e,s}function s(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=require("../http_transport"),a=s(r),i=require("./errors"),o=e(i),n=require("../mail_error"),d=s(n),u=require("../mail_error/api"),m=s(u),g=require("../mail_error/constants"),l=require("../invariant"),c=s(l),h=require("../mail_constants"),_=require("querystring"),f=s(_),q=require("../base_client/logger"),p=s(q),v=require("../utils/object"),b="/ws/v3/batch",E="post",y="json",O=1,k={Transport:a.default,METHODS:{"folders.get":require("./methods/folders/get"),"folders.delete":require("./methods/folders/delete"),"folders.create":require("./methods/folders/create"),"folders.rename":require("./methods/folders/rename"),"folderList.delete":require("./methods/list/folder_delete"),"folderList.update":require("./methods/list/folder_update"),"folderChange.getList":require("./methods/message_groups/folder_change_get_list"),"launch.skeleton":require("./methods/launch/skeleton"),"launch.defaultFolder":require("./methods/launch/default_folder"),"launch.folder":require("./methods/launch/folder"),"launch.message":require("./methods/launch/message"),"launch.compose":require("./methods/launch/compose"),"launch.messageGroup":require("./methods/launch/message_group"),"messageGroups.get":require("./methods/message_groups/get"),"messageGroups.getList":require("./methods/message_groups/get_list"),"messageCards.getList":require("./methods/message_groups/get_cards_list"),"magicTriage.getList":require("./methods/message_groups/get_list"),"mrdMessages.get":require("./methods/messages/get"),"messages.getBodies":require("./methods/messages/get_bodies"),"messages.getBodiesFull":require("./methods/messages/get_bodies"),"messages.prefetchBodies":require("./methods/messages/get_bodies"),"messages.prefetchBodiesFull":require("./methods/messages/get_bodies"),"messages.getExtractedBodies":require("./methods/messages/get_extracted_bodies"),"messages.getExtractedBodiesFull":require("./methods/messages/get_extracted_bodies"),"messages.prefetchExtractedBodies":require("./methods/messages/get_extracted_bodies"),"messages.prefetchExtractedBodiesFull":require("./methods/messages/get_extracted_bodies"),"messages.autosave":require("./methods/messages/save"),"messages.save":require("./methods/messages/save"),"messages.saveV3":require("./methods/messages/save"),"messages.saveAndSend":require("./methods/messages/save_and_send"),"messages.saveWithAttachment":require("./methods/messages/save"),"messages.saveAndSendWithAttachment":require("./methods/messages/save_and_send"),"messages.send":require("./methods/messages/send"),"messages.update":require("./methods/messages/update"),"messages.updateV3":require("./methods/messages/updatev3"),"messages.delete":require("./methods/messages/delete"),"messages.trashAndDelete":require("./methods/messages/trash_and_delete"),"messages.saveRawMessage":require("./methods/messages/save_raw_message"),"messages.undo":require("./methods/messages/undo/undo"),"undo.list":require("./methods/messages/undo/get_list"),"document.fetch":require("./methods/document/fetch"),"task.status":require("./methods/task/status"),"task.abort":require("./methods/task/abort"),"settings.get":require("./methods/settings/get"),"settings.saveVacationPreferences":require("./methods/settings/save_vacation_preferences"),"settings.saveMessageFilters":require("./methods/settings/save_message_filters"),"settings.saveBlockedSenders":require("./methods/settings/save_delivery_blocked_senders"),"settings.saveWebMailboxAttributes":require("./methods/settings/save_web_mailbox_attributes"),"settings.importExistingSettings":require("./methods/settings/save_web_mailbox_attributes"),"landshark.updateInterstitialFreq":require("./methods/landshark/save_interstitial_frequency"),"settings.getFeatureAttributes":require("./methods/settings/get_feature_attributes"),"settings.addAccount":require("./methods/settings/add_account"),"settings.updateAccount":require("./methods/settings/update_account"),"settings.deleteAccount":require("./methods/settings/delete_account"),"settings.setBaseName":require("./methods/settings/set_base_name"),"settings.setBaseNameJWS":require("./methods/settings/set_base_name_jws"),"settings.resendConfirmEmail":require("./methods/settings/resend_confirm_email"),"settings.createAlias":require("./methods/settings/create_alias"),"unseenCount.reset":require("./methods/decos/update"),"account.getAlerts":require("./methods/account_alerts/get"),"account.updateAlerts":require("./methods/account_alerts/update")},request:function e(s,t,r,a){if(!k.METHODS[s])throw new Error("Invalid method '"+s+"'.\n                List of available methods: "+JSON.stringify(Object.keys(k.METHODS)));var i=k._getEndpoint(s,r),o=k.METHODS[s];if(!o.getBatchPayload)throw new TypeError("Method "+s+" does not implement the required function `getBatchPayload`");var n=o.getBatchPayload(t);if(void 0===n||null===n||0===Object.keys(n).length)throw new d.default("MailApiClient.EmptyRequestPayload");var u=Object.assign({},n,{responseType:y});return k._request(s,i,u,r,a,o,t,0)},_request:function e(s,r,a,i,n,u,l,c){var h=Object.assign({},k._getCustomHeaders(u,l),i.headers);return k._sendRequest(r,a,i,n,h).then(function(e){var o=void 0,d=void 0,h=(0,v.getIn)(e,"body.result.responses",[]),_=!h.length;if(_?o=new m.default(g.JEDI_EMPTY_RESPONSE,(0,v.getIn)(e,"body.result",{})):(d=k._generateSuccessAndFailureResponses(h),o=k._getError(u,d,l)),o){if(k._isRetryable(o)){var f=Object.assign({},i.loggerParams,{apiName:s,retryCount:c,statusCode:e.status,errorCode:o.errorCode,batchPartsEmtpy:_});if(p.default.error("mail_api_client_retry",{data:f}),c<O)return k._request(s,r,a,i,n,u,l,++c)}throw o}return u.transformResponses(d,t({},i,l))}).catch(function(e){var t=o.handleTransportError(e,s)||e;throw t=d.default.errorify(t)})},_generateSuccessAndFailureResponses:function e(s){var t={successMap:{},failureMap:{}};return s.forEach(function(e){e.httpCode<400?t.successMap[e.id]=e:t.failureMap[e.id]=e}),t},_getError:function e(s,t,r){var a=t.failureMap,i=Object.keys(a).length;return s.getBatchError?s.getBatchError(t,r):i?new m.default(g.JEDI_ERROR_RESPONSE,a):null},_isOnRetriableWhitelist:function e(s,t,r){for(var a=[s,t,t+"-"+s],i=a,o=Array.isArray(i),n=0,i=o?i:i[Symbol.iterator]();;){var d;if(o){if(n>=i.length)break;d=i[n++]}else{if(n=i.next(),n.done)break;d=n.value}var u=d;if(r.indexOf(u)!==-1)return!0}return!1},_isRetryable:function e(s){var t=s.message,r=s.failureMap,a=s.isRetryable;return t===g.JEDI_EMPTY_RESPONSE||a&&Object.keys(r).every(function(e){var s=r[e];if(429===s.httpCode)return!1;if(!s.response.error)return!0;var t=s.response.error.code,a=t.split("-")[0],i=(s.response.id||"").split("_")[0];return!!k._isOnRetriableWhitelist(i,t,h.RetriableWhitelist)||"EC"!==a&&"EP"!==a&&"EB-6000"!==t&&"EB-6003"!==t})},_getCustomHeaders:function e(s,t){var r=null;return s.getHeaders&&(r=s.getHeaders(t)),r},_setCustomHeaders:function e(s,t){t&&Object.keys(t).forEach(function(e){s.setHeader(e,t[e])})},_sendRequest:function e(s,t,r,a,i){var o=new k.Transport(E,s,{timeout:r.timeout,httpRetry:r.httpRetry});return r.cookie&&o.setCookieHeader(r.cookie),o.setHeader("Accept","application/json"),k._setCustomHeaders(o,i),o.setField("batchJson",JSON.stringify(t)),a&&a.forEach(function(e){o.setAttachment(encodeURIComponent(e.name),e)}),o.send()},_getEndpoint:function e(s,t){var r=t.appId,a=void 0===r?"":r,i=t.wssid,o=void 0===i?"":i,n=t.ymreqid,d=void 0===n?"":n,u=t.useHostname,m=void 0!==u&&u,g=m?"http://"+h.JWS_HOST:"";(0,c.default)(o,"wssid is required for making request to JEDI"),(0,c.default)(d,"ymreqid is required for making request to JEDI");var l={name:s,appId:a,ymreqid:d,wssid:o};return g+b+"?"+f.default.stringify(l)}};exports.default=k,module.exports=exports.default;
},{"../base_client/logger":"./platform/base_client/logger","../http_transport":"./platform/http_transport","../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","../mail_error":"./platform/mail_error","../mail_error/api":"./platform/mail_error/api","../mail_error/constants":"./platform/mail_error/constants","../utils/object":"./platform/utils/object","./errors":"./platform/mail_api_client/errors","./methods/account_alerts/get":"./platform/mail_api_client/methods/account_alerts/get","./methods/account_alerts/update":"./platform/mail_api_client/methods/account_alerts/update","./methods/decos/update":"./platform/mail_api_client/methods/decos/update","./methods/document/fetch":"./platform/mail_api_client/methods/document/fetch","./methods/folders/create":"./platform/mail_api_client/methods/folders/create","./methods/folders/delete":"./platform/mail_api_client/methods/folders/delete","./methods/folders/get":"./platform/mail_api_client/methods/folders/get","./methods/folders/rename":"./platform/mail_api_client/methods/folders/rename","./methods/landshark/save_interstitial_frequency":"./platform/mail_api_client/methods/landshark/save_interstitial_frequency","./methods/launch/compose":"./platform/mail_api_client/methods/launch/compose","./methods/launch/default_folder":"./platform/mail_api_client/methods/launch/default_folder","./methods/launch/folder":"./platform/mail_api_client/methods/launch/folder","./methods/launch/message":"./platform/mail_api_client/methods/launch/message","./methods/launch/message_group":"./platform/mail_api_client/methods/launch/message_group","./methods/launch/skeleton":"./platform/mail_api_client/methods/launch/skeleton","./methods/list/folder_delete":"./platform/mail_api_client/methods/list/folder_delete","./methods/list/folder_update":"./platform/mail_api_client/methods/list/folder_update","./methods/message_groups/folder_change_get_list":"./platform/mail_api_client/methods/message_groups/folder_change_get_list","./methods/message_groups/get":"./platform/mail_api_client/methods/message_groups/get","./methods/message_groups/get_cards_list":"./platform/mail_api_client/methods/message_groups/get_cards_list","./methods/message_groups/get_list":"./platform/mail_api_client/methods/message_groups/get_list","./methods/messages/delete":"./platform/mail_api_client/methods/messages/delete","./methods/messages/get":"./platform/mail_api_client/methods/messages/get","./methods/messages/get_bodies":"./platform/mail_api_client/methods/messages/get_bodies","./methods/messages/get_extracted_bodies":"./platform/mail_api_client/methods/messages/get_extracted_bodies","./methods/messages/save":"./platform/mail_api_client/methods/messages/save","./methods/messages/save_and_send":"./platform/mail_api_client/methods/messages/save_and_send","./methods/messages/save_raw_message":"./platform/mail_api_client/methods/messages/save_raw_message","./methods/messages/send":"./platform/mail_api_client/methods/messages/send","./methods/messages/trash_and_delete":"./platform/mail_api_client/methods/messages/trash_and_delete","./methods/messages/undo/get_list":"./platform/mail_api_client/methods/messages/undo/get_list","./methods/messages/undo/undo":"./platform/mail_api_client/methods/messages/undo/undo","./methods/messages/update":"./platform/mail_api_client/methods/messages/update","./methods/messages/updatev3":"./platform/mail_api_client/methods/messages/updatev3","./methods/settings/add_account":"./platform/mail_api_client/methods/settings/add_account","./methods/settings/create_alias":"./platform/mail_api_client/methods/settings/create_alias","./methods/settings/delete_account":"./platform/mail_api_client/methods/settings/delete_account","./methods/settings/get":"./platform/mail_api_client/methods/settings/get","./methods/settings/get_feature_attributes":"./platform/mail_api_client/methods/settings/get_feature_attributes","./methods/settings/resend_confirm_email":"./platform/mail_api_client/methods/settings/resend_confirm_email","./methods/settings/save_delivery_blocked_senders":"./platform/mail_api_client/methods/settings/save_delivery_blocked_senders","./methods/settings/save_message_filters":"./platform/mail_api_client/methods/settings/save_message_filters","./methods/settings/save_vacation_preferences":"./platform/mail_api_client/methods/settings/save_vacation_preferences","./methods/settings/save_web_mailbox_attributes":"./platform/mail_api_client/methods/settings/save_web_mailbox_attributes","./methods/settings/set_base_name":"./platform/mail_api_client/methods/settings/set_base_name","./methods/settings/set_base_name_jws":"./platform/mail_api_client/methods/settings/set_base_name_jws","./methods/settings/update_account":"./platform/mail_api_client/methods/settings/update_account","./methods/task/abort":"./platform/mail_api_client/methods/task/abort","./methods/task/status":"./platform/mail_api_client/methods/task/status","querystring":"querystring"}],"./platform/mail_api_client/blocks/add_account":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(o,t){var s=t.account;return{id:o,uri:"/ws/v3/mailboxes/@.id=="+t.mailboxId+"/accounts",method:"POST",payload:{account:s}}},transformResponse:function e(o){return o.response.result}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/create_folders":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../mail_constants");exports.default={getBlockPayload:function t(a,o){return{id:a,uri:"/ws/v3/mailboxes/@.id=="+o.mailboxId+"/folders",method:"PUT",payloadType:"embedded",payload:{folder:{types:[e.FolderTypes.USER],acctId:o.accountId,name:o.folderName}}}},transformResponse:function e(t){var a=t.response.result;return{id:a.id,unread:a.unread,total:a.total,types:a.types,name:a.name,isSystem:!1,accountId:a.acctId}}},module.exports=exports.default;
},{"../../mail_constants":"./platform/mail_constants"}],"./platform/mail_api_client/blocks/delete_account":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(o,t){return{id:o,uri:"/ws/v3/mailboxes/@.id=="+t.mailboxId+"/accounts/@.id=="+t.accountId,method:"DELETE"}},transformResponse:function e(){return 1}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/delete_folders":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(o,t){return{id:o,uri:"/ws/v3/mailboxes/@.id=="+t.mailboxId+"/folders/@.id=="+t.folderId,method:"DELETE"}},transformResponse:function e(){return 1}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/delete_messages":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(s,r){var o=r.mailboxId,t=r.messageIds,i=r.query,a=r.async;if(!t&&!i)throw new Error("POST Delete Message requires either a list of ids or a query string.");var n=[];t&&n.push("id:("+t.join(" ")+")"),i&&n.push(i);var u=encodeURIComponent(n.join(" AND ")),d={id:s,uri:"/ws/v3/mailboxes/@.id=="+o+"/messages/@.select==q?q="+u,method:"DELETE"};return a&&(d.uri+="&async=true"),d},transformResponse:function e(){return 1}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/fetch_document":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function s(e){var s={};return Object.keys(e).forEach(function(a){var o=Number(a.slice(4)),n=e[a].statuscode;702!==n&&(700===n?s[o]={content:e[a],state:t.RecordStates.LOADED}:s[o]={content:null,state:t.RecordStates.ERROR})}),s}exports.__esModule=!0;var t=require("../../mail_constants"),a=require("../../mail_error/api"),o=e(a),n=function e(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.mimeType;return{602:{message:"Document conversion failed for an unknown reason.",isRetryable:!1},605:{message:"Processing the first page of the document.",isRetryable:!0},606:{message:"The document url is not accessible.",isRetryable:!1},610:{message:"The document failed to be converted to html ("+a+")",isRetryable:!1},611:{message:"The document failed to convert to PDF ("+a+")",isRetryable:!1},621:{message:"Document conversion is queued",isRetryable:!0},625:{message:"The document is compressed.",isRetryable:!1},640:{message:"PDF file is malformed.",isRetryable:!1}}[s]||{message:null,isRetryable:null}},r=function e(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.mimeType;return{802:{message:"Missing App Id",isRetryable:!0},803:{message:"Missing Document Id ("+t.documentId+")",isRetryable:!0},804:{message:"Missing Document URL",isRetryable:!0},805:{message:"Missing Fetch Options",isRetryable:!0},806:{message:"Inaccessible Download URL",isRetryable:!1},807:{message:"Inaccessible Download URL",isRetryable:!1},808:{message:"Invalid Fetch Options",isRetryable:!1},809:{message:"Document Read Error",isRetryable:!0},811:{message:"Error Reading Info",isRetryable:!0},812:{message:"Failed to process document ("+a+")",isRetryable:!0},813:{message:"Unsupported File Type ("+a+")",isRetryable:!1},814:{message:"Document still queued ("+a+")",isRetryable:!0},816:{message:"Document password protected unviewable ("+a+")",isRetryable:!1}}[s]||{message:null,isRetryable:null}};exports.default={getHeaders:function e(s){return{"docs-document-id":s}},getBlockPayload:function e(s,t,a){return{id:s,uri:"/ws/docpreview/v2/fetch",method:"POST",payload:{start_page:t,end_page:a},payloadType:"embedded"}},transformResponse:function e(t){var a=t.response,o=a.info,n=a.pages,r=a.code;return 815===r?{data:{info:{documentError:{code:r,isRetryable:!1}}}}:o?{statusCode:a.statuscode,code:a.code,pages:s(n),numPages:o.num_pages,height:o.dimension.h,width:o.dimension.w,exceptions:o.exceptions,sheets:o.sheetInfo||{}}:{statusCode:a.statuscode,code:a.code,pages:s(n)}},getError:function e(s,t,a,i){var d=Object.keys(s).length?s:t,c=d[a],l=c.response,u=c.httpCode,m=l.code,g=l.pages,b=l.statuscode,R=600,y=701,f=r(m,i),p=f.message,h=f.isRetryable;if(p)return Object.assign(d[a],{info:{code:m,isRetryable:h}}),new o.default(p,d,h);var v=n(b,i),w=v.message,D=v.isRetryable;return w?(Object.assign(d[a],{info:{code:b,isRetryable:D}}),new o.default(w,d,D)):b===R&&Object.keys(g).some(function(e){return g[e].statuscode===y})?(Object.assign(d[a],{info:{code:y,isRetryable:!1}}),new o.default("Page has not converted even though the document is said to be successfully converted.",d,!1)):t&&u>=400?new o.default("Returned with not-ok status code",t,!1):null}},module.exports=exports.default;
},{"../../mail_constants":"./platform/mail_constants","../../mail_error/api":"./platform/mail_error/api"}],"./platform/mail_api_client/blocks/get_account_alerts":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("../../base_client/logger"),t=e(r),a=require("../../mail_constants");exports.default={getBlockPayload:function e(r,t){return{id:r,uri:"/ws/v3/mailboxes/@.id=="+t.mailboxId+"/alerts",method:"GET"}},transformResponse:function e(r){if(!r)return[];var t=r.response.result.alerts,a=[];return Array.isArray(t)&&(a=t.map(function(e){return{id:e.id,accountId:e.accountId,type:e.type,state:e.state,data:e.data}})),a},getError:function e(r){if(r){var o=r.id,n=r.httpCode,u=r.response,i={apiName:o,errorCode:u&&u.error&&u.error.code,httpCode:n};t.default.feature(a.ApiClientLoggerNames.MailAPIClient,{data:i}).logFailure()}return null}},module.exports=exports.default;
},{"../../base_client/logger":"./platform/base_client/logger","../../mail_constants":"./platform/mail_constants"}],"./platform/mail_api_client/blocks/get_accounts":[function(require,module,exports){
"use strict";exports.__esModule=!0;var o=exports.block={getBlockPayload:function o(e,s){return{id:e,uri:"/ws/v3/mailboxes/@.id=="+s.mailboxId+"/accounts",method:"GET"}},transformResponse:function o(e){return e.response.result.accounts}};
},{}],"./platform/mail_api_client/blocks/get_conversation_message_group":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../invariant"),r=e(s),o=require("../mappers");exports.default={getBlockPayload:function e(s,o){var a=o.mailboxId,t=o.messageGroupId,d=o.isConversation;(0,r.default)(a,"mailboxId is a required field"),(0,r.default)(t,"messageGroupId is required");var i=encodeURIComponent(t);return{id:s,uri:"/ws/v3/mailboxes/@.id=="+a+"/messages/@.select==q?q="+(d?"conversationId:("+i+")":"id:("+i+")"),method:"GET",payloadType:"embedded"}},transformResponse:function e(s,r){var a=s.response.result.messages,t=r.isConversation,d=a.map(function(e){return(0,o.messageMapper)(e,r)}).reverse();return{messageGroup:{id:t?d[0].conversationId:d[0].id,messages:d}}}},module.exports=exports.default;
},{"../../invariant":"./platform/invariant","../mappers":"./platform/mail_api_client/mappers"}],"./platform/mail_api_client/blocks/get_conversations_by_group":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r){var o=r.mailboxId,t=r.offset,a=r.count,f=r.folderId,p=r.sortOrder,m=r.filter,g=r.excludeFolderTypes,I=r.ids,R=r.cidFilter,v=r.startCardDate,C=r.endCardDate,E=r.groupBy,S=void 0===E?"conversationId":E,D="";switch((0,s.default)(o,"mailboxId is a required field"),D+=f?"folderId"+i+f:"",D+=m?(0,d.getListFilterQuery)(m):"",D+=g?encodeURIComponent("-folderType:("+g.join(" ")+")"):"",D+=u+"groupBy"+i+S,D+=u+"count"+i+a,D+=u+"offset"+i+t,D+=I?encodeURIComponent(" conversationId:("+I.join(" ")+")"):"",D+=R?"%20conversationId%3A("+R+")":"",D+=v&&C?u+"cardDate"+i+c+v+u+"TO"+u+C+l:"",p){case n.SortOrder.DATE_ASC:D+=u+"sort"+i+"date";break;case n.SortOrder.DATE_DESC:D+=u+"-sort"+i+"date";break;case n.SortOrder.SENDER:case n.SortOrder.SUBJECT:case n.SortOrder.UNREAD:case n.SortOrder.STARRED:case n.SORT_ORDER_CARD_DATE_ASC:D+=u+"sort"+i+p}return{id:e,uri:"/ws/v3/mailboxes/@.id=="+o+"/messages/@.select==q?q="+D,method:"GET",payloadType:"embedded"}}function o(e){var r=e.response.result,o=r.conversations,t=r.messages,s=r.query,n=new Map;t.forEach(function(e){return n.set(e.id,e)});var i={messageGroups:o.filter(function(e){var r=e.messageIds,o=!1;return r.forEach(function(e){n.get(e)||(o=!0)}),!o}).filter(function(e){return e.messageIds.length>0}).map(function(e){return{id:e.id,messages:e.messageIds.map(function(e){return(0,a.messageMapper)(n.get(e))}).reverse()}})};if(i.hasMore=0!==o.length,s&&s.options){var u=(0,d.getRequestedCountFromQuery)(s);i.hasMore=o.length>=u}return i}exports.__esModule=!0,exports.getBlockPayload=r,exports.transformResponse=o;var t=require("../../invariant"),s=e(t),n=require("../../mail_constants"),a=require("../mappers"),d=require("../utils/"),i=encodeURIComponent(":"),u=encodeURIComponent(" "),c=encodeURIComponent("["),l=encodeURIComponent("]");
},{"../../invariant":"./platform/invariant","../../mail_constants":"./platform/mail_constants","../mappers":"./platform/mail_api_client/mappers","../utils/":"./platform/mail_api_client/utils"}],"./platform/mail_api_client/blocks/get_folders":[function(require,module,exports){
"use strict";function e(e){return e.filter(function(e){return"DELETE_IN_PROGRESS"!==e.status}).map(function(e){var t=!0,o=e.name;return e.types.indexOf(r.FolderTypes.USER)!==-1&&(t=!1),"@B@Bulk"===o&&(o="Spam"),{unread:e.unread,total:e.total,types:e.types,name:o,path:o,id:e.id,isSystem:t,accountId:e.acctId,highestModSeq:e.highestModSeq,uidNext:e.uidNext}})}function t(e){var t=[],r={};return e.forEach(function(e){r[e.accountId]||(r[e.accountId]={}),r[e.accountId][e.name]=e}),e.forEach(function(e){var n=r[e.accountId],a=(0,o.getFolderPathParts)(e,n);(0,o.insertIntoFolderTree)(t,e,a,0)}),t}exports.__esModule=!0,exports.block=void 0,exports._normalizeFolderObject=e,exports._getFolderTreeNodes=t;var r=require("../../mail_constants"),o=require("../../utils/folder"),n=exports.block={getBlockPayload:function e(t,r){return{id:t,uri:"/ws/v3/mailboxes/@.id=="+r.mailboxId+"/folders",method:"GET",payloadType:"embedded"}},transformResponse:function r(o){var n=e(o.response.result.folders);return n.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),t(n)}};
},{"../../mail_constants":"./platform/mail_constants","../../utils/folder":"./platform/utils/folder"}],"./platform/mail_api_client/blocks/get_mailbox_attribute":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../mail_constants"),u=require("../../mail_constants/compose"),r=require("../../utils/object"),i=require("../../invariant"),a=e(i),s=require("../../theming/themes"),o=(0,r.mirrorKeys)((0,r.values)(t.MailboxAttributes));exports.default={getBlockPayload:function e(t,u){return(0,a.default)(o.hasOwnProperty(u.attributeId),"Unknown mailbox attribute: "+u.attributeId),{id:t,uri:"/ws/v3/mailboxes/@.id=="+u.mailboxId+"/attributes/@.id=="+u.attributeId,method:"GET"}},transformResponse:function e(r){var i=r.response.result,a=i.id,o=i.value,l={};return Object.keys(t.MailboxWebAttributes).some(function(e){return t.MailboxAttributes[e]===a})?l[a]={value:o[a],testAndSet:o.testAndSet}:l[a]=o,a===t.MailboxAttributes.COMPOSE_FONT_SIZE&&"16"===l[a].value&&(l[a].value=u.FontSizeMap[16]),a===t.MailboxAttributes.COMPOSE_FONT_FAMILY&&"Helvetica Neue"===l[a].value&&(l[a].value=t.DefaultFont.FAMILY),a===t.MailboxAttributes.THEME&&"purple"===l[a].value&&(l[a].value=s.Themes.DEFAULT),a===t.MailboxAttributes.THEME_MODE&&"light"===l[a].value&&(l[a].value=s.ThemeModes.LIGHT),l}},module.exports=exports.default;
},{"../../invariant":"./platform/invariant","../../mail_constants":"./platform/mail_constants","../../mail_constants/compose":"./platform/mail_constants/compose","../../theming/themes":"./platform/theming/themes","../../utils/object":"./platform/utils/object"}],"./platform/mail_api_client/blocks/get_mailboxes":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(r){return{id:r,uri:"/ws/v3/mailboxes",method:"GET",payloadType:"embedded"}},transformResponse:function e(r){return r.response.result.mailboxes.map(function(e){return{id:e.id,email:e.email,isPrimary:e.isPrimary,isSelected:e.isSelected}})}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/get_message":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../mappers");exports.default={getBlockPayload:function e(s,r){return{id:s,uri:"/ws/v3/mailboxes/@.id=="+r.mailboxId+"/messages/@.id=="+r.messageId,method:"GET"}},transformResponse:function s(r,o){return(0,e.messageMapper)(r.response.result.message,o)}},module.exports=exports.default;
},{"../mappers":"./platform/mail_api_client/mappers"}],"./platform/mail_api_client/blocks/get_message_by_csid":[function(require,module,exports){
"use strict";function e(e,s){var r=s.mailboxId,o=s.csid;return{id:e,uri:"/ws/v3/mailboxes/@.id=="+r+"/messages/@.select==q?q="+encodeURIComponent("csid:"+o+" folderType:DRAFT"),method:"GET"}}function s(e,s){return(0,r.messageMapper)(e.response.result.messages[0],s)}exports.__esModule=!0,exports.getBlockPayload=e,exports.transformResponse=s;var r=require("../mappers");
},{"../mappers":"./platform/mail_api_client/mappers"}],"./platform/mail_api_client/blocks/get_messages_by_group":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r){var o=r.mailboxId,d=r.offset,a=r.count,l=r.folderId,u=r.sortOrder,p=r.filter,m=r.excludeFolderTypes,f=r.ids,I=r.cidFilter,S=r.cardConversationIds,C="";switch((0,n.default)(o,"mailboxId is a required field"),C+=l?"folderId"+i+l:"",C+=p?(0,t.getListFilterQuery)(p):"",C+=m?encodeURIComponent("-folderType:("+m.join(" ")+")"):"",C+=c+"count"+i+a,C+=c+"offset"+i+d,C+=f?encodeURIComponent(" id:("+f.join(" ")+")"):"",C+=S?encodeURIComponent(" cardConversationId:("+S.join(" ")+")"):"",C+=I?"%20conversationId%3A("+I+")":"",u){case s.SortOrder.DATE_ASC:C+=c+"sort"+i+"date";break;case s.SortOrder.DATE_DESC:C+=c+"-sort"+i+"date";break;case s.SortOrder.SENDER:case s.SortOrder.SUBJECT:case s.SortOrder.UNREAD:case s.SortOrder.STARRED:C+=c+"sort"+i+u}return{id:e,uri:"/ws/v3/mailboxes/@.id=="+o+"/messages/@.select==q?q="+C,method:"GET",payloadType:"embedded"}}function o(e,r){var o=e.response.result.messages,s={messageGroups:o.map(function(e){return{id:e.id,messages:[(0,a.messageMapper)(e)]}})};if(!isNaN(r)){var t=!1;o.length&&(t=o[0].folder.total>r),s.hasMore=t}return s}exports.__esModule=!0,exports.getBlockPayload=r,exports.transformResponse=o;var s=require("../../mail_constants"),t=require("../utils/"),d=require("../../invariant"),n=e(d),a=require("../mappers"),i=encodeURIComponent(":"),c=encodeURIComponent(" ");
},{"../../invariant":"./platform/invariant","../../mail_constants":"./platform/mail_constants","../mappers":"./platform/mail_api_client/mappers","../utils/":"./platform/mail_api_client/utils"}],"./platform/mail_api_client/blocks/get_simple_body":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../mappers"),s=require("../../utils");exports.default={getBlockPayload:function e(s,d){var a=d.mailboxId,o=d.messageId,r=d.secure,t=void 0!==r&&r,l=d.full,i=void 0===l||l,m="/ws/v3/mailboxes/@.id=="+a+"/messages/@.id=="+o+"/content/simplebody";return i&&(m+="/full"),t&&(m+="/secure"),{id:s,uri:m,method:"GET",payloadType:"embedded"}},transformResponse:function d(a,o){var r=a.response.result,t=r.message,l=r.simpleBody,i=(0,e.messageMapper)(t,o),m=i.attachments,n=i.headers,p=i.csid,u=i.id,c=i.inReplyTo,y=i.downloadAllUrl;return t.headers=n,t.inReplyTo=c,t.id=u,t.attachments=m,t.csid=t.csid,t.downloadAllUrl=y,{id:u,body:(0,s.transformSimpleBody)(l),message:t,metadata:{attachments:m,headers:n,csid:p,inReplyTo:c}}}},module.exports=exports.default;
},{"../../utils":"./platform/utils","../mappers":"./platform/mail_api_client/mappers"}],"./platform/mail_api_client/blocks/rename_folders":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(d,o){return{id:d,uri:"/ws/v3/mailboxes/@.id=="+o.mailboxId+"/folders/"+o.folderId,method:"POST",payloadType:"embedded",payload:{folder:{name:o.folderName}}}},transformResponse:function e(d){var o=d.response.result;return{id:o.id,unread:o.unread,total:o.total,types:o.types,name:o.name,isSystem:!1,accountId:o.acctId}}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/resend_confirm_email":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(t,o){var r=o.account;return{id:t,uri:r.link.href,method:"POST",payload:{account:{type:r.type,resendVerification:!0}}}},transformResponse:function e(t){return t.response.result}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/save_mailbox_attribute":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function t(e,i){var r=i.mailboxId,a=i.value,o="/ws/v3/mailboxes/@.id=="+r+"/attributes/@.id=="+e;return{id:e,method:"POST",uri:o,payload:{id:e,link:{type:"RELATIVE",href:o},value:a}}},getChainedBlockPayload:function t(e,i){var r=i.mailboxId,a=i.value,o="/ws/v3/mailboxes/@.id=="+r+"/attributes/@.id=="+e;return a.testAndSet="$(testAndSet)",{id:"GetMailboxAttribute_"+e,uri:"/ws/v3/mailboxes/@.id=="+r+"/attributes/@.id=="+e,method:"GET",filters:{select:{testAndSet:"$..value.testAndSet"}},requests:[{id:"SetMailboxAttribute_"+e,method:"POST",uri:o,payload:{id:e,link:{type:"RELATIVE",href:o},value:a}}]}},get getMultiAttributeChain(){var t=this;return function(e){var i=e.mailboxId,r=e.attributes,a=t.getChainedBlockPayload,o=r.map(function(t){return a(t.id,{mailboxId:i,value:t.value})}),u=o[0],d=void 0;return o.forEach(function(t){return d?(d.requests[0].requests=[t],void(d=t)):void(d=t)}),{requests:[u]}}},transformResponse:function t(){return 1}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/save_message":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return e.map(function(e){var t=e.mimeType,n=e.name;return{contentType:t,partName:encodeURIComponent(n),payloadReference:"multipart://"+encodeURIComponent(n)}})}function n(e){return e.map(function(e){var t=e.contentId,n=e.filename,a=e.disposition,s=e.messageReference,o={disposition:a,contentId:t};return s?o.messageReference=s:o.multipartName="multipart://"+encodeURIComponent(n),o})}function a(e){return e=o.default.makeArray(e),e.map(function(e){return"string"==typeof e.email&&(e.email=e.email.trim()),e}).filter(function(e){return i.default.isValidEmail(e.email)})}exports.__esModule=!0;var s=require("../../../molecules/compose/utils/utils"),o=e(s),r=require("../../utils"),i=e(r),m=require("../mappers"),l=require("../../utils/attachments"),u=require("../../mail_constants"),c=require("lodash/omit"),p=e(c),d={spam:"false",read:"true"};exports.default={getBlockPayload:function e(s,o){var r=o.mailboxId,i=o.csid,m=o.inReplyTo,l=o.subject,c=o.to,p=o.cc,f=o.bcc,y=o.from,h=o.replyTo,T=o.html,g=o.attachments,R=void 0===g?[]:g,v=o.files,I=void 0===v?[]:v,b=o.folderId,q={partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{csid:i,newMessage:!m,headers:{subject:l,from:y,replyTo:h||y,to:a(c),cc:a(p),bcc:a(f)},folder:{id:b},flags:d,inReplyTo:m},simpleBody:{html:T,attachments:n(R.filter(function(e){var t=e.disposition,n=e.type;return!(!e.contentId&&t===u.Attachments.Dispositions.INLINE&&n===u.Attachments.Types.TEXT)}))}}};return q.inReplyTo||delete q.inReplyTo,{id:s,uri:"/ws/v3/mailboxes/@.id=="+r+"/messages",method:"POST",payloadType:"multipart",payloadParts:[q].concat(t(I))}},transformResponse:function e(t){var n=t.response,a=(0,r.transformSimpleBody)(n.result.simpleBody),s=(0,m.saveMessageMapper)(n.result.message);return s.attachments=(0,l.transformAttachments)(s,s.attachments,!1),{message:s,simpleBody:(0,p.default)(a,"attachments")}}},module.exports=exports.default;
},{"../../../molecules/compose/utils/utils":"./molecules/compose/utils/utils","../../mail_constants":"./platform/mail_constants","../../utils":"./platform/utils","../../utils/attachments":"./platform/utils/attachments","../mappers":"./platform/mail_api_client/mappers","lodash/omit":"./node_modules/lodash/omit.js"}],"./platform/mail_api_client/blocks/save_raw_message":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e={read:!1,spam:!1,ham:!0};exports.default={getBlockPayload:function a(t,o,s){var r=s.mailboxId,n=s.folderId,p="mimeMsg"+o,i={partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{newMessage:!0,folder:{id:n},flags:e,headers:null},mimeBody:"multipart://"+p}},d={contentType:"application/octet-stream",partName:p,disposition:"form-data",payloadReference:"multipart://"+p};return{id:t,uri:"/ws/v3/mailboxes/@.id=="+r+"/messages",method:"POST",payloadType:"multipart",payloadParts:[i].concat(d)}},transformResponse:function e(){return!0}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/send_message":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("./update_messages"),a=e(s);exports.default={getBlockPayload:function e(s,d){var o=d.mailboxId,r=d.messageId,t=d.csid,l=d.captchaAnswer,i=d.folderId,n=d.inReplyTo,u=void 0===n?{}:n,p=u.messageReference;p=void 0===p?{}:p;var c=p.id,f=u.replied,m=u.forwarded,g={UpdateMessages:"UpdateMessages"},y={id:s,uri:"/ws/v3/mailboxes/@.id=="+o+"/messages/@.id=="+r+"/send",method:"POST",payloadType:"embedded",payload:{csid:t,destinationFolder:{id:i}}};return l&&(y.payload.captcha=l),(f||m)&&(y.requests=a.default.getBlockPayload(g.UpdateMessages,{mailboxId:o,messageIds:[c],flags:{answered:!!f,forwarded:!!m},async:!0})),y},transformResponse:function e(s){return s.response.result.message}},module.exports=exports.default;
},{"./update_messages":"./platform/mail_api_client/blocks/update_messages"}],"./platform/mail_api_client/blocks/task_abort":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(t,o){return{id:t,uri:"/ws/v3/mailboxes/@.id=="+o.mailboxId+"/tasks/@.id=="+o.taskId,method:"DELETE"}},transformResponse:function e(){return 1}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/task_status":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(s,r){return{id:s,uri:"/ws/v3/mailboxes/@.id=="+r.mailboxId+"/tasks/@.id=="+r.taskId,method:"GET"}},transformResponse:function e(s){var r=s.response.result;if(!r)return{};var t=r.task;return t?{id:t.id,link:t.link.href,status:t.status,progress:t.progress,expires:t.expiryTime}:{}}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/update_account":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(t,o){var s=o.account,a=o.data,r={type:s.type};return Object.assign(r,a),{id:t,uri:"/ws/v3/mailboxes/@.id=="+o.mailboxId+"/accounts/@.id=="+s.id,method:"POST",payload:{account:r}}},transformResponse:function e(t){return t.response.result}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/update_account_alerts":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function t(e,r){return{id:e,uri:"/ws/v3/mailboxes/@.id=="+r.mailboxId+"/alerts/@.id=="+r.alertId,method:"POST",payload:{alert:{state:5e3}}}},transformResponse:function t(e){if(!e)return[];var r=e.response.result.alert,a=[];return Array.isArray(r)&&(a=r.map(function(t){return{id:t.id,accountId:t.accountId,type:t.type,state:t.state,data:t.data}})),a}},module.exports=exports.default;
},{}],"./platform/mail_api_client/blocks/update_decos":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("../../base_client/logger"),o=e(r),t=require("../../mail_constants");exports.default={getBlockPayload:function e(r,o){var t=o.accountId;return{id:r,uri:"/ws/v3/mailboxes/@.id=="+o.mailboxId+"/decos/@.id==FTI",method:"POST",payload:{id:"FTI",counts:[{accountId:t,unseen:0}]}}},getError:function e(r){if(r){var a=r.id,n=r.httpCode,u=r.response,d={apiName:a,errorCode:u&&u.error&&u.error.code,httpCode:n};o.default.feature(t.ApiClientLoggerNames.MailAPIClient,{data:d}).logFailure()}return null},transformResponse:function e(){return 1}},module.exports=exports.default;
},{"../../base_client/logger":"./platform/base_client/logger","../../mail_constants":"./platform/mail_constants"}],"./platform/mail_api_client/blocks/update_messages":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default={getBlockPayload:function e(s,r){var a=r.mailboxId,o=r.messageIds,d=r.query,t=r.destinationFolderId,i=r.flags,l=r.async;if(!o&&!d)throw new Error("POST Update Message requires either a list of ids or a query string.");var n=[];o&&n.push("id:("+o.join(" ")+")"),d&&n.push(d);var u=encodeURIComponent(n.join(" AND ")),p={id:s,uri:"/ws/v3/mailboxes/@.id=="+a+"/messages/@.select==q?q="+u,method:"POST",payloadType:"embedded",payload:{message:{}}};if(l&&(p.uri+="&async=true"),!t&&!i)throw new Error("POST Update Message requires either a folder id or flags.");return t&&(p.payload.message.folder={},p.payload.message.folder.id=t),i&&(p.payload.message.flags=i),p},transformResponse:function e(){return 1}},module.exports=exports.default;
},{}],"./platform/mail_api_client/browser_proxy_request":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r,n,o,i){var d=new s.default(a,u+e+"?crumb="+n+"&ymreqid="+r+"&wssid="+o,{httpRetry:i});return d.setHeader("Accept","application/json"),d.send({params:t,ymreqid:r}).then(function(e){return e.body})}exports.__esModule=!0,exports.default=t;var r=require("../http_transport"),s=e(r),n=require("../mail_constants"),u=n.YCPI_PATH_PREFIX+"/mail_api/",a="post";module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants"}],"./platform/mail_api_client/composite/checkmail":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,o){var l=t.accountId,d=t.mailboxId,a=t.folderId,f=t.sortOrder,c=t.filter,h=t.count,m=t.offset,p=t.conversationsMode,q=t.highestModSeq,v=t.resetUnseenCount,g=t.alertStoreHighestModSeq;return s.default.request("folders.get",{mailboxId:d},o).then(function(e){var t=(0,n.flattenFolderTree)(e.folders),O=t[a],x=(0,u.getCurrentOffset)(o.timezone),b=!(O&&void 0!==q&&O.highestModSeq===q),I=[],M=Object.keys(t).find(function(e){return t[e].types.indexOf(i.FolderTypes.ALERTSTORE)!==-1}),S=(t[M]||"").highestModSeq,T=!(!g||!S||g===S);return b||T?(b?I.push(s.default.request("messageGroups.getList",{mailboxId:d,folderId:a,sortOrder:f,filter:c,count:h,offset:m,conversationsMode:p},o)):I.push(Promise.resolve()),T?I.push(s.default.request("account.getAlerts",{mailboxId:d},o)):I.push(Promise.resolve([])),v&&I.push(s.default.request("unseenCount.reset",{mailboxId:d,accountId:l},o)),Promise.all(I).then(function(t){return r({currentTimezoneOffset:x},e,t[0],{accountAlerts:t[1]})})):r({currentTimezoneOffset:x},e)})}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};exports.default=t;var o=require("../batch_request"),s=e(o),n=require("../../utils/folder"),u=require("../../utils/timezone"),i=require("../../../platform/mail_constants");module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../utils/folder":"./platform/utils/folder","../../utils/timezone":"./platform/utils/timezone","../batch_request":"./platform/mail_api_client/batch_request"}],"./platform/mail_api_client/errors":[function(require,module,exports){
"use strict";function r(r){return r&&r.__esModule?r:{default:r}}function e(r,e){if(0===e.indexOf("launch.")){var t=r.statusCode,o=r.errorCode,n=r.extraStatusCode,d=void 0===n?"":n,s=r.extraErrorCode,i=void 0===s?"":s,l=15;return 429===t&&(l=19),new a.default(u.LAUNCHERROR_LAUNCH_API_FAILED,{apiName:e,code:l,errorCode:o,statusCode:t,extraErrorCode:i,extraStatusCode:d})}return null}function t(r,t){var o=null;return o||(o=e(r,t)),o||r}exports.__esModule=!0,exports.handleTransportError=t;var o=require("../mail_error"),a=r(o),u=require("../mail_error/constants");
},{"../mail_error":"./platform/mail_error","../mail_error/constants":"./platform/mail_error/constants"}],"./platform/mail_api_client":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var s=require("../base_client"),o=e(s),n=require("../ymreqid"),u=e(n),a=require("../utils/object"),E=require("../utils/generic"),l=require("../invariant"),h=e(l),c=require("./batch_request"),y=require("./browser_proxy_request"),d=e(y),_=require("./composite/checkmail"),S=e(_),f=require("../mail_constants"),R=function(e){function s(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];t(this,s);var n=r(this,e.call(this,i));if("string"==typeof o&&!s.STRATEGIES[o])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(s.STRATEGIES)));return n.appId=f.appId,n.cookie=i.cookie,n.headers=i.headers||{},n.httpRetry=i.httpRetry,n.strategy=o||n._getDefaultStrategy(),n._validateStrategy(n.strategy),i.executeRequestsSequentially&&((0,h.default)(i.requestQueue,"if you are executing requests sequentially, you must pass a request queue."),n.executeRequestsSequentially=!0,n.requestQueue=i.requestQueue),i.loginHash&&(n.ymreqidGenerator=new u.default(i.loginHash,f.YMREQ_CLIENT_ID,f.SESSION_ID)),n}return i(s,e),s.prototype._getDefaultStrategy=function e(){return(0,E.isBrowser)()?s.STRATEGIES.BROWSER_TO_JEDI:s.STRATEGIES.NODE_TO_JEDI},s.prototype._validateStrategy=function e(t){if((0,E.isBrowser)()&&t===s.STRATEGIES.NODE_TO_JEDI)throw new Error(s.STRATEGIES.NODE_TO_JEDI+" strategy can not be used in the browser");if(!(0,E.isBrowser)()&&[s.STRATEGIES.BROWSER_TO_NODE_TO_JEDI,s.STRATEGIES.BROWSER_TO_JEDI].indexOf(t)>-1)throw new Error(s.STRATEGIES.BROWSER_TO_NODE_TO_JEDI+" or "+s.STRATEGIES.BROWSER_TO_JEDI+" strategies can not be used on the server")},s.prototype._getRequest=function e(t,r,i,o){return i.useHostname=i.strategy===s.STRATEGIES.NODE_TO_JEDI,i.strategy===s.STRATEGIES.BROWSER_TO_NODE_TO_JEDI?((0,h.default)(!o,"We cannot proxy a request with files."),s.REQUESTS.BrowserProxy.bind(null,t,r,i.ymreqid,this.crumb,this.wssid,i.httpRetry)):(s.REQUESTS[t]||s.REQUESTS.Batch).bind(null,t,r,i,o)},s.prototype.request=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],n={useHostname:null,ymreqid:null,cookie:this.cookie};if(!s.ymreqid&&!this.ymreqidGenerator)throw new Error("`ymreqid` is missing. You should either specify `ymreqid` in `requestConfig` object when making a request or initialize MailAPIClient with `loginHash`, so that it can generate a new one");s.crumb&&(this.crumb=s.crumb),s.wssid&&(this.wssid=s.wssid),n.appId=s.appId||this.appId,n.ymreqid=s.ymreqid||this.ymreqidGenerator.generate(),n.wssid=s.wssid||this.wssid,n.strategy=s.strategy||this.strategy,n.noRetry=s.noRetry,n.timeout=s.timeout,n.headers=s.headers||this.headers,n.httpRetry=this.httpRetry,n.loggerParams=this.loggerParams,this._validateStrategy(n.strategy);var e=this._getRequest(t,r,n,o),u={apiName:t,ymreqid:n.ymreqid,crumb:this.crumb},a=void 0;return a=this.isRequestBlocked("checkMail"!==t)?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(e,t):e(),this.logRequest(a,u),a.then(function(e){return i.setRequestBlocked(!1),e},function(e){throw e=i.handleCommonError(e)})},s}(o.default);R.STRATEGIES=(0,a.mirrorKeys)(["NODE_TO_JEDI","BROWSER_TO_NODE_TO_JEDI","BROWSER_TO_JEDI"]),R.REQUESTS={Batch:c.request,BrowserProxy:d.default,checkMail:S.default},exports.default=R,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","../utils/generic":"./platform/utils/generic","../utils/object":"./platform/utils/object","../ymreqid":"./platform/ymreqid","./batch_request":"./platform/mail_api_client/batch_request","./browser_proxy_request":"./platform/mail_api_client/browser_proxy_request","./composite/checkmail":"./platform/mail_api_client/composite/checkmail"}],"./platform/mail_api_client/mappers":[function(require,module,exports){
"use strict";function e(e){var r={id:e.immutableid||e.id,conversationId:e.conversationId,snippet:e.snippet||"",flags:Object.assign(e.flags,{flagged:!!e.flags.flagged}),folder:{id:e.folder.id},headers:{replyTo:e.headers.replyTo||"",subject:e.headers.subject||"",from:e.headers.from||[],to:e.headers.to||[],cc:e.headers.cc||[],bcc:e.headers.bcc||[],date:Number(e.headers.internalDate),messageIdRfc822:e.headers.messageIdRfc822},attachments:[],attachmentCount:0,classification:e.classification&&e.classification.category,verifiedDomains:e.verifiedDomains||[]};return e.spame&&(r.spame=e.spame),e.captcha&&(r.captcha=e.captcha),e.csid&&(r.csid=e.csid),e.attachments&&(e.attachments=r.attachments=a(e.attachments,r.headers.date,r.id,e.csid)),void 0!==e.attachmentCount&&(r.attachmentCount=e.attachmentCount),e.headers.inReplyTo&&(r.headers.inReplyTo=e.headers.inReplyTo),e.inReplyTo&&(r.inReplyTo=t({},e.inReplyTo,{messageIdRfc822:e.headers.messageIdRfc822,id:e.immutableid||e.id})),e.downloadAllUrl&&(r.downloadAllUrl=e.downloadAllUrl),e.schemaOrg&&(0,s.isCardMessage)(e)&&(r.schemaCards=(0,s.transformSchemaOrg)(e.schemaOrg)),e.cardConversationId&&(r.cardConversationId=e.cardConversationId),e.decos&&(r.decos=e.decos),r}function a(e,a,t,r){return e.map(function(e){return{id:(0,s.generateAttachmentId)(e,t,!1),virus:e.virus||"N",filename:e.filename,size:e.size,partId:e.partId,type:e.type,subtype:e.subtype,disposition:e.disposition,downloadUrl:e.downloadUrl,thumbnailUrl:e.thumbnailUrl,isExternal:!1,creationDate:1e3*a,textExtractionUrl:e.textExtractionUrl,contentId:e.contentId,dataIds:e.dataIds,documentId:e.documentId,csid:r}})}exports.__esModule=!0,exports.saveMessageMapper=exports.messageMapper=void 0;var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},s=require("../utils/message");exports.messageMapper=e,exports.saveMessageMapper=e;
},{"../utils/message":"./platform/utils/message"}],"./platform/mail_api_client/methods/account_alerts/get":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=require("../../blocks/get_account_alerts"),r=t(e),o={GetAccountAlerts:"GetAccountAlerts"};exports.default={getBatchPayload:function t(e){var u=e.mailboxId;return{requests:[r.default.getBlockPayload(o.GetAccountAlerts,{mailboxId:u})]}},transformResponses:function t(e){var u=e.successMap,s=[];return u[o.GetAccountAlerts]&&(s=r.default.transformResponse(u[o.GetAccountAlerts])),s},getBatchError:function t(e){var u=e.failureMap,s=u[o.GetAccountAlerts];return s?r.default.getError(s):null}},module.exports=exports.default;
},{"../../blocks/get_account_alerts":"./platform/mail_api_client/blocks/get_account_alerts"}],"./platform/mail_api_client/methods/account_alerts/update":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=require("../../blocks/get_account_alerts"),r=t(e),s=require("../../blocks/update_account_alerts"),c=t(s),o={GetAccountAlerts:"GetAccountAlerts",UpdateAccountAlerts:"UpdateAccountAlerts"};exports.default={getBatchPayload:function t(e){var s=e.mailboxId,a=e.alertId;return{requests:[Object.assign({},c.default.getBlockPayload(o.UpdateAccountAlerts,{mailboxId:s,alertId:a}),{requests:[r.default.getBlockPayload(o.GetAccountAlerts,{mailboxId:s})]})]}},transformResponses:function t(e){var s=e.successMap;return s[o.GetAccountAlerts]?{accountAlerts:r.default.transformResponse(s[o.GetAccountAlerts])}:{accountAlerts:[]}}},module.exports=exports.default;
},{"../../blocks/get_account_alerts":"./platform/mail_api_client/blocks/get_account_alerts","../../blocks/update_account_alerts":"./platform/mail_api_client/blocks/update_account_alerts"}],"./platform/mail_api_client/methods/decos/update":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/update_decos"),n=e(t),o={UnseenCountReset:"UnseenCountReset"};exports.default={getBatchPayload:function e(t){var r=t.mailboxId,u=t.accountId;return{requests:[n.default.getBlockPayload(o.UnseenCountReset,{mailboxId:r,accountId:u})]}},getBatchError:function e(t){var r=t.failureMap,u=r[o.UnseenCountReset];return u?n.default.getError(u):null},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../blocks/update_decos":"./platform/mail_api_client/blocks/update_decos"}],"./platform/mail_api_client/methods/document/fetch":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/fetch_document"),r=e(t),a=require("../../../mail_error/api"),u=e(a),o={FetchDocument:"FetchDocument"};exports.default={getHeaders:function e(t){var a=t.documentId;return r.default.getHeaders(a)},getBatchPayload:function e(t){var a=t.startPage,u=t.endPage;return{requests:[r.default.getBlockPayload(o.FetchDocument,a,u)]}},transformResponses:function e(t){var a=t.successMap;return r.default.transformResponse(a[o.FetchDocument])},getBatchError:function e(t,a){var n=t.successMap,s=t.failureMap,c=r.default.getError(n,s,o.FetchDocument,a);if(c){var d=c.isRetryable,f=c.failureMap,l=c.message,i=f[o.FetchDocument],m=i.response,p=i.info,g=i.info.code,h={};return p&&(Object.assign(h,{documentError:p}),m&&g&&Object.assign(m,{error:{code:"DOC-"+g}})),new u.default("AttachmentPreview: "+l,f,d,h)}return null}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/fetch_document":"./platform/mail_api_client/blocks/fetch_document"}],"./platform/mail_api_client/methods/folders/create":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("../../blocks/create_folders"),o=e(r),t={CreateFolders:"CreateFolders"};exports.default={getBatchPayload:function e(r){var a=r.mailboxId,s=r.accountId,d=r.folderName;return{requests:[o.default.getBlockPayload(t.CreateFolders,{mailboxId:a,accountId:s,folderName:d})]}},transformResponses:function e(r){var a=r.successMap;return{folder:o.default.transformResponse(a[t.CreateFolders])}}},module.exports=exports.default;
},{"../../blocks/create_folders":"./platform/mail_api_client/blocks/create_folders"}],"./platform/mail_api_client/methods/folders/delete":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/delete_folders"),o=e(t),r={DeleteFolders:"DeleteFolders"};exports.default={getBatchPayload:function e(t){var l=t.mailboxId,d=t.folderId;return{requests:[o.default.getBlockPayload(r.DeleteFolders,{mailboxId:l,folderId:d})]}},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../blocks/delete_folders":"./platform/mail_api_client/blocks/delete_folders"}],"./platform/mail_api_client/methods/folders/get":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../blocks/get_folders"),o={GetFolders:"GetFolders"};exports.default={getBatchPayload:function s(r){var t=r.mailboxId;return{requests:[e.block.getBlockPayload(o.GetFolders,{mailboxId:t})]}},transformResponses:function s(r){var t=r.successMap;return{folders:e.block.transformResponse(t[o.GetFolders])}}},module.exports=exports.default;
},{"../../blocks/get_folders":"./platform/mail_api_client/blocks/get_folders"}],"./platform/mail_api_client/methods/folders/rename":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},s=require("../../blocks/rename_folders"),t=e(s),a=require("../../blocks/save_mailbox_attribute"),o=e(a),l={RenameFolders:"RenameFolders",MessageFilters:"messageFilters"};exports.default={getBatchPayload:function e(s){var a=s.mailboxId,d=s.folderId,n=s.folderName,u=s.filters,f=t.default.getBlockPayload(l.RenameFolders,{mailboxId:a,folderId:d,folderName:n});return 0===u.length?{requests:[f]}:{requests:[r({},f,{requests:[o.default.getBlockPayload(l.MessageFilters,{mailboxId:a,value:{filters:u}})]})]}},transformResponses:function e(r){var s=r.successMap;return{folder:t.default.transformResponse(s[l.RenameFolders])}}},module.exports=exports.default;
},{"../../blocks/rename_folders":"./platform/mail_api_client/blocks/rename_folders","../../blocks/save_mailbox_attribute":"./platform/mail_api_client/blocks/save_mailbox_attribute"}],"./platform/mail_api_client/methods/landshark/save_interstitial_frequency":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/save_mailbox_attribute"),a=e(t),o=require("../../blocks/get_mailboxes"),s=e(o),r=require("../../../mail_constants");exports.default={getBatchPayload:function e(){var t,o=(t={},t[r.FeatureMailboxAttributes.INTERSTITIAL_FREQUENCY]=Date.now(),t),l={GetMailboxes:"GetMailboxes"};return{requests:[Object.assign({},s.default.getBlockPayload(l.GetMailboxes),{filters:{iterator:"$..mailboxes[?(@.isSelected==true)]",select:{mailboxId:"$..id"}},requests:[a.default.getChainedBlockPayload(r.FeatureMailboxAttributes.INTERSTITIAL_FREQUENCY,{mailboxId:"$(mailboxId)",value:o})]})]}},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../../mail_constants":"./platform/mail_constants","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../../blocks/save_mailbox_attribute":"./platform/mail_api_client/blocks/save_mailbox_attribute"}],"./platform/mail_api_client/methods/launch/compose":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.csid;return{requests:[Object.assign({},r.default.getBlockPayload(y.GetMailboxes),{filters:{select:{mailboxId:"$..id"}},requests:[Object.assign({},m.getBlockPayload(y.GetMessageByCsid,{mailboxId:"$(mailboxId)",csid:t}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[d.default.getBlockPayload(y.GetSimpleBody,{mailboxId:"$(mailboxId)",messageId:"$(messageId)",full:!0,secure:!1})]}),i.block.getBlockPayload(y.GetFolders,{mailboxId:"$(mailboxId)"}),u.block.getBlockPayload(y.GetAccounts,{mailboxId:"$(mailboxId)"}),f.default.getBlockPayload(y.GetAccountAlerts,{mailboxId:"$(mailboxId)"})].concat(p.default.getBatchPayload({mailboxId:"$(mailboxId)"}).requests)})]}}function a(e){var t=e.successMap,s=e.failureMap,a=p.default.updateFailureMap(s),o=new x.default("MailApiClient.LaunchCompose",a);if(a[y.GetMessageByCsid])return o;var l=0,r=t[y.GetMessageByCsid];return r&&(l=r.response.result.messages.length),a[y.GetSimpleBody]&&l>0?o:a[y.GetFolders]||a[y.GetAccounts]||a[y.GetAccountAlerts]||a[y.GetMailboxes]?o:null}function o(e){var t=e.successMap,s=p.default.transformResponses(t),a={mailboxAttributes:s,folders:i.block.transformResponse(t[y.GetFolders]),accounts:u.block.transformResponse(t[y.GetAccounts]),mailboxes:r.default.transformResponse(t[y.GetMailboxes]),accountAlerts:f.default.transformResponse(t[y.GetAccountAlerts])};if(t[y.GetSimpleBody]){var o,l,c=d.default.transformResponse(t[y.GetSimpleBody]),n=c.id,m=c.body,b=c.message,g=c.metadata;Object.assign(a,{message:b,messageBodiesMap:(o={},o[n]=m,o),messageMetadataMap:(l={},l[n]=g,l)})}return a}exports.__esModule=!0,exports.getBatchPayload=s,exports.getBatchError=a,exports.transformResponses=o;var l=require("../../blocks/get_mailboxes"),r=t(l),i=require("../../blocks/get_folders"),c=require("../../blocks/get_simple_body"),d=t(c),u=require("../../blocks/get_accounts"),n=require("../../blocks/get_message_by_csid"),m=e(n),b=require("../../blocks/get_account_alerts"),f=t(b),g=require("../mailbox_attributes/get_mailbox_attributes"),p=t(g),G=require("../../../mail_error/api"),x=t(G),y={GetMailboxes:"GetMailboxes",GetFolders:"GetFolders",GetUserData:"GetUserData",GetAccounts:"GetAccounts",GetSimpleBody:"GetSimpleBody",GetMessageByCsid:"GetMessageByCsid",GetAccountAlerts:"GetAccountAlerts"};exports.default={getBatchPayload:s,transformResponses:o,getBatchError:a};
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/get_account_alerts":"./platform/mail_api_client/blocks/get_account_alerts","../../blocks/get_accounts":"./platform/mail_api_client/blocks/get_accounts","../../blocks/get_folders":"./platform/mail_api_client/blocks/get_folders","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../../blocks/get_message_by_csid":"./platform/mail_api_client/blocks/get_message_by_csid","../../blocks/get_simple_body":"./platform/mail_api_client/blocks/get_simple_body","../mailbox_attributes/get_mailbox_attributes":"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes"}],"./platform/mail_api_client/methods/launch/default_folder":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var o=require("../../blocks/get_mailboxes"),r=t(o),s=require("../../blocks/get_folders"),a=require("../../blocks/get_messages_by_group"),l=e(a),c=require("../../blocks/get_conversations_by_group"),u=e(c),d=require("../../blocks/get_accounts"),i=require("../../../utils/object"),n=require("./folder"),b=t(n),f=require("../mailbox_attributes/get_mailbox_attributes"),g=t(f),x=require("../../blocks/update_decos"),I=t(x),m=require("../../blocks/get_account_alerts"),_=t(m),p=(0,i.mirrorKeys)(["GetMailboxes","GetFolders","GetMessageGroupList","GetAccounts","UnseenCountReset","GetAccountAlerts"]);exports.default={getBatchPayload:function e(t){var o=t.count,a=t.offset,c=t.sortOrder,i=t.filter,n=t.conversationsMode,b=n?u:l;return{requests:[Object.assign({},r.default.getBlockPayload(p.GetMailboxes),{filters:{iterator:"$..mailboxes[?(@.isSelected==true)]",select:{mailboxId:"$..id"}},requests:[Object.assign({},d.block.getBlockPayload(p.GetAccounts,{mailboxId:"$(mailboxId)"}),{filters:{select:{accountId:"$..accounts[?(@.isSelected==true)].id"}},requests:[I.default.getBlockPayload(p.UnseenCountReset,{mailboxId:"$(mailboxId)",accountId:"$(accountId)"}),Object.assign({},s.block.getBlockPayload(p.GetFolders,{mailboxId:"$(mailboxId)"}),{filters:{select:{folderId:"$..folders[?(@.acctId=='$(accountId)' && 'INBOX' in @.types)].id"}},requests:[b.getBlockPayload(p.GetMessageGroupList,{mailboxId:"$(mailboxId)",folderId:"$(folderId)",sortOrder:c,filter:i,count:o,offset:a})]})]}),_.default.getBlockPayload(p.GetAccountAlerts,{mailboxId:"$(mailboxId)"})].concat(g.default.getBatchPayload({mailboxId:"$(mailboxId)"}).requests)})]}},transformResponses:function e(t,o){var r=t.successMap;return b.default.transformResponses({successMap:r},Object.assign({},o,{folderId:void 0}))},getBatchError:function e(t){return b.default.getBatchError(t)}},module.exports=exports.default;
},{"../../../utils/object":"./platform/utils/object","../../blocks/get_account_alerts":"./platform/mail_api_client/blocks/get_account_alerts","../../blocks/get_accounts":"./platform/mail_api_client/blocks/get_accounts","../../blocks/get_conversations_by_group":"./platform/mail_api_client/blocks/get_conversations_by_group","../../blocks/get_folders":"./platform/mail_api_client/blocks/get_folders","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../../blocks/get_messages_by_group":"./platform/mail_api_client/blocks/get_messages_by_group","../../blocks/update_decos":"./platform/mail_api_client/blocks/update_decos","../mailbox_attributes/get_mailbox_attributes":"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes","./folder":"./platform/mail_api_client/methods/launch/folder"}],"./platform/mail_api_client/methods/launch/folder":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},s=require("../../../mail_error/api"),o=t(s),a=require("../../blocks/get_mailboxes"),l=t(a),u=require("../../blocks/get_folders"),i=require("../../blocks/get_messages_by_group"),n=e(i),d=require("../../blocks/get_conversations_by_group"),c=e(d),f=require("../../blocks/get_accounts"),b=require("../mailbox_attributes/get_mailbox_attributes"),g=t(b),p=require("../../blocks/update_decos"),m=t(p),G=require("../../blocks/get_account_alerts"),x=t(G),I=require("../../../mail_constants"),_=require("../../../mail_error/constants"),M=require("../../utils"),q=require("../../../base_client/logger"),y=t(q),k=require("../../../utils/api_logger"),v={GetMailboxes:"GetMailboxes",GetFolders:"GetFolders",GetMessageGroupList:"GetMessageGroupList",GetAccounts:"GetAccounts",UnseenCountReset:"UnseenCountReset",GetAccountAlerts:"GetAccountAlerts"};exports.default={getBatchPayload:function e(t){var s=t.folderId,o=t.count,a=t.offset,i=t.sortOrder,d=t.filter,b=t.conversationsMode,p=b?c:n;return{requests:[Object.assign({},l.default.getBlockPayload(v.GetMailboxes),{filters:{iterator:"$..mailboxes[?(@.isSelected==true)]",select:{mailboxId:"$..id"}},requests:[r({},f.block.getBlockPayload(v.GetAccounts,{mailboxId:"$(mailboxId)"}),{filters:{select:{accountId:"$..accounts[?(@.isSelected==true)].id"}},requests:[r({},u.block.getBlockPayload(v.GetFolders,{mailboxId:"$(mailboxId)"}),{filters:{iterator:"$..folders[?((@.id=="+s+" && "+s+" in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && "+s+" nin $.result.folders[*].id))]",select:{folderId:"@.id"}},requests:[p.getBlockPayload(v.GetMessageGroupList,{mailboxId:"$(mailboxId)",folderId:"$(folderId)",sortOrder:i,filter:d,count:o,offset:a})]}),m.default.getBlockPayload(v.UnseenCountReset,{mailboxId:"$(mailboxId)",accountId:"$(accountId)"})]}),x.default.getBlockPayload(v.GetAccountAlerts,{mailboxId:"$(mailboxId)"})].concat(g.default.getBatchPayload({mailboxId:"$(mailboxId)",attributes:I.LaunchMailboxAttributes}).requests)})]}},transformResponses:function e(t,s){var a=t.successMap,i=s.offset,d=s.count,b=s.conversationsMode,p=s.ymreqid,m=s.folderId,G=l.default.transformResponse(a[v.GetMailboxes]),q=u.block.transformResponse(a[v.GetFolders]),A=f.block.transformResponse(a[v.GetAccounts]),h=i+d,R=b?c:n,$=x.default.transformResponse(a[v.GetAccountAlerts]),O=g.default.transformResponses(a,I.LaunchMailboxAttributes),L=a[v.GetMessageGroupList].response.result.query,P=(0,M.getFolderIdFromQuery)(L),B=R.transformResponse(a[v.GetMessageGroupList],h,P),E=B.messageGroups,C=B.hasMore,F={mailboxes:G,accounts:A,folders:q,messageGroups:E,hasMoreItems:C,mailboxAttributes:O,accountAlerts:$,folderId:P};if(m&&P!==m){var S,j=G.filter(function(e){return e.isSelected})[0].id,w=[].concat(a[v.GetMessageGroupList].headers);w[2]={key:"Status-Code",value:500};var U=(S={},S[v.GetMessageGroupList]={headers:w,httpCode:500,id:v.GetMessageGroupList,response:{error:"ET-5006",requestId:p,resource:"/ws/v3/mailboxes/@.id=="+j+"/messages/@.select==q"}},S);return(0,k.apiPassiveErrorLogger)({logger:y.default,apiName:v.GetMessageGroupList,statusCode:0,errorCode:"",message:"failed to load provided folder id"}),r({},F,{error:new o.default(_.JEDI_ERROR_RESPONSE,U)})}return F},getBatchError:function e(t){var r=t.failureMap,s=g.default.updateFailureMap(r),a=Object.keys(s).length,l=s[v.UnseenCountReset],u=s[v.GetAccountAlerts];return l||u?(l&&m.default.getError(l),u&&x.default.getError(u),null):a?new o.default("One or more batch requests failed",s):null}},module.exports=exports.default;
},{"../../../base_client/logger":"./platform/base_client/logger","../../../mail_constants":"./platform/mail_constants","../../../mail_error/api":"./platform/mail_error/api","../../../mail_error/constants":"./platform/mail_error/constants","../../../utils/api_logger":"./platform/utils/api_logger","../../blocks/get_account_alerts":"./platform/mail_api_client/blocks/get_account_alerts","../../blocks/get_accounts":"./platform/mail_api_client/blocks/get_accounts","../../blocks/get_conversations_by_group":"./platform/mail_api_client/blocks/get_conversations_by_group","../../blocks/get_folders":"./platform/mail_api_client/blocks/get_folders","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../../blocks/get_messages_by_group":"./platform/mail_api_client/blocks/get_messages_by_group","../../blocks/update_decos":"./platform/mail_api_client/blocks/update_decos","../../utils":"./platform/mail_api_client/utils","../mailbox_attributes/get_mailbox_attributes":"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes"}],"./platform/mail_api_client/methods/launch/message":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/get_mailboxes"),s=e(t),a=require("../../blocks/get_folders"),o=require("../../blocks/get_simple_body"),l=e(o),r=require("../../blocks/get_accounts"),c=require("../../blocks/get_message"),d=e(c),u=require("../../blocks/get_account_alerts"),i=e(u),n=require("../mailbox_attributes/get_mailbox_attributes"),b=e(n),m=require("../../../mail_constants"),f={GetMailboxes:"GetMailboxes",GetFolders:"GetFolders",GetAccounts:"GetAccounts",GetSimpleBody:"GetSimpleBody",GetMessage:"GetMessage",GetAccountAlerts:"GetAccountAlerts"};exports.default={getBatchPayload:function e(t){var o=t.messageId;return{requests:[Object.assign({},s.default.getBlockPayload(f.GetMailboxes),{filters:{select:{mailboxId:"$..id"}},requests:[d.default.getBlockPayload(f.GetMessage,{mailboxId:"$(mailboxId)",messageId:o}),l.default.getBlockPayload(f.GetSimpleBody,{mailboxId:"$(mailboxId)",messageId:o,full:!0}),a.block.getBlockPayload(f.GetFolders,{mailboxId:"$(mailboxId)"}),r.block.getBlockPayload(f.GetAccounts,{mailboxId:"$(mailboxId)"}),i.default.getBlockPayload(f.GetAccountAlerts,{mailboxId:"$(mailboxId)"})].concat(b.default.getBatchPayload({mailboxId:"$(mailboxId)",attributes:m.LaunchMailboxAttributes}).requests)})]}},transformResponses:function e(t){var o,c,u=t.successMap,n=l.default.transformResponse(u[f.GetSimpleBody]),g=n.id,x=n.body,G=n.metadata,p=b.default.transformResponses(u,m.LaunchMailboxAttributes),k=Object.assign(d.default.transformResponse(u[f.GetMessage]),{attachments:G.attachments}),A=i.default.transformResponse(u[f.GetAccountAlerts]);return{mailboxes:s.default.transformResponse(u[f.GetMailboxes]),folders:a.block.transformResponse(u[f.GetFolders]),accounts:r.block.transformResponse(u[f.GetAccounts]),message:k,messageBodiesMap:(o={},o[g]=x,o),messageMetadataMap:(c={},c[g]=G,c),mailboxAttributes:p,accountAlerts:A}}},module.exports=exports.default;
},{"../../../mail_constants":"./platform/mail_constants","../../blocks/get_account_alerts":"./platform/mail_api_client/blocks/get_account_alerts","../../blocks/get_accounts":"./platform/mail_api_client/blocks/get_accounts","../../blocks/get_folders":"./platform/mail_api_client/blocks/get_folders","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../../blocks/get_message":"./platform/mail_api_client/blocks/get_message","../../blocks/get_simple_body":"./platform/mail_api_client/blocks/get_simple_body","../mailbox_attributes/get_mailbox_attributes":"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes"}],"./platform/mail_api_client/methods/launch/message_group":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t]);return s.default=e,s}function s(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o=require("../../blocks/get_mailboxes"),r=s(o),a=require("../../blocks/get_folders"),l=require("../../blocks/get_simple_body"),i=s(l),n=require("../../blocks/get_accounts"),u=require("../../blocks/get_conversation_message_group"),d=s(u),c=require("../../blocks/get_message"),p=s(c),m=require("../../blocks/get_conversations_by_group"),f=e(m),g=require("../../blocks/get_messages_by_group"),b=e(g),G=require("../../blocks/get_account_alerts"),x=s(G),I=require("../../../mail_error/api"),y=s(I),_=require("../../../mail_error/constants"),M=require("../../utils"),O=require("../mailbox_attributes/get_mailbox_attributes"),v=s(O),k=require("../../../mail_constants"),$=require("../../../base_client/logger"),q=s($),R=require("../../../utils/api_logger"),B={GetMailboxes:"GetMailboxes",GetFolders:"GetFolders",GetConversationMessageGroup:"GetConversationMessageGroup",GetAccounts:"GetAccounts",GetSimpleBody:"GetSimpleBody",GetMessage:"GetMessage",GetAccountAlerts:"GetAccountAlerts",GetMessageGroupList:"GetMessageGroupList",UnseenCountReset:"UnseenCountReset",OnEmpty:"OnEmpty"},E={OnEmpty:"OnEmpty",OnFailure:"OnFailure"},P=function e(s){return d.default.transformResponse(s[B.GetConversationMessageGroup],{isConversation:!0}).messageGroup},A=function e(s,t){return{id:t,messages:[p.default.transformResponse(s[B.GetMessage])]}},C=function e(s,o,l){return function(e){return t({},r.default.getBlockPayload(B.GetMailboxes),{id:B.GetMailboxes+e,filters:{iterator:"$..mailboxes[?(@.isSelected==true)]",select:{mailboxId:"$..id"}},suppressResponse:!1,requests:[t({},n.block.getBlockPayload(B.GetAccounts,{mailboxId:"$(mailboxId)"}),{id:B.GetAccounts+e,filters:{select:{accountId:"$..accounts[?(@.isSelected==true)].id"}},requests:[t({},a.block.getBlockPayload(B.GetFolders,{mailboxId:"$(mailboxId)"}),{filters:{iterator:"$..folders[?((@.id=="+s+" && "+s+" in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && "+s+" nin $.result.folders[*].id))]",select:{folderId:"@.id"}},id:B.GetFolders+e,requests:[t({},(o?f:b).getBlockPayload(B.GetMessageGroupList,t({mailboxId:"$(mailboxId)",folderId:"$(folderId)"},l)),{id:B.GetMessageGroupList+e})]})]})]})}};exports.default={getBatchPayload:function e(s){var t=s.isConversation,o=s.messageGroupId,l=s.folderId,u=s.count,c=s.offset,m=s.sortOrder,f=s.filter,g=[],b=C(l,t,{sortOrder:m,filter:f,count:u,offset:c});return t?g.push(Object.assign({},d.default.getBlockPayload(B.GetConversationMessageGroup,{mailboxId:"$(mailboxId)",messageGroupId:o,isConversation:t}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"},exportResponse:!0},suppressResponse:!1,requests:[i.default.getBlockPayload(B.GetSimpleBody+"_$(id)",{mailboxId:"$(mailboxId)",messageId:"$(id)",full:!0})]},{onEmpty:{id:B.OnEmpty,suppressResponse:!1,applyFilterOn:"$("+B.GetConversationMessageGroup+")",requests:[b(E.OnEmpty)]},onFailure:b(E.OnFailure)})):(g.push(Object.assign({},p.default.getBlockPayload(B.GetMessage,{mailboxId:"$(mailboxId)",messageId:o}),{onFailure:b(E.OnFailure)})),g.push(Object.assign({},i.default.getBlockPayload(B.GetSimpleBody+"_"+o,{mailboxId:"$(mailboxId)",messageId:o,full:!0})))),{requests:[Object.assign({},r.default.getBlockPayload(B.GetMailboxes),{filters:{iterator:"$..mailboxes[?(@.isSelected==true)]",select:{mailboxId:"$..id"}},requests:[].concat(g,[a.block.getBlockPayload(B.GetFolders,{mailboxId:"$(mailboxId)"}),n.block.getBlockPayload(B.GetAccounts,{mailboxId:"$(mailboxId)"}),x.default.getBlockPayload(B.GetAccountAlerts,{mailboxId:"$(mailboxId)"})]).concat(v.default.getBatchPayload({mailboxId:"$(mailboxId)",attributes:k.LaunchMailboxAttributes}).requests)})]}},transformResponses:function e(s,o){var l=s.successMap,u=s.failureMap,d=o.isConversation,c=o.messageGroupId,p=o.offset,m=o.count,g=v.default.transformResponses(l,k.LaunchMailboxAttributes),G={mailboxes:r.default.transformResponse(l[B.GetMailboxes]),folders:a.block.transformResponse(l[B.GetFolders]),accounts:n.block.transformResponse(l[B.GetAccounts]),mailboxAttributes:g,accountAlerts:x.default.transformResponse(l[B.GetAccountAlerts])},I=d?f:b,O=l[B.GetMessageGroupList+E.OnEmpty]||l[B.GetMessageGroupList+E.OnFailure];if(O){var $=p+m,q=O.response.result.query,R=(0,M.getFolderIdFromQuery)(q),C=I.transformResponse(O,$,R);return t({},G,{messageGroupList:C.messageGroups,hasMoreItems:C.hasMore,folderId:R,error:new y.default(_.JEDI_ERROR_RESPONSE,u)})}var F=d?P(l):A(l,c),h={},S={};return F.messages.forEach(function(e){var s=i.default.transformResponse(l[B.GetSimpleBody+"_"+e.id]);h[e.id]=s.body,S[e.id]=s.metadata}),t({},G,{messageGroups:[F],messageBodiesMap:h,messageMetadataMap:S})},getBatchError:function e(s,t){var o=s.failureMap,r=t.isConversation,a=v.default.updateFailureMap(o);if(0===Object.keys(a).length)return null;var l=r?a[B.GetConversationMessageGroup]:a[B.GetMessage];if(l&&l.response&&l.response.error){var i=l.response.error.code;if(["EC-4001","ET-5005","ET-5006"].indexOf(i)>=0)return(0,R.apiPassiveErrorLogger)({logger:q.default,apiName:l.id,statusCode:l.httpCode,errorCode:i,message:"failed to load provided message/conversation id"}),null}return new y.default(_.JEDI_ERROR_RESPONSE,a)}},module.exports=exports.default;
},{"../../../base_client/logger":"./platform/base_client/logger","../../../mail_constants":"./platform/mail_constants","../../../mail_error/api":"./platform/mail_error/api","../../../mail_error/constants":"./platform/mail_error/constants","../../../utils/api_logger":"./platform/utils/api_logger","../../blocks/get_account_alerts":"./platform/mail_api_client/blocks/get_account_alerts","../../blocks/get_accounts":"./platform/mail_api_client/blocks/get_accounts","../../blocks/get_conversation_message_group":"./platform/mail_api_client/blocks/get_conversation_message_group","../../blocks/get_conversations_by_group":"./platform/mail_api_client/blocks/get_conversations_by_group","../../blocks/get_folders":"./platform/mail_api_client/blocks/get_folders","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../../blocks/get_message":"./platform/mail_api_client/blocks/get_message","../../blocks/get_messages_by_group":"./platform/mail_api_client/blocks/get_messages_by_group","../../blocks/get_simple_body":"./platform/mail_api_client/blocks/get_simple_body","../../utils":"./platform/mail_api_client/utils","../mailbox_attributes/get_mailbox_attributes":"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes"}],"./platform/mail_api_client/methods/launch/skeleton":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/get_mailboxes"),o=e(t),s=require("../../blocks/get_folders"),a=require("../../blocks/get_accounts"),r=require("../../blocks/get_account_alerts"),l=e(r),u=require("../mailbox_attributes/get_mailbox_attributes"),c=e(u),n=require("../../../mail_error/constants"),i=require("../../../mail_error/api"),d=e(i),b={GetMailboxes:"GetMailboxes",GetFolders:"GetFolders",GetAccounts:"GetAccounts",GetAccountAlerts:"GetAccountAlerts"};exports.default={getBatchPayload:function e(){return{requests:[Object.assign({},o.default.getBlockPayload(b.GetMailboxes),{filters:{select:{mailboxId:"$..id"}},requests:[s.block.getBlockPayload(b.GetFolders,{mailboxId:"$(mailboxId)"}),a.block.getBlockPayload(b.GetAccounts,{mailboxId:"$(mailboxId)"}),l.default.getBlockPayload(b.GetAccountAlerts,{mailboxId:"$(mailboxId)"})].concat(c.default.getBatchPayload({mailboxId:"$(mailboxId)"}).requests)})]}},getBatchError:function e(t){var o=t.failureMap,s=c.default.updateFailureMap(o);return Object.keys(s)>0?new d.default(n.JEDI_ERROR_RESPONSE,s):null},transformResponses:function e(t){var r=t.successMap,u=c.default.transformResponses(r),n=l.default.transformResponse(r[b.GetAccountAlerts]);return{mailboxes:o.default.transformResponse(r[b.GetMailboxes]),folders:s.block.transformResponse(r[b.GetFolders]),accounts:a.block.transformResponse(r[b.GetAccounts]),mailboxAttributes:u,accountAlerts:n}}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../../mail_error/constants":"./platform/mail_error/constants","../../blocks/get_account_alerts":"./platform/mail_api_client/blocks/get_account_alerts","../../blocks/get_accounts":"./platform/mail_api_client/blocks/get_accounts","../../blocks/get_folders":"./platform/mail_api_client/blocks/get_folders","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../mailbox_attributes/get_mailbox_attributes":"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes"}],"./platform/mail_api_client/methods/list/delete":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/delete_messages"),t=e(s),r=require("../../blocks/task_status"),a=e(r),u=require("../../../invariant"),o=e(u),n={DeleteList:"DeleteList"};exports.default={getBatchPayload:function e(s){return{requests:s.map(function(e){var s=e.mailboxId,r=e.query,a=e.async,u=void 0===a||a;return(0,o.default)(s,"`mailboxId` missing."),(0,o.default)(r,"`query` missing."),t.default.getBlockPayload(n.DeleteList,{mailboxId:s,query:r,async:u})})}},transformResponses:function e(s){var r=s.successMap,u=r[n.DeleteList];return u.response?{task:a.default.transformResponse(u)}:t.default.transformResponse(u)}},module.exports=exports.default;
},{"../../../invariant":"./platform/invariant","../../blocks/delete_messages":"./platform/mail_api_client/blocks/delete_messages","../../blocks/task_status":"./platform/mail_api_client/blocks/task_status"}],"./platform/mail_api_client/methods/list/folder_delete":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("./delete"),a=e(r),t=require("../../../invariant"),s=e(t);exports.default={getBatchPayload:function e(r){var t=r.map(function(e){var r=e.mailboxId,a=e.folderId,t=e.async;return(0,s.default)(r,"`mailboxId` missing."),(0,s.default)(a,"`folderId` missing."),{mailboxId:r,query:"folderId:"+a,async:t}});return a.default.getBatchPayload(t)},transformResponses:function e(r){var t=r.successMap;return a.default.transformResponses({successMap:t})}},module.exports=exports.default;
},{"../../../invariant":"./platform/invariant","./delete":"./platform/mail_api_client/methods/list/delete"}],"./platform/mail_api_client/methods/list/folder_update":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("./update"),t=e(a),r=require("../../../invariant"),s=e(r);exports.default={getBatchPayload:function e(a){var r=a.map(function(e){var a=e.mailboxId,t=e.query,r=e.destinationFolderId,u=e.flags,n=e.async;return(0,s.default)(a,"`mailboxId` missing."),(0,s.default)(t,"`query` missing."),(0,s.default)(r||u,"`destinationFolderId` or `flags` required."),{mailboxId:a,query:t,destinationFolderId:r,flags:u,async:n}});return t.default.getBatchPayload(r)},transformResponses:function e(a){var r=a.successMap;return t.default.transformResponses({successMap:r})}},module.exports=exports.default;
},{"../../../invariant":"./platform/invariant","./update":"./platform/mail_api_client/methods/list/update"}],"./platform/mail_api_client/methods/list/update":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/update_messages"),t=e(s),a=require("../../blocks/task_status"),r=e(a),o=require("../../../invariant"),d=e(o),u={UpdateList:"UpdateList"};exports.default={getBatchPayload:function e(s){return{requests:s.map(function(e){var s=e.mailboxId,a=e.query,r=e.destinationFolderId,o=e.flags,n=e.async,i=void 0===n||n;return(0,d.default)(s,"`mailboxId` missing."),(0,d.default)(a,"`query` missing."),(0,d.default)(r||o,"`destinationFolderId` or `flags` required."),t.default.getBlockPayload(u.UpdateList,{mailboxId:s,query:a,destinationFolderId:r,flags:o,async:i})})}},transformResponses:function e(s){var a=s.successMap,o=a[u.UpdateList];return o.response?{task:r.default.transformResponse(o)}:t.default.transformResponse(o)}},module.exports=exports.default;
},{"../../../invariant":"./platform/invariant","../../blocks/task_status":"./platform/mail_api_client/blocks/task_status","../../blocks/update_messages":"./platform/mail_api_client/blocks/update_messages"}],"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.RequestIdPrefix=void 0;var r=require("../../blocks/get_mailbox_attribute"),t=e(r),o=require("../../../mail_constants"),a=require("lodash/omit"),i=e(a),n=require("../../../base_client/logger"),s=e(n),u=require("../../../utils/object"),l=require("../../../utils/api_logger"),d=exports.RequestIdPrefix="GetMailboxAttribute_";exports.default={getBatchPayload:function e(r){var a=r.mailboxId,i=r.attributes,n=void 0===i?o.NorrinMailboxAttributes:i;return{requests:Object.keys(n).map(function(e){var r=n[e];return t.default.getBlockPayload(d+r,{mailboxId:a,attributeId:r})})}},updateFailureMap:function e(r){var t=Object.keys(r).filter(function(e){return 0===e.indexOf(d)});if(t.length>0){var o=t.map(function(e){return r[e]}),a=t.map(function(e){return e.replace(d,"")});return(0,l.apiPassiveErrorLogger)({logger:s.default,apiName:o[0].id,statusCode:o[0].httpCode,errorCode:(0,u.getIn)(o[0],"response.error.code",""),ymreqid:(0,u.getIn)(o[0],"response.error.requestId",""),extraStatusCode:o.map(function(e){return(0,u.getIn)(e,"httpCode","")}).join(","),extraErrorCode:o.map(function(e){return(0,u.getIn)(e,"response.error.code","")}).join(","),message:"failed to load attribute values "+a.join(",")+"."}),(0,i.default)(r,t)}return r},transformResponses:function e(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.NorrinMailboxAttributes,i=a;Array.isArray(a)||(i=Object.keys(a).map(function(e){return a[e]}));for(var n=i.length,s={},u=!0,l=0;l<n;l++){var c=i[l],f=d+c,p=r[f];if(p){var b=t.default.transformResponse(p);Object.assign(s,b)}else u=!1}return{responses:s,success:u}}};
},{"../../../base_client/logger":"./platform/base_client/logger","../../../mail_constants":"./platform/mail_constants","../../../utils/api_logger":"./platform/utils/api_logger","../../../utils/object":"./platform/utils/object","../../blocks/get_mailbox_attribute":"./platform/mail_api_client/blocks/get_mailbox_attribute","lodash/omit":"./node_modules/lodash/omit.js"}],"./platform/mail_api_client/methods/message_groups/folder_change_get_list":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("../../../mail_error/api"),o=t(r),s=require("../../blocks/get_messages_by_group"),n=e(s),u=require("../../blocks/get_conversations_by_group"),a=e(u),l=require("../../blocks/update_decos"),d=t(l),i=require("./get_list"),f=e(i),c={GetMessageGroupList:"GetMessageGroupList",UnseenCountReset:"UnseenCountReset"};exports.default={getBatchPayload:function e(t){var r=t.accountId,o=t.mailboxId,s=t.folderId,u=t.count,l=t.offset,i=t.sortOrder,f=t.filter;return{requests:[(t.conversationsMode?a:n).getBlockPayload(c.GetMessageGroupList,{mailboxId:o,folderId:s,count:u,offset:l,sortOrder:i,filter:f}),d.default.getBlockPayload(c.UnseenCountReset,{mailboxId:o,accountId:r})]}},transformResponses:function e(t,r){return f.transformResponses(t,r)},getBatchError:function e(t){var r=t.failureMap,s=Object.keys(r).length,n=r[c.UnseenCountReset];return n&&1===s?d.default.getError(n):s?new o.default("One or more batch requests failed",r):null}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/get_conversations_by_group":"./platform/mail_api_client/blocks/get_conversations_by_group","../../blocks/get_messages_by_group":"./platform/mail_api_client/blocks/get_messages_by_group","../../blocks/update_decos":"./platform/mail_api_client/blocks/update_decos","./get_list":"./platform/mail_api_client/methods/message_groups/get_list"}],"./platform/mail_api_client/methods/message_groups/get":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/get_simple_body"),o=e(s),a=require("../../blocks/get_conversation_message_group"),t=e(a),r={GetConversationMessageGroup:"GetConversationMessageGroup",GetSimpleBody:"GetSimpleBody",GetMessage:"GetMessage"};exports.default={getBatchPayload:function e(s){var a=s.messageGroupId,i=s.mailboxId,n=s.isConversation,u=s.secure,d=s.full,l=[];return l.push(Object.assign({},t.default.getBlockPayload(r.GetConversationMessageGroup,{mailboxId:i,messageGroupId:a,isConversation:n}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"}},requests:[o.default.getBlockPayload(r.GetSimpleBody+"_$(id)",{mailboxId:i,messageId:"$(id)",full:d,secure:u})]})),{requests:l}},transformResponses:function e(s,a){var i=s.successMap,n=a.isConversation,u={},d=t.default.transformResponse(i[r.GetConversationMessageGroup],{isConversation:n}).messageGroup;return d.messages.forEach(function(e){var s=o.default.transformResponse(i[r.GetSimpleBody+"_"+e.id]);u[e.id]=s.body,Object.assign(e.headers,s.metadata.headers)}),{messageGroup:d,messageBodiesMap:u}}},module.exports=exports.default;
},{"../../blocks/get_conversation_message_group":"./platform/mail_api_client/blocks/get_conversation_message_group","../../blocks/get_simple_body":"./platform/mail_api_client/blocks/get_simple_body"}],"./platform/mail_api_client/methods/message_groups/get_cards_list":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}exports.__esModule=!0;var r=require("../../blocks/get_conversations_by_group"),t=e(r),s={GetMessageCardsList:"GetMessageCardsList"};exports.default={getBatchPayload:function e(r){var o=r.mailboxId,a=r.filter,n=r.count,u=r.offset,d=r.sortOrder,i=r.startCardDate,f=r.endCardDate;return{requests:[t.getBlockPayload(s.GetMessageCardsList,{mailboxId:o,count:n,offset:u,filter:a,sortOrder:d,startCardDate:i,endCardDate:f,groupBy:"cardConversationId"})]}},transformResponses:function e(r,o){var a=r.successMap,n=o.offset,u=o.count,d=n+u,i=t.transformResponse(a[s.GetMessageCardsList],d,o),f=i.messageGroups,c=i.hasMore;return{cardGroupList:f.filter(function(e){return e.messages.some(function(e){var r=e.decos;return(void 0===r?[]:r).some(function(e){return"EML"===e.id})})}),hasMoreItems:c}}},module.exports=exports.default;
},{"../../blocks/get_conversations_by_group":"./platform/mail_api_client/blocks/get_conversations_by_group"}],"./platform/mail_api_client/methods/message_groups/get_list":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s.default=e,s}exports.__esModule=!0;var s=require("../../blocks/get_messages_by_group"),r=e(s),o=require("../../blocks/get_conversations_by_group"),t=e(o),a={GetMessageGroupList:"GetMessageGroupList"};exports.default={getBatchPayload:function e(s){var o=s.mailboxId,n=s.folderId,u=s.count,d=s.offset,i=s.sortOrder,l=s.filter,c=s.conversationsMode,f=s.excludeFolderTypes,p=s.ids,g=s.cardConversationIds;return{requests:[(c&&!g?t:r).getBlockPayload(a.GetMessageGroupList,{mailboxId:o,folderId:n,count:u,offset:d,filter:l,sortOrder:i,excludeFolderTypes:f,ids:p,cardConversationIds:g})]}},transformResponses:function e(s,o){var n=s.successMap,u=o.conversationsMode,d=o.offset,i=o.count,l=o.cardConversationIds,c=d+i,f=u&&!l?t:r,p=f.transformResponse(n[a.GetMessageGroupList],c,o.folder);return{messageGroupList:p.messageGroups,hasMoreItems:p.hasMore}}},module.exports=exports.default;
},{"../../blocks/get_conversations_by_group":"./platform/mail_api_client/blocks/get_conversations_by_group","../../blocks/get_messages_by_group":"./platform/mail_api_client/blocks/get_messages_by_group"}],"./platform/mail_api_client/methods/messages/delete":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/delete_messages"),t=e(s),a=require("../../../invariant"),l=e(a),r={DeleteMessages:"DeleteMessages"};exports.default={getBatchPayload:function e(s){var a=s.mailboxId,o=s.messageIds;return(0,l.default)(o.length,"`messageIds` cannot be empty when calling `DeleteMessages`"),(0,l.default)(a,"`mailboxId` missing."),{requests:[t.default.getBlockPayload(r.DeleteMessages,{mailboxId:a,messageIds:o})]}},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../../invariant":"./platform/invariant","../../blocks/delete_messages":"./platform/mail_api_client/blocks/delete_messages"}],"./platform/mail_api_client/methods/messages/get":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/get_mailboxes"),t=e(s),a=require("../../blocks/get_message"),o=e(a),l={GetMailboxes:"GetMailboxes",GetMessage:"GetMessage"};exports.default={getBatchPayload:function e(s){var a=s.messageId;return{requests:[Object.assign({},t.default.getBlockPayload(l.GetMailboxes),{filters:{select:{mailboxId:"$..id"}},requests:[o.default.getBlockPayload(l.GetMessage,{mailboxId:"$(mailboxId)",messageId:a})]})]}},transformResponses:function e(s){var t=s.successMap;return{message:o.default.transformResponse(t[l.GetMessage])}}},module.exports=exports.default;
},{"../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../../blocks/get_message":"./platform/mail_api_client/blocks/get_message"}],"./platform/mail_api_client/methods/messages/get_bodies":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("../../blocks/get_simple_body"),s=e(a),t=require("../../../mail_error/api"),r=e(t),o={GetSimpleBody:"GetSimpleBody"};exports.default={getBatchPayload:function e(a){var t=a.mailboxId,r=a.messageIds,d=void 0===r?[]:r,l=a.draftMessageIds,u=void 0===l?[]:l,n=a.full,i=a.secure,c=d.map(function(e,a){var r=o.GetSimpleBody+"_"+a;return s.default.getBlockPayload(r,{mailboxId:t,messageId:e,full:n,secure:i})}),f=u.map(function(e,a){var r=o.GetSimpleBody+"_"+(a+d.length);return s.default.getBlockPayload(r,{mailboxId:t,messageId:e,full:!0,secure:!1})});return{requests:c.concat(f)}},transformResponses:function e(a,t){var r=t.messageIds,o=void 0===r?[]:r,d=t.draftMessageIds,l=void 0===d?[]:d,u=a.successMap,n={},i={},c=o.concat(l),f={},m=[];return c.forEach(function(e){f[e]=!1}),Object.keys(u).forEach(function(e){var a=s.default.transformResponse(u[e]);n[a.id]=a.body,i[a.id]=a.metadata,f[a.id]=!0}),c.forEach(function(e){f[e]||m.push(e)}),{result:{messageBodiesMap:n,messageMetadataMap:i},error:{messageIds:m}}},getBatchError:function e(a,s){var t=a.failureMap,o=s.messageIds,d=void 0===o?[]:o,l=s.draftMessageIds,u=void 0===l?[]:l;return Object.keys(t).length!==d.concat(u).length?null:new r.default("All requests in method `getBodies` failed",t)}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/get_simple_body":"./platform/mail_api_client/blocks/get_simple_body"}],"./platform/mail_api_client/methods/messages/get_extracted_bodies":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s.default=e,s}function s(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("../../blocks/get_simple_body"),t=s(a),o=require("../../blocks/get_messages_by_group"),r=e(o),d=require("../../../mail_error/api"),n=s(d),u={GetSimpleBody:"GetSimpleBody",GetMessagesByGroup:"GetMessagesByGroup"};exports.default={getBatchPayload:function e(s){var a=s.mailboxId,o=s.messageIds,d=void 0===o?[]:o,n=s.draftMessageIds,l=void 0===n?[]:n,i=s.cardConversationIds,c=void 0===i?[]:i,f=s.full,p=s.secure,g=d.map(function(e,s){var o=u.GetSimpleBody+"_"+s;return t.default.getBlockPayload(o,{mailboxId:a,messageId:e,full:f,secure:p})}),m=l.map(function(e,s){var o=u.GetSimpleBody+"_"+(s+d.length);return t.default.getBlockPayload(o,{mailboxId:a,messageId:e,full:!0,secure:!1})}),v=[];if(c.length>0){var y=u.GetMessagesByGroup+"_0",M=r.getBlockPayload(y,{mailboxId:a,offset:0,count:50,excludeFolderTypes:["TRASH","SPAM"],cardConversationIds:c});v.push(M)}return{requests:g.concat(m).concat(v)}},transformResponses:function e(s,a){var o=a.messageIds,d=void 0===o?[]:o,n=a.draftMessageIds,u=void 0===n?[]:n,l=s.successMap,i={},c={},f=d.concat(u),p=void 0,g={},m=[];return f.forEach(function(e){g[e]=!1}),Object.keys(l).forEach(function(e){if(e.indexOf("GetSimpleBody")!==-1){var s=t.default.transformResponse(l[e]);i[s.id]=s.body,c[s.id]=s.metadata,g[s.id]=!0}else if(e.indexOf("GetMessagesByGroup")!==-1){var a=r.transformResponse(l[e]);p=a.messageGroups}}),f.forEach(function(e){g[e]||m.push(e)}),{result:{messageBodiesMap:i,messageMetadataMap:c,extractedMessageGroups:p},error:{messageIds:m}}},getBatchError:function e(s,a){var t=s.failureMap,o=a.messageIds,r=void 0===o?[]:o,d=a.draftMessageIds,u=void 0===d?[]:d,l=a.cardConversationIds,i=void 0===l?[]:l;return Object.keys(t).length!==r.concat(u).concat(i).length?null:new n.default("All requests in method `getExtractedBodies` failed",t)}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/get_messages_by_group":"./platform/mail_api_client/blocks/get_messages_by_group","../../blocks/get_simple_body":"./platform/mail_api_client/blocks/get_simple_body"}],"./platform/mail_api_client/methods/messages/save":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s.default=e,s}function s(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},t=require("../../blocks/save_message"),o=s(t),a=require("../../blocks/get_conversations_by_group"),n=e(a),u=require("../../blocks/get_messages_by_group"),i=e(u),l=require("../../../mail_error/api"),c=s(l),p=require("../../../utils/object"),d={SaveMessage:"SaveMessage",GetMessageGroupList:"GetMessageGroupList"};exports.default={getBatchPayload:function e(s){var r=s.conversationsMode?n:i;return{requests:[Object.assign(o.default.getBlockPayload(d.SaveMessage,s),{filters:{select:{cid:"$..message.conversationId"}},requests:[r.getBlockPayload(d.GetMessageGroupList,{mailboxId:s.mailboxId,cidFilter:"$(cid)",count:1,offset:0})]})]}},transformResponses:function e(s,r){var t=s.successMap,a=t[d.SaveMessage],u=r.conversationsMode?n:i,l=o.default.transformResponse(a,r),c=l.message,p=l.simpleBody,g=r.folderId;return{message:c,simpleBody:p,messageGroupList:u.transformResponse(t[d.GetMessageGroupList],1,g).messageGroups}},getBatchError:function e(s){var t=s.successMap,o=s.failureMap,a=t[d.SaveMessage];return a&&"ES-2001"===(0,p.getIn)(a,"response.error.code",null)?new c.default("MailApiClient.Save",Object.keys(t).reduce(function(e,s){var o,a=t[s],n=a.httpCode,u=a.response,i=u.error,l=void 0===i?{}:i;return r({},e,(o={},o[s]={httpCode:n,response:{error:l}},o))},{}),!1):Object.keys(o).length>0?new c.default("MailApiClient.Save",o):null}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../../utils/object":"./platform/utils/object","../../blocks/get_conversations_by_group":"./platform/mail_api_client/blocks/get_conversations_by_group","../../blocks/get_messages_by_group":"./platform/mail_api_client/blocks/get_messages_by_group","../../blocks/save_message":"./platform/mail_api_client/blocks/save_message"}],"./platform/mail_api_client/methods/messages/save_and_send":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},a=require("../../blocks/save_message"),r=e(a),t=require("../../blocks/send_message"),o=e(t),l=require("../../blocks/get_simple_body"),n=e(l),d=require("../../../mail_error/api"),i=e(d),u=require("../../../utils/object"),c={SaveMessage:"SaveMessage",SendMessage:"SendMessage",GetSimpleBody:"GetSimpleBody"};exports.default={getBatchPayload:function e(s){var a=s.mailboxId,t=s.sentFolderId,l=s.secure,d=s.inReplyTo;return{requests:[Object.assign(r.default.getBlockPayload(c.SaveMessage,s),{filters:{select:{messageId:"$..message.immutableid",csid:"$..message.csid"}},requests:[n.default.getBlockPayload(c.GetSimpleBody,{mailboxId:a,messageId:"$(messageId)",secure:l,full:!0}),o.default.getBlockPayload(c.SendMessage,{mailboxId:a,inReplyTo:d,folderId:t,messageId:"$(messageId)",csid:"$(csid)"})]})]}},transformResponses:function e(s,a){var t=s.successMap,l=n.default.transformResponse(t[c.GetSimpleBody]),d=l.body,i=l.message,u=t[c.SaveMessage],g=u?r.default.transformResponse(u,a).message:i;if(t[c.SendMessage]){var p=o.default.transformResponse(t[c.SendMessage],a);g.id=p.id}return{message:g,simpleBody:d}},getBatchError:function e(a){var r=a.failureMap,t=a.successMap,o=t[c.SaveMessage];if(!Object.keys(r).length&&Object.keys(t).length)return o&&"ES-2001"===(0,u.getIn)(o,"response.error.code",null)?new i.default("MailApiClient.SaveAndSend",Object.keys(t).reduce(function(e,a){var r,o=t[a],l=o.httpCode,n=o.response,d=void 0===n?{}:n,i=d.error,u=void 0===i?{}:i;return s({},e,(r={},r[a]={httpCode:l,response:{error:u}},r))},{}),!1):null;if(o){var l=(0,u.getIn)(o,"response.result.message",null);if(l&&"C"===l.spame)return null}return new i.default("MailApiClient.SaveAndSend",r)}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../../utils/object":"./platform/utils/object","../../blocks/get_simple_body":"./platform/mail_api_client/blocks/get_simple_body","../../blocks/save_message":"./platform/mail_api_client/blocks/save_message","../../blocks/send_message":"./platform/mail_api_client/blocks/send_message"}],"./platform/mail_api_client/methods/messages/save_raw_message":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/save_raw_message"),a=e(s),r={SaveRawMessage:"SaveRawMessage"};exports.default={getBatchPayload:function e(s){return{requests:s.map(function(e,s){return a.default.getBlockPayload(r.SaveRawMessage+"_"+s,s,e)})}},transformResponses:function e(s){return{result:{successMap:s.successMap},error:{failureMap:s.failureMap}}}},module.exports=exports.default;
},{"../../blocks/save_raw_message":"./platform/mail_api_client/blocks/save_raw_message"}],"./platform/mail_api_client/methods/messages/send":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/send_message"),a=e(s),t={SendMessage:"SendMessage"};exports.default={getBatchPayload:function e(s){var d=s.mailboxId,r=s.messageId,o=s.csid,n=s.captchaAnswer,l=s.sentFolderId,u=s.inReplyTo;return{requests:[a.default.getBlockPayload(t.SendMessage,{mailboxId:d,messageId:r,csid:o,captchaAnswer:n,folderId:l,inReplyTo:u})]}},transformResponses:function e(s){var d=s.successMap;return{message:a.default.transformResponse(d[t.SendMessage])}}},module.exports=exports.default;
},{"../../blocks/send_message":"./platform/mail_api_client/blocks/send_message"}],"./platform/mail_api_client/methods/messages/trash_and_delete":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/update_messages"),a=e(s),t=require("../../blocks/delete_messages"),r=e(t),u=require("../../../mail_error/api"),l=e(u),o={UpdateMessages:"UpdateMessages",DeleteMessages:"DeleteMessages"};exports.default={getBatchPayload:function e(s){var t=s.trashPayload,u=s.deletePayload,l=[];return u&&l.push(r.default.getBlockPayload(o.DeleteMessages,{mailboxId:u.mailboxId,messageIds:u.messageIds})),t&&(l=l.concat(t.map(function(e,s){return a.default.getBlockPayload(o.UpdateMessages+"_"+s,e)}))),{requests:l}},transformResponses:function e(s){var a=s.successMap,t=!1,r=Object.keys(a).map(function(e){return a[e].response?(t=!0,a[e].response.result):1});return t?{results:r}:1},getBatchError:function e(s){var a=s.successMap,t=s.failureMap;return Object.keys(a).length?null:new l.default("All requests in method `messages.update` failed.",t)}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/delete_messages":"./platform/mail_api_client/blocks/delete_messages","../../blocks/update_messages":"./platform/mail_api_client/blocks/update_messages"}],"./platform/mail_api_client/methods/messages/undo/get_list":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}exports.__esModule=!0;var o=require("../../../blocks/get_folders"),s=require("../../../blocks/get_messages_by_group"),t=r(s),l=require("../../../blocks/get_conversations_by_group"),a=r(l),u=require("../../../../mail_error/api"),n=e(u),d={GetFolders:"GetFolders",GetMessageGroupList:"GetMessageGroupList"};exports.default={getBatchPayload:function e(r){var s=r.mailboxId,l=r.folderId,u=r.sortOrder,n=r.filter,i=r.count,f=r.conversationsMode,c=f?a:t,p={};return p.requests=[o.block.getBlockPayload(d.GetFolders,{mailboxId:s}),c.getBlockPayload(d.GetMessageGroupList,{mailboxId:s,folderId:l,sortOrder:u,filter:n,count:i,offset:0})],p},transformResponses:function e(r,s){var l=r.successMap,u=s.folderId,n=s.conversationsMode,i=s.count,f=n?a:t;return{folders:o.block.transformResponse(l[d.GetFolders]),messageGroupList:f.transformResponse(l[d.GetMessageGroupList],i,u).messageGroups}},getBatchError:function e(r){var o=r.failureMap;return Object.keys(o).length?new n.default("`undo.list` failed.",o):null}},module.exports=exports.default;
},{"../../../../mail_error/api":"./platform/mail_error/api","../../../blocks/get_conversations_by_group":"./platform/mail_api_client/blocks/get_conversations_by_group","../../../blocks/get_folders":"./platform/mail_api_client/blocks/get_folders","../../../blocks/get_messages_by_group":"./platform/mail_api_client/blocks/get_messages_by_group"}],"./platform/mail_api_client/methods/messages/undo/undo":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("../../../blocks/update_messages"),r=e(a),t=require("../../../../mail_error/api"),s=e(t),o={UndoMessageOperation:"UndoMessageOperation"};exports.default={getBatchPayload:function e(a){var t=a.undoMap,s=a.mailboxId,n={},u=[];return Object.keys(t).forEach(function(e,a){var n=o.UndoMessageOperation+"_"+a,d=t[e],l=r.default.getBlockPayload(n,{mailboxId:s,destinationFolderId:e,messageIds:d});u.push(l)}),n.requests=u,n},transformResponses:function e(){return 1},getBatchError:function e(a){var r=a.failureMap;return Object.keys(r).length?new s.default("`messages.undo` failed.",r):null}},module.exports=exports.default;
},{"../../../../mail_error/api":"./platform/mail_error/api","../../../blocks/update_messages":"./platform/mail_api_client/blocks/update_messages"}],"./platform/mail_api_client/methods/messages/update":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/update_messages"),t=e(s),r=require("../../../mail_error/api"),a=e(r),u={UpdateMessages:"UpdateMessages"};exports.default={getBatchPayload:function e(s){return{requests:s.map(function(e,s){return t.default.getBlockPayload(u.UpdateMessages+"_"+s,e)})}},transformResponses:function e(s){var t=s.successMap,r=!1,a=Object.keys(t).map(function(e){return t[e].response?(r=!0,t[e].response.result):1});return r?{results:a}:1},getBatchError:function e(s){var t=s.successMap,r=s.failureMap;return Object.keys(t).length?null:new a.default("All requests in method `messages.update` failed.",r)}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/update_messages":"./platform/mail_api_client/blocks/update_messages"}],"./platform/mail_api_client/methods/messages/updatev3":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../blocks/update_messages"),t=e(s),r=require("../../../mail_error/api"),a=e(r),u={UpdateMessages:"UpdateMessages"};exports.default={getBatchPayload:function e(s){var r={};return s.messageItems&&(r=s.messageItems.reduce(function(e,t){var r=t.destinationFolder.id,a=t.id;return r in e?e[r].messageIds.push(a):e[r]={mailboxId:s.mailboxId,messageIds:[a],destinationFolderId:r},e},{})),{requests:Object.keys(r).map(function(e,s){return t.default.getBlockPayload(u.UpdateMessages+"_"+s,r[e])})}},transformResponses:function e(s){var t=s.successMap,r=!1,a=Object.keys(t).map(function(e){return t[e].response?(r=!0,t[e].response.result):1});return r?{results:a}:1},getBatchError:function e(s){var t=s.successMap,r=s.failureMap;return Object.keys(t).length?null:new a.default("All requests in method `messages.update` failed.",r)}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/update_messages":"./platform/mail_api_client/blocks/update_messages"}],"./platform/mail_api_client/methods/settings/add_account":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/add_account"),o=e(t),c=require("../../blocks/get_accounts"),r=require("../../../mail_error/api"),u=e(r),a={AddAccount:"AddAccount",GetAccounts:"GetAccounts"};exports.default={getBatchPayload:function e(t){var r=t.mailboxId,u=t.account;return{requests:[Object.assign({},o.default.getBlockPayload(a.AddAccount,{account:u,mailboxId:r}),{requests:[c.block.getBlockPayload(a.GetAccounts,t)]})]}},transformResponses:function e(t){var o=t.successMap;return c.block.transformResponse(o[a.GetAccounts])},getBatchError:function e(t){var o=t.failureMap,c=o[a.AddAccount],r=o[a.GetAccounts];return c&&409!==c.httpCode||r?new u.default("One or more batch requests failed",o):null}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../blocks/add_account":"./platform/mail_api_client/blocks/add_account","../../blocks/get_accounts":"./platform/mail_api_client/blocks/get_accounts"}],"./platform/mail_api_client/methods/settings/create_alias":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../../mail_error/api"),o=e(s),t={AddAccount:"AddAccount",IdSuggestions:"IdSuggestions"};exports.default={getBatchPayload:function e(s){var o=s.mailboxId,n=s.email,r="/ws/v3/mailboxes/@.id=="+o+"/accounts/",u=n.indexOf("@")===-1?n+"@yahoo.com":n;return{requests:[{id:t.AddAccount,uri:r,method:"POST",payload:{account:{email:u,type:"ALIAS",description:"Extra email addresss account"}},onFailure:{id:t.IdSuggestions,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(n),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError:function e(s){var n=s.failureMap,r=n[t.AddAccount],u=n[t.IdSuggestions];return r&&u?new o.default("All batch requests failed",n):null},transformResponses:function e(s){var o=s.successMap,n=o[t.AddAccount],r=o[t.IdSuggestions],u=void 0,d=void 0;return!n&&r&&r.response&&r.response.response?u=r.response.response.idSuggestionsList:n&&n.response&&n.response.result&&(d=n.response.result),{suggestions:u,newAccount:d}}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api"}],"./platform/mail_api_client/methods/settings/delete_account":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/delete_account"),o=e(t),u={DeleteAccount:"deleteAccount"};exports.default={getBatchPayload:function e(t){var c=t.mailboxId,r=t.accountId;return{requests:[o.default.getBlockPayload(u.DeleteAccount,{accountId:r,mailboxId:c})]}},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../blocks/delete_account":"./platform/mail_api_client/blocks/delete_account"}],"./platform/mail_api_client/methods/settings/get":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../mailbox_attributes/get_mailbox_attributes"),s=e(t);exports.default={getBatchPayload:function e(t){var r=t.mailboxId;return{requests:s.default.getBatchPayload({mailboxId:r}).requests}},transformResponses:function e(t){var r=t.successMap;return s.default.transformResponses(r).responses}},module.exports=exports.default;
},{"../mailbox_attributes/get_mailbox_attributes":"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes"}],"./platform/mail_api_client/methods/settings/get_feature_attributes":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/get_mailboxes"),s=e(t),r=require("../mailbox_attributes/get_mailbox_attributes"),a=e(r),o=require("../../../mail_constants"),u={GetMailboxes:"GetMailboxes"};exports.default={getBatchPayload:function e(){return{requests:[Object.assign({},s.default.getBlockPayload(u.GetMailboxes),{filters:{iterator:"$..mailboxes[?(@.isSelected==true)]",select:{mailboxId:"$..id"}},requests:a.default.getBatchPayload({mailboxId:"$(mailboxId)",attributes:o.FeatureMailboxAttributes}).requests})]}},getBatchError:function e(){return null},transformResponses:function e(t){var s=t.successMap;return{mailboxAttributes:a.default.transformResponses(s,o.FeatureMailboxAttributes).responses}}},module.exports=exports.default;
},{"../../../mail_constants":"./platform/mail_constants","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../mailbox_attributes/get_mailbox_attributes":"./platform/mail_api_client/methods/mailbox_attributes/get_mailbox_attributes"}],"./platform/mail_api_client/methods/settings/resend_confirm_email":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("../../blocks/resend_confirm_email"),s=e(r),n={ResendConfirmEmail:"ResendConfirmEmail"};exports.default={getBatchPayload:function e(r){var o=r.account;return{requests:[s.default.getBlockPayload(n.ResendConfirmEmail,{account:o})]}},transformResponses:function e(r){return r.successMap[n.ResendConfirmEmail].response.result}},module.exports=exports.default;
},{"../../blocks/resend_confirm_email":"./platform/mail_api_client/blocks/resend_confirm_email"}],"./platform/mail_api_client/methods/settings/save_delivery_blocked_senders":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("../../blocks/save_mailbox_attribute"),t=e(r),s={DeliveryBlockedSenders:"deliveryBlockedSenders"};exports.default={getBatchPayload:function e(r){var o=r.mailboxId,l=r.senders;return{requests:[t.default.getBlockPayload(s.DeliveryBlockedSenders,{mailboxId:o,value:{senders:l}})]}},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../blocks/save_mailbox_attribute":"./platform/mail_api_client/blocks/save_mailbox_attribute"}],"./platform/mail_api_client/methods/settings/save_message_filters":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/save_mailbox_attribute"),s=e(t),a={MessageFilters:"messageFilters"};exports.default={getBatchPayload:function e(t){var r=t.mailboxId,l=t.payload;return{requests:[s.default.getBlockPayload(a.MessageFilters,{mailboxId:r,value:{filters:l}})]}},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../blocks/save_mailbox_attribute":"./platform/mail_api_client/blocks/save_mailbox_attribute"}],"./platform/mail_api_client/methods/settings/save_vacation_preferences":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var a=require("../../blocks/save_mailbox_attribute"),o=e(a),s={VacationPreferences:"vacationPreferences"};exports.default={getBatchPayload:function e(a){var t=a.mailboxId,n=a.payload,d=n.enabled,r=n.startDate,i=n.endDate,c=n.messageBody,l=n.domainSpecificResponse.domains,u=n.domainSpecificResponse.domainMessageBody;return{requests:[o.default.getBlockPayload(s.VacationPreferences,{mailboxId:t,value:{enabled:d,startDate:r,endDate:i,messageBody:c,domainSpecificResponse:{domains:l,domainMessageBody:u}}})]}},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../blocks/save_mailbox_attribute":"./platform/mail_api_client/blocks/save_mailbox_attribute"}],"./platform/mail_api_client/methods/settings/save_web_mailbox_attributes":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var t=require("../../blocks/get_mailboxes"),a=e(t),r=require("../../blocks/save_mailbox_attribute"),s=require("../../../mail_constants"),i={GetMailboxes:"GetMailboxes"};exports.default={getBatchPayload:function e(t){var o=t.mailboxId,u=t.attributes,l=(0,r.getMultiAttributeChain)({mailboxId:o||"$(mailboxId)",attributes:u.map(function(e){var t,a=e.id,r=e.value;return{id:a,value:a===s.MailboxAttributes.DEA_BASE_NAME?r:(t={},t[""+a]=r,t)}})});return o?l:{requests:[Object.assign({},a.default.getBlockPayload(i.GetMailboxes),{filters:{iterator:"$..mailboxes[?(@.isSelected==true)]",select:{mailboxId:"$..id"}},requests:l.requests})]}},transformResponses:function e(){return 1}},module.exports=exports.default;
},{"../../../mail_constants":"./platform/mail_constants","../../blocks/get_mailboxes":"./platform/mail_api_client/blocks/get_mailboxes","../../blocks/save_mailbox_attribute":"./platform/mail_api_client/blocks/save_mailbox_attribute"}],"./platform/mail_api_client/methods/settings/set_base_name":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../../mail_error/api"),t=e(s),a=require("../../../utils/object"),r={SetDeaPrefix:"SetDeaPrefix",GetDeaSuggestion:"GetDeaSuggestion",DisposableAddressesPrefix:"disposableAddressesPrefix"};exports.default={getBatchPayload:function e(s){var t=s.mailboxId,a=s.baseName,i=s.domain,u=r.DisposableAddressesPrefix,o="/ws/v3/mailboxes/@.id=="+t+"/attributes/@.id=="+u;return{requests:[{id:r.SetDeaPrefix,uri:o,method:"POST",payload:{id:u,link:{type:"RELATIVE",href:o},value:{deaPrefix:a,deaDomain:i}},onFailure:{id:r.GetDeaSuggestion,uri:"/ws/comms/deasuggestion/mail_cascade_yahoo/xml/v1",method:"POST",payload:{value:{ValidateFieldsRequest:{RequestVersion:"$(RequestVersion)",RequestTimestamp:"$(RequestTimestamp)",RequestSignature:"$(RequestSignature)",RequestID:"$(RequestID)",AccountID:a,RemoteIPAddress:"$(RemoteIPAddress)",PartnerName:"$(PartnerName)"}}},suppressResponse:!1},suppressResponse:!1}]}},getBatchError:function e(s){var i=s.successMap,u=s.failureMap,o=u[r.SetDeaPrefix],d=u[r.GetDeaSuggestion],n=i[r.GetDeaSuggestion];return!(!o||!d&&(0,a.getIn)(n,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",!1))&&new t.default("All batch requests failed",u)},transformResponses:function e(s){var t=s.successMap,i=t[r.GetDeaSuggestion];return i?{suggestions:(0,a.getIn)(i,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",[])}:[]}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../../utils/object":"./platform/utils/object"}],"./platform/mail_api_client/methods/settings/set_base_name_jws":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var s=require("../../../mail_error/api"),t=e(s),i=require("../../../utils/object"),r={SetDeaPrefix:"SetDeaPrefix",GetDeaSuggestion:"GetDeaSuggestion",DisposableAddressesPrefix:"disposableAddressesPrefix"};exports.default={getBatchPayload:function e(s){var t=s.mailboxId,i=s.baseName,a=s.domain,o=r.DisposableAddressesPrefix,u="/ws/v3/mailboxes/@.id=="+t+"/attributes/@.id=="+o;return{requests:[{id:r.SetDeaPrefix,uri:u,method:"POST",payload:{id:o,link:{type:"RELATIVE",href:u},value:{deaPrefix:i,deaDomain:a}},onFailure:{id:r.GetDeaSuggestion,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(i),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError:function e(s){var a=s.successMap,o=s.failureMap,u=o[r.SetDeaPrefix],n=o[r.GetDeaSuggestion],d=a[r.GetDeaSuggestion];return!(!u||!n&&(0,i.getIn)(d,"response.response.idSuggestionsList",!1))&&new t.default("All batch requests failed",o)},transformResponses:function e(s){var t=s.successMap,a=t[r.GetDeaSuggestion];return a?{suggestions:(0,i.getIn)(a,"response.response.idSuggestionsList",[])}:[]}},module.exports=exports.default;
},{"../../../mail_error/api":"./platform/mail_error/api","../../../utils/object":"./platform/utils/object"}],"./platform/mail_api_client/methods/settings/update_account":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c])}return t},o=require("../../blocks/update_account"),c=t(o),a={GetAccount:"GetAccount",UpdateAccount:"UpdateAccount"};exports.default={getBatchPayload:function t(o){var u=o.mailboxId,r=o.account,n=o.data;return{requests:[e({},c.default.getBlockPayload(a.UpdateAccount,{account:r,mailboxId:u,data:n}),{requests:[{id:a.GetAccount,uri:"/ws/v3/mailboxes/@.id=="+u+"/accounts/@.id=="+r.id,method:"GET"}]})]}},transformResponses:function t(e){return e.successMap[a.GetAccount].response.result}},module.exports=exports.default;
},{"../../blocks/update_account":"./platform/mail_api_client/blocks/update_account"}],"./platform/mail_api_client/methods/task/abort":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var e=require("../../blocks/task_abort"),r=t(e),o={TaskAbort:"TaskAbort"};exports.default={getBatchPayload:function t(e){var a=e.mailboxId,s=e.taskId;return{requests:[r.default.getBlockPayload(o.TaskAbort,{mailboxId:a,taskId:s})]}},transformResponses:function t(e){return e.error}},module.exports=exports.default;
},{"../../blocks/task_abort":"./platform/mail_api_client/blocks/task_abort"}],"./platform/mail_api_client/methods/task/status":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var s=require("../../blocks/task_status"),a=t(s),e={TaskStatus:"TaskStatus"};exports.default={getBatchPayload:function t(s){var u=s.mailboxId,r=s.taskId;return{requests:[a.default.getBlockPayload(e.TaskStatus,{mailboxId:u,taskId:r})]}},transformResponses:function t(s){var u=s.successMap;return{task:a.default.transformResponse(u[e.TaskStatus])}}},module.exports=exports.default;
},{"../../blocks/task_status":"./platform/mail_api_client/blocks/task_status"}],"./platform/mail_api_client/utils":[function(require,module,exports){
"use strict";function e(e){var t="";switch(e){case n.ListFilters.PEOPLE:t+=a+"is"+o+"personal";break;case n.ListFilters.SHOPPING:t+=a+"is"+o+"shopping";break;case n.ListFilters.TRAVEL:t+=a+"is"+o+"travel";break;case n.ListFilters.TRAVEL_VIEW:t+=a+"decoId"+o+"FLR";break;case n.ListFilters.SAVED_COUPON_CARDS:t+=a+"decoId"+o+c+"CPN"+a+"TAG"+u;break;case n.ListFilters.FINANCE:t+=a+"is"+o+"financial";break;case n.ListFilters.SOCIAL:t+=a+"is"+o+"social"}return t}function t(e,t,r){if(!e[t])return"";var s=e[t].split(" ").map(function(e){return e.split(":")}).filter(function(e){return e[0]===r});return 0===s.length?"":s[0][1]||""}function r(e){return t(e,"base","folderid")||"1"}function s(e){var r=Number(t(e,"options","count"));return isNaN(r)?0:r}function i(e,t){return e.some(function(e){return e&&e.id&&e.id===t})}exports.__esModule=!0,exports.getListFilterQuery=e,exports.getFolderIdFromQuery=r,exports.getRequestedCountFromQuery=s,exports.isDecoOfType=i;var n=require("../../../platform/mail_constants"),o=encodeURIComponent(":"),a=encodeURIComponent(" "),c=encodeURIComponent("("),u=encodeURIComponent(")");
},{"../../../platform/mail_constants":"./platform/mail_constants"}],"./platform/mail_constants/compose":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.Fonts=[{name:"modern",label:"Modern",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},{name:"modernwide",label:"Modern Wide",fontFamily:"verdana, helvetica, sans-serif"},{name:"classic",label:"Classic",fontFamily:'"times new roman", "new york", times, serif'},{name:"classicwide",label:"Classic Wide",fontFamily:'"bookman old style", "new york", times, serif'},{name:"courier",label:"Courier New",fontFamily:'"courier new", courier, monaco, monospace, sans-serif'},{name:"garamond",label:"Garamond",fontFamily:'garamond, "new york", times, serif'},{name:"lucida",label:"Lucida Console",fontFamily:'"lucida console", sans-serif'}],exports.FontSizes=[{name:"tiny",fontSize:1,value:"10px"},{name:"small",fontSize:2,value:"13px"},{name:"medium",fontSize:3,value:"16px"},{name:"large",fontSize:5,value:"24px"},{name:"xlarge",fontSize:6,value:"32px"},{name:"huge",fontSize:7,value:"48px"}],exports.FontSizeMap={10:"1",13:"2",16:"3",24:"5",32:"6",48:"7"},exports.FontSizeValues={TINY:"10px",SMALL:"13px",MEDIUM:"16px",LARGE:"24px",XLARGE:"32px",HUGE:"48px"};var e=exports.MAX_RECIPIENT_LIMIT=100,a=exports.FocusableRefs={EDITOR:"editor",FROM:"from",TO:"to",SUBJECT:"subject",CC:"cc",BCC:"bcc"};
},{}],"./platform/mail_constants":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.RetriableWhitelist=exports.ContextualToolbarPlaceholders=exports.MessageDecorators=exports.LaunchError=exports.SchemaTypes=exports.LoadingState=exports.BOOTCAMP_GIF_SOURCE=exports.MAX_UNREAD_EMAILS=exports.MORE_THAN_999_EMAILS=exports.PlayerStatus=exports.DOWNLOAD_COMPLETE_TIMEOUT=exports.DOWNLOADER_ERROR_TYPE=exports.StationeryCategories=exports.FILTER_QUERY_PARAMS=exports.OauthWindowsStatusFunction=exports.Settings=exports.Features=exports.CALENDAR_WSSID=exports.WSSID=exports.CRUMB_NAME=exports.QUOTED_BODY_CLASS=exports.TLD_VALUES=exports.YAHOO_COUNTRY_CODES=exports.PARTNER_DOMAINS=exports.IMAP_SETTINGS=exports.SUPPORTED_PROVIDERS=exports.YahooOfficialVerifiedDomains=exports.ApiClientLoggerNames=exports.CARD_EXPANSION_STATES=exports.DEFAULT_MESSAGES_TO_FETCH=exports.SocialAccountSPIDs=exports.SocialAccounts=exports.EmailProviders=exports.CREDSTORE_HOST=exports.JWS_HOST=exports.ErrorTypes=exports.SecureCryptoMode=exports.AppRefreshTypes=exports.PrintTypes=exports.OSKeys=exports.BootcampSRPExpandParams=exports.FolderMenuItems=exports.Keys=void 0,exports.ListReferrer=exports.SettingsTab=exports.BulkTaskStatus=exports.BulkActionTypes=exports.MAIL_DEFAULT_ROUTE=exports.AllMailItemField=exports.AdvancedSearchFields=exports.ConfirmIds=exports.FilterOperatorTypes=exports.FilterFieldTypes=exports.FilterMatchTypes=exports.FilterActionTypes=exports.SectionTransitionCoefficient=exports.SectionUIMode=exports.AttachmentPreview=exports.MarkAsReadInterval=exports.SortSearchBy=exports.XobniState=exports.NotificationModes=exports.DesktopNotification=exports.MessageListLayout=exports.ActionAfterMessageMove=exports.DefaultFont=exports.MessageListDensity=exports.ShowImageSettings=exports.PreviewPaneSettings=exports.CursorMovement=exports.TabButtonDecorators=exports.TabTitleTypes=exports.SuggestionType=exports.SuggestionIntent=exports.DecoIds=exports.InboxFilters=exports.ListFilters=exports.TimeChunk=exports.ListContentTypes=exports.AccountAuthTypes=exports.AccountStatus=exports.ROOT_ACCOUNT_TYPE=exports.AccountSectionTypes=exports.AccountTypes=exports.ModifierKeys=exports.ResolutionTypes=exports.NotificationIds=exports.XOBNI_HOST=exports.SESSION_ID=exports.CHECK_MAIL_MESSAGES_COUNT=exports.YMREQ_CLIENT_ID=exports.SORT_ORDER_CARD_DATE_ASC=exports.SortOrder=exports.RouteRegExp=exports.STORM_URL=exports.MAILGATE_URL=exports.RAPID_WEBWORKER_FILE=exports.AD_FREE_MAIL_URL=exports.SPLUNK_SEARCH_LINK=exports.CANARY_HOST=exports.BETA_HOST=exports.ALPHA_HOST=exports.GLOBAL_MAIL_URL=exports.PUBLIC_PATH=exports.NORRIN_SHARE_LINK=exports.NORRIN_OPT_OUT_PATH=exports.HEARTBEAT_PATH=exports.LOGGER_PATH=exports.UNIVERSAL_YCPI_PATH_PREFIX=exports.MOBILE_YCPI_PATH_PREFIX=exports.DESKTOP_YCPI_PATH_PREFIX=exports.YCPI_PATH_PREFIX=exports.AllowedDeeplinkRoutes=exports.RouteNames=exports.MailboxWebAttributes=exports.MailboxAttributes=exports.NorrinMailboxAttributes=exports.LaunchMailboxAttributes=exports.FeatureMailboxAttributes=exports.Attachments=exports.SearchTypes=exports.AttachmentStates=exports.RecordStates=exports.Chevron=exports.SystemFolders=exports.FolderDisplayTypes=exports.SmartViewTypes=exports.SystemFolderTypes=exports.PrimaryFolderTypes=exports.FolderTypes=exports.Draft=exports.Compose=exports.UnsavedDataTypes=exports.NotificationPriorities=exports.NotificationRoles=exports.NotificationTypes=exports.PageTypes=exports.Apps=exports.INTERSTITIAL_SPACEID=exports.ATHENA_HOST=exports.migrationAppId=exports.nobleAppId=exports.appId=void 0;var e,E,o,t=Object.assign||function(e){for(var E=1;E<arguments.length;E++){var o=arguments[E];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},s=require("../utils/object"),r=require("./compose"),_=exports.appId="YMailNorrin",A=exports.nobleAppId="YMailNoble",S=exports.migrationAppId="YmailNorrinMigration",i=exports.ATHENA_HOST="https://commsdata.api.yahoo.com",T=exports.INTERSTITIAL_SPACEID=959521194,a=exports.Apps=(0,s.mirrorKeys)(["MAIL_APP","COMPOSE_APP","MAIL_ENCRYPTED_APP","PLAYGROUND","MOBILE_APP"]),I=exports.PageTypes=(0,s.mirrorKeys)(["MESSAGE","COMPOSE","SEARCH","NAVIGATION","V3_MAIL_READER","MAIL_READER","PREVIEW","SPONSORED_MESSAGE","TUTORIAL"]),O=exports.NotificationTypes=(0,s.mirrorKeys)(["NORMAL","ADVISORY","WARNING"]),R=exports.NotificationRoles={ALERT_DIALOG:"alertdialog",STATUS:"status",ALERT:"alert"},p=exports.NotificationPriorities={LOW:1,MEDIUM:2,HIGH:3},n=exports.UnsavedDataTypes=(0,s.mirrorKeys)(["COMPOSE"]),N=exports.Compose={Modes:(0,s.mirrorKeys)(["NEW","REPLY","REPLY_ALL","FORWARD","EDIT","SPONSORED_FORWARD"])},D=exports.Draft={Status:(0,s.mirrorKeys)(["DOES_NOT_EXIST","INIT","EDITED","SAVING","SAVED","SAVED_PARTIAL","SAVE_FAILED","SENDING","SEND_FAILED","SENT","CAPTCHAING"])},C=exports.FolderTypes=(0,s.mirrorKeys)(["INBOX","BULK","DRAFT","SENT","TRASH","ARCHIVE","TOKENCACHE","USER","STAGING","SYNC","NOTES","DELETED","CHATS","INVISIBLE","NOT_SEARCHABLE","EXTERNAL_ALL","ALERTSTORE"]),l=exports.PrimaryFolderTypes=(0,s.mirrorKeys)([C.INBOX,C.DRAFT,C.SENT,C.TRASH,C.BULK,C.ARCHIVE,C.TOKENCACHE,C.USER,C.STAGING,C.SYNC,C.NOTES,C.DELETED,C.CHATS]),L=exports.SystemFolderTypes=(0,s.mirrorKeys)([C.INBOX,C.DRAFT,C.SENT,C.ARCHIVE,C.TRASH,C.BULK]),c=exports.SmartViewTypes=(0,s.mirrorKeys)(["UNREAD","STARRED","DOCUMENTS","PHOTOS","TUTORIAL","MAGIC_TRIAGE","COUPONS","TRAVEL"]),m=exports.FolderDisplayTypes=Object.assign((0,s.mirrorKeys)(["ALL_MAIL"]),C),M=exports.SystemFolders={INBOX:"1",DRAFT:"3",SENT:"2",TRASH:"4",SPAM:"6"},P=exports.Chevron=(0,s.mirrorKeys)(["DOWN","LEFT","NONE"]),d=exports.RecordStates=(0,s.mirrorKeys)(["DOES_NOT_EXIST","REFRESHING","LOADING","LOADED","ERROR"]),x=exports.AttachmentStates=(0,s.mirrorKeys)(["DELETED","LOADING","LOADED","ERROR","DELETING"]),F=exports.SearchTypes=(0,s.mirrorKeys)(["CONTACT","SUBJECT"]),U=exports.Attachments={Types:{TEXT:"text",IMAGE:"image",MESSAGE:"message",VIDEO:"video",AUDIO:"audio",APPLICATION:"application"},SubTypes:{ACROBAT:"acrobat",CALENDAR:"calendar",CSS:"css",CSV:"csv",DELIVERY_STATUS:"delivery-status",DOC:"msword",DOCX:"vnd.openxmlformats-officedocument.wordprocessingml.document",DOT:"dot",EXCEL:"excel",FRAMEMAKER:"vnd.framemaker",GDOCX:"vnd.google-apps.document",GIF:"gif",GPPT:"vnd.google-apps.presentation",GXLS:"vnd.google-apps.spreadsheet",GZIP:"x-gzip",HTML:"html",ICS:"ics",MS_WORD:"microsoft_word",MSEXCEL:"msexcel",MSTNEF:"ms-tnef",PDF:"pdf",PLAIN:"plain",PNG:"png",PPT:"vnd.ms-powerpoint",PPTX:"vnd.openxmlformats-officedocument.presentationml.presentation",PPTX_SLIDESHOW:"vnd.openxmlformats-officedocument.presentationml.slideshow",PPTX_TEMPLATE:"vnd.openxmlformats-officedocument.presentationml.template",RFC822:"rfc822",RICHTEXT:"richtext",SC2:"mswor2c sc2",TAR:"x-tar",TIFF:"tiff",VND_MS_WORD:"vnd.ms-word",VND_MSWORD:"vnd.msword",VND_PDF:"vnd.pdf",WINWORD:"winword",WORD:"word",X_COMPRESSED:"x-compressed",X_DOT:"x-dot",X_EXCEL:"x-excel",X_FM:"x-fm",X_FRAMEMAKER:"x-framemaker",X_MAKER:"x-maker",X_MS_EXCEL:"x-dos_ms_excel",X_MS_WORD:"x-msword",X_MSW6:"x-msw6",X_PDF:"x-pdf",X_RTF:"x-rtf",X_SOFFICE:"x-soffice",X_XLS:"x-xls",X_ZIP:"x-zip-compressed",XLS:"vnd.ms-excel",XLS_M:"vnd.ms-excel.sheet.macroEnabled.12",XLS_M_TEMPLATE:"vnd.ms-excel.template.macroEnabled.12",XLS_TEMPLATE:"vnd.openxmlformats-officedocument.spreadsheetml.template",XLSX:"vnd.openxmlformats-officedocument.spreadsheetml.sheet",XML:"xml",ZIP:"zip",ZZ_DOT:"zz-winassoc-dot"},Dispositions:{ATTACHMENT:"attachment",INLINE:"inline"},SimplifiedTypes:{APPLICATION:"application",IMAGE:"image",VIDEO:"video",FILE:"file",AUDIO:"audio",COMPRESSED:"compressed",CAL:"cal",PDF:"pdf",XLS:"xls",DOC:"doc",PPT:"ppt",TEXT:"text",CSV:"csv",TIFF:"tiff"}},H=exports.FeatureMailboxAttributes={HAS_ADS:"hasAds",THEME:"web.mailTheme",THEME_MODE:"web.themeMode",SECURE_MODE:"secureMode",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",SHOW_ALL_SYSTEM_FOLDERS:"web.showAllSystemFolders"},y=exports.LaunchMailboxAttributes=t({},H,{PREVIEW_PANE:"web.mailPreviewPane",MAIL_TABS:"web.mailTabs",SNIPPETS:"web.generalSnippet",MSG_LIST_DENSITY:"web.msgsListDensity",DESKTOP_NOTIFICATION:"web.desktopNotification",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",HIDE_AD:"web.hideAd",EXPANDED_FOLDERS:"web.expandedFolders",STATIONERY_DEFAULT_THEME:"web.stationeryTheme",COMPOSE_FONT_FAMILY:"web.composeFontFamily",COMPOSE_FONT_SIZE:"web.composeFontSize",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",BLOCK_IMAGES:"web.blockImages",UNSUBSCRIBE_NOTIFICATION:"web.showUnsubscribeNotification",UNSUBSCRIBE_TIMESTAMP:"web.unsubscribeTimestamp",NUM_UNSUBSCRIBED_ITEMS:"web.numUnsubscribedItems",MAGIC_TRIAGE_USER_VISITS:"web.magicTriageUserVisits",MAGIC_TRIAGE_TIMESTAMP:"web.magicTriageTimestamp",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",LINK_ENHANCER:"web.enableEnhancerLinkPreview",RECENTLY_USED_EMOJIS:"web.emojiRecentlyUsed",OPENED_TABS:"web.systemTabs"}),u=exports.NorrinMailboxAttributes=t({},y,{VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MESSAGE_FILTERS:"messageFilters",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",TWEET:"web.enableTweet"}),h=exports.MailboxAttributes=t({},u,{USE_RICH_TEXT:"web.useRichText",ADD_UNKNOWN_CONTACT:"web.addUnknownContact",EXPAND_SMART_VIEWS:"web.showSmartViews",XOBNI:"xobni",KEY_TASKS_PANEL:"web.keyTasksPanel",COMPOSE_SHOW_CC:"web.composeShowCc",COMPOSE_SHOW_BCC:"web.composeShowBcc",CC_ON_SEND:"web.ccOnSend",BCC_ON_SEND:"web.bccOnSend",BREAKING_NEWS:"web.breakingNews",HIDE_FACEBOOK_FOOTER:"web.autoSuggestHideFacebookFooter",HIDE_LINKEDIN_FOOTER:"web.autoSuggestHideLinkedinFooter",HIDE_LINKEDIN_RECONNECT:"web.hideLinkedinReconnect",SUPRESS_EMPTY_FOLDER_VIDEO:"web.suppressEmptyFolderVideo",SORT_SEARCH_BY:"web.searchSortBy",PEOPLE_NOTIFICATION:"web.peopleNotification",IMPORTANT_NOTIFICATION:"web.importantNotification",CANCEL_DELETE_COUNT:"web.cancelClickOnHoverDeleteCount",CONFIRM_BEFORE_DELETE:"web.confirmBeforeDelete",SHOW_EMAIL_HISTORY:"web.showEmailHistory",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SHOW_CLOUD_PERMISSION_DIALOG:"web.showCloudFilePermissionsDialog",ONBOARDING:"mailOnBoard",SYSTEM_TABS:"web.systemTabs"}),G=exports.MailboxWebAttributes=(0,s.mirrorKeys)(["INTERSTITIAL_FREQUENCY","SECURE_MODE","PREVIEW_PANE","MAIL_TABS","SNIPPETS","MSG_LIST_DENSITY","LINK_ENHANCER","DESKTOP_NOTIFICATION","COMPOSE_FONT_FAMILY","COMPOSE_FONT_SIZE","EXPANDED_FOLDERS","SHOW_CUSTOM_FOLDERS","HIDE_AD","TWEET","STATIONERY_DEFAULT_THEME","ACTION_AFTER_MSG_MOVE","BLOCK_IMAGES","USE_RICH_TEXT","ADD_UNKNOWN_CONTACT","EXPAND_SMART_VIEWS","KEY_TASKS_PANEL","THEME","THEME_MODE","COMPOSE_SHOW_CC","COMPOSE_SHOW_BCC","CC_ON_SEND","BCC_ON_SEND","BREAKING_NEWS","HIDE_FACEBOOK_FOOTER","HIDE_LINKEDIN_FOOTER","HIDE_LINKEDIN_RECONNECT","SUPRESS_EMPTY_FOLDER_VIDEO","SORT_SEARCH_BY","PEOPLE_NOTIFICATION","IMPORTANT_NOTIFICATION","CANCEL_DELETE_COUNT","CONFIRM_BEFORE_DELETE","SHOW_EMAIL_HISTORY","MARK_AS_READ_INTERVAL","SHOW_CLOUD_PERMISSION_DIALOG","ONBOARDING","UNSUBSCRIBE_NOTIFICATION","UNSUBSCRIBE_TIMESTAMP","NUM_UNSUBSCRIBED_ITEMS","MAGIC_TRIAGE_USER_VISITS","MAGIC_TRIAGE_TIMESTAMP","RECENTLY_USED_EMOJIS","SYSTEM_TABS"]),g=exports.RouteNames={LIST:"list",BASE:"base",FOLDER:"folder",MESSAGE_FROM_FOLDER_LIST:"message_from_folder_list",MESSAGE_FROM_SEARCH_LIST:"message_from_search_list",NEW_DRAFT:"new_draft",EDIT_DRAFT:"edit_draft",SEARCH:"search",SETTINGS:"settings",ATTACHMENT:"attachment",SPONSORED_MESSAGE:"sponsored_message",SECURE_COMPOSE:"secure_compose",SECURE_BODY:"secure_body",SECURE_SETTINGS:"secure_settings",TUTORIAL:"tutorial",MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:"message_group_list_from_folder_list"},b=exports.AllowedDeeplinkRoutes=(0,s.mirrorKeys)([g.SETTINGS]),f=exports.YCPI_PATH_PREFIX="/d",w=exports.DESKTOP_YCPI_PATH_PREFIX="/d",B=exports.MOBILE_YCPI_PATH_PREFIX="/m",K=exports.UNIVERSAL_YCPI_PATH_PREFIX="/[dm]",V=exports.LOGGER_PATH=f+"/log",Y=exports.HEARTBEAT_PATH=f+"/heartbeat",v=exports.NORRIN_OPT_OUT_PATH=f+"/optout",W=exports.NORRIN_SHARE_LINK="https://mg.mail.yahoo.com"+f+"/tryNewMail",k=exports.PUBLIC_PATH="/public",X=exports.GLOBAL_MAIL_URL="https://mail.yahoo.com",z=exports.ALPHA_HOST="https://alpha-mg.mail.yahoo.com",j=exports.BETA_HOST="https://beta-mg.mail.yahoo.com",Z=exports.CANARY_HOST="https://canary-mg.mail.yahoo.com",J=exports.SPLUNK_SEARCH_LINK="http://yo/norrinjsesearch",Q=exports.AD_FREE_MAIL_URL="https://payments.mail.yahoo.com",q=exports.RAPID_WEBWORKER_FILE=k+"/js/rapidworker_1.2.js",$=exports.MAILGATE_URL="https://mg.mail.yahoo.com",ee=exports.STORM_URL=$+"/neo/launch",Ee=exports.RouteRegExp={NON_MAIL_ENCRYPTED_ROUTES:new RegExp("^(?!"+K+"/secure/)"),NON_MAIL_ENCRYPTED_ROUTES_REQUIRES_USER_SETTINGS:new RegExp("^(?!"+K+"/(secure|heartbeat|gemini_api|video_api)/?)")},oe=exports.SortOrder={DATE_DESC:"date_desc",DATE_ASC:"date_asc",UNREAD:"unread",STARRED:"flagged",SENDER:"sender",SUBJECT:"subject",ATTACHMENT:"attachment",RELEVANCE:"relevance"},te=exports.SORT_ORDER_CARD_DATE_ASC="cardDate",se=exports.YMREQ_CLIENT_ID=28,re=exports.CHECK_MAIL_MESSAGES_COUNT=200,_e=exports.SESSION_ID=Math.floor(65535*Math.random()),Ae=exports.XOBNI_HOST="https://data.mail.yahoo.com/xobni",Se=exports.NotificationIds=(0,s.mirrorKeys)(["ARCHIVE_FOLDER_FAILED","CREATE_FOLDER_FAILED","RENAME_FOLDER_FAILED","DELETE_FOLDER_FAILED","MARK_READ_FOLDER_FAILED","CLEAR_FOLDER_FAILED","ARCHIVE_FOLDER_SUCCEEDED","CREATE_FOLDER_SUCCEEDED","RENAME_FOLDER_SUCCEEDED","DELETE_FOLDER_SUCCEEDED","MARK_READ_FOLDER_SUCCEEDED","CLEAR_FOLDER_SUCCEEDED","FOLDER_ACCESS_FAILED","DELETE_NON_EMPTY_FOLDER_REQUESTED","MOVE_QUERY_FAILED","MOVE_QUERY_SUCCEEDED","MARK_QUERY_FAILED","MARK_QUERY_SUCCEEDED","BULK_PROGRESS","COMPOSE_SEND","COMPOSE_SEND_SUCCEEDED","COMPOSE_SEND_FAILED","COMPOSE_ADDRESSING_FAILED","COMPOSE_NO_ADDRESS_DETECTED","COMPOSE_RECIPIENT_LIMIT_EXCEEDED","COMPOSE_REPLY_OR_FORWARD_FAILED","COMPOSE_MESSAGE_ALREADY_SENT","INLINE_IMAGE_LOAD_FAILURE","SAVE_DRAFT_SUCCESS","SAVE_DRAFT_FAILURE","SAVE_TO_INBOX_SUCCESS","SAVE_TO_INBOX_FAILURE","DELETE_DRAFT_SUCCESS","DELETE_DRAFT_FAILURE","MESSAGES_MARK_SPAM_SUCCEEDED","MESSAGES_MARK_SPAM_FAILED","MESSAGES_MARK_NOT_SPAM_SUCCEEDED","MESSAGES_MARK_NOT_SPAM_FAILED","MESSAGES_MOVE_SUCCEEDED","MESSAGES_MOVE_FAILED","ARCHIVE_MESSAGES_SUCCESS","ARCHIVE_MESSAGES_FAILURE","RESTORE_INBOX_MESSAGES_SUCCESS","RESTORE_INBOX_MESSAGES_FAILURE","DELETE_MESSAGES_SUCCESS","DELETE_MESSAGES_FAILURE","UNDO_MOVE_SUCCESS","UNDO_MOVE_FAILURE","GEMINI_SPONSORED_ASSET_FAILED","MESSAGE_ACCESS_FAILED","MORE_SEARCH_LIST_ITEMS_FAILED","ATTACHMENT_VIRUS_DETECTED","ATTACHMENT_PREVIEW_FAILED","OFFLINE","TIMEZONE_CHANGE_REQUESTED","TIMEZONE_CHANGE_SUCCEESS","TIMEZONE_CHANGE_FAILURE","UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED","UNSUBSCRIBE_SINGLE_LIST_CLEANED","UNSUBSCRIBE_DIALOG_CLOSED","SETTINGS_SAVE_FILTERS_SUCCEEDED","SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED","RESEND_CONFIRM_EMAIL_SUCCEEDED","RESEND_CONFIRM_EMAIL_FAILED","USER_PREFERENCES_FAILED_TO_LOAD","REAUTH_ACCOUNT_SUCCEEDED","REAUTH_ACCOUNT_FAILED","EXCEPTION_OCCURRED","DOWNLOAD_FAILED","MAILBOX_NOT_SYNCING","THEMES_CUE_V2_CLOSED"]),ie=exports.ResolutionTypes=(0,s.mirrorKeys)(["LOW_RESOLUTION","ABNORMAL_ZOOM"]),Te=exports.ModifierKeys={META:"meta",SHIFT:"shift",CTRL:"ctrl",ALT:"alt"},ae=exports.AccountTypes=(0,s.mirrorKeys)(["FREE","IMAPIN","ALIAS","SENDAS","DEA","PARTNER","POPIN","BIZMAIL","PHONE","EXTERNAL"]),Ie=exports.AccountSectionTypes=(0,s.mirrorKeys)(["IMAPIN","ALIAS","SENDAS","DEA"]),Oe=exports.ROOT_ACCOUNT_TYPE=[ae.PARTNER,ae.FREE,ae.IMAPIN,ae.BIZMAIL],Re=exports.AccountStatus=(0,s.mirrorKeys)(["ENABLED","DISABLED","DELETED","PENDING","DELETE_IN_PROGRESS"]),pe=exports.AccountAuthTypes=(0,s.mirrorKeys)(["PLAIN","OAUTH2","PASSKEY"]),ne=exports.ListContentTypes=(0,s.mirrorKeys)(["MESSAGES","MESSAGE","IMAGES","DOCUMENTS","LINKS","PEOPLE","EXTRACTIONS","ADS","GIFS","TIMECHUNK","LOAD_MORE","MAGIC_TRIAGE","MAGIC_TRIAGE_BAR","FOLDER","SMARTVIEW","TRAVEL_CARDS","COUPON_CARDS"]),Ne=exports.TimeChunk={Types:(0,s.mirrorKeys)(["TODAY","YESTERDAY","DAY","MONTH","EARLIER_THIS_WEEK","THIS_WEEK","LAST_WEEK","EARLIER_IN_MONTH","EARLIER_IN_YEAR","THIS_MONTH","THIS_YEAR","YEAR"]),Day:{SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6},Month:{JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}},De=exports.ListFilters=(0,s.mirrorKeys)(["FROM","TO","ALL","RELATED","WITH_KEYWORD","WITH_KEYWORD_RELEVANCE","TO_WITH_RELEVANCE","FROM_WITH_RELEVANCE","ALL_WITH_RELEVANCE","PEOPLE","NOT_PEOPLE","SHOPPING","TRAVEL","FINANCE","SOCIAL","MAGIC_TRIAGE","TRAVEL_VIEW","SYSTEMFOLDER","CUSTOMFOLDER","FOLDERLABEL","SAVED_COUPON_CARDS"]),Ce=exports.InboxFilters=[De.PEOPLE,De.SHOPPING,De.SOCIAL,De.FINANCE,De.TRAVEL],le=exports.DecoIds=(e={},e[De.PEOPLE]="PE",e[De.SHOPPING]="SH",e[De.SOCIAL]="SO",e[De.FINANCE]="FI",e[De.TRAVEL]="TR",e),Le=exports.SuggestionIntent=(0,s.mirrorKeys)(["PEOPLE","KEYWORD","ALL"]),ce=exports.SuggestionType=(0,s.mirrorKeys)(["PERSON","KEYWORD","WEB_SEARCH"]),me=exports.TabTitleTypes=(0,s.mirrorKeys)(["TEXT","NEW_DRAFT","NO_SUBJECT","LOADING","SEARCH_KEYWORD","ERROR","SEARCH_DEFAULT","SETTINGS","PREVIEW","SPONSORED_AD","CATEGORY"]),Me=exports.TabButtonDecorators=(0,s.mirrorKeys)(["NONE","SEARCH","COMPOSE"]),Pe=exports.CursorMovement=(0,s.mirrorKeys)(["UP","DOWN","FIRST","LAST","LEFT","RIGHT"]),de=exports.PreviewPaneSettings={NO:0,RIGHT:1,BOTTOM:2},xe=exports.ShowImageSettings={NEVER:!1,ALWAYS:!0},Fe=exports.MessageListDensity={SLIM:1,NORMAL:2,RELAXED:3},Ue=exports.DefaultFont={FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:"3",VALUE:r.FontSizeValues.MEDIUM},He=exports.ActionAfterMessageMove={GO_BACK_TO_FOLDER:3,SHOW_PREVIOUS_MESSAGE:2,SHOW_NEXT_MESSAGE:1},ye=exports.MessageListLayout=Object.assign({COMPACT_SLIM:4,COMPACT_NORMAL:5,COMPACT_RELAXED:6,COMPACT_SNIPPET_SLIM:7,COMPACT_SNIPPET_NORMAL:8,COMPACT_SNIPPET_RELAXED:9},Fe),ue=exports.DesktopNotification={ON:1,OFF:0},he=exports.NotificationModes=(0,s.mirrorKeys)(["BROWSER","PUSH"]),Ge=exports.XobniState=(0,s.mirrorKeys)(["NONE","PROCESSING_BEGUN","PROCESSING_COMPLETE"]),ge=exports.SortSearchBy={RELEVANCE:1,DATE_DESC:2,DATE_ASC:3,ATTACHMENT:4},be=exports.MarkAsReadInterval={IMMEDIATELY:0,AFTER_2_SECONDS:2,AFTER_5_SECONDS:5,NEVER:999},fe=exports.AttachmentPreview={PAGES_CHUNK_SIZE:3,GAP_BETWEEN_PAGES:12,MAX_SCALE:3,MIN_SCALE:1,SCALE_STEP:.05,TOOLBAR_HEIGHT:54,Movement:(0,s.mirrorKeys)(["PREV","NEXT","ZOOM_IN","ZOOM_OUT"]),Orientation:(0,s.mirrorKeys)(["FIT_TO_WIDTH","FIT_TO_HEIGHT"]),Paddings:{AROUND_PAGE_WIDTH:20,AROUND_PAGE_HEIGHT:20,AROUND_IMG_WIDTH:16,AROUND_IMG_HEIGHT:16},previewableMimeTypes:["application/pdf","application/x-pdf","application/vnd.pdf","text/pdf","text/x-pdf","image/pdf","application/acrobat","application/text","text/css","text/plain","application/xml","text/xml","application/javascript","text/javascript","application/rtf","text/rtf","application/x-rtf","text/richtext","application/msword","application/x-msword","application/doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-word","application/vnd.openxmlformats-officedocument.wordprocessingml","application/vnd.ms-word.document.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/msexcel","application/x-msexcel","application/excel","application/x-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.formula","application/vnd.oasis.opendocument.presentation"]},we=exports.SectionUIMode=(0,s.mirrorKeys)(["FLOW","PINNED","PUSHED"]),Be=exports.SectionTransitionCoefficient=.8,Ke=exports.FilterActionTypes=(0,s.mirrorKeys)(["MOVETOFOLDER"]),Ve=exports.FilterMatchTypes=(0,s.mirrorKeys)(["ALL"]),Ye=exports.FilterFieldTypes=(0,s.mirrorKeys)(["SUBJECT","SENDER","TOORCC","BODY"]),ve=exports.FilterOperatorTypes=(0,s.mirrorKeys)(["CONTAINS","NOTCONTAINS","BEGINSWITH","ENDSWITH"]),We=exports.ConfirmIds=(0,s.mirrorKeys)(["CLEAR_FOLDER","ARCHIVE_FOLDER"]),ke=exports.AdvancedSearchFields={FOLDERS:"foldersField",FROM:"fromField",TO:"toField",SUBJECT:"subjectField",KEYWORD:"keywordField",BEFORE:"beforeField",AFTER:"afterField",ATTACHMENT:"attachmentField",PHOTO:"photoField",CALENDAR_INVITE:"calendarInviteField"},Xe=exports.AllMailItemField={ALL_MAIL:"allMail"},ze=exports.MAIL_DEFAULT_ROUTE={name:g.FOLDER,params:{fid:M.INBOX}},je=exports.BulkActionTypes=(0,s.mirrorKeys)(["MARK_READ","ARCHIVE","DELETE","MESSAGES_DELETE","MESSAGES_MOVE","MESSAGES_ARCHIVE","MESSAGES_RESTORE","MESSAGES_MARK_SPAM","MESSAGES_MARK_NOT_SPAM","MOVE_QUERY","MARK_QUERY"]),Ze=exports.BulkTaskStatus=(0,s.mirrorKeys)(["INIT","PENDING","COMPLETED","FAILED","ABORTING","ABORTED","ABORT_FAILED"]),Je=exports.SettingsTab={PERSONALIZE_INBOX:"0",ACCOUNTS:"1",SECURITY:"8",NOTIFICATIONS:"2",WRITING_EMAIL:"3",VIEWING_EMAIL:"4",CATEGORIZATION:"5",AUTOMATIC_REPLY:"6",FILTERS:"7",SECURITY_AND_PRIVACY:"8",SOCIAL_ACCOUNTS:"9",ENCRYPTION:"10",MAIL_PRO:"11"},Qe=exports.ListReferrer={SMARTVIEW:"smartView"},qe=exports.Keys={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ARROW_DOWN:"ArrowDown"},$e=exports.FolderMenuItems=(0,s.mirrorKeys)(["MARK_READ","ARCHIVE","DELETE","RENAME_FOLDER","MOVE_FOLDER","DELETE_FOLDER","CREATE_FOLDER","SEPARATOR"]),eE=exports.BootcampSRPExpandParams={MESSAGES:"MAIN",IMAGES:"IMAGES",DOCUMENTS:"DOCUMENTS",PEOPLE:"PEOPLE"},EE=exports.OSKeys={MAC:"mac",WINDOWS:"windows",IOS:"ios",ANDROID:"android",OTHER:"other"},oE=exports.PrintTypes=(0,s.mirrorKeys)(["MESSAGE"]),tE=exports.AppRefreshTypes={NO_REFRESH:0,EMERGENCY_REFRESH:1,PERIODIC_REFRESH:2},sE=exports.SecureCryptoMode={DISABLED:0,KEYGEN:1,FULL:2},rE=exports.ErrorTypes=(0,s.mirrorKeys)(["LAUNCH_API_ERROR","NO_SCRIPT","UNSUPPORTED_BROWSER","UNSUPPORTED_FBMAILBOT","DEFAULT"]),_E=exports.JWS_HOST="internal.apis.mail.yahoo.com",AE=exports.CREDSTORE_HOST="//ws.progrss.yahoo.com",SE=exports.EmailProviders={YAHOO:"yahoo",YAHOO_SB:"yahoosb",GOOGLE:"google",GOOGLE_APP:"googleapp",OUTLOOK:"outlook",AOL:"aol",OATH:"oath"},iE=exports.SocialAccounts=(0,s.mirrorKeys)(["Facebook","LinkedIn","Twitter"]),TE=exports.SocialAccountSPIDs=(E={},E[iE.Facebook]="b9ed13cc-ddec-11de-9c83-001b784d35e1",E[iE.LinkedIn]="f7e0ac2c-98e8-11df-8527-000ffef4f721",E[iE.Twitter]="1ce67640-113b-11df-a7d6-001b784d35e1",E),aE=exports.DEFAULT_MESSAGES_TO_FETCH=100,IE=exports.CARD_EXPANSION_STATES=(0,s.mirrorKeys)(["STACKED","COLLAPSED","EXPANDED"]),OE=exports.ApiClientLoggerNames={AthenaClient:"athena_client_call",BootcampClient:"bootcamp_client_call",CredstoreClient:"credstore_client_call",GeminiAPIClient:"gemini_api_client_call",GifCategories:"gif_category_content_call",HeartbeatAPIClient:"heartbeat_api_client_call",SportsAPIClient:"sports_api_client_call",MailAPIClient:"mail_api_client_call",PaymentClient:"payment_client_call",RapidClient:"i13n_beacon",UDBClient:"udb_client_call",XobniClient:"xobni_client_call",EmojiSearch:"emoji_search_call",PriceGrabberClient:"price_grabber_client_call"},RE=exports.YahooOfficialVerifiedDomains=["communications.yahoo.com","product.communications.yahoo.com","daily.communications.yahoo.com","cc.yahoo-inc.com","yahoo-inc.com"],pE=exports.SUPPORTED_PROVIDERS=[SE.YAHOO,SE.GOOGLE,SE.GOOGLE_APP,SE.OUTLOOK,SE.AOL],nE=exports.IMAP_SETTINGS=(o={},o[SE.GOOGLE]={domainCheck:["gmail","google","googlemail"],imapServer:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},o[SE.YAHOO]={domainCheck:["yahoo","ymail","rocketmail"],imapServer:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},o[SE.OUTLOOK]={domainCheck:["outlook","hotmail","live","msn"],imapServer:"imaps://outlook.com",oauthDomain:"outlook.com",profileCheck:!0,providerUrl:"https://www.outlook.com",scope:"scope=wl.imap,wl.offline_access,wl.emails,wl.basic,wl.contacts_emails,wl.contacts_phone_numbers"},o[SE.AOL]={domainCheck:["aol","aim"],imapServer:"imaps://aol.com",oauthDomain:"aol.com",profileCheck:!0,providerUrl:"https://www.aol.com",scope:"scope=offline_access email profile addressbook opencalendar"},o[SE.GOOGLE_APP]={imapServer:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},o[SE.YAHOO_SB]={imapServer:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},o),NE=exports.PARTNER_DOMAINS=(0,s.mirrorKeys)(["att.net","bellsouth.net","attworld.com","sky.com","frontiernet.net","frontier.com","myfrontiermail.com","citilink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citilink.com","evansinet.com","globalvalleynetworks.com","xtra.co.nz","mymts.in","ameritech.net","btinternet.com","btopenworld.com","demobroadband.com","ovi.com","flash.net","nl.rogers.com","nvbell.net","pacbell.net","prodigy.net","rogers.com","sbcglobal.net","snet.net","swbell.net","talk21.com","verizon.net","wans.net","ymail.com","rocketmail.com","yahoo-inc.com"]),DE=exports.YAHOO_COUNTRY_CODES=(0,s.mirrorKeys)(["ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cs","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","es","et","fi","fj","fk","fm","fo","fr","fx","ga","gb","gd","ge","gh","gi","gl","gp","gq","gf","gm","gn","gr","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","in","io","iq","ir","is","it","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","mg","mh","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nt","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pt","pr","pw","py","qa","re","ro","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tf","tg","th","tj","tk","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","um","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yu","za","zm","zr","zw"]),CE=exports.TLD_VALUES=(0,s.mirrorKeys)(["aero","asia","biz","com","edu","gov","info","jobs","mil","mobi","museum","name","net","org","co"]),lE=exports.QUOTED_BODY_CLASS="qtd-body",LE=exports.CRUMB_NAME="crumb",cE=exports.WSSID="WSSID",mE=exports.CALENDAR_WSSID="wssid",ME=exports.Features={IS_WIDER_MAIL_EXTN_ENABLED:"isWiderMailExtnEnabled",ADS:"ads",DARLA_PREFETCH:"darlaPrefetch",DARLA_LOOKAHEAD:"darlaLookAhead",GEMINI_SPONSORED_MESSAGE:"geminiSponsoredMessage",GEMINI_SPONSORED_VIDEO:"geminiSponsoredVideo",AD_FREE_SUPPORTED:"adFreeSupported",COM_SCORE_BEACONING:"comScoreBeaconing",EMPTY_FOLDER_VIDEO:"emptyFolderVideo",MESSAGE_READ_AD_ROTATION:"messageReadAdRotation",GEMINI_VIEWABILITY:"geminiViewability",RESIZABLE_PREVIEW_PANE:"previewpaneResizable",MAIL_PRO_ELIGIBLE:"mailProEligible",WIDE_RIGHT_RAIL:"wideRightRail",PREMIUM_AD_DETECTION:"premiumAdDetection",GEMINI_CONTEXTUAL_ADS:"geminiContextualAds",TOOLTIP_EMOJI:"tooltipEmoji",NUKE_DISPLAY_ADS_ON_INACTIVE:"nukeDisplayAdsOnInactive",COMPOSE_V3:"composeV3",PREVIEW_MESSAGE_V3:"previewMessageV3",MESSAGE_READ_CONTACT_CARD:"messageReadContactCard",RSVP:"rsvp",RSVP_RESPONSE:"rsvpResponse",PUBS_CARD:"pubsCard",RELOADING_BAR:"reloadingBar",CALENDAR_TAB:"calendarTab",NOTEPAD_TAB:"notepadTab",CONVERSATIONS:"conversations",SHOW_COMMS_PROPERTIES:"showCommsProperties",AUTO_OPEN_REAUTH:"autoOpenReauth",FEEDBACK_PANEL:"feedbackPanel",DISPOSABLE_ADDRESS:"disposableAddress",INLINE_ATTACHMENT:"inlineAttachment",EMOJI_SEARCH:"emojiSearch",EMOJI_WITH_VIRTUAL_LIST:"emojiWithVirtualList",TUTORIAL:"tutorial",SMART_VIEWS:"smartViews",COLLAPSIBLE_SYSTEM_FOLDERS:"collapsibleSystemFolders",SETTINGS:"settings",SHOW_TWEET:"showTweet",TIMEZONE_CHECK:"timezoneCheck",RESOLUTION_CHECK:"resolutionCheck",CHECK_MAIL_PREFETCH:"checkMailPrefetch",RIGHT_RAIL_WIDER_MAIL_UPSELL:"rightRailWiderMailUpsell",V3_NOTIFICATION:"v3Notification",RTL:"rtl",IS_RETURNING_USER:"isReturningUser",HAS_MAPPED_THEME:"hasMappedTheme",COUPON_CARD_EXTRACTIONS:"couponCardExtractions",FLIGHT_CARD_EXTRACTIONS:"flightCardExtractions",COUPONS_VIEW:"couponsView",TRAVEL_VIEW:"travelView",EMOJI:"emoji",PRELOAD_EMOJI:"preloadEmoji",GIF:"gif",STATIONERY:"stationery",RECENTLY_USED_EMOJI:"recentlyUsedEmoji",SUPPRESSED_SAVE_AND_SEND:"suppressedSaveAndSend",EXCEPTION_NOTIFICATION:"exceptionNotification"},PE=exports.Settings={THEME:"theme",TEXTUAL_SUGGESTIONS:"textualSuggestions",THEME_MODE:"themeMode",PREVIEW_PANE:"previewpane",MSG_LIST_DENSITY:"messageListDensity",LIST_ITEM_HEIGHT:"listItemHeight",SNIPPETS:"snippets",SECURE_MODE:"secureMode",COMPOSE_FONT_FAMILY:"composeFontFamily",COMPOSE_FONT_SIZE:"composeFontSize",DESKTOP_NOTIFICATION:"desktopNotification",MARK_AS_READ_INTERVAL:"markAsReadInterval",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",SHOW_IMAGES:"showImages",LINK_ENHANCR:"linkEnhancer",VACATION_PREFERENCES:"vacationPreferences",MAGIC_TRIAGE:"magicTriage",MAGIC_TRIAGE_BAR:"magicTriageBar",MAGIC_TRIAGE_USER_VISITS:"magicTriageUserVisits",MAGIC_TRIAGE_TIMESTAMP:"magicTriageTimestamp",MESSAGE_FILTERS:"messageFilters",MAIL_TABS:"multiTask",ACTION_AFTER_MSG_MOVE:"actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"showCustomFolders",EXPANDED_FOLDERS:"expandedFolders",STATIONERY_DEFAULT_THEME:"stationeryDefaultTheme",TOGGLE_CONV_RELOAD_DELAY:"toggleConversationReloadDelayMS",SHOW_ALL_SYSTEM_FOLDERS:"showAllSystemFolders",RECENTLY_USED_EMOJIS:"recentlyUsedEmojis",SYSTEM_TABS:"systemTabs",SENDING_EMAIL_CONFIRM_STATUS:"sendingConfirmEmail",DEA_BASE_NAME:"disposableAddressesPrefix",SEARCH_SOURCE_TAG:"searchSourceTag",EMPTY_FOLDER_VIDEO_CHANNELS:"emptyFolderVideoChannels",HIDE_AD:"hideAd",TIME_TO_WAIT_SINCE_LAST_AD_CALL:"timeToWaitSinceLastAdCall",GEMINI_REQUEST_PARAMS:"geminiRequestParams",GEMINI_SECTION_IDS_TO_CACHE:"sectionIdsToCache",GEMINI_FORCE_FILTER:"geminiForceFilter",AD_FREE_MAIL_URL:"adFreeMailUrl",ABOUT_AD_URL:"aboutAdsUrl",PRIVACY_URL:"privacyUrl",TERMS_URL:"termsUrl",ITEM_LIST_PAGE_THRESHOLD:"itemListPageThreshold",MESSAGE_READ_AD_ROTATION_INTERVAL:"messageReadAdRotationInterval",MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL:"messageReadAdRotationIdleInterval",WIDER_MAIL_EXTENSION:"widerMailExtension",UNSUBSCRIBE_NOTIFICATION:"unsubscribeNotification",UNSUBSCRIBE_TIMESTAMP:"unsubscribeTimestamp",NUM_UNSUBSCRIBED_ITEMS:"numUnsubscribedItems",MAIL_PRO_MONTHLY_PRICE:"mailProMonthlyPrice",MAIL_PRO_YEARLY_PRICE:"mailProYearlyPrice",NOTIFICATION_MODE:"notificationMode",GEMINI_VIDEO_AD_ID:"geminiVideoAdId",GEMINI_VIDEO_AD_SITE:"geminiVideoAdSite",GEMINI_VIDEO_AD_EXP_NAME:"geminiVideoAdExpName",SYNC_TIME:"syncTime",ASYNC_TASK_POLL_INTERVAL:"asyncTaskPollInterval",CHECK_MAIL_INTERVAL:"checkMailInterval",CALENDAR_URL:"calendarURL",FEEDBACK_URL:"feedbackURL",BUFFER_SIZE:"bufferSize",PREVIEWABLE_INLINE_ATTACHMENT_SIZE:"previewableInlineAttachmentSize",MESSAGE_INITIAL_RENDER_COUNT:"messageInitialRenderCount",STATIONERY_RESTRICTED_THEMES:"stationeryRestrictedThemes",MESSAGE_FETCH_COUNT:"messageFetchCount",MESSAGE_FETCH_COUNT_INITIAL:"messageFetchCountInitial",
MAGIC_TRIAGE_HOST:"magicTriageHost",LINK_ENHANCER_URL_BLACK_LIST:"linkEnhancerUrlBlacklist",APT_SECURITY_HELP_URL:"aptSecurityHelpURL",YAFT_CAN_SHOW_VISUAL_REPORT:"yaftCanShowVisualReport"},dE=exports.OauthWindowsStatusFunction="__setOauthStatus",xE=exports.FILTER_QUERY_PARAMS=["fullscreen","target","sponsoredForward"],FE=exports.StationeryCategories=(0,s.mirrorKeys)(["featured","everyday","birthday","seasonal"]),UE=exports.DOWNLOADER_ERROR_TYPE="downloader_error",HE=exports.DOWNLOAD_COMPLETE_TIMEOUT=32e3,yE=exports.PlayerStatus=(0,s.mirrorKeys)(["NotInitialized","Initializing","Initialized"]),uE=exports.MORE_THAN_999_EMAILS="999+",hE=exports.MAX_UNREAD_EMAILS=999,GE=exports.BOOTCAMP_GIF_SOURCE={TUMBLR:"www@tumblr",TENOR:"www@tenor"},gE=exports.LoadingState=(0,s.mirrorKeys)(["IDLE","START","FINISH"]),bE=exports.SchemaTypes=(0,s.mirrorKeys)(["ReservationPackage","FlightReservation","CheckInAction","Coupon"]),fE=exports.LaunchError=(0,s.mirrorKeys)(["FOLDER_ACCESS_FAILED","MESSAGE_ACCESS_FAILED"]),wE=exports.MessageDecorators=(0,s.mirrorKeys)(["CPN","FLR","TAG"]),BE=exports.ContextualToolbarPlaceholders=(0,s.mirrorKeys)(["Star","Unstar"]),KE=exports.RetriableWhitelist=["EC-4001-SetMailboxAttribute","EP-5000"];
},{"../utils/object":"./platform/utils/object","./compose":"./platform/mail_constants/compose"}],"./platform/mail_error/api":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,o,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack=(new Error).stack,(0,a.default)(o&&"object"===("undefined"==typeof o?"undefined":r(o)),"Expected failureMap to be an object."),Object.keys(o).forEach(function(t){var e=o[t];(0,a.default)(e&&"object"===("undefined"==typeof e?"undefined":r(e)),"Invalid map passed to ApiError: "+t+" had a value of "+e)}),this.token=n,this.name=this.constructor.name,this.message=t,this.failureMap=o,this.extraStatusCode=this.getExtraStatusCode(),this.extraErrorCode=this.getExtraErrorCode(),this.statusCode=this.getStatusCode(),this.errorCode=this.getErrorCode(),this.isRetryable="undefined"==typeof i||i,this.errorInfo=s}exports.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=require("../invariant"),a=t(o),i=require("../utils/object"),s=require("./constants"),n="API-ERROR";e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.getStatusCode=function(){var t=String(this.extraStatusCode).split(",")[0].split(":")[1]||s.NO_ERROR_CODE;return Number(t)},e.prototype.getErrorCode=function(){return String(this.extraErrorCode).split(",")[0].split(":")[1]||s.NO_ERROR_CODE},e.prototype.getExtraStatusCode=function(){var t=this,e=[];return Object.keys(this.failureMap).forEach(function(r){var o=t.failureMap[r],a=o.httpCode||s.NO_ERROR_CODE;e.push(r+":"+a)}),e.join(",")||s.NO_ERROR_CODE},e.prototype.getExtraErrorCode=function(){var t=this,e=[];return Object.keys(this.failureMap).forEach(function(r){var o=t.failureMap[r],a=(0,i.getIn)(o,"response.error.code",s.NO_ERROR_CODE);e.push(r+":"+a)}),e.join(",")||s.NO_ERROR_CODE},exports.default=e,module.exports=exports.default;
},{"../invariant":"./platform/invariant","../utils/object":"./platform/utils/object","./constants":"./platform/mail_error/constants"}],"./platform/mail_error/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.AUTH_FAIL_REASON=exports.JEDI_ERROR_RESPONSE=exports.JEDI_EMPTY_RESPONSE=exports.LAUNCHERROR_LAUNCH_API_FAILED=exports.AUTHENTICATION_WSSID_REISSUE=exports.AUTHENTICATION_INVALID_CRUMB=exports.AUTHENTICATION_INVALID_CREDENTIALS=exports.NO_ERROR_CODE=void 0;var E=require("../utils/object"),I=exports.NO_ERROR_CODE=0,_=exports.AUTHENTICATION_INVALID_CREDENTIALS="Authentication.InvalidCredentials",e=exports.AUTHENTICATION_INVALID_CRUMB="Authentication.InvalidCrumb",r=exports.AUTHENTICATION_WSSID_REISSUE="Authentication.WssidReissue",A=exports.LAUNCHERROR_LAUNCH_API_FAILED="LaunchError.LaunchApiFailed",t=exports.JEDI_EMPTY_RESPONSE="Empty response returned from JEDI",R=exports.JEDI_ERROR_RESPONSE="The response returned from JEDI contains errors",s=exports.AUTH_FAIL_REASON=(0,E.mirrorKeys)(["COOKIE_CHECK_SIGNATURE","COOKIE_CHECK_TIME_STAMP","INVALID_COOKIE_SCOPE","REMOVED_YT_COOKIE","DIFFERENT_USER"]);
},{"../utils/object":"./platform/utils/object"}],"./platform/mail_error":[function(require,module,exports){
"use strict";function r(r){return r&&r.__esModule?r:{default:r}}function e(r,t,o){if(!r)throw new Error("name is a required argument for MailError");"string"!=typeof t&&(o=t,t=null),Error.apply(this),Error.captureStackTrace&&Error.captureStackTrace(this,e);var n=(0,a.getIn)(e.MANIFEST,r);if(!n)throw new Error("Error name ["+r+"] is not in the list of available errors. see ./manifest.js");t=t||n.description,n.requiredData&&n.requiredData.forEach(function(e){if(!o||!o[e])throw new Error("property ["+e+"] is required for ["+r+"] error. Got: "+JSON.stringify(o))}),this.token=c,this.name=r,this.message=t,this.data=o||{},this.statusCode=(0,a.getIn)(this,"data.statusCode",null),this.errorCode=(0,a.getIn)(this,"data.body.error.code",null)||(0,a.getIn)(this,"data.body.data.errorCode",null)||(0,a.getIn)(this,"data.errorCode",null),this.code=n.code||u.NO_ERROR_CODE}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o=require("./api"),n=r(o),a=require("../utils/object"),i=require("./manifest"),s=r(i),u=require("./constants"),c="MAIL-ERROR";e.MANIFEST=s.default,e.VALIDATE_SUCCESS=123456,e.prototype=Object.create(Error.prototype),e.errorify=function(r){var o=void 0,a={};return r instanceof e?r:(r instanceof n.default?(o=new e("ApiError",r.message,r.failureMap),o.stack=r.stack,o.statusCode=r.statusCode,o.errorCode=r.errorCode,o.extraStatusCode=r.extraStatusCode,o.extraErrorCode=r.extraErrorCode,Object.assign(o.data,{info:r.errorInfo})):r instanceof Error?(o=new e("Generic",[r.name,r.message].join(": ")),o.stack=r.stack):"string"==typeof r?o=new e("Generic",r):(o=new e("Generic","Error generated from the object."),a.object=JSON.stringify(r),a.objectType="undefined"==typeof r?"undefined":t(r)),o)},e.prototype.serialize=function(){return JSON.stringify(this.toJSON())},e.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,data:this.data,token:"MAIL-ERROR"}},e.jsonToError=function(r){return Object.assign(new Error,{stack:void 0},r)},module.exports=e;
},{"../utils/object":"./platform/utils/object","./api":"./platform/mail_error/api","./constants":"./platform/mail_error/constants","./manifest":"./platform/mail_error/manifest"}],"./platform/mail_error/manifest":[function(require,module,exports){
"use strict";module.exports={SyntaxError:{description:"Engineers messed up somewhere"},ApiError:{description:"The API layer returned an error"},HttpTransport:{NotOkStatusCode:{description:"Request returned with not-ok status code",requiredData:["statusCode"]},CrossDomainError:{description:"Origin is not allowed by Access-Control-Allow-Origin at Request.crossDomainError"},ContentTypeError:{description:"Return type does not match Request Accept type.",requiredData:["statusCode"]},ConnectionTimedOut:{description:"Request timed out."},JSONParseError:{description:"Parsing of the JSON response failed.",requiredData:["statusCode","responseText"]},OutboundError:{description:"Request fails to go to the server from the client's browser."},ServerNotFound:{description:"DNS lookup failed."},ConnectionRefused:{description:"Client was not able to connect to host."}},BaseClient:{RequestBlocked:{description:"Request is blocked"}},BootcampApiClient:{SearchError:{description:"The BootcampApiClient returned an error for the search."},SuggestionError:{description:"The BootcampApiClient returned an error for the suggestions."},SearchAdsError:{description:"The BootcampApiClient returned an error for parsing search ads."}},MailApiClient:{SaveAndSend:{description:"Both `Save` and `Send` requests have failed"},EmptyRequestPayload:{description:"Reqeust payload is empty"}},LaunchError:{LaunchApiFailed:{description:"Launch API has failed"},NoScript:{description:"Javascript is disabled"},UnsupportedBrowser:{description:"browser is unsupported"},UnsupportedFBMailBot:{description:"FBBot deeplink is not supported"}},Authentication:{InvalidCredentials:{description:"The user cookies are not valid anymore.",requiredData:["statusCode"]},InvalidCrumb:{description:"No valid crumb found for the given user."},WssidReissue:{description:"Request does not have a valid wssid.",requiredData:["wssid"]}},Generic:{description:"A generic error has occurred.",code:"FE-100"},AthenaApiClient:{DataError:{description:"The AthenaApiClient returned an error while parsing response."}}};
},{}],365:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){(0,r.default)(e,"No callName provided to RequestQueueRejectionError."),this.name="RequestQueueRejection",this.message="A write request was issued.  Therefore, the RequestQueue is dropping the "+e+" call.  See https://docs.google.com/document/d/1yOwsTIcXla6CeIn42W9VKfd9JjJ1ajAtfE6CH6PfjeM for more info.",this.stack=(new Error).stack}exports.__esModule=!0;var o=require("../invariant"),r=e(o);t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,exports.default=t,module.exports=exports.default;
},{"../invariant":"./platform/invariant"}],366:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.default=function(e){var u=e.boundary,n=e.headers,r=Object.keys(n).reduce(function(e,u){return""+e+u+": "+n[u]+"\n"},"");return(0,t.default)(function(e){this.queue("--"+u+"\n"+r+"\n"+e+"\n\n")},function(){this.queue("--"+u+"--"),this.queue(null)})};var u=require("../../vendor/through"),t=e(u);module.exports=exports.default;
},{"../../vendor/through":"./vendor/through/browser"}],367:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=exports.headersRegexp=/^[\w\-]+:.+$/gim;
},{}],368:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.default=function(e){var t=e.boundary,o=e.useBuffer,s=void 0===o||o,a=e.consolidate,i=void 0!==a&&a,n="";return(0,r.default)(function(e){s||(n=""),e=n+e;for(var r=e.split(new RegExp("--"+t+"-{0,2}","gm")),o=[];r.length>1;){var a=r.shift().replace(u.headersRegexp,"").trim();""!==a&&(i?o.push(a):this.emit("data",a))}i&&o.length>0&&this.emit("data",o),n=r[0]})};var t=require("../../vendor/through"),r=e(t),u=require("./constants");module.exports=exports.default;
},{"../../vendor/through":"./vendor/through/browser","./constants":367}],369:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){this.queue=[]}function u(e){return void 0!==e&&(e instanceof Promise||!(!e.then||!e.catch))}function i(e){var t="["+e.slice(0,10).map(function(e){return e.id}).join(", ")+"]";n.default.debug("Mutex: The first ten elements of the queue are "+t)}var r=require("./logger"),n=e(r),s={WAITING:"WAITING",ISSUED:"ISSUED",COMPLETED:"COMPLETED"};t.prototype.sync=function(e,t){var u=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof e)throw new Error("Mutex.prototype.sync requires a callback function");return new Promise(function(a,c){u.queue.push({id:t,issueInParallel:r,isSafeToRejectEarly:o,timer:void 0,status:s.WAITING,callback:e,resolve:a,reject:c}),n.default.debug("Mutex: "+t+" was just added to the queue."),i(u.queue),u.next()})},t.prototype.next=function(){if(this.queue.length){var e=!1;this.queue=this.queue.filter(function(e){return e.status!==s.COMPLETED});for(var t=0;t<this.queue.length;t++){var u=this.queue[t];switch(u.status){case s.WAITING:if(!u.issueInParallel&&e)return;u.status=s.ISSUED,e=!0;try{this.execute(u)}catch(e){this.reject(u,e)}if(!u.issueInParallel)return;break;case s.ISSUED:if(e=!0,!u.issueInParallel)return}}}},t.prototype.execute=function(e){var t=this.resolve.bind(this,e),i=this.reject.bind(this,e);e.isSafeToRejectEarly&&(e.timer=setTimeout(function(){n.default.debug("Mutex: clearing "+e.id+" from queue because it timed out."),n.default.error("Mutex: clearing "+e.id+" from queue because it timed out."),i()},6e4));var r=e.callback(t,i);u(r)&&r.then(t,i)},t.prototype.resolve=function(e,t){e.resolve(t),e.status=s.COMPLETED,n.default.debug("Mutex: "+e.id+" was RESOLVED."),e.timer&&clearTimeout(e.timer),this.next()},t.prototype.reject=function(e,t){e.reject(t),e.status=s.COMPLETED,n.default.debug("Mutex: "+e.id+" was REJECTED."),e.timer&&clearTimeout(e.timer),this.next()},module.exports=t;
},{"./logger":"./platform/logger"}],370:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var n=require("../http_transport"),i=e(n),u=require("../mail_constants"),a=require("../base_client"),s=e(a),c=u.YCPI_PATH_PREFIX+"/payment_api",l=5e3,f=function(e){function u(o){t(this,u);var n=r(this,e.call(this,o));return n.region=o.region,n.locale=o.locale,n}return o(u,e),u.prototype.request=function e(t){var r=c+"/"+t+"?crumb="+this.crumb,o={crumb:this.crumb,apiName:t,reqUrl:r,region:this.region,locale:this.locale},u=new i.default(n.HTTP_METHODS.GET,r,{timeout:l}),a=u.send();return this.logRequest(a,o),a},u}(s.default);exports.default=f,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants"}],371:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var n=require("../http_transport"),i=e(n),u=require("../mail_constants"),a=require("../base_client"),c=e(a),s=u.YCPI_PATH_PREFIX+"/price_grabber_api",l=function(e){function u(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,u);var n=r(this,e.call(this,o));return n.buckets=o.buckets,n.locale=o.locale,n.region=o.region,n}return o(u,e),u.prototype.request=function e(t){var r=s+"/getMerchantAndProducts",o=new i.default(n.HTTP_METHODS.GET,r),u={crumb:this.crumb,intl:this.region,locale:this.locale};o.setHeader("Accept","application/json");var a=o.send(t);return this.logRequest(a,u),a},u}(c.default);exports.default=l,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants"}],"./platform/push_notifications":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(){return(0,g.isBrowser)()&&"serviceWorker"in window.navigator&&"PushManager"in window&&"Notification"in window&&"showNotification"in ServiceWorkerRegistration.prototype}function n(e){if(r())return window.navigator.serviceWorker.addEventListener("message",e)}function t(){return r()?window.navigator.serviceWorker.getRegistration().then(function(e){return e&&e.pushManager.getSubscription()}).then(function(e){return!!e}).catch(function(){return!1}):Promise.resolve(!1)}function i(e){if(!r())return Promise.reject(new Error("Service Workers not supported"));var n=l.default.feature("push_notifications_subscription",{subscriptionIds:e});return window.navigator.serviceWorker.register(w).then(o.bind(this,e)).then(n.logSuccess).catch(function(e){return n.logFailure(e),u().then(function(){return Promise.reject(e)},function(){return Promise.reject(e)})})}function o(e){return window.navigator.serviceWorker.ready.then(function(e){return e.pushManager.subscribe({userVisibleOnly:!0})}).then(function(r){return r?s({channelId:btoa(JSON.stringify(r)),deviceId:r.endpoint.substring(r.endpoint.lastIndexOf("/")+1),subscriptionIds:e}):Promise.reject(new Error("Subscribing failed"))})}function u(){return r()?window.navigator.serviceWorker.getRegistration().then(function(e){return e&&e.pushManager.getSubscription()}).then(function(e){return!e||e.unsubscribe().then(function(e){return!!e||Promise.reject(new Error("Unsubscription failed"))})}):Promise.reject(new Error("Service Workers not supported"))}function c(){return r()?window.navigator.serviceWorker.getRegistration().then(function(e){return!e||e.unregister().then(function(e){return!!e||Promise.reject(new Error("Unregistration failed"))})}):Promise.reject(new Error("Service Workers not supported"))}function s(e){var r=e.channelId,n=e.deviceId,t=e.subscriptionIds,i={appId:m,accountId:I,accountKey:y,deviceId:n,channelId:r,tags:t.map(a).join(",")},o=new h.default(b.HTTP_METHODS.POST,_);return o.send(d(i)).then(function(e){return e.body.query.results.json.crumb}).then(function(e){return i.crumb=e}).then(function(){return o.send(p(i))}).then(function(){return o.send(f(i))})}function a(e){return'"mail/new_mail_v4|notify|'+e+'|deco:FTI"'}function d(e){return'q=select * from cloudrepo.app_attributes where account_id="'+e.accountId+'" and account_key="'+e.accountKey+'" and issue_crumb="true"'}function p(e){var r=e.accountId,n=e.accountKey,t=e.appId;return'q=insert into cloudrepo.app_attributes(account_id, account_key, app_id, device_id, attributes, crumb) values("'+r+'", "'+n+'", "'+t+'", "'+e.deviceId+'",\'{"version":"1.0","push_addresses":{"browserw3c":{"push_app_id":"'+t+'","channel_id":"'+e.channelId+'"}},"name":"'+t+'"}\', "'+e.crumb+'");'}function f(e){return'q=insert into cloudrepo.user_app_tags(account_id, account_key, app_id, device_id, tags, crumb) values("'+e.accountId+'","'+e.accountKey+'","'+e.appId+'","'+e.deviceId+"\",'["+e.tags+"]',\""+e.crumb+'")'}exports.__esModule=!0,exports.isPushSupported=r,exports.addPushListener=n,exports.isSubscribed=t,exports.subscribe=i,exports.unsubscribe=u,exports.unregister=c;var b=require("../http_transport"),h=e(b),g=require("../utils/generic"),v=require("./logger"),l=e(v),w="/sw.js",_="/onepush/v1/public/yql?format=json",m="com.yahoo.mail.browser.chrome",I="mail",y="CR-SDK v=1;id=mail;sig=2a99128d27f0438381b5ae0124edeb97b82271265bf9dc62907b7a7f3d7abc2e";
},{"../http_transport":"./platform/http_transport","../utils/generic":"./platform/utils/generic","./logger":"./platform/push_notifications/logger"}],"./platform/push_notifications/logger":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/push_notifications"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],"./platform/rapid_client/action_data_creators":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){var E,r=t(g.default),S=e.messageGroupIds.map(function(e){var t=r.getMessageGroupById(e);return(0,C.getMessageIds)(t)});return(E=[]).concat.apply(E,S)}function E(e,t){return{numMsg:t(g.default).getItemListIdsForList(e.listId).length}}function r(e,E){return{numMsg:t(e,E).length}}function S(e){return{msgID:e.messageIds.join(",")}}function n(e,t){return{numMsg:t(g.default).getMessageGroupById(e.messageGroupId).messages.length}}function s(e,E){var r=E(g.default);return{numMsg:t(e,E).length,destin:(0,G.getI13nFolderType)(r.getFolder(e.destinationFolderId))}}function T(e){var t,E=e.undoMap,r=e.destinationFolderType;return{undoAction:(t={},t[v.FolderTypes.TRASH]="del",t[v.FolderTypes.ARCHIVE]="archve",t)[r]||"move",numMsg:Object.keys(E).reduce(function(e,t){return e+(Array.isArray(E[t])?E[t].length:0)},0)}}function M(e){var t=e.attachment;return{fileType:(0,p.getAttachmentType)(t.type,t.subtype),fileSize:t.size,msgId:t.id&&(0,y.getMessageIdFromAttachmentId)(t.id)}}function _(e){var t=e.attachments;return(void 0===t?[]:t).map(function(e){var t=e.type,E=e.subtype,r=e.size;return{fileType:(0,p.getAttachmentType)(t,E),fileSize:r}})}function i(e,t){var E=e.route,r=e.i13nModel;r=void 0===r?{}:r;var S=r.actionData,n=void 0===S?{}:S,s=t(g.default),T=t(m.default),M={},_=void 0,i=void 0,u=void 0;E?(_=(0,P.getListIdFromRoute)(E),i=E.params.groupId,u=(0,B.getIn)(e,"hashParams.itemId"),M.query=E.params.query||E.params.fid):(_=e.listId,i=e.itemId);var A=s.getMessageGroupById(i);if(!A)return{};var a=T.getImportantContacts()||[],R=u?u:(0,C.getMessageIds)(A).join(","),o=(0,C.getMetadata)(A,{listId:_}),O=o.recipients,K=o.messageCount,d=u?A.messages.find(function(e){return e.id===u}):A.messages[K-1],c=d.headers.from[0],I=(0,D.isValidEmail)(c.email)?(0,D.destructEmailAddressParts)(c.email).domainPart:"NODOMAIN.COM";return Object.assign({},n,M,{mid:i,msgID:R,sdrDomain:I,numRcpt:O.length,numMsg:K,importntCntct:a.some(function(e){return e.emails.indexOf(c.email)!==-1}),itemIdx:s.getCurrentItemIndex(i,_)})}function u(e){var t=e.hrefLink,E=e.message;return{msgID:E.id,mHref:t,mSndr:E.headers.from[0].email,mFldr:(0,G.getI13nFolderType)(E.folder)}}function A(e,t){var E=t(g.default),r=E.getActiveAccountId(),S={accountIds:r},n=(0,H.getSmartViewSearchQuery)(e.smartViewName,S),s=(0,P.convertSearchQueryToListId)(n);return{srchQry:(0,P.serializeListIdForRoute)(s),srchType:(0,P.isPeopleSearch)(s)?"cntct":"kwrd"}}function a(e){var t=e.listId||(0,P.getListIdFromRoute)(e.route),E=(0,P.serializeListIdForRoute)(t);return Object.assign({srchQry:E,srchType:(0,P.isPeopleSearch)(t)?"cntct":"kwrd"},(0,B.getIn)(e,"i13nModel.actionData",{}))}function R(e,t){var E=e.query,r=e.suggestions,S=t(m.default).getImportantContacts(),n=(0,U.getReconciledSuggestions)(r,S,E),s=n.reduce(function(e,t){return t.hasOwnProperty("type")&&(e[t.type]?e[t.type]++:e[t.type]=1),e},{});return{query:E,people:s[v.SuggestionType.PERSON]||0,keyword:s[v.SuggestionType.KEYWORD]||0,recent:0}}function o(e){var t,E=e.value,r=(t={},t[v.PreviewPaneSettings.NO]="none",t[v.PreviewPaneSettings.RIGHT]="vrtcl",t[v.PreviewPaneSettings.BOTTOM]="hrztl",t);if(r[E])return{setTo:r[E]}}function O(e){var t,E=e.value,r=(t={},t[v.MessageListDensity.SLIM]="slm",t[v.MessageListDensity.NORMAL]="rglr",t[v.MessageListDensity.RELAXED]="rlxd",t);if(r[E])return{setTo:r[E]}}function K(e){return{setTo:e.value?"true":"false"}}function d(e){return{setTo:e.payload.enabled?"true":"false"}}function c(e,t){var E=t(g.default),r=e.userInputtedValues,S=e.csid,n=e.containsStationery,s=r.to,T=r.cc,M=r.bcc,_=E.getComposeData(S);return{sttnry:n,to:s?s.length:0,cc:T?T.length:0,bcc:M?M.length:0,compType:_.inReplyTo?"inline":"comp",numAttchmts:_.attachments.length,sizeAttchmts:_.attachments.reduce(function(e,t){return e+t.size},0)}}function I(e){var t=e.files,E=[],r=[];return t.forEach(function(e){var t=e.type.split("/"),S=void 0;S=t.length>1?(0,p.getAttachmentType)(t[0],t[1]):(0,p.getAttachmentType)(e.type,e.subtype),E.push(S),r.push(e.size)}),{attmTypes:E,attmSizes:r}}function l(e){var t=e.email;return{prvdr:(0,f.getProvider)(t)}}exports.__esModule=!0;var Y,N=require("../../stores/mail"),g=e(N),L=require("../../stores/suggestions"),m=e(L),D=require("../utils/index"),G=require("../utils/folder"),p=require("../utils/attachments"),f=require("../utils/account"),C=require("../utils/message_group"),P=require("../utils/list"),y=require("../utils/message"),v=require("../mail_constants"),h=require("./constants"),B=require("../utils/object"),H=require("../utils/smartview"),U=require("../utils/suggestions");exports.default=(Y={},Y[h.BEACON_EVENTS.SEARCH_SUGGESTION]=R,Y[h.BEACON_EVENTS.SEARCH_ZERO_RESULTS]=a,Y[h.MKEYS.MSG_REPLY]=n,Y[h.MKEYS.MSG_REPLY_ALL]=n,Y[h.MKEYS.MSG_FORWARD]=n,Y[h.MKEYS.TOOLBAR_REPLY]=n,Y[h.MKEYS.TOOLBAR_REPLYALL]=n,Y[h.MKEYS.TOOLBAR_FORWARD]=n,Y[h.MKEYS.QUICK_REPLY]=n,Y[h.MKEYS.QUICK_REPLYALL]=n,Y[h.MKEYS.QUICK_FORWARD]=n,Y[h.MKEYS.MSG_HDR_MARK_READ]=S,Y[h.MKEYS.MSG_HDR_MARK_UNREAD]=S,Y[h.MKEYS.MSG_HDR_MARK_STAR]=S,Y[h.MKEYS.MSG_HDR_MARK_UNSTAR]=S,Y[h.MKEYS.MSG_GRP_HDR_MARK_READ]=r,Y[h.MKEYS.MSG_GRP_HDR_MARK_UNREAD]=r,Y[h.MKEYS.MSG_GRP_HDR_MARK_STAR]=r,Y[h.MKEYS.MSG_GRP_HDR_MARK_UNSTAR]=r,Y[h.MKEYS.TOOLBAR_SELECTALL_MSG]=E,Y[h.MKEYS.TOOLBAR_SELECT_NONE]=E,Y[h.MKEYS.TOOLBAR_BULK_CONTEXT_ALL]=E,Y[h.MKEYS.TOOLBAR_BULK_CONTEXT_NONE]=E,Y[h.MKEYS.TOOLBAR_BULK_CONTEXT_READ]=E,Y[h.MKEYS.TOOLBAR_BULK_CONTEXT_UNREAD]=E,Y[h.MKEYS.TOOLBAR_BULK_CONTEXT_STARRED]=E,Y[h.MKEYS.TOOLBAR_BULK_CONTEXT_UNSTARRED]=E,Y[h.MKEYS.TOOLBAR_ARCHIVE]=r,Y[h.MKEYS.TOOLBAR_DELETE]=r,Y[h.MKEYS.TOOLBAR_MOVE]=s,Y[h.MKEYS.TOOLBAR_SPAM]=r,Y[h.MKEYS.TOOLBAR_NOT_SPAM]=r,Y[h.MKEYS.TOOLBAR_MARK_READ]=r,Y[h.MKEYS.TOOLBAR_MARK_UNREAD]=r,Y[h.MKEYS.TOOLBAR_MARK_STARRED]=r,Y[h.MKEYS.TOOLBAR_MARK_UNSTARRED]=r,Y[h.MKEYS.TOOLBAR_VIEW_RAW]=r,Y[h.MKEYS.SELECT_MSG]=r,Y[h.MKEYS.MARK_MSG_READ]=r,Y[h.MKEYS.MARK_MSG_UNREAD]=r,Y[h.MKEYS.MARK_MSG_STARRED]=r,Y[h.MKEYS.MARK_MSG_UNSTARRED]=r,Y[h.MKEYS.MSG_LIST_DEL]=r,Y[h.MKEYS.UNDO_ACTION]=T,Y[h.MKEYS.PHOTO_DOWNLOAD]=M,Y[h.MKEYS.OPEN_MSG]=i,Y[h.MKEYS.RIGHT_RAIL_MSG_OPEN]=i,Y[h.MKEYS.DOC_READ_MSG]=i,Y[h.MKEYS.PHOTO_READ_MSG]=i,Y[h.MKEYS.ATTACHMENT_LIGHTBOX_DOCUMENT_MSG]=i,Y[h.MKEYS.ATTACHMENT_LIGHTBOX_IMAGE_MSG]=i,Y[h.MKEYS.OPEN_LINK]=u,Y[h.MKEYS.UNREAD_SMARTVIEW]=A,Y[h.MKEYS.STARRED_SMARTVIEW]=A,Y[h.MKEYS.PHOTO_SMARTVIEW]=A,Y[h.MKEYS.DOCUMENT_SMARTVIEW]=A,Y[h.MKEYS.MAGIC_TRIAGE]=A,Y[h.MKEYS.SEARCH_BUTTON]=a,Y[h.MKEYS.ADVANCED_SEARCH_BUTTON]=a,Y[h.MKEYS.CONTACT_SEARCH]=a,Y[h.MKEYS.SUBJECT_SEARCH]=a,Y[h.MKEYS.SEARCH_PEOPLE_SUGGEST]=a,Y[h.MKEYS.SEARCH_KWRD_SUGGEST]=a,Y[h.MKEYS.SEARCH_RECENT_SUGGEST]=a,Y[h.MKEYS.SETTINGS_POPUP_PREVIEW_PANE]=o,Y[h.MKEYS.SETTINGS_PREVIEW_PANE]=o,Y[h.MKEYS.SETTINGS_POPUP_MSG_LIST_DENSITY]=O,Y[h.MKEYS.SETTINGS_MSG_LIST_DENSITY]=O,Y[h.MKEYS.SETTINGS_POPUP_TAB_SETTING]=K,Y[h.MKEYS.SETTINGS_TAB_SETTING]=K,Y[h.MKEYS.SETTINGS_POPUP_SNIPPET]=K,Y[h.MKEYS.SETTINGS_SNIPPET]=K,Y[h.MKEYS.SETTINGS_NOTIFICATIONS]=K,Y[h.MKEYS.SETTINGS_CONVERSATION]=K,Y[h.MKEYS.SETTINGS_AUTOMATIC_REPLY]=d,Y[h.MKEYS.SEND]=c,Y[h.MKEYS.COMPOSE_ADD_ATTACHMENT]=I,Y[h.MKEYS.COMPOSE_DRAG_ATTACHMENT]=I,Y[h.MKEYS.DOWNLOAD_ATTACHMENT]=M,Y[h.MKEYS.ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD]=M,Y[h.MKEYS.ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD]=M,Y[h.MKEYS.ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD]=M,Y[h.MKEYS.ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD]=M,Y[h.MKEYS.DOWNLOAD_ATTACHMENT_ALL]=_,Y[h.MKEYS.AUTHORIZE_IMAP_ACCOUNT]=l,Y),module.exports=exports.default;
},{"../../stores/mail":"./stores/mail","../../stores/suggestions":"./stores/suggestions","../mail_constants":"./platform/mail_constants","../utils/account":"./platform/utils/account","../utils/attachments":"./platform/utils/attachments","../utils/folder":"./platform/utils/folder","../utils/index":"./platform/utils","../utils/list":"./platform/utils/list","../utils/message":"./platform/utils/message","../utils/message_group":"./platform/utils/message_group","../utils/object":"./platform/utils/object","../utils/smartview":"./platform/utils/smartview","../utils/suggestions":"./platform/utils/suggestions","./constants":"./platform/rapid_client/constants"}],"./platform/rapid_client/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.MKEY_GROUPS=exports.SEC_VALUES=exports.MKEYS=exports.BEACON_EVENTS=exports.INTERACTION_TYPES=void 0;var _=require("../utils/object"),E=exports.INTERACTION_TYPES=(0,_.mirrorKeys)(["click","nav","shortcut","keydown","callout"]),T=exports.BEACON_EVENTS=(0,_.mirrorKeys)(["SEARCH_SUGGESTION","SEARCH_ZERO_RESULTS","AD_ROTATION_SKIPPED","PREMIUM_AD_STARTED","PREMIUM_AD_STOPPED"]),A=exports.MKEYS={TOOLBAR_SELECTALL_MSG:"tlbrSlctAllMsg",TOOLBAR_SELECT_NONE:"tlbrSlctNone",TOOLBAR_BULK_CONTEXT_MENU:"tlbrBlkCtxtMenu",TOOLBAR_BULK_CONTEXT_ALL:"tlbrBlkCtxtAll",TOOLBAR_BULK_CONTEXT_NONE:"tlbrBlkCtxtNone",TOOLBAR_BULK_CONTEXT_READ:"tlbrBlkCtxtRd",TOOLBAR_BULK_CONTEXT_UNREAD:"tlbrBlkCtxtUnrd",TOOLBAR_BULK_CONTEXT_STARRED:"tlbrBlkCtxtStrrd",TOOLBAR_BULK_CONTEXT_UNSTARRED:"tlbrBlkCtxtUnStrrd",TOOLBAR_REPLY:"tlbrReply",TOOLBAR_REPLYALL:"tlbrReplyAll",TOOLBAR_FORWARD:"tlbrForward",TOOLBAR_DELETE:"tlbrDel",TOOLBAR_ARCHIVE:"tlbrArchv",TOOLBAR_MOVE:"tlbrMov",TOOLBAR_MOVE_MENU:"tlbrMovMenu",TOOLBAR_SPAM:"tlbrSpam",TOOLBAR_NOT_SPAM:"tlbrNotSpam",TOOLBAR_MORE_MENU:"tlbrMoreMenu",TOOLBAR_MARK_READ:"tlbrMrkRd",TOOLBAR_MARK_UNREAD:"tlbrMrkUnRd",TOOLBAR_MARK_STARRED:"tlbrMrkStrrd",TOOLBAR_MARK_UNSTARRED:"tlbrMrkUStrrd",TOOLBAR_VIEW_RAW:"tlbrRaw",TOOLBAR_SORT_MENU:"tlbrSrtMenu",TOOLBAR_SORT_NEW:"tlbrSrtNew",TOOLBAR_SORT_OLD:"tlbrSrtOld",TOOLBAR_SORT_UNREAD:"tlbrSrtUnrd",TOOLBAR_SORT_STARRED:"tlbrSrtStrrd",TOOLBAR_CLOSE_MSG:"tlbrCloseMsg",TOOLBAR_BACK_TO_LIST:"tlbrBackToLst",QUICK_REPLY:"qckReply",QUICK_REPLYALL:"qckReplyAll",QUICK_FORWARD:"qckForward",CONTACT_SEARCH:"cntctSrch",SUBJECT_SEARCH:"subSrch",MSG_GRP_HDR_MARK_READ:"msgHdrMrkGrpRd",MSG_GRP_HDR_MARK_UNREAD:"msgHdrMrkGrpUnRd",MSG_GRP_HDR_MARK_STAR:"msgHdrMrkGrpStrrd",MSG_GRP_HDR_MARK_UNSTAR:"msgHdrMrkGrpUnStrrd",MSG_HDR_MARK_READ:"msgHdrMrkRd",MSG_HDR_MARK_UNREAD:"msgHdrMrkUnRd",MSG_HDR_MARK_STAR:"msgHdrMrkStrrd",MSG_HDR_MARK_UNSTAR:"msgHdrMrkUnStrrd",MSG_HDR_PRINT:"msgHdrPrint",MSG_REPLY:"msgReply",MSG_REPLY_ALL:"msgReplyAll",MSG_FORWARD:"msgForward",SHOW_IMG:"showImg",OPEN_LINK:"openlnk",OPEN_DOC_PREVIEW:"openDocPrvw",ZOOM_IN_ATTACHMENT_PREVIEW:"zoomInDocPrvw",ZOOM_OUT_ATTACHMENT_PREVIEW:"zoomOutDocPrvw",OPEN_LIGHTBOX_ATTACHMENT_PREVIEW:"fullscrnDocPrvw",DOWNLOAD_ATTACHMENT:"dwnldattmt",DOWNLOAD_ATTACHMENT_ALL:"dwnldattmtAll",ATTACHMENT_LIGHTBOX_OPEN:"openattmlghtbx",ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD:"dwnldimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_SHARE:"shareimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_CLOSE:"closeimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE:"nextimglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP:"nextImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST:"nextImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE:"previmglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP:"prevImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST:"prevImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_ZOOM:"zoomimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_OPEN:"openimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_MSG:"rdmsgimglghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD:"dwnlddoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_SHARE:"sharedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE:"closedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE:"nextdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP:"nextDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST:"nextDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE:"prevdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP:"prevDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST:"prevDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_ZOOM:"zoomdoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_OPEN:"opendoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_MSG:"rdmsgdoclghtbx",ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD:"dnlwdDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_SHARE:"shareDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_CLOSE:"closeDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE:"nextDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE:"prevDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_ZOOM:"zoomDocPrvw",ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD:"dnlwdImgPrvw",ATTACHMENT_PREVIEW_IMAGE_SHARE:"shareImgPrvw",ATTACHMENT_PREVIEW_IMAGE_CLOSE:"closeImgPrvw",ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE:"nextImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE:"prevImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_ZOOM:"zoomImgPrvw",ATTACHMENT_ACTION_UNKNOWN:"attmUnknown",DOC_OPEN:"opendoc",DOC_READ_MSG:"rdmsgdoc",DOC_OPEN_LINK:"openlnkdoc",DOC_SHARE:"sharedoc",RIGHT_RAIL_DOC_OPEN:"opendocrail",RIGHT_RAIL_DOC_OPEN_ALL:"openalldocrail",PHOTO_OPEN:"openimg",PHOTO_READ_MSG:"rdmsgimg",PHOTO_DOWNLOAD:"dwnldimg",PHOTO_SHARE:"shareimg",RIGHT_RAIL_PHOTO_OPEN:"openimgrail",RIGHT_RAIL_PHOTO_OPEN_ALL:"opendocrail",OPEN_MSG:"openMsg",SELECT_MSG:"slctMsg",MARK_MSG_READ:"mrkMsgRd",MARK_MSG_UNREAD:"mrkMsgUnRd",MARK_MSG_STARRED:"mrkMsgStrrd",MARK_MSG_UNSTARRED:"mrkMsgUnStrrd",MSG_LIST_DEL:"msgLstDel",RIGHT_RAIL_MSG_OPEN:"openmsgrail",RIGHT_RAIL_MSG_OPEN_ALL:"openallmsgrail",UNDO_ACTION:"undoActn",VIEW_MSG_LINK:"viewMsgLnk",LAUNCH:"launch",YMAIL_LOGO:"logo",MAIL_ICON:"inbxBtn",CONTACTS_ICON:"cntctBtn",CALENDAR_ICON:"clndrBtn",NOTEPAD_ICON:"ntpdBtn",MESSENGER_ICON:"mssgnrBtn",SETTINGS_GEAR_ICON:"sttgsBtn",SEARCH_BAR:"clickSrchBar",ADVANCED_SEARCH:"advncdSrch",SEARCH_BUTTON:"mailSrch",SEARCH_PEOPLE_SUGGEST:"mailSrchPeopleSuggst",SEARCH_KWRD_SUGGEST:"mailSrchKwrdSuggst",SEARCH_RECENT_SUGGEST:"mailSrchRecentSuggst",ADVANCED_SEARCH_BUTTON:"advncdMailSrch",ACCOUNT_SETTINGS:"sttgsMenu",SIGNOUT:"signout",MARKETING_BEACON:"mktgBeacn",FORCED_MIGRATION_BEACON:"nau_first_launch",UNREAD_SMARTVIEW:"unrdSmrtvw",STARRED_SMARTVIEW:"strrdSmrtvw",PHOTO_SMARTVIEW:"photoSmrtvw",DOCUMENT_SMARTVIEW:"docSmrtvw",TUTORIAL_SMARTVIEW:"tutrlSmrtvw",MAGIC_TRIAGE:"mtSmrtvw",COUPONS_SMARTVIEW:"cpnSmrtvw",INBOX_FOLDER:"inboxFldr",DRAFT_FOLDER:"draftFldr",SENT_FOLDER:"sentFldr",ARCHIVE_FOLDER:"archiveFldr",BULK_FOLDER:"spamFldr",TRASH_FOLDER:"trashFldr",USER_FOLDER:"usrFldr",ADD_FOLDER:"addFldr",FOLDER_CONTEXTMENU:"fldrContxtMenu",FOLDER_CONTEXTMENU_ALL_READ:"ctxtMenuFldrAllRd",FOLDER_CONTEXTMENU_ALL_ARCHIVE:"ctxtMenuFldrAllArch",FOLDER_CONTEXTMENU_ALL_DELETE:"ctxtMenuFldrAllDel",FOLDER_CONTEXTMENU_RENAME:"ctxtMenuFldrAllRen",FOLDER_CONTEXTMENU_MOVE:"ctxtMenuFldrAllMov",FOLDER_CONTEXTMENU_DELETE:"ctxtMenuDelFldr",FOLDER_CONTEXTMENU_EMPTY:"ctxtMenuEmpty",ACCOUNT_SWITCH:"accntSwitch",COLLAPSE_ACCOUNT_SWITCHER:"cllpsAccntSwtchr",EXPAND_ACCOUNT_SWITCHER:"expndAccntSwtchr",EDIT_IMAP_ACCOUNT:"editImapAccnt",FIX_IMAP_ACCOUNT:"fixImapAccnt",CONFIRM_DELETE_ACCOUNT:"cnfmDelAccnt",DELETE_ACCOUNT:"delAccnt",ADD_ACCOUNT:"addAccnt",SELECT_YAHOO_ACCOUNT:"slctYahooAccnt",SELECT_OUTLOOK_ACCOUNT:"slctOutlookAccnt",SELECT_AOL_ACCOUNT:"slctAolAccnt",SELECT_GOOGLE_ACCOUNT:"slctGoogleAccnt",SELECT_OTHER_ACCOUNT:"slctOtherAccnt",AUTHORIZE_IMAP_ACCOUNT:"cnnctAccnt",CONNECT_ACCOUNT_SUCCESS:"cnnctAccntSuccess",CANCEL_ADD_ACCOUNT:"cancelAddAccnt",CANCEL_EDIT_DEA:"cancelEditDea",CANCEL_ADD_DEA:"cancelAddDea",CANCEL_ADD_BASE:"cancelAddBase",SETTINGS_POPUP_THEME:"themesClrSttgsPop",SETTINGS_THEME:"themesClrSttgs",SETTINGS_POPUP_THEME_MODE:"themesModeSttgsPop",SETTINGS_THEME_MODE:"themesModeSttgs",SETTINGS_POPUP_PREVIEW_PANE:"prvpSttgsPop",SETTINGS_PREVIEW_PANE:"prvpSttgs",SETTINGS_POPUP_MSG_LIST_DENSITY:"dnstySttsPop",SETTINGS_MSG_LIST_DENSITY:"dnstyStts",SETTINGS_POPUP_TAB_SETTING:"tabSttgsPop",SETTINGS_TAB_SETTING:"tabSttgs",SETTINGS_POPUP_SNIPPET:"snpptsSttgsPop",SETTINGS_SNIPPET:"snpptsSttgs",SETTINGS_POPUP_MORE:"moreSttgsPop",SETTINGS_POPUP_SWITCH_TO_CLASSIC:"swtchSttgsPop",SETTINGS_POPUP_PRIVACY:"prvcySttgsPop",SETTINGS_POPUP_HELP:"hlpSttgsPop",SETTINGS_POPUP_FEEDBACK:"fdbckSttgsPop",SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX:"inbxSttgs",SETTINGS_LEFT_RAIL_ACCOUNTS:"accntSttgs",SETTINGS_LEFT_RAIL_NOTIFICATIONS:"notfctnSttgs",SETTINGS_LEFT_RAIL_WRITING_EMAILS:"writeSttgs",SETTINGS_LEFT_RAIL_VIEWING_EMAILS:"viewSttgs",SETTINGS_LEFT_RAIL_CATEGORIZATION:"ctgrySttgs",SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY:"replySttgs",SETTINGS_LEFT_RAIL_FILTERS:"filtrSttgs",SETTINGS_LEFT_RAIL_ABOUT:"aboutSttgs",SETTINGS_LEFT_RAIL_ABOUT_ADS:"aboutAdsSttgs",SETTINGS_LEFT_RAIL_AD_FREE:"adFrSttgs",SETTINGS_LEFT_RAIL_PRIVACY:"privcySttgs",SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY:"secPrivSttgs",SETTINGS_LEFT_RAIL_ENCRYPTION:"cryptSttgs",SETTINGS_LEFT_RAIL_SOCIAL_ACCOUNTS:"socialSttgs",SETTINGS_NOTIFICATIONS:"setNtfctn",SETTINGS_CONVERSATION:"setConvstn",SETTINGS_AUTOMATIC_REPLY:"setReply",SETTINGS_UNSUBSCRIBE_ENABLE:"unsub_enable",SETTINGS_UNSUBSCRIBE_DISABLE:"unsub_disable",SETTINGS_CANCEL_EDIT_ACCOUNT:"cancelEditAccnt",SETTINGS_LINK_ENHANCER:"linkEnhancerSttgs",SETTINGS_COLLAPSE_SYSTEM_FOLDERS:"cllpsSysFldrs",SETTINGS_EXPAND_SYSTEM_FOLDERS:"expndSysFldrs",SETTINGS_LEFT_RAIL_MAIL_PRO:"mailProSttgs",OPT_OUT_SUBMIT_FEEDBACK:"optOutSbmt",OPT_OUT_CANCEL_FEEDBACK:"optOutCncl",COMPOSE_BUTTON:"cmpsBtn",CANCEL_COMPOSE:"cancelCmp",CONTACT_SUGGEST:"contctsuggst",SELECT_CONTACT:"slctcontct",SHOW_HOVER_CARD:"showHvrcrd",COMPOSE_ADD_ATTACHMENT:"compsAddAttmnt",COMPOSE_DRAG_ATTACHMENT:"dragAttmnt",DELETE_DRAFT:"delDraft",SEND:"send",COMPOSE_ADD_STATIONERY:"compsAddStnry",COMPOSE_ADD_LINK:"compAddLink",COMPOSE_BOLD:"compsBold",COMPOSE_ITALIC:"compsItalic",COMPOSE_CHOOSE_COLOR:"compsClr",COMPOSE_CHOOSE_FONT:"compsFnt",COMPOSE_OPEN_MORE_MENU:"compMoreMnu",COMPOSE_CHOOSE_LIST_TYPE:"compsLst",COMPOSE_ALIGN_TEXT:"compsAlgn",GIF_SEARCH:"compsGifSrch",GIF_CATEGORY:"compsGifCtgry",GIF_ADD:"compsAddGif",GIF_OPEN:"openGifCntxt",GIF_CHANGE_SIZE:"changeGifsz",GIF_SEND_AS_ATTACHMENT:"sendGifAttmnt",GIF_DOWNLOAD:"dnwldGif",GIF_REMOVE:"removeGif",EMOJI_CLOSE:"closeEmjiPckr",EMOJI_OPEN:"openEmjiPckr",EMOJI_ADD:"compsAddEmoji",EMOJI_CATEGORY_CHANGED:"emjiCtgryChngd",DRAG_CONTACT:"dragCntct",EMERGENCY_RELOAD_SHOWED:"emReloadShwd",EMERGENCY_RELOAD_ACCEPTED:"emReloadAcptd",EMERGENCY_RELOAD_CANCELED:"emReloadCncld",EMERGENCY_RELOAD_CLOSED:"emReloadClsd",PERIODIC_RELOAD_SHOWED:"peReloadShwd",PERIODIC_RELOAD_ACCEPTED:"peReloadAcptd",FILTER_MESSAGES:"fltrMsg",FILTER_IMAGES:"fltrPhoto",FILTER_DOCUMENTS:"fltrDocs",FILTER_FROM:"fltrFrom",FILTER_TO:"fltrTo",FILTER_ALL:"fltrAll",FILTER_PEOPLE:"fltrPeople",FILTER_NOT_PEOPLE:"fltrNotPeople",UNSUB_DISPLAYED:"unsub_disp",UNSUB_UNSUB_CLICKED:"unsub_unsub",UNSUB_HIDE:"unsub_hide",UNSUB_UNDO:"unsub_undo",UNSUB_DONE:"unsub_done",UNSUB_DISMISS:"unsub_dismiss",UNSUB_UNDO_BATCH_DELETE:"unsub_undoBatchDel",UNSUB_MAILTO_SEND:"unsub_mailToSend",UNSUB_MAILTO_CANCEL:"unsub_mailToCancel",UNSUB_TAB_GO:"unsub_tabGo",UNSUB_TAB_CANCEL:"unsub_tabCancel",UNSUB_ALL_DONE:"unsub_allDone",UNSUB_DISABLE:"unsub_disable",MAGIC_TRIAGE_DISPLAYED_NULL:"mt_disp_null",MAGIC_TRIAGE_DISPLAYED:"mt_disp",MAGIC_TRIAGE_DISPLAYED_BAR:"mt_disp_bar",MAGIC_TRIAGE_CELL_HOVER:"mt_cell_hover",MAGIC_TRIAGE_CELL_CLICK:"mt_cell_click",MAGIC_TRIAGE_CALL_SUCCESS:"mt_success",MULTI_COUPON_CLIPPER_SHOWN:"cpnClprMltiShwn",SINGLE_COUPON_CLIPPER_SHOWN:"cpnClprSnglShwn",COUPON_CLIPPED:"cpnClipped",COUPON_UNCLIPPED:"cpnUnclipped",COUPON_CLIPPER_EXPANDED:"cpnClprExpnd",COUPON_CLIPPER_SHRUNK:"cpnClprShrnk",FEEDBACK_PANEL_GIVE_FEEDBACK:"fbpFbk",TUTORIAL_VIDEO:"tutorialVid",LOW_RESOLUTION_DIALOG_CLOSED:"lowResDiagClosed",ABNORMAL_ZOOM_DIALOG_CLOSED:"zoomDiagClosed",HIDE_RIGHT_RAIL_AD:"hideRightRailAd",ADFREE_UPSELL_ACCEPT:"adFreeAcptd",ADFREE_UPSELL_CANCEL:"adFreeCncld",GET_RR_WIDER_MAIL_EXTENSION:"rrWiderMailGetExtension",RR_WIDER_MAIL_INSTALL_SUCCESS:"rrWiderMailInstallSuccess",RR_WIDER_MAIL_INSTALL_FAILURE:"rrWiderMailInstallFailure",LINK_ENHANCER_ADD_LINK:"addEnLnk",LINK_ENHANCER_RESIZE_LINK:"resizeEnLnk",LINK_ENHANCER_REMOVE_LINK:"removeEnLnk",LINK_ENHANCER_OPEN_LINK:"openEnLnk",LINK_ENHANCER_SHARE_LINK:"shareEnLnk",LINK_ENHANCER_MOVE_LINK_BOTTOM:"moveEnLnkBottom",LINK_ENHANCER_MOVE_LINK_INLINE:"moveEnLnkInline",PENCIL_AD_FALLBACK_CLICKED:"pencilAdFallbackClicked",PENCIL_AD_GEMINI_CLICKED:"pencilAdGeminiClicked"},O=exports.SEC_VALUES={LAUNCH:"launch",LEFTRAIL_COMPOSE:"leftr_comp",COMPOSE_CLOSE:"comp_cls",COMPOSE_CONTACTS:"comp_contcts",COMPOSE_TOOLBAR:"comp_toolbr",COMPOSE_MSG:"comp_msg",RTE_TOOLBAR:"rte_toolbr",MSG_READ_ATTACHMENT:"msgrd_attm",MSG_BODY:"msg_body",ATTM_PREVIEW:"attm_prvw",MSG_READ_TOOLBAR:"msgrd_toolbar",QUICK_COMPOSE:"quickComp",MSG_LIST_MSG:"msglst_msg",MSG_LIST_BULK_ACTION:"msglst_blkactn",MSG_LIST_SORT:"msglst_srt",MSG_LIST_NOTIFICATION:"msglst_notf",DOC_LIST:"doc_vw",PHOTO_LIST:"photo_vw",INBOX_FILTERS:"inbox_filters",ATTACHMENT_LIGHTBOX:"attm_lghtbx",FEATURE_CUE:"feature_cue",HEADER:"hdr",HEADER_NAV:"hdr_nav",HEADER_SEARCH:"hdr_srch",HEADER_SETTINGS:"hdr_sttngs",HEADER_LIST:"hdr_list",LEFTRAIL_SMARTVIEW:"leftr_smrtvw",LEFTRAIL_SYSFOLDER:"leftr_systfldr",LEFTRAIL_USERFOLDER:"leftr_usrfldr",LEFTRAIL_CONTEXTMENU:"leftr_contxtmnu",LEFTRAIL_ACCOUNTS:"leftr_acct",RIGHT_RAIL:"rightrail",RIGHT_RAIL_WIDER_MAIL_UPSELL:"rrWMailUpsell",SETTINGS_POPUP:"sttgspop",SETTINGS_LEFT_RAIL:"sttgsLftr",SETTINGS_INBOX_TAB:"sttgsInbx",SETTINGS_ACCOUNTS_TAB:"sttgsAccnts",SETTINGS_NOTIFICATIONS_TAB:"sttgsNtfctn",SETTINGS_VIEWING_EMAIL_TAB:"sttgsView",SETTINGS_AUTOMATIC_REPLY_TAB:"sttgsReply",SETTINGS_WRITING_EMAIL_TAB:"sttgsWrite",PERIODIC_RELOAD:"periodic_rld",EMERGENCY_RELOAD:"emergency_rld",LOW_RESOLUTION:"low_res",ABNORMAL_ZOOM:"zoom_level",VIDEO_PLAYER:"video_player",UNSUB_PANE:"unsub_pane",MAGIC_TRIAGE_LIST:"mt_list",FEEDBACK_PANEL:"feedback_panel",TUTORIALS:"tutorials",ADFREE_UPSELL_DIALOG:"adFreeDlg",NOTIFICATION_ACTION:"NtfctnActn"},S=exports.MKEY_GROUPS=(0,_.mirrorKeys)(["reply","replyAll","forward","delete","archive","move","open_msg","dwnld_attmnt","print_attmnt","launch","search","create_fldr","mark_read","mark_unread","mark_star","mark_unstar","mark_spam","rename_fldr","move_fldr","delete_fldr","add_attmnt","compose","send"]);
},{"../utils/object":"./platform/utils/object"}],"./platform/rapid_client":[function(require,module,exports){
"use strict";function n(n){return n&&n.__esModule?n:{default:n}}function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.mKey,t=n.sec,a=n.mKeyGroup,i=n.actionData,c=void 0===i?null:i,u=n.interactionType,l=void 0===u?o.INTERACTION_TYPES.click:u;if(t&&e){o.INTERACTION_TYPES[l]||(l=o.INTERACTION_TYPES.click);var f={mKey:e,intrctn:l,coreActn:a||null,actnData:c?JSON.stringify(c):null},p=r.default.feature(d.ApiClientLoggerNames.RapidClient,Object.assign({},{sec:t},f)),g=s.getRapidInstance();p.logSuccess(),g.beaconClick(t,null,0,f)}}function t(n){var e=n.eventName,t=n.pageParams,a=n.outcome;s.getRapidInstance().beaconEvent(e,t,a)}exports.__esModule=!0,exports._send=e;var a=require("./action_data_creators"),i=n(a),o=require("./constants"),c=require("./logger"),r=n(c),d=require("../mail_constants"),s={init:function n(e){if("undefined"!=typeof window){var t=window,a=t.rapidInstance;t.Y=t.YAHOO||{},t.Y.i13n=t.Y.i13n||{};var i=Object.assign({},e.rapid);return i&&(i.pageview_on_init=!1),t.Y.i13n.Rapid&&(a||(t.rapidInstance=new t.Y.i13n.Rapid(i))),t.rapidInstance}},getRapidInstance:function n(){return"undefined"!=typeof window&&"undefined"!=typeof window.rapidInstance&&window.rapidInstance},sendI13nModel:function n(t,a){var o=t.i13nModel,c=i.default[o.mKey];"function"==typeof a&&"function"==typeof c&&(o.actionData=c.call(this,t,a)),e(o)},sendBeaconEvent:function n(e,a){var o=e.i13nModel,c=i.default[o.eventName];"function"==typeof a&&"function"==typeof c&&(o.pageParams=c.call(this,e,a),o.pageParams.etrg=o.etrg),t(o)}};exports.default=s;
},{"../mail_constants":"./platform/mail_constants","./action_data_creators":"./platform/rapid_client/action_data_creators","./constants":"./platform/rapid_client/constants","./logger":"./platform/rapid_client/logger"}],"./platform/rapid_client/logger":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/i13n_client"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],"./platform/react_action_constants":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.mail=void 0;var E=require("../utils/object"),_=exports.mail=(0,E.mirrorKeys)(["INITIAL_STATE","LAUNCH_COMPLETED","WINDOW_RESIZING","WINDOW_RESIZED","APPLICATION_VISIBILITY_DID_CHANGE","CANCEL_APP_RELOAD","CONFIRM_APP_RELOAD","SHOW_APP_RELOAD","RESOLUTION_CHANGE","HEADER_NAVIGATION_SELECTED","ACCOUNT_MENU_SHOWN","USER_LOGGED_OUT","TIMEZONE_CHANGE_DETECTED","PREFERRED_TIMEZONE_CHANGE_REJECTED","ONLINE_STATUS_CHANGED","OPEN_PAGE_REQUESTED","CLOSE_PAGE_REQUESTED","LAUNCH_FAILED","V3_PREVIEW_MESSAGE_REQUESTED","PREVIEW_MESSAGE_REQUESTED","PREVIEW_MESSAGE_CLOSED","PREVIEW_PANE_PREF_CHANGE_REQUESTED","PREVIEW_PANE_PREF_CHANGE_SUCCEEDED","PREVIEW_PANE_PREF_CHANGE_FAILED","MULTI_TASKING_PREF_CHANGE_REQUESTED","MULTI_TASKING_PREF_CHANGE_SUCCEEDED","MULTI_TASKING_PREF_CHANGE_FAILED","EXPAND_ACCOUNT_LIST","EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED","EXPANDED_FOLDERS_PREF_CHANGE_SUCCEEDED","EXPANDED_FOLDERS_PREF_CHANGE_FAILED","SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED","SHOW_CUSTOM_FOLDERS_PREF_CHANGE_SUCCEEDED","SHOW_CUSTOM_FOLDERS_PREF_CHANGE_FAILED","BROWSER_NOTIFICATIONS_PREF_CHANGE_REQUESTED","BROWSER_NOTIFICATIONS_PREF_CHANGE_SUCCEEDED","BROWSER_NOTIFICATIONS_PREF_CHANGE_FAILED","CONVERSATIONS_CHANGE_REQUESTED","CONVERSATIONS_CHANGE_SUCCEEDED","CONVERSATIONS_CHANGE_FAILED","SHOW_IMAGE_PREF_CHANGE_REQUESTED","SHOW_IMAGE_PREF_CHANGE_SUCCEEDED","SHOW_IMAGE_PREF_CHANGE_FAILED","SNIPPETS_PREF_CHANGE_REQUESTED","SNIPPETS_PREF_CHANGE_SUCCEEDED","SNIPPETS_PREF_CHANGE_FAILED","HIDEAD_PREF_CHANGE_REQUESTED","HIDEAD_PREF_CHANGE_SUCCEEDED","HIDEAD_PREF_CHANGE_FAILED","MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED","MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED","MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED","ACTION_AFTER_MESSAGE_MOVE_CHANGE_REQUESTED","ACTION_AFTER_MESSAGE_MOVE_CHANGE_SUCCEEDED","ACTION_AFTER_MESSAGE_MOVE_CHANGE_FAILED","DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED","DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED","DEFAULT_SENDING_ADDRESS_CHANGE_FAILED","SIGNATURE_STATUS_CHANGE_REQUESTED","SIGNATURE_STATUS_CHANGE_SUCCEEDED","SIGNATURE_STATUS_CHANGE_FAILED","SIGNATURE_TEXT_CHANGE_REQUESTED","SIGNATURE_TEXT_CHANGE_SUCCEEDED","SIGNATURE_TEXT_CHANGE_FAILED","COMPOSE_FONT_SIZE_CHANGE_REQUESTED","COMPOSE_FONT_SIZE_CHANGE_SUCCEEDED","COMPOSE_FONT_SIZE_CHANGE_FAILED","COMPOSE_FONT_FAMILY_CHANGE_REQUESTED","COMPOSE_FONT_FAMILY_CHANGE_SUCCEEDED","COMPOSE_FONT_FAMILY_CHANGE_FAILED","LINK_ENHANCER_CHANGE_REQUESTED","LINK_ENHANCER_CHANGE_SUCCEEDED","LINK_ENHANCER_CHANGE_FAILED","LINK_ENHANCER_ADD_LINK","LINK_ENHANCER_RESIZE_LINK","LINK_ENHANCER_REMOVE_LINK","LINK_ENHANCER_OPEN_LINK","LINK_ENHANCER_SHARE_LINK","LINK_ENHANCER_MOVE_LINK_BOTTOM","LINK_ENHANCER_MOVE_LINK_INLINE","DARLA_ADS_RECEIVED","DARLA_ADS_FAILED","PREFETCHED_AD_RENDERED","PREFETCHED_ADS_RENDERED","LOOK_AHEAD_ADS_PARSED","LOOK_AHEAD_ADS_RENDERED","AD_ROTATION_SKIPPED","PREMIUM_AD_STARTED","PREMIUM_AD_STOPPED","HIDE_RIGHT_PANE_ADS","AD_RECEIVED","AD_FAILED","GEMINI_AD_RECEIVED","GEMINI_AD_FAILED","GEMINI_AD_REQUESTED","AD_FALLBACK_CLICKED","AD_GEMINI_CLICKED","AD_FEEDBACK_STARTED","AD_FEEDBACK_SUBMITTED","AD_FEEDBACK_CLOSED","GEMINI_SPONSORED_AD_OPENED","GEMINI_SPONSORED_ASSET_RECEIVED","GEMINI_SPONSORED_ASSET_FAILED","ADFREE_UPSELL_ACCEPT","ADFREE_UPSELL_CANCEL","GET_WIDER_MAIL_EXTENSION","WIDER_MAIL_INSTALL_SUCCESS","WIDER_MAIL_INSTALL_FAILURE","KEY_DID_BIND","KEY_DID_UPDATE","KEY_DID_UNBIND","NAVIGATE_TO_COMPOSE_REQUESTED","NAVIGATE_SUCCESS","FEEDBACK_PANEL_GIVE_FEEDBACK","V3_MESSAGE_SAVE_REQUESTED","V3_MESSAGE_SAVE_SUCCEEDED","V3_MESSAGE_SAVE_FAILED","V3_MESSAGE_SEND_REQUESTED","V3_MESSAGE_SEND_SUCCEEDED","V3_MESSAGE_SEND_FAILED","MESSAGE_SAVE_REQUESTED","MESSAGE_SAVE_SUCCEEDED","MESSAGE_SAVE_FAILED","MESSAGE_AUTO_SAVE_REQUESTED","MESSAGE_AUTO_SAVE_SUCCEEDED","MESSAGE_AUTO_SAVE_FAILED","SPONSORED_SAVE_TO_INBOX_SUCCEEDED","SPONSORED_SAVE_TO_INBOX_FAILED","COMPOSE_OPENED","COMPOSE_CLOSED","SEND","SEND_SUCCESS","SEND_FAILURE","INLINE_IMAGE_LOAD_FAILED","INLINE_ATTACHMENT_RESTORED","INLINE_IMAGE_LOADED","ATTACHMENT_STATE_UPDATED","REMOVE_INLINE_IMAGE","DELETE_DRAFT_REQUESTED","DELETE_DRAFT_SUCCEEDED","DELETE_DRAFT_FAILED","UPDATE_EDIT_DRAFT_STATE","DRAFT_SUBJECT_UPDATED","SEARCH_CONTACT_BEGAN","SEARCH_CONTACT_SUCCEEDED","IMPORTANT_CONTACTS_PRELOADED","CLEARED_SUGGESTIONS","CONTACT_ADDED","XOBNIFIED_RESPONDED","COMPOSE_NO_ADDRESS_DETECTED","COMPOSE_RECIPIENT_LIMIT_EXCEEDED","COMPOSE_ADDRESSING_FAILED","COMPOSE_INVALID_MESSAGE_OPENED","SUBJECT_FOCUSED","RTE_MORE_MENU_SHOWN","HANDLE_RTE_TOOLBAR_ACTIONS","GIF_FETCHED","GIF_FETCH_REQUESTED","GIF_FETCH_SUCCEEDED","GIF_FETCH_FAILED","GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED","GIF_CATEGORIES_CONTENT_FETCH_REQUESTED","GIF_CATEGORIES_CONTENT_FETCH_FAILED","COUPONS_LIST_REQUESTED","COUPONS_LIST_SUCCEEDED","COUPONS_LIST_FAILED","TRAVEL_LIST_REQUESTED","TRAVEL_LIST_SUCCEEDED","TRAVEL_LIST_FAILED","MESSAGE_GROUP_WITH_BODIES_OPENED","MESSAGE_GROUP_WITH_BODIES_RECEIVED","MESSAGE_GROUP_WITH_BODIES_FAILED","MESSAGE_GROUP_OPENED","MESSAGE_BODIES_REQUESTED","MESSAGE_BODIES_RECEIVED","MESSAGE_BODIES_FAILED","MESSAGE_BODIES_OPEN_GROUP_RECEIVED","MESSAGE_CARD_FOCUSED","ATTACHMENT_PREVIEW_FAILED","AUTO_CHECK_MAIL_REQUESTED","AUTO_CHECK_MAIL_RECEIVED","AUTO_CHECK_MAIL_FAILED","V3_CHECK_MAIL_REQUESTED","V3_CHECK_MAIL_RECEIVED","V3_CHECK_MAIL_FAILED","MAGIC_TRIAGE_ITEMS_REQUESTED","MAGIC_TRIAGE_ITEMS_RECEIVED","MAGIC_TRIAGE_ITEMS_FAILED","MAGIC_TRIAGE_BAR_DISPLAYED","MAGIC_TRIAGE_BAR_INTERACTION","MAGIC_TRIAGE_CALL_SUCCESS","MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED","MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED","MESSAGE_BODY_LINK_CLICKED","MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED","MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_SUCCEEDED","MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_FAILED","MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED","MESSAGES_RESTORE_FROM_MESSAGE_VIEW_SUCCEEDED","MESSAGES_RESTORE_FROM_MESSAGE_VIEW_FAILED","MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED","MESSAGES_DELETE_FROM_MESSAGE_VIEW_SUCCEEDED","MESSAGES_DELETE_FROM_MESSAGE_VIEW_FAILED","MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED","MESSAGES_MOVE_FROM_MESSAGE_VIEW_SUCCEEDED","MESSAGES_MOVE_FROM_MESSAGE_VIEW_FAILED","MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED","MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_SUCCEEDED","MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_FAILED","MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED","MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_SUCCEEDED","MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_FAILED","MESSAGES_ARCHIVE_REQUESTED","MESSAGES_ARCHIVE_SUCCEEDED","MESSAGES_ARCHIVE_FAILED","MESSAGES_RESTORE_REQUESTED","MESSAGES_RESTORE_SUCCEEDED","MESSAGES_RESTORE_FAILED","MESSAGES_DELETE_REQUESTED","MESSAGES_DELETE_SUCCEEDED","MESSAGES_DELETE_FAILED","MESSAGES_MOVE_REQUESTED","MESSAGES_MOVE_SUCCEEDED","MESSAGES_MOVE_FAILED","MESSAGES_MARK_READ_REQUESTED","MESSAGES_MARK_READ_SUCCEEDED","MESSAGES_MARK_READ_FAILED","MESSAGES_MARK_SPAM_REQUESTED","MESSAGES_MARK_SPAM_SUCCEEDED","MESSAGES_MARK_SPAM_FAILED","MESSAGES_MARK_NOT_SPAM_REQUESTED","MESSAGES_MARK_NOT_SPAM_SUCCEEDED","MESSAGES_MARK_NOT_SPAM_FAILED","MESSAGES_MARK_UNREAD_REQUESTED","MESSAGES_MARK_UNREAD_SUCCEEDED","MESSAGES_MARK_UNREAD_FAILED","MESSAGES_MARK_STARRED_REQUESTED","MESSAGES_MARK_STARRED_SUCCEEDED","MESSAGES_MARK_STARRED_FAILED","MESSAGES_MARK_UNSTARRED_REQUESTED","MESSAGES_MARK_UNSTARRED_SUCCEEDED","MESSAGES_MARK_UNSTARRED_FAILED","STAR_CHANGE_REQUESTED","STAR_CHANGE_SUCCEEDED","STAR_CHANGE_FAILED","READ_CHANGE_REQUESTED","READ_CHANGE_SUCCEEDED","READ_CHANGE_FAILED","UNDO_MOVE_REQUESTED","UNDO_MOVE_SUCCEEDED","UNDO_MOVE_FAILED","FILE_ATTACHMENT_ADDED","ATTACHMENT_REMOVED","ATTACHMENT_DOWNLOADED","ALL_ATTACHMENTS_DOWNLOADED","INLINE_FILE_ATTACHMENT_ADDED","INLINE_FILE_ATTACHMENT_REMOVED","INLINE_ATTACHMENT_MOVED_TO_TRAY","ATTACHMENT_MOVED_TO_INLINE","REMOVE_NON_LOADED_ATTACHMENTS","V3_MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED","MESSAGES_LIST_SCROLLED","ITEM_LIST_PAGE_SCROLLED","MORE_MESSAGES_REQUEST_SUCCESS","MORE_MESSAGES_REQUEST_FAILED","MESSAGE_GROUP_BY_CHANGED","LIST_SORT_ORDER_CHANGE_REQUESTED","MESSAGE_LIST_TOOLBAR_MENU_SHOWN","MESSAGES_FROM_MESSAGE_LIST_SELECTED","MESSAGES_FROM_MESSAGE_LIST_RANGE_SELECTED","MESSAGES_FROM_MESSAGE_LIST_ALL_SELECTED","MESSAGES_FROM_MESSAGE_LIST_NONE_SELECTED","MESSAGES_FROM_MESSAGE_LIST_READ_SELECTED","MESSAGES_FROM_MESSAGE_LIST_UNREAD_SELECTED","MESSAGES_FROM_MESSAGE_LIST_STARRED_SELECTED","MESSAGES_FROM_MESSAGE_LIST_UNSTARRED_SELECTED","MESSAGES_FROM_MESSAGE_LIST_SELECT_CURSOR_MOVED","MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED","MESSAGES_SELECTION_REPLACED","ITEMS_DRAG_STARTED","STREAM_CURSOR_MOVED","ALL_STREAM_ITEMS_SELECTED","STREAM_ITEMS_SELECTION_CLEARED","STREAM_ITEM_TOGGLED","ARCHIVE_FOLDER_REQUESTED","ARCHIVE_FOLDER_SUCCEEDED","ARCHIVE_FOLDER_FAILED","CHANGE_FOLDER_REQUESTED","CHANGE_FOLDER_SUCCEEDED","CHANGE_FOLDER_FAILED","CREATE_FOLDER_REQUESTED","CREATE_FOLDER_SUCCEEDED","CREATE_FOLDER_FAILED","DELETE_FOLDER_SUCCEEDED","DELETE_FOLDER_FAILED","RENAME_FOLDER_REQUESTED","RENAME_FOLDER_SUCCEEDED","RENAME_FOLDER_FAILED","MARK_READ_FOLDER_REQUESTED","MARK_READ_FOLDER_SUCCEEDED","MARK_READ_FOLDER_FAILED","CLEAR_FOLDER_REQUESTED","CLEAR_FOLDER_SUCCEEDED","CLEAR_FOLDER_FAILED","FOLDER_CONTEXT_MENU_REQUESTED","MOVE_QUERY_REQUESTED","MOVE_QUERY_SUCCEEDED","MOVE_QUERY_FAILED","MARK_QUERY_REQUESTED","MARK_QUERY_SUCCEEDED","MARK_QUERY_FAILED","DELETE_NON_EMPTY_FOLDER_REQUESTED","CAPTCHA_BEGAN","SEARCH_INPUT_FOCUSED","SEARCH_LIST_ITEMS_REQUESTED","SEARCH_LIST_ITEMS_BLOCK_RECEIVED","SEARCH_LIST_ITEMS_RECEIVED","SEARCH_LIST_ITEMS_FAILED","MOVE_ITEMS_REQUESTED","MOVE_ITEMS_SUCCEEDED","MOVE_ITEMS_FAILED","MORE_ITEMS_REQUESTED","MORE_SEARCH_LIST_ITEMS_REQUESTED","MORE_SEARCH_LIST_ITEMS_RECEIVED","MORE_SEARCH_LIST_ITEMS_FAILED","SUGGESTIONS_REQUESTED","SUGGESTIONS_RECEIVED","SUGGESTIONS_FROM_CONTACTS_RECEIVED","SUGGESTIONS_FAILED","ATTACHMENT_PREVIEW_STATE_SAVE_REQUESTED","ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN","ATTACHMENT_OPENED","ATTACHMENT_ZOOMED","DOCUMENT_FETCH_SUCCEEDED","DOCUMENT_FETCH_FAILED","DOCUMENT_FETCH_REQUESTED","DOCUMENT_PAGE_FETCH_REQUESTED","DOCUMENT_PAGE_FETCH_SUCCEEDED","DOCUMENT_PAGE_FETCH_FAILED","DOCUMENT_PREVIEW_FAILED","SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED","SETTINGS_MENU_REQUESTED","SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED","SETTINGS_SAVE_VACATION_PREFERENCES_FAILED","SETTINGS_SAVE_FILTERS_SUCCEEDED","SETTINGS_SAVE_FILTERS_FAILED","SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_SUCCEEDED","SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_FAILED","SETTINGS_LOCATION_CHANGE_REQUESTED","SETTINGS_LOCATION_CHANGE_SUCCEEDED","SETTINGS_LOCATION_CHANGE_FAILED","SETTINGS_SAVE_BLOCKED_SENDERS_REQUESTED","SETTINGS_SAVE_BLOCKED_SENDERS_SUCCEEDED","SETTINGS_SAVE_BLOCKED_SENDERS_FAILED","SETTINGS_CHANGE_REQUESTED","SETTINGS_CHANGE_SUCCEEDED","SETTINGS_CHANGE_FAILED","CONTACT_DETAIL_FETCH_REQUESTED","CONTACT_DETAIL_FETCH_SUCCEEDED","CONTACT_DETAIL_FETCH_FAILED","IMPORTANT_CONTACTS_FETCH_REQUESTED","IMPORTANT_CONTACTS_FETCH_SUCCEEDED","IMPORTANT_CONTACTS_FETCH_FAILED","NOTIFICATION_CLOSED","SCOUT_TIMER","FEATURE_CUE_MARK_AS_SHOWN_REQUESTED","FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED","FEATURE_CUE_MARK_AS_SHOWN_FAILED","FEATURE_TRY_NOW_REQUESTED","FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED","FEATURE_CUE_MARK_AS_SUCCESS_FAILED","FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED","FEATURE_CUE_MARK_AS_CLOSE_FAILED","FEATURE_CLOSED","FEATURE_CUE_NOTIFICATION_CLOSED","PLAY_MAIL_ONBOARDING_VIDEO","PLAY_MAIL_ONBOARDING_VIDEO_FROM_CUE","MARK_ONBOARDING_AS_SEEN_SUCCEEDED","MARK_ONBOARDING_AS_SEEN_FAILED","SSA_BREACH_ALERT_SHOWN","SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED","SSA_BREACH_ALERT_MARK_AS_ACTED_SUCCEEDED","SSA_BREACH_ALERT_AS_ACTED_FAILED","BROWSER_NOTIFICATIONS_DISPLAYED","BULK_PROGRESS_REQUESTED","BULK_PROGRESS_RECEIVED","BULK_PROGRESS_FAILED","BULK_CANCEL_REQUESTED","BULK_CANCEL_SUCCEEDED","BULK_CANCEL_FAILED","MESSAGE_PRINT_REQUESTED","MESSAGE_PRINT_SUCCEEDED","MESSAGE_PRINT_CANCELED","MESSAGE_PRINT_FAILED","DOWNLOAD_REQUESTED","DOWNLOAD_COMPLETED","DOWNLOAD_FAILED","OPT_OUT_OF_NORRIN","OPT_OUT_SUBMIT_FEEDBACK","OPT_OUT_CANCEL_FEEDBACK","GO_TO_PRIVACY_TERMS","GO_TO_HELP_PAGE","GIVE_FEEDBACK","GO_TO_ABOUT_YAHOO_MAIL","GO_TO_AD_FREE_MAIL","GO_TO_ABOUT_OUR_ADS","SETTINGS_POPOVER_AUTOOPEN_CHANGED","THEME_CHANGE_REQUESTED","THEME_CHANGE_SUCCEEDED","THEME_CHANGE_FAILED","THEME_MODE_CHANGE_REQUESTED","THEME_MODE_CHANGE_SUCCEEDED","THEME_MODE_CHANGE_FAILED","ACCOUNT_DETAILS_CHANGE_REQUESTED","ACCOUNT_DETAILS_CHANGE_SUCCEEDED","ACCOUNT_DETAILS_CHANGE_FAILED","ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED","ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED","ACCOUNT_DELETE_REQUESTED","ACCOUNT_DELETE_SUCCEEDED","ACCOUNT_DELETE_FAILED","ACCOUNT_ADD_REQUESTED","ACCOUNT_ADD_SUCCEEDED","ACCOUNT_ADD_FAILED","ACCOUNT_ADD_FINISHED","ACCOUNT_SETTINGS_CANCEL","ACCOUNT_ADD_WIZARD_OPENED","ACCOUNT_ADD_SELECT_PROVIDER","ACCOUNT_DELETE_OPEN_CONFIRMATION","ACCOUNT_ADD_AUTHORIZE","CONFIRM_EMAIL_RESEND_REQUESTED","CONFIRM_EMAIL_RESEND_SUCCEEDED","CONFIRM_EMAIL_RESEND_FAILED","ACCOUNT_REAUTH_REQUESTED","ACCOUNT_REAUTH_SUCCEEDED","ACCOUNT_REAUTH_FAILED","MESSAGE_CARD_EXPANSION_CHANGED","MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED","SOCIAL_ACCOUNTS_STATUS_RECEIVED","SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED","SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED","SOCIAL_ACCOUNTS_DISCONNECT_FAILED","DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED","DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED","DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED","DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED","ALIAS_EMAIL_CREATE_REQUESTED","ALIAS_EMAIL_CREATE_SUCCEEDED","ALIAS_EMAIL_CREATE_FAILED","UNSEEN_COUNT_RESET","UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED","UNSUBSCRIBE_SINGLE_LIST_CLEANED","UNSUBSCRIBE_DIALOG_CLOSED","UNSUBSCRIBE_NEW_COMPOSE","UNSUBSCRIBE_DISPLAY_LIST","UNSUBSCRIBE_ACTION_TAKEN","TUTORIAL_VIDEO_PLAYED","EXCEPTION_OCCURRED","MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED","MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED","CHANNEL_CHANGED","VIDEO_PLAYER_OPENED","VIDEO_PLAYER_CLOSED","CHANNELS_FETCH_REQUESTED","CHANNELS_FETCH_RECEIVED","CHANNELS_FETCH_FAILED","CHANNEL_FETCH_REQUESTED","CHANNEL_FETCH_RECEIVED","CHANNEL_FETCH_FAILED","VIDEO_PLAYER_PLAYED","VIDEO_PLAYER_PAUSED","UNSUBSCRIBE_NOTIFICATION_CHANGE_REQUESTED","UNSUBSCRIBE_NOTIFICATION_CHANGE_SUCCEEDED","UNSUBSCRIBE_NOTIFICATION_CHANGE_FAILED","UNSUBSCRIBE_TIMESTAMP_CHANGE_REQUESTED","UNSUBSCRIBE_TIMESTAMP_CHANGE_SUCCEEDED","UNSUBSCRIBE_TIMESTAMP_CHANGE_FAILED","NUM_UNSUBSCRIBED_ITEMS_CHANGE_REQUESTED","NUM_UNSUBSCRIBED_ITEMS_CHANGE_SUCCEEDED","NUM_UNSUBSCRIBED_ITEMS_CHANGE_FAILED","CONTACT_GROUPS_REQUESTED","CONTACT_GROUPS_RECEIVED","CONTACT_GROUPS_FAILED","MESSAGE_READ_AD_ROTATION_TIMER","EMOJI_PICKER_CLOSED","EMOJI_PICKER_OPENED","EMOJI_CATEGORY_CHANGED","EMOJI_SEARCH_REQUESTED","EMOJI_SEARCH_SUCCEEDED","EMOJI_SEARCH_FAILED","CONTACT_DRAG_DROP","FEATURE_DISABLED","MAILBOX_NOT_SYNCING","PAYMENTS_FETCH_RECEIVED","PAYMENTS_FETCH_FAILED","GET_INVITE_INFO_REQUESTED","GET_INVITE_INFO_SUCCEEDED","GET_INVITE_INFO_FAILED","RESPOND_TO_INVITE","RESPOND_TO_INVITE_SUCCEEDED","RESPOND_TO_INVITE_FAILED","EXPIRING_COUPON_CLIP_REQUESTED","EXPIRING_COUPON_UNCLIP_REQUESTED","EXPIRING_COUPON_CLIP_SUCCEEDED","EXPIRING_COUPON_UNCLIP_SUCCEEDED","EXPIRING_COUPON_CLIP_FAILED","EXPIRING_COUPON_UNCLIP_FAILED","EXPIRING_COUPON_CLIPPER_SHOWN","EXPIRING_COUPON_EXPAND_STATE_CHANGED","DRAWER_OPENED","DRAWER_CLOSED","SPORTS_FETCH_SUCCEEDED","SPORTS_FETCH_REQUESTED","SPORTS_FETCH_FAILED"]);
},{"../utils/object":"./platform/utils/object"}],372:[function(require,module,exports){
"use strict";exports.__esModule=!0;var n=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},t=function n(t){return function(n,e){return t.reduce(function(t,e){return e(n,t)},e)}},e=function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},u=t(r);return function(t){return function(e){return function(r){if(r.unsavedData)throw new Error("RESERVED_ACTION_PAYLOAD_KEY",'"unsavedData" is reserved key for handling flux work flows in mail. Please use "PreserveDataOnUnmount" component to save data during unmount');return e(u(t.getState(),n({},r,{unsavedData:[].concat(o()).filter(Boolean)})))}}}};exports.default=e,module.exports=exports.default;
},{}],373:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},a=require("norrin-logger"),n=e(a),t=require("../../platform/react_action_constants"),i=n.default.create("norrin/actions"),o=n.default.create("norrin/action_error"),E=function e(a){return function(){return function(e){return function(n){var E=n.type,S=n.route,l=void 0===S?{}:S,u=n.error,c={action:E,crumb:a};if(u&&([t.mail.MESSAGE_AUTO_SAVE_FAILED,t.mail.MESSAGE_SAVE_FAILED,t.mail.SEND_FAILURE].indexOf(E)>-1&&(u.csid=n.csid),o.fatal(r({},u,{actionType:E}))),E===t.mail.OPEN_PAGE_REQUESTED&&(c.routeName=l.name),[t.mail.MESSAGE_AUTO_SAVE_FAILED,t.mail.MESSAGE_AUTO_SAVE_REQUESTED,t.mail.MESSAGE_AUTO_SAVE_SUCCEEDED,t.mail.MESSAGE_SAVE_FAILED,t.mail.MESSAGE_SAVE_REQUESTED,t.mail.MESSAGE_SAVE_SUCCEEDED,t.mail.SEND_FAILURE,t.mail.SEND].indexOf(E)>-1&&(c.csid=n.csid),"undefined"!=typeof performance&&performance.now&&(c.elapsedTime=performance.now()),"undefined"!=typeof console&&console.memory){var _=console.memory,f=_.jsHeapSizeLimit,m=_.totalJSHeapSize,A=_.usedJSHeapSize;c.jsHeapSizeLimit=f,c.totalJSHeapSize=m,c.usedJSHeapSize=A}var s=i.feature("flux_action",c),d=e(n);return"undefined"!=typeof window?window.requestAnimationFrame(s.logLatency):s.logLatency(),d}}}};exports.default=E,module.exports=exports.default;
},{"../../platform/react_action_constants":"./platform/react_action_constants","norrin-logger":"./node_modules/norrin-logger/index.js"}],374:[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=function e(t,n){return function(e){return function(r){return function(u){return"undefined"!=typeof t[u.type]&&t[u.type](e,u,n),r(u)}}}};exports.default=e,module.exports=exports.default;
},{}],375:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function s(){this.checkMailRequestWrappers=[],this.mutex=new c}exports.__esModule=!0;var t=require("../utils/object"),a=require("../mail_error/request_queue_rejection"),r=e(a),n=require("../../vendor/through"),i=e(n),o=(0,t.mirrorKeys)(["launch.skeleton","launch.folder","launch.defaultFolder","launch.message","launch.compose","launch.messageGroup","folderChange.getList","folders.get","folders.delete","folders.create","folders.rename","folderList.delete","folderList.update","messages.autosave","messages.save","messages.saveV3","messages.saveWithAttachment","messages.send","messages.update","messages.updateV3","messages.delete","messages.getBodies","messages.getBodiesFull","messages.prefetchBodies","messages.prefetchBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchExtractedBodies","messages.prefetchExtractedBodiesFull","messages.saveAndSend","messages.saveAndSendWithAttachment","messages.saveRawMessage","messages.undo","messages.trashAndDelete","messageGroups.get","messageGroups.getList","messageCards.getList","magicTriage.getList","undo.list","checkMail","document.fetch","task.status","task.abort","settings.get","settings.setBaseName","settings.setBaseNameJWS","settings.saveMessageFilters","settings.saveBlockedSenders","settings.saveVacationPreferences","settings.saveWebMailboxAttributes","settings.saveWebMailboxMultiAttributes","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","searchSuggestions","searchItems","searchGifs","searchTenorGifs","getMagicTriageMessages","getContentProviders","linkContentProvider","search","unseenCount.reset","udb.read","udb.write","account.getAlerts","account.updateAlerts"]),u=(0,t.mirrorKeys)(["messages.saveV3","messages.send","messages.getBodies","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messageGroups.get","document.fetch","searchGifs","searchTenorGifs","getMagicTriageMessages","searchSuggestions","settings.get","settings.saveWebMailboxAttributes","settings.saveBlockedSenders","settings.saveVacationPreferences","settings.setBaseName","settings.setBaseNameJWS","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","task.status","unseenCount.reset","account.getAlerts","account.updateAlerts"]),c=require("../mutex");s.prototype.add=function(e,s){return this._canGoInParallel(s)?e():this._addToRequestQueue(e,s)},s.prototype.addStream=function(e,s){return this._canGoInParallel(s)?e():this._addStreamToRequestQueue(e,s)},s.prototype._canGoInParallel=function(e){if(!o[e])throw new Error(["Unknown API call name: `"+JSON.stringify(e)+"`","Make sure that all the request of the API client are added to","ALL_REQUESTS list. This is done to make sure all new API requests","are aware of the serialization logic and nothing goes out of sync and","potentially breaks application data integrity. @see","https://docs.google.com/document/d/1yOwsTIcXla6CeIn42W9VKfd9JjJ1ajAtfE6CH6PfjeM","for more info."].join("\n"));return!!u[e]},s.prototype._addToRequestQueue=function(e,s){var t=this;return this._isCheckMail(s)||this._rejectAndRemoveCheckMailsFromQueue(),new Promise(function(a,r){return t._isCheckMail(s)&&t.checkMailRequestWrappers.push({reject:r}),t._sync(e,s,t._isWriteToBackend(s),t._isSafeToRejectEarly(s)).then(a,r)})},s.prototype._addStreamToRequestQueue=function(e,s){this._isCheckMail(s)||this._rejectAndRemoveCheckMailsFromQueue();var t=(0,i.default)();return this.mutex.sync(function(s,a){var r=e();r.pipe(t),r.on("end",s),r.on("error",function(e){t.emit("error",e),a()})},s,this._isWriteToBackend(s),this._isSafeToRejectEarly(s)),t},s.prototype._sync=function(e,s,t,a){return this.mutex.sync(function(){return e()},s,t,a)},s.prototype._rejectAndRemoveCheckMailsFromQueue=function(){this.checkMailRequestWrappers.forEach(function(e){e.reject(new r.default("check mail"))}),this.checkMailRequestWrappers=[]},s.prototype._isCheckMail=function(e){return"checkMail"===e},s.prototype._isSafeToRejectEarly=function(e){return"messages.save"!==e&&"messages.saveWithAttachment"!==e&&"messages.saveAndSend"!==e&&"messages.saveAndSendWithAttachment"!==e},s.prototype._isWriteToBackend=function(e){return"messages.update"===e||"messages.updateV3"===e||"messages.delete"===e||"messages.trashAndDelete"===e},exports.default=s,module.exports=exports.default;
},{"../../vendor/through":"./vendor/through/browser","../mail_error/request_queue_rejection":365,"../mutex":369,"../utils/object":"./platform/utils/object"}],376:[function(require,module,exports){
"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function e(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},i=require("react"),n=e(i),u=require("../client/rum"),o=t(u),s=require("./logger"),f=e(s),a=n.default.createClass({displayName:"RumComponent",getDefaultProps:function t(){return{yaftCanShowVisualReport:!1}},reduceInLimit:function t(e){this.limit[e]&&this.limit[e]--},isInLimit:function t(e){return 0!==this.limit[e]},fireRumMetric:function t(e){var r=this;if(e){var i=!1,n=this.props.config;Object.keys(e||{}).filter(function(t){return n[t]}).forEach(function(t){var u=n[t].limit,s=n[t].metric,a=Math.round(e[t]);if(u){if(!r.isInLimit(t))return;r.reduceInLimit(t)}i=!0,f.default.debug("UserPerf: "+s+":  "+a),o.recordPerfData("user",s,a)}),i&&o.firePerfData()}},componentDidMount:function t(){var e=this,i=this.props.getAppInitMetrics(),n=this.props.config;this.limit=Object.keys(n).filter(function(t){return n[t].limit}).reduce(function(t,e){var i;return r({},t,(i={},i[e]=n[e].limit||0,i))},{}),o.init({yaftCanShowVisualReport:this.props.yaftCanShowVisualReport,modules:this.props.modules},function(){e.fireRumMetric(i)},!1)},componentDidUpdate:function t(){this.fireRumMetric(this.props.getRumMetric())},render:function t(){return null}});exports.default=a,module.exports=exports.default;
},{"../client/rum":135,"./logger":"./platform/logger","react":"./node_modules/react/react.js"}],377:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o=require("../base_client"),u=e(o),s=require("../http_transport"),i=e(s),a=require("../mail_constants"),c=a.YCPI_PATH_PREFIX+"/sports_api",f=function(e){function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,o),r(this,e.call(this,n))}return n(o,e),o.prototype.request=function e(){var t=c+"/getSports",r=new i.default("GET",t),n=r.send().then(function(e){return JSON.parse(e.text)});return this.logRequest(n,{}),n},o}(u.default);exports.default=f,module.exports=exports.default;
},{"../base_client":"./platform/base_client","../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants"}],"./platform/theming/themes":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.ThemeModes=exports.Themes=exports.MobileThemingValues=exports.ThemingValues=void 0;var O=Object.assign||function(O){for(var _=1;_<arguments.length;_++){var R=arguments[_];for(var E in R)Object.prototype.hasOwnProperty.call(R,E)&&(O[E]=R[E])}return O},_=require("../utils/mail_ui_vars"),R=require("../utils/object"),E=require("../utils/color"),L=exports.ThemingValues={DEFAULT:{GRADIENT_COLOR_1:_.HEADER_COLOR_1,GRADIENT_COLOR_2:_.HEADER_COLOR_1,GRADIENT_COLOR_3:_.HEADER_COLOR_2,HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:_.PRIMARY_BUTTON_ACTIVE_COLOR,FOLDER_ACTIVED_BACKGROUND_COLOR:(0,E.rgba)(_.PRIMARY_BUTTON_ACTIVE_COLOR,.16),FOLDER_HOVERD_BACKGROUND_COLOR:(0,E.rgba)(_.PRIMARY_BUTTON_ACTIVE_COLOR,.08),FOLDER_ACTIVED_BORDER:"2px solid "+_.PRIMARY_BUTTON_ACTIVE_COLOR,ITEM_SELECTED_BGCOLOR:(0,E.rgba)("#188fff",.32),ITEM_HOVERED_BGCOLOR:(0,E.rgba)("#188fff",.16)},SUNRISE:{GRADIENT_COLOR_1:"#f3b049",GRADIENT_COLOR_2:"#ea7d56",GRADIENT_COLOR_3:"#d4207d",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,E.rgba)("#ef8f4e",.16),FOLDER_HOVERD_BACKGROUND_COLOR:(0,E.rgba)("#ef8f4e",.08),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:(0,E.rgba)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:(0,E.rgba)("#ef8f4e",.16)},AQUA_GREEN:{GRADIENT_COLOR_1:"#a0b952",GRADIENT_COLOR_2:"#4fa46d",GRADIENT_COLOR_3:"#008f88",HIGHLIGHT:"#7aaf60",COMPOSE_BUTTON_COLOR:"#7aaf60",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,E.rgba)("#7aaf60",.16),FOLDER_HOVERD_BACKGROUND_COLOR:(0,E.rgba)("#7aaf60",.08),FOLDER_ACTIVED_BORDER:"2px solid #7aaf60",ITEM_SELECTED_BGCOLOR:(0,E.rgba)("#7aaf60",.32),ITEM_HOVERED_BGCOLOR:(0,E.rgba)("#7aaf60",.16)},AQUA_BLUE:{GRADIENT_COLOR_1:"#26b0b1",GRADIENT_COLOR_2:"#1373aa",GRADIENT_COLOR_3:"#0034a3",HIGHLIGHT:"#1d92ae",COMPOSE_BUTTON_COLOR:"#1d92ae",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,E.rgba)("#1d92ae",.16),FOLDER_HOVERD_BACKGROUND_COLOR:(0,E.rgba)("#1d92ae",.08),FOLDER_ACTIVED_BORDER:"2px solid #1d92ae",ITEM_SELECTED_BGCOLOR:(0,E.rgba)("#1d92ae",.32),ITEM_HOVERED_BGCOLOR:(0,E.rgba)("#1d92ae",.16)},DEEP_PURPLE:{GRADIENT_COLOR_1:"#8d7da2",GRADIENT_COLOR_2:"#59496e",GRADIENT_COLOR_3:"#200f35",HIGHLIGHT:"#b08ae4",COMPOSE_BUTTON_COLOR:"#b08ae4",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,E.rgba)("#b08ae4",.16),FOLDER_HOVERD_BACKGROUND_COLOR:(0,E.rgba)("#b08ae4",.08),FOLDER_ACTIVED_BORDER:"2px solid #b08ae4",ITEM_SELECTED_BGCOLOR:(0,E.rgba)("#b08ae4",.32),ITEM_HOVERED_BGCOLOR:(0,E.rgba)("#b08ae4",.16)},BLUE_NIGHT:{GRADIENT_COLOR_1:"#1c3e5c",GRADIENT_COLOR_2:"#1c3e5c",GRADIENT_COLOR_3:"#1c3e5c",HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:"#4faaff",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,E.rgba)("#4faaff",.16),FOLDER_HOVERD_BACKGROUND_COLOR:(0,E.rgba)("#4faaff",.08),FOLDER_ACTIVED_BORDER:"2px solid #4faaff",ITEM_SELECTED_BGCOLOR:(0,E.rgba)("#4faaff",.32),ITEM_HOVERED_BGCOLOR:(0,E.rgba)("#4faaff",.16)}},C=exports.MobileThemingValues={DEFAULT:O({},L.DEFAULT,{GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"}),SUNRISE:O({},L.SUNRISE),AQUA_GREEN:O({},L.AQUA_GREEN),AQUA_BLUE:O({},L.AQUA_BLUE),DEEP_PURPLE:O({},L.DEEP_PURPLE),BLUE_NIGHT:O({},L.BLUE_NIGHT)},D=exports.Themes=(0,R.mirrorKeys)(L),T=exports.ThemeModes=(0,R.mirrorKeys)(["LIGHT","MEDIUM","DARK"]);
},{"../utils/color":"./platform/utils/color","../utils/mail_ui_vars":"./platform/utils/mail_ui_vars","../utils/object":"./platform/utils/object"}],378:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var r=require("../http_transport"),u=e(r),i=require("../mail_constants"),n=require("../invariant"),s=e(n),a=require("./logger"),o=e(a),d=i.YCPI_PATH_PREFIX+"/udb",c=1e4,h="udb.write",l="udb.read",p=function(){function e(r){t(this,e),this.crumb=r.crumb,this.httpRetry=r.httpRetry,this.requestQueue=r.requestQueue}return e.prototype._sendRequest=function e(t,n){(0,s.default)("read"===t||"write"===t);var a="write"===t?r.HTTP_METHODS.POST:r.HTTP_METHODS.GET,h=d+("?crumb="+this.crumb),l=new u.default(a,h,{timeout:c,httpRetry:this.httpRetry}),p=o.default.feature(i.ApiClientLoggerNames.UDBClient,{apiName:t,crumb:this.crumb}),f=l.send(n);return f.then(p.logSuccessAndLatency,p.logFailure),f},e.prototype.read=function e(){return this.requestQueue.add(this._sendRequest.bind(this,"read"),l)},e.prototype.write=function e(t){return this.requestQueue.add(this._sendRequest.bind(this,"write",t),h)},e}();exports.default=p,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","./logger":379}],"./platform/udb_client/constants":[function(require,module,exports){
"use strict";exports.__esModule=!0;var _,M,A,m=exports.UDBKeys={REG:"reg",MAIL_ADFREE:"mail_adfree",YM_MAIL_CONV:"ym_mail_conv",YM_MAIL_THM:"ym_mail_thm",YM_MAGIC_TRIAGE:"ym_magic_triage",YM_TZ:"ym_tz",YM_LAST_OBSERVED_TZ:"ym_last_observed_tz",YM_MAIL_TABS:"ym_mail_tabs",YM_MAIL3:"ym_mail3",YM_MAIL_SCOUT:"ym_mail_scout",YM_FE_CURRENT:"ym_fe_current",YM_FE_PREVIOUS:"ym_fe_previous",YM_FE_HISTORY:"ym_fe_history",YM_FE_MIGRATION:"ym_fe_migration",YM_MAIL_SSA_ALERT:"ym_mail_ssa_alert",YM_MAIL_COMPROMISE:"ym_mail_compromise"},I=exports.UDBValues=(_={},_[m.YM_FE_CURRENT]={STORM:"4",ODIN:"5",NORRIN:"6"},_[m.YM_MAIL_CONV]={ON:"1",OFF:"-1"},_[m.YM_MAIL_TABS]={OFF:"0",ON:"1"},_[m.YM_MAGIC_TRIAGE]={OFF:"0",ON:"1"},_),e=exports.UDBSubKeys=(M={},M[m.YM_MAIL_SCOUT]={SEEN_DISABLED:"sndsbld"},M),Y=exports.DEFAULT_VALUES=(A={},A[m.YM_MAIL_CONV]=I[m.YM_MAIL_CONV].ON,A[m.YM_MAIL_TABS]=I[m.YM_MAIL_TABS].OFF,A);
},{}],379:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/udb_client"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],"./platform/utils/account":[function(require,module,exports){
"use strict";function t(t){return[t].concat(t.secondaryAccounts||[])}function e(t){if(!t)return!1;if(l.PARTNER_DOMAINS[t])return!0;var r=t.indexOf(".");return!(r<0)&&e(t.substr(r+1))}function r(t){if(!t)return!1;var e=t.split(".");return!(e[0]!==l.EmailProviders.YAHOO||e.length>3||(e.length>2&&l.YAHOO_COUNTRY_CODES[e[2]]?!l.TLD_VALUES[e[1]]:2!==e.length||!l.TLD_VALUES[e[1]]&&!l.YAHOO_COUNTRY_CODES[e[1]]))}function n(t){var n=t.toLowerCase().split("@"),o=n[0],i=n[1],s=o;if(e(i))s=t;else{if(!r(i))return!1;"yahoo.cn"===i&&(s=t)}return!(s.length<4||s.length>32||!s)}function o(t,e){var r=t.domainCheck,n=!1;if(r&&r.length>0){var o="(@"+r.join(".com$|@")+".com$)";if(n=new RegExp(o,"i").test(e),!n){var i="(@"+r.join("|@")+")\\.";n=new RegExp(i,"i").test(e)}}return n}function i(t){return t?/@oath.com$/i.test(t)?l.EmailProviders.OATH:n(t)?l.EmailProviders.YAHOO:l.SUPPORTED_PROVIDERS.find(function(e){return o(l.IMAP_SETTINGS[e],t)}):null}function s(t){return i(t.email)}function c(t){var e=[p.AccountTypes.SENDAS,p.AccountTypes.POPIN,p.AccountTypes.IMAPIN];return t.filter(function(t){var r=t.isPrimary,n=t.type,o=t.accountVerified,i=t.status;return r||n===p.AccountTypes.ALIAS||n===p.AccountTypes.DEA||"ENABLED"===i&&o&&e.indexOf(n)>-1})}function u(t){if(t.serverUri){var e=t.serverUri.split("://")[1].split(".")[0];return"gmail"===e?"google":e}return"Your mailbox"}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function A(t){var e=t.status,r=t.type,n=t.createTime,o=t.syncTime,i=void 0===o?20:o,s=Date.now();return e===l.AccountStatus.ENABLED&&r===p.AccountTypes.IMAPIN&&s/1e3-n<60*i}function f(t,e){return void 0!==t.find(function(t){return t.email===e})}exports.__esModule=!0,exports.flattenAccounts=t,exports.isPartnerDomain=e,exports.isYahooDomain=r,exports.getYahooIdFromEmail=n,exports.isValidDomain=o,exports.getProvider=i,exports.getProviderFromAccount=s,exports.filterSendingAccounts=c,exports.getAccountProvider=u,exports.getProviderName=a,exports.checkSyncingState=A,exports.doesAccountEmailAddressExist=f;var l=require("../../platform/mail_constants"),p=require("../mail_constants");
},{"../../platform/mail_constants":"./platform/mail_constants","../mail_constants":"./platform/mail_constants"}],"./platform/utils/action":[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=exports.getUIContextFromAction=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.uiContext;return void 0===o?{}:o};
},{}],380:[function(require,module,exports){
"use strict";function a(a,r,o,_,n){if(o){for(var i=[],s=0;s<4;s++)i.push({adFeedbackBeacon:"",impressionTrackingUrls:[],adImg:(0,e.getURL)("/img/mail_pro_badge.png"),adSource:a(d.yahoo_mail_pro_branding),clickUrl:r,creativeId:s.toString(),type:l.UsageType.FallbackAdType,adHeadline:a(d["fallback_ad_headline_"+s%2]),adSummary:a(d["fallback_ad_summary_"+s],{YahooMailProBrand:a(d.yahoo_mail_pro_branding),mailProMonthlyPrice:_,mailProYearlyPrice:n})});return i}return[{adFeedbackBeacon:"",impressionTrackingUrls:[],adImg:(0,e.getURL)("/img/yahoo_badge.png"),adSource:a(d.yahoo_search_branding),clickUrl:"https://search.yahoo.com/",creativeId:"0",type:l.UsageType.FallbackAdType,adHeadline:a(d.fallback_ad_headline_non_us),adSummary:a(d.fallback_ad_summary_non_us)}]}exports.__esModule=!0,exports.getPencilAdFallbacks=a;var e=require("../assets"),l=require("../gemini_api_client/constants.js"),r=require("react-intl"),d=(0,r.defineMessages)({fallback_ad_headline_0:{id:"fallback_ad_headline_0",defaultMessage:"No ads and priority customer support!"},fallback_ad_headline_1:{id:"fallback_ad_headline_1",defaultMessage:"Want an ad-free inbox?"},fallback_ad_summary_0:{id:"fallback_ad_summary_0",defaultMessage:"Get {YahooMailProBrand} for only {mailProMonthlyPrice}/month and enjoy an ad-free inbox"},fallback_ad_summary_1:{id:"fallback_ad_summary_1",defaultMessage:"Get {YahooMailProBrand} for only {mailProMonthlyPrice}/month!"},fallback_ad_summary_2:{id:"fallback_ad_summary_2",defaultMessage:"Get {YahooMailProBrand} for only {mailProYearlyPrice}/year and enjoy an ad-free inbox"},fallback_ad_summary_3:{id:"fallback_ad_summary_3",defaultMessage:"Get {YahooMailProBrand} for only {mailProYearlyPrice}/year!"},fallback_ad_headline_non_us:{id:"fallback_ad_headline_non_us",defaultMessage:"Best Smartphones"},fallback_ad_summary_non_us:{id:"fallback_ad_summary_non_us",defaultMessage:"What you should know"},yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},yahoo_search_branding:{id:"mail.yahoo_search_branding",defaultMessage:"This is a branding string and should not be translated"}});
},{"../assets":"./platform/assets","../gemini_api_client/constants.js":355,"react-intl":"./node_modules/react-intl/lib/index.js"}],"./platform/utils/api_logger":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r,t){return 429===e||"BaseClient.RequestBlocked"===t||"EC-4017"===r||"EC-4018"===r}function t(e,r){return e===f.ApiClientLoggerNames.UDBClient&&[400,401,403,404,503].indexOf(r)>-1}function s(e,r){return e===f.ApiClientLoggerNames.BootcampClient&&r>=500}function a(e){return 0===e.indexOf("launch.")}function o(e){return["messages.save","messages.saveWithAttachment","messageGroups.saveAndSend","messageGroups.saveAndSendWithAttachment","messageGroups.saveRawMessage","messageGroups.send"].indexOf(e)>-1}function i(e){return["messages.getBodies","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messageGroups.getList"].indexOf(e)>-1}function n(e){return 0===e.indexOf("HttpTransport.")}function u(e){var r=void 0;switch(e){case"ET-5003":r=1;break;case"ET-5004":r=4;break;case"ET-5005":case"ET-5008":case"ET-5009":case"ET-5010":case"ET-5011":r=2;break;default:r=14}return r}function d(e){var r=e.apiName,t=e.isOnline,s=e.alertTAE;if((void 0===s||s)===!1)return!1;if(!(0,m.isBrowser)())return!0;if(!t)return!1;switch(r){case"checkMail":case"messages.autosave":case"messages.prefetchBodies":case"messages.prefetchBodiesFull":case"searchSuggestions":return!1}return!0}function g(e,g,c){var l=c.apiName,C=c.statusCode,m=c.errorCode,p=c.alertTAE;return(void 0===p||p)===!1?100:r(C,m,g.name)?19:d(c)?t(e,C)?1:s(e,C)?20:l&&a(l)?15:!m&&n(g.name)?18:i(l)?4:o(l)?13:u(m):100}function c(e,r,t){if((0,m.isBrowser)()){var s=r||t||"",a=A.default.getRapidInstance();a&&a.beaconEvent(0,{etrg:"error",taeCode:e,errCode:s},"norrin_tae")}}function l(e,r,t,s){var a={};if(B[r]){var o=s.statusCode,i=s.errorCode,n=s.extraStatusCode,u=s.extraErrorCode;o&&(a.statusCode=o),i&&(a.errorCode=i),n&&(a.extraStatusCode=n),u&&(a.extraErrorCode=u);var d=g(r,s,Object.assign({},t,a));a.tae=d,c(d,i,o)}e.feature(r,Object.assign({},t,a)).logFailure(s)}function C(e){var r=e.logger,t=e.apiName,s=e.message,a=e.loggerName,o=void 0===a?f.ApiClientLoggerNames.MailAPIClient:a,i=e.statusCode,n=void 0===i?0:i,u=e.errorCode,d=void 0===u?"":u,g=e.extraStatusCode,c=void 0===g?"":g,C=e.extraErrorCode,m=void 0===C?"":C,p=e.ymreqid,v=void 0===p?"":p,x={apiName:t,alertTAE:!1,statusCode:n,errorCode:d,extraStatusCode:c,extraErrorCode:m,ymreqid:v},A={name:t,message:s,data:x,statusCode:n,errorCode:d,extraStatusCode:c,extraErrorCode:m};l(r,o,x,E.default.jsonToError(A))}exports.__esModule=!0,exports.getTAE=g,exports.logRapidTAE=c,exports.apiErrorLogger=l,exports.apiPassiveErrorLogger=C;var m=require("./generic"),p=require("./object"),f=require("../mail_constants"),v=require("../mail_error"),E=e(v),x=require("../rapid_client"),A=e(x),B=(0,p.mirrorKeys)([f.ApiClientLoggerNames.BootcampClient,f.ApiClientLoggerNames.MailAPIClient,f.ApiClientLoggerNames.UDBClient,f.ApiClientLoggerNames.XobniClient]);
},{"../mail_constants":"./platform/mail_constants","../mail_error":"./platform/mail_error","../rapid_client":"./platform/rapid_client","./generic":"./platform/utils/generic","./object":"./platform/utils/object"}],"./platform/utils/array":[function(require,module,exports){
"use strict";function r(r,e){for(var n=r.length;n;n--)if(e(r[n-1]))return n-1;return-1}function e(r){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Array(r);r--;)n[r]=r+e;return n}function n(r){for(var e=arguments.length,n=Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return r.concat(n)}function t(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e===-1?r:r.slice(0,e).concat(r.slice(e+n))}exports.__esModule=!0,exports.findLastIndex=r,exports.range=e,exports.append=n,exports.remove=t;
},{}],"./platform/utils/attachments":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S(),n=e.type.split("/"),r=n[0],a=n[1];return{downloadUrl:e.downloadLink||URL.createObjectURL(e),filename:e.name,mimeType:e.type,size:e.size,type:r,subtype:a,contentId:t,dataId:t}}function n(e){return e.filter(function(e){var t=e.type,n=e.disposition;return e.state!==p.AttachmentStates.DELETED&&(t===C.MESSAGE||n===P.ATTACHMENT)})}function r(e,t){var n={};return e.filter(function(e){var r=e.type,a=e.disposition,s=e.size,c=e.filename;if(!s)return!1;var i=(c+s).replace(/\s\s+/g," ");return!n[i]&&(n[i]=!0)&&(a!==P.INLINE||r!==C.IMAGE||s>=t)})}function a(e){return e.filter(function(e){return c(e.type,e.subtype)===X.CAL})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map(function(e){switch(c(e.type,e.subtype)){case X.CAL:return h.Kinds.ATTACH_CAL;case X.IMAGE:return h.Kinds.ATTACH_IMAGE;case X.DOC:case X.PDF:case X.XLS:case X.PPT:case X.CSV:case X.TEXT:return h.Kinds.ATTACH_DOC;default:return h.Kinds.ATTACHMENT}});return 1===(0,m.default)(t).length?t[0]:h.Kinds.ATTACHMENT}function c(e,t){switch(e){case C.IMAGE:switch(t){case M.TIFF:return X.TIFF;default:return X.IMAGE}case C.AUDIO:return X.AUDIO;case C.VIDEO:return X.VIDEO;case C.APPLICATION:switch(t){case M.ACROBAT:case M.PDF:case M.VND_PDF:case M.X_PDF:return X.PDF;case M.GZIP:case M.TAR:case M.X_COMPRESSED:case M.X_ZIP:case M.ZIP:return X.COMPRESSED;case M.EXCEL:case M.GXLS:case M.MSEXCEL:case M.X_EXCEL:case M.X_MS_EXCEL:case M.XLS_M:case M.X_XLS:case M.XLS:case M.XLS_M_TEMPLATE:case M.XLS_TEMPLATE:case M.XLSX:return X.XLS;case M.DOC:case M.DOCX:case M.DOT:case M.FRAMEMAKER:case M.GDOCX:case M.MS_WORD:case M.MSTNEF:case M.RICHTEXT:case M.SC2:case M.VND_MS_WORD:case M.VND_MSWORD:case M.WINWORD:case M.WORD:case M.X_DOT:case M.X_FM:case M.X_FRAMEMAKER:case M.X_MAKER:case M.X_MS_WORD:case M.X_MSW6:case M.X_RTF:case M.X_SOFFICE:case M.ZZ_DOT:return X.DOC;case M.PPT:case M.PPTX:case M.GPPT:case M.PPTX_SLIDESHOW:case M.PPTX_TEMPLATE:return X.PPT;case M.ICS:return X.CAL;default:return X.APPLICATION}case C.TEXT:switch(t){case M.CALENDAR:return X.CAL;case M.CSV:return X.CSV;default:return X.TEXT}default:return X.FILE}}function i(e){var t=e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n.map(function(e){var n=r?{dataId:e.dataId?e.dataId:S(),contentId:e.contentId?e.contentId:S()}:{};return d({messageReference:{id:t,pid:e.partId}},e,n)})}function o(e,t,n){(0,f.default)(e<=t,"You cannot have a page number greater than the last page of the document.");var r=e%n||n,a=e-r+1,s=a+(n-1);return s>t&&(s=t),{startPage:a,endPage:s}}function u(e){var t=e.type,n=e.subtype,r=e.isExternal,a=t+"/"+n,s=c(t,n);return!r&&(p.AttachmentPreview.previewableMimeTypes.indexOf(a)>-1||s===X.IMAGE)}function A(e,t){return e?(e=e.replace(_,"?").replace(D,""),e+"&size="+t+"w&w="+t+"&h="+t):""}function T(e){return e?e=e.replace(_,"?").replace(D,""):""}function l(e){return e.filter(function(e){return e.disposition===P.ATTACHMENT})}exports.__esModule=!0,exports.buildNonInlineAttachmentFromFile=exports.buildInlineAttachmentFromFile=exports.generateContentId=void 0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.extractAttachmentFromFile=t,exports.getAttachmentsForTray=n,exports.getAttachmentsForMessageListPreview=r,exports.getCalendarAttachments=a,exports.getBestAttachmentIconKind=s,exports.getAttachmentType=c,exports.transformAttachments=i,exports.getPageRangeForDocument=o,exports.isPreviewable=u,exports.getThumbnailUrl=A,exports.removeQueryParamFromUrl=T,exports.getNonInlineAttachments=l;var p=require("../mail_constants"),E=require("../invariant"),f=e(E),I=require("lodash/uniq"),m=e(I),h=require("../../atoms/constants/fuji_icon"),C=p.Attachments.Types,M=p.Attachments.SubTypes,P=p.Attachments.Dispositions,X=p.Attachments.SimplifiedTypes,_=/\?(size|h|w)=([^&]*)/g,D=/&(size|h|w)=([^&]*)/g,S=exports.generateContentId=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return"<"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()+"@yahoo.com>"}}(),L=function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.ATTACHMENT;return d({},t(n),{disposition:r})},g=exports.buildInlineAttachmentFromFile=function e(t){return L(t,P.INLINE)},F=exports.buildNonInlineAttachmentFromFile=function e(t){return L(t,P.ATTACHMENT)};
},{"../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","lodash/uniq":"./node_modules/lodash/uniq.js"}],"./platform/utils/beacon":[function(require,module,exports){
"use strict";function e(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||!/^https?:\/\//.test(e))return"";var n=new Image;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+encodeURIComponent((new Date).getTime())),n.src=e,n.src}function t(e){if(!e||!/^https?:\/\//.test(e))return"";var t=document.createElement("iframe");t.src=e,t.width="1px",t.height="1px",t.style.display="none",document.body.appendChild(t)}exports.__esModule=!0,exports.sendBeacon=e,exports.sendIframeBeacon=t;
},{}],"./platform/utils/binstring":[function(require,module,exports){
"use strict";var n,t=1,r=1024,e=1048576,o=1073741824,i=(n={},n[t]="B",n[r]="kB",n[e]="MB",n[o]="GB",n);module.exports={toNBits:function n(t,r){return t.length>r?t.substr(0,r):t.length<r?new Array(r-t.length+1).join("0")+t:t},binToHex:function n(t){var r,e=t.length,o="",i,u;for(r=0;r<e;r+=4)u=t.substr(r,4),u=u+=new Array(1+(4-u.length)).join("0"),i=parseInt(u,2),o+=i.toString(16);return o},hexToBin:function n(t){var r,e=t.length,o,i="";for(r=0;r<e;r++)o=parseInt(t[r],16).toString(2),o=new Array(1+(4-o.length)).join("0")+o,i+=o;return i},prettyPrintBytes:function n(u){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("number"!=typeof u||u<=0)return"";var h=[o,e,r,t].find(function(n){return u>=n}),s=Math.pow(10,a);return""+Math.round(u/h*s)/s+i[h]}};
},{}],381:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function s(e,s){var r=e.map(function(e){return{message:e,cardId:e.id}}),n=[];s.filter(function(e){return e.draftStatus!==d.SENT}).forEach(function(e){var s=(0,o.findLastIndex)(r,function(s){return s.message.csid===e.csid});if(s!==-1){if(r[s].message.folder.types.indexOf(t.FolderTypes.DRAFT)===-1)return void i.default.error("The message with csid "+e.csid+" is kept in the message cards because its folder types are "+r[s].message.folder.types);r.splice(s,1),n.push({composeData:e,cardId:e.csid})}else n.push({composeData:e,cardId:e.csid})});var c=r;return n.forEach(function(e){var s=(0,o.findLastIndex)(c,function(s){return!!s.message&&e.composeData.inReplyTo&&s.message.headers.messageIdRfc822===e.composeData.inReplyTo.messageIdRfc822});s===-1?c.push(e):c.splice(s+1,0,e)}),c.filter(function(e){var s=e.message;return Boolean(s)}).forEach(function(e,s,r){e.idx=s,e.total=r.length}),a(c,i.default),c}function r(e,s){return e.length>1&&(e=e.slice(0,e.length-1)),e.every(function(e){return s[e.cardId]===t.CARD_EXPANSION_STATES.EXPANDED})}function a(e,s){e.reduce(function(e,r){var a=void 0,t=void 0;return r.composeData&&(a=r.composeData.csid,t={type:"compose",folderId:r.composeData.folderId}),r.message&&(a=r.message.csid,t={type:"message",folderId:r.message.folder.id},!a)?e:(e.hasOwnProperty(a)?s.error("Duplicate csid "+a+" in message group found!  Here are the different values: "+(JSON.stringify(e[a])+", "+JSON.stringify(t))):e[a]=t,e)},{})}exports.__esModule=!0,exports.makeCards=s,exports.allCardsExpanded=r,exports.logDuplicateCsidsInCards=a;var t=require("../mail_constants"),o=require("./array"),n=require("../logger"),i=e(n),d=t.Draft.Status;
},{"../logger":"./platform/logger","../mail_constants":"./platform/mail_constants","./array":"./platform/utils/array"}],"./platform/utils/categories":[function(require,module,exports){
"use strict";function e(e){var n=":",o=e.split(n);if(2!==o.length)return null;var s=t(o[0]);return s&&r.InboxFilters.indexOf(s)>-1?{name:s,status:parseInt(o[1],10)||0}:null}function t(e){return Object.keys(r.DecoIds).find(function(t){return r.DecoIds[t]===e})||null}exports.__esModule=!0,exports.getCategoryFromSetting=e,exports.getCategoryFromDecoId=t;var r=require("../mail_constants");
},{"../mail_constants":"./platform/mail_constants"}],"./platform/utils/color":[function(require,module,exports){
"use strict";function e(e,r){var t=0,n=[0,0,0,r];if(4!==e.length&&7!==e.length)throw new Error('The hex string has have length of 4 or 7 including the "#". We got: '+e);for(4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),t=0;t<3;t++)n[t]=parseInt(e.slice(2*t+1,2*t+3),16);return"rgba("+n.join(", ")+")"}module.exports={rgba:e};
},{}],382:[function(require,module,exports){
"use strict";function r(r,t){var e="";return r.split("&").forEach(function(r){var n=r.split("="),i=n[0],o=n[1];i===t&&(e=o)}),e}function t(r,t){return(0,i.parse)(r)[t]||""}function e(e,n,i){var o=t(e,n);if(o){var u=r(o,i);if(u)return u}return""}function n(){return e(document.cookie,"Y","l").trim()}exports.__esModule=!0,exports.getCurrentLoginName=n;var i=require("cookie");
},{"cookie":"./node_modules/cookie/index.js"}],"./platform/utils/date":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,n){return M(t,n).format(e)}function n(e,n){var r=t(e,"en-US",{timeZone:n,hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).replace(Y,"").split(S),a=parseInt(r[2],10),o=r[0]-1,i=r[1],u=r[3],s=r[4],f=r[5];return(Date.UTC(a,o,i,u,s,f)-new Date(e).setMilliseconds(0))/6e4}function r(e,t){var n=new O.default({max:t});return function t(r,a){r instanceof Date||(r=new Date(r));var o=r.getTime()+"-"+a,i=n.get(o);return void 0===i&&(i=e(r,a),n.set(o,i)),i}}function a(e,t){var n=t.timezone,r=0;return e instanceof Date&&(e=e.getTime()),void 0!==n&&(r=_(e,n)),new Date(e+6e4*r)}function o(e){var t=e.timezone,n=e.offset,r=Date.now();void 0!==t&&(n=_(r,t));var a=new Date(r+6e4*n),o=a.getUTCDate(),i=a.getUTCMonth(),u=a.getUTCFullYear(),s=Date.UTC(u,i,o);return void 0!==t?(n=_(s,t),s-6e4*n):s}function i(e){var t=e.timezone,n=e.time,r=new Date(n).getTime(),a=function e(n){return 6e4*_(n,t)},o=function e(t){return t+a(t)},i=function e(t){return t-a(t)},u=new Date(o(r)),s=u.getUTCDay(),f=u.getUTCDate(),D=u.getUTCMonth(),c=u.getUTCFullYear();return{weekday:s,date:f,month:D,year:c,startOfPastHour:function e(t){return i(Date.UTC(c,D,f,-1*t))},startOfPastDay:function e(t){return i(Date.UTC(c,D,f,-24*t))},startOfMonth:function e(t){return i(Date.UTC(c,t,1))},startOfYear:function e(t){return i(Date.UTC(t,0,1))}}}function u(){return new Date}function s(e){return e?new Date(1e3*e):u()}function f(e){return D(e)+(A-1)}function D(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor(+t/1e3)}function c(e,t){return!(!p(e)||!p(t))&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function g(e){if(!(e instanceof Date))throw new Error("Expected date to be an instance of Date");return c(new Date,e)}function l(e){var t=(new Date).getFullYear();if(!(e instanceof Date))throw new Error("Expected date to be an instance of Date");return e.getFullYear()===t}function m(e){return"[object Date]"===Object.prototype.toString.call(e)}function p(e){return m(e)&&!isNaN(e.getTime())}function x(e){if(!p(e))throw new Error("Expected date to be an instance of Date");return new Date(e.valueOf())}function d(e){var t=x(e);return t.setDate(t.getDate()-t.getDay()),t}function T(e){var t=e.getDay();return 0===t||6===t}function v(e){for(var t=d(e),n=[t],r=1;r<=6;r++){var a=x(t);a.setDate(a.getDate()+r),n.push(a)}return n}function h(e){var t=x(e);t.setDate(1);var n=t.getMonth(),r=d(t),a=x(r),o=[x(a)];for(a.setDate(a.getDate()+7);a.getMonth()===n;)o.push(x(a)),a.setDate(a.getDate()+7);return o}function w(e,t){var n=new Date(t).getTime()-new Date(e).getTime();return Math.ceil(n/E)}exports.__esModule=!0,exports.getTimezoneOffset=exports.delimiters=exports.nonNumberAndDelimiters=exports.SECONDS_IN_A_DAY=void 0,exports.formatDate=t,exports.timeShiftToUTC=a,exports.getStartOfToday=o,exports.getContextualTime=i,exports.getCurrentDate=u,exports.convertUnixTimestamp=s,exports.getEndOfDay=f,exports.getStartOfDay=D,exports.dateObjectsAreOnSameDay=c,exports.isToday=g,exports.isCurrentYear=l,exports.isDate=m,exports.isValidDate=p,exports.cloneDate=x,exports.getFirstDayofWeek=d,exports.isWeekend=T,exports.getAllDaysInAWeek=v,exports.getAllWeeksInAMonth=h,exports.getDateDifference=w;var C=require("intl-format-cache"),y=e(C),U=require("lru-cache"),O=e(U),M=(0,y.default)(Intl.DateTimeFormat),A=exports.SECONDS_IN_A_DAY=86400,Y=exports.nonNumberAndDelimiters=/[^0-9\/\ :]/g,S=exports.delimiters=/[\/\s:]/,_=exports.getTimezoneOffset=r(n,1e3),E=1e3*A;
},{"intl-format-cache":"./node_modules/intl-format-cache/index.js","lru-cache":"./node_modules/lru-cache/index.js"}],"./platform/utils/dom":[function(require,module,exports){
"use strict";function e(e){var t=e?e.ownerDocument:document,o=t.defaultView||t.parentWindow,r=t[i],c=t[n],u=o.innerHeight,d=o.innerWidth;return r&&("CSS1Compat"!==r&&(c=t.body),u=c.clientHeight,d=c.clientWidth),{height:u,width:d}}function t(e){for(;e=e.parentElement;)if(e.focus(),e===document.activeElement)return e}exports.__esModule=!0,exports.getWinSize=e,exports.findFocusableAncestor=t;var n="documentElement",i="compatMode";
},{}],"./platform/utils/folder":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=Q["folder_"+r.toLowerCase()];return t?e(t):null}function t(e){return{systemFolders:s(e),customFolders:d(e)}}function o(e){var r=void 0;switch(p(e)){case b.FolderTypes.SENT:case b.FolderTypes.BULK:case b.FolderTypes.ARCHIVE:case b.FolderTypes.TRASH:return 0;case b.FolderTypes.DRAFT:return e.total;default:return r=e.unread<0?0:e.unread}}function n(e){switch(p(e)){case b.FolderTypes.INBOX:return[b.FolderMenuItems.MARK_READ,b.FolderMenuItems.ARCHIVE];case b.FolderTypes.DRAFT:case b.FolderTypes.SENT:case b.FolderTypes.ARCHIVE:return[b.FolderMenuItems.MARK_READ];case b.FolderTypes.BULK:case b.FolderTypes.TRASH:return[b.FolderMenuItems.MARK_READ,b.FolderMenuItems.DELETE];default:return[b.FolderMenuItems.MARK_READ,b.FolderMenuItems.ARCHIVE,b.FolderMenuItems.DELETE,b.FolderMenuItems.SEPARATOR,b.FolderMenuItems.RENAME_FOLDER,b.FolderMenuItems.DELETE_FOLDER,b.FolderMenuItems.CREATE_FOLDER]}}function s(e){for(var r=(0,j.default)(e.filter(function(e){return e.folder.isSystem&&b.SystemFolderTypes.hasOwnProperty(p(e.folder))}).slice(0).sort(function(e,r){return J[p(e.folder)]-J[p(r.folder)]})),t=0;t<r.length;t++)r[t].children=[];return r}function l(e,r){var t=(0,j.default)(e.filter(function(e){return e.folder.isSystem&&b.SystemFolderTypes.hasOwnProperty(p(e.folder))}).slice(0));t=t.concat(i()),t.sort(function(e,r){return J[p(e.folder)]-J[p(r.folder)]});for(var o=0;o<t.length;o++)r[t[o].folder.types[0]]&&(t[o].folder.total=r[t[o].folder.types[0]]),t[o].children=[];return t}function d(e){return f((0,j.default)(e.filter(function(e){var r=e.folder;return r.types.indexOf(b.FolderTypes.INVISIBLE)===-1&&!(r.isSystem&&!e.children.length)})))}function a(){return Object.keys(q).map(function(e){return u(e)})}function i(){return Object.keys(X).map(function(e){return u(e)})}function u(e){return{folder:{name:e,id:e,types:[e],isSmartView:!0,isSystem:!1,unread:0,total:0},children:[]}}function c(e,r){var t=e.folder.name,o=r.folder.name,n=t.toLocaleLowerCase().localeCompare(o.toLocaleLowerCase());return n?n:t.localeCompare(o)||t.length-o.length}function f(e){return e.sort(c),e.forEach(function(e){f(e.children)}),e}function p(e){return e.types.find(function(e){return G.hasOwnProperty(e)})}function y(e){var r=p(e);if(r&&Y[r])return Y[r]}function F(e,r){var t=e.find(function(e){return e.isSelected===!0});return r.find(function(e){return p(e.folder)===b.FolderTypes.INBOX&&e.folder.accountId===t.id}).folder}function m(e){var r=p(e);return r===b.FolderTypes.ARCHIVE&&e.types.indexOf(b.FolderTypes.EXTERNAL_ALL)>-1?"ALL_MAIL":r}function T(e,r){var t=h(e.name),o="",n="",s=[],l=!1;return e.accountId!==W&&e.uidNext&&e.name.match(/\//)&&(o=t.shift(),o+=t.shift()),t.forEach(function(t){o+=t,l?l=!1:(n+=t,r.hasOwnProperty(o)&&r[o].accountId===e.accountId&&(s.push(n),n="",l=!0))}),s}function h(e){var r=void 0,t=void 0,o="",n=[];for(r=0;r<e.length;r++)t=e.charAt(r),t===z?(""!==o&&n.push(o),n.push(z),o=""):o+=t;return""!==o&&n.push(o),n}function A(e,r,t,o){var n=(0,j.default)(r);if((0,K.default)(t.length>0,"folderPathParts must be populated for insert into folder tree to work."),o===t.length-1)n.name=t[o],e.push({folder:Object.assign({},n,{level:o}),children:[]});else{var s=t[o];e.forEach(function(e){e.folder.name===s&&e.folder.accountId===n.accountId&&A(e.children,n,t,o+1)})}}function E(e,r){var t=S(e,r);return!!t&&t.children.length>0}function S(e,r){for(var t=null,o=0;o<r.length;o++){var n=r[o];if(n.folder.id===e){t=n;break}!t&&n.children.length>0&&(t=S(e,n.children))}return t}function g(e,r){for(var t="",o=0;o<r.length;o++){var n=r[o],s=n.folder;if(s.id===e)return s.name;if(n.children.length>0&&(t=g(e,n.children)),t)return s.name+z+t}return t}function R(e,r,t){var o=[];return r.isPrimary||o.push(r.folderPrefix),t&&o.push(t),o.push(e),o.join("/")}function v(e){for(var r={},t=0;t<e.length;t++){var o=e[t],n=o.folder;r[n.id]=n,o.children.length>0&&Object.assign(r,v(o.children))}return r}function I(e,r){if(e.length!==r.length)return!0;var t=v(e),o=v(r),n=Object.keys(o);return n.length!==Object.keys(t).length||n.some(function(e){return!t[e]||o[e].name!==t[e].name})}function x(e){var r=v(e);return Object.keys(r).reduce(function(e,t){var o=r[t],n=o.name;return e[n]=(e[n]||[]).concat(o),e},{})}function _(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(function(r,t){return r.concat(e[t]||[])},[])}function O(e){return e!==b.FolderTypes.BULK&&e!==b.FolderTypes.DRAFT&&e!==b.FolderTypes.ARCHIVE}function w(e){return e===b.FolderTypes.ARCHIVE}function M(e,r){var t=e.folder,o=e.children,n=r?r+"/"+t.name:t.name,s=[n];return o.length?s.concat.apply(s,o.map(function(e){return M(e,n)})):s}function D(e){return e.length?s(e).concat(d(e)).reduce(function(e,r){return e.concat(M(r))},[]):[]}function L(e){return e===b.FolderTypes.TRASH||e===b.FolderTypes.DRAFT||e===b.FolderTypes.BULK}function V(e,r){var t=S(r,e);return t&&t.folder}function C(e,r,t){var o=v(e);return o[Object.keys(o).find(function(e){var n=o[e],s=n.name,l=void 0===s?"":s,d=n.isSystem,a=n.level;return l.toLowerCase()===r.toLowerCase()&&(d||a===t)})]||!1}exports.__esModule=!0,exports.FolderOrder=exports.I13N_FOLDER_TYPES=exports.primaryFoldersAndSmartViews=exports.SystemFolderSmartViews=exports.smartViews=void 0;var N,P=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};exports.getLocalisedFolderName=r,exports.categorizeFolders=t,exports.getFolderMessageCount=o,exports.getFolderMenuItems=n,exports.getSystemFoldersForDisplay=s,exports.getPrimaryFoldersAndSmartViewsForDisplay=l,exports.getCustomFoldersForDisplay=d,exports.getSmartViewsForDisplay=a,exports.createSmartViewFolderNode=u,exports.getPrimaryFolderType=p,exports.getI13nFolderType=y,exports.getDefaultFolder=F,exports.getFolderDisplayType=m,exports.getFolderPathParts=T,exports._getFolderPieces=h,exports.insertIntoFolderTree=A,exports.hasChildren=E,exports.buildFolderPath=g,exports.getFolderName=R,exports.flattenFolderTree=v,exports.hasFolderTreeChanged=I,exports.groupFoldersByName=x,exports.filterFoldersByNames=_,exports.canArchiveFrom=O,exports.canRestoreFrom=w,exports.getAllFolders=D,exports.isPermDeleteFolderType=L,exports.getFolderById=V,exports.getFolderByName=C;var b=require("../mail_constants"),H=require("./object"),B=require("../../platform/invariant"),K=e(B),U=require("lodash/cloneDeep"),j=e(U),k=require("react-intl"),q=exports.smartViews=(0,H.mirrorKeys)([b.SmartViewTypes.MAGIC_TRIAGE,b.SmartViewTypes.PHOTOS,b.SmartViewTypes.DOCUMENTS,b.SmartViewTypes.TRAVEL,b.SmartViewTypes.COUPONS,b.SmartViewTypes.TUTORIAL]),X=exports.SystemFolderSmartViews=(0,H.mirrorKeys)([b.SmartViewTypes.UNREAD,b.SmartViewTypes.STARRED]),G=exports.primaryFoldersAndSmartViews=P({},b.PrimaryFolderTypes,(0,H.mirrorKeys)([b.SmartViewTypes.UNREAD,b.SmartViewTypes.STARRED])),Y=exports.I13N_FOLDER_TYPES=(N={},N[b.FolderTypes.INBOX]="inbx",N[b.FolderTypes.SENT]="sent",N[b.FolderTypes.DRAFT]="drft",N[b.FolderTypes.TRASH]="trsh",N[b.FolderTypes.BULK]="spm",N[b.FolderTypes.ARCHIVE]="archve",N[b.FolderTypes.USER]="usrFldr",N[b.FolderTypes.CHATS]="cht",N.SEARCH_KEYWORD="keywSrp",N.SEARCH_PEOPLE="cntctSrp",N.SEARCH_SMARTVIEW="smrtSrp",N.MAGIC_TRIAGE="magicTriage",N),W="1",z="/",J=exports.FolderOrder={};J[b.FolderTypes.INBOX]=0,J[b.SmartViewTypes.UNREAD]=1,J[b.SmartViewTypes.STARRED]=2,J[b.FolderTypes.DRAFT]=3,J[b.FolderTypes.SENT]=4,J[b.FolderTypes.ARCHIVE]=5,J.ALL_MAIL=5,J[b.FolderTypes.BULK]=6,J[b.FolderTypes.TRASH]=7;var Q=(0,k.defineMessages)({folder_inbox:{id:"folder_inbox",defaultMessage:"Inbox"},folder_draft:{id:"folder_draft",defaultMessage:"Drafts"},folder_sent:{id:"folder_sent",defaultMessage:"Sent"},folder_trash:{id:"folder_trash",defaultMessage:"Trash"},folder_bulk:{id:"folder_bulk",defaultMessage:"Spam"},folder_archive:{id:"folder_archive",defaultMessage:"Archive"},folder_all_mail:{id:"folder_all_mail",defaultMessage:"All Mail"}});
},{"../../platform/invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","./object":"./platform/utils/object","lodash/cloneDeep":"./node_modules/lodash/cloneDeep.js","react-intl":"./node_modules/react-intl/lib/index.js"}],383:[function(require,module,exports){
"use strict";function E(E){return E.map(function(E){var A=(0,o.getIn)(E,"email","").toLowerCase().match(/(?:\.|@)([\w-]+\.(?:com|net|biz))/);return N[A&&A[1]]||null}).filter(function(E){return null!==E})}function A(A){var I=A.messages;return E((0,o.getIn)(I,"0.headers.from",[]))}exports.__esModule=!0,exports.geminiCategoryMap=exports.categoriesMap=void 0,exports.getCategoriesFromSenders=E,exports.getCategoriesFromMessageGroup=A;var o=require("./object"),I=exports.categoriesMap={ADULT_GAMBLING:793,AUTO:796,CAREERS_EDUCATION:805,CPG:811,ENTERTAINMENT:818,FINANCIAL_SERVICES_INSURANCE:828,GOVERNMENT:846,HEALTH_WELLNESS:849,OTHERS:860,OERSONALS_SOCIAL_SERVICES:862,PREFESSIONAL_SERVICES:866,REAL_ESTATE:873,REFERENCE:877,RETAIL:884,TECHNOLOGY:902,TELECOM_WEB_SERVICES:906,TRAVEL_TRANSPORTATION:914,EDITORIAL_SUSPEND:5797},N=exports.geminiCategoryMap={"amazon.com":I.RETAIL,"linkedin.com":I.CAREERS_EDUCATION,"paypal.com":I.FINANCIAL_SERVICES_INSURANCE,"groupon.com":I.RETAIL,"ebay.com":I.RETAIL,"chase.com":I.FINANCIAL_SERVICES_INSURANCE,"indeed.com":I.CAREERS_EDUCATION,"capitalone.com":I.FINANCIAL_SERVICES_INSURANCE,"nextdoor.com":I.REAL_ESTATE,"kohls.com":I.RETAIL,"intuit.com":I.FINANCIAL_SERVICES_INSURANCE,"walmart.com":I.RETAIL,"southwest.com":I.TRAVEL_TRANSPORTATION,"synchronybank.com":I.FINANCIAL_SERVICES_INSURANCE,"zillow.com":I.REAL_ESTATE,"ups.com":I.RETAIL,"bestbuy.com":I.RETAIL,"netflix.com":I.ENTERTAINMENT,"apple.com":I.TECHNOLOGY,"homedepot.com":I.RETAIL,"cvs.com":I.HEALTH_WELLNESS,"bankofamerica.com":I.FINANCIAL_SERVICES_INSURANCE,"jcpenney.com":I.RETAIL,"target.com":I.RETAIL,"directv.com":I.ENTERTAINMENT,"discover.com":I.FINANCIAL_SERVICES_INSURANCE,"costco.com":I.RETAIL,"siriusxm.com":I.AUTO,"walgreens.com":I.CPG,"oldnavy.com":I.RETAIL,"victoriassecret.com":I.RETAIL,"ticketmaster.com":I.ENTERTAINMENT,"macys.com":I.RETAIL,"evite.com":I.ENTERTAINMENT,"docusign.net":I.PREFESSIONAL_SERVICES,"tripadvisor.com":I.TRAVEL_TRANSPORTATION,"bedbathandbeyond.com":I.RETAIL,"bathandbodyworks.com":I.RETAIL,"fidelity.com":I.FINANCIAL_SERVICES_INSURANCE,"livingsocial.com":I.RETAIL,"citibank.com":I.FINANCIAL_SERVICES_INSURANCE,"citi.com":I.FINANCIAL_SERVICES_INSURANCE,"cox.net":I.ENTERTAINMENT,"redbox.com":I.ENTERTAINMENT,"wayfair.com":I.RETAIL,"michaels.com":I.RETAIL,"uber.com":I.TRAVEL_TRANSPORTATION,"geico.com":I.AUTO,"wellsfargo.com":I.FINANCIAL_SERVICES_INSURANCE,"staples.com":I.RETAIL,"booking.com":I.TRAVEL_TRANSPORTATION,"travelzoo.com":I.TRAVEL_TRANSPORTATION,"delta.com":I.TRAVEL_TRANSPORTATION,"progressive.com":I.AUTO,"hilton.com":I.TRAVEL_TRANSPORTATION,"meetup.com":I.ADULT_GAMBLING,"zulily.com":I.RETAIL,"jobstreet.com":I.CAREERS_EDUCATION,"lowes.com":I.RETAIL,"sears.com":I.RETAIL,"nordstorm.com":I.RETAIL,"trulia.com":I.REAL_ESTATE,"dsw.com":I.RETAIL,"creditkarma.com":I.FINANCIAL_SERVICES_INSURANCE,"ziprecruiter.com":I.CAREERS_EDUCATION,"synchronyfinancial.com":I.FINANCIAL_SERVICES_INSURANCE,"airbnb.com":I.TRAVEL_TRANSPORTATION,"capitaloneemail.com":I.FINANCIAL_SERVICES_INSURANCE,"aa.com":I.TRAVEL_TRANSPORTATION,"statefarm.com":I.AUTO,"hrblock.com":I.FINANCIAL_SERVICES_INSURANCE,"email-marriott.com":I.TRAVEL_TRANSPORTATION,"americanexpress.com":I.FINANCIAL_SERVICES_INSURANCE,"houzz.com":I.REAL_ESTATE};
},{"./object":"./platform/utils/object"}],"./platform/utils/generic":[function(require,module,exports){
"use strict";function e(){return"undefined"!=typeof window}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=window.location.port,t=window.location.protocol+"//"+window.location.hostname;o&&(t+=":"+o),t+=a.YCPI_PATH_PREFIX,"ycorp"===e&&(t+="?.partner=ycorp"),window.location.replace(t)}function t(){return e()&&"function"==typeof(0,A.getIn)(window,"DataTransfer.prototype.setDragImage")}function r(e,o){return t()&&(o||(o=document.createElement("img"),o.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",document.body.appendChild(o)),e.setDragImage(o,0,0)),o}function n(e){e&&document.body.removeChild(e)}exports.__esModule=!0,exports.isBrowser=e,exports.refreshInbox=o,exports.supportsSetDragImage=t,exports.setEmptyDragImage=r,exports.doneWithDragImage=n;var a=require("../mail_constants"),A=require("./object");
},{"../mail_constants":"./platform/mail_constants","./object":"./platform/utils/object"}],"./platform/utils":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function r(){var t=(Date.now()+Math.floor(1e9*Math.random())).toString();return t.substr(t.length-10)}function e(t){for(var r=t.min,e=void 0===r?0:r,n=t.max,i=void 0===n?0:n,a=Math.round(Math.random()*(i-e)+e),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u="",s=0;s<a;s++)u+=o.charAt(Math.floor(Math.random()*o.length));return u}function n(t){var r=t.lastIndexOf("@");return{localPart:t.substr(0,r),domainPart:t.substr(r+1)}}function i(t){return!(!h.test(t)&&!I.test(t))}function a(t){var r=t.split("."),e=r.length;if(e<2)return!1;for(var n=0;n<e;n++)if(!q.test(r[n]))return!1;return!0}function o(t){if(!t)return!1;if(p.indexOf(t)!==-1)return!0;var r=n(t),e=r.localPart,o=r.domainPart;return!!i(e)&&!!a(o)}function u(t){return void 0!==t&&P.test(t.trim())}function s(t){return(0,v.default)(t,"event object is required"),t.key===c.Keys.ENTER?f.INTERACTION_TYPES.nav:"keydown"===t.type?f.INTERACTION_TYPES.shortcut:f.INTERACTION_TYPES.click}function d(t){return(0,g.getIn)(t||{},"container.id","app-container")}function l(t){var r=t.htmlAnnotations.map(function(t){return t.divIds?t:(t.divIds=t.divids,delete t.divids,t)});return{html:t.html,htmlAnnotations:r}}var c=require("../mail_constants"),f=require("../rapid_client/constants"),m=require("../invariant"),v=t(m),g=require("./object"),h=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,I=/^"(\\"|[^"])+"$/,q=/^[A-Za-z0-9\-]+$/,p=["sgproxy_test_10@localhost"],E=function t(){},P=/^[^\\\/%]+$/;module.exports={object:require("./object"),generic:require("./generic"),binstring:require("./binstring"),message:require("./message"),folder:require("./folder"),date:require("./date"),list:require("./list"),destructEmailAddressParts:n,generateUID:r,validateLocalPart:i,validateDomainPart:a,getInteractionFromEvent:s,isValidEmail:o,isValidFolderName:u,getAppContainerId:d,NOOP:E,transformSimpleBody:l,generateRandomStringWithLength:e};
},{"../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","../rapid_client/constants":"./platform/rapid_client/constants","./binstring":"./platform/utils/binstring","./date":"./platform/utils/date","./folder":"./platform/utils/folder","./generic":"./platform/utils/generic","./list":"./platform/utils/list","./message":"./platform/utils/message","./object":"./platform/utils/object"}],"./platform/utils/inline_image":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,n.default)("function"==typeof e.querySelectorAll,"#fixImageSrc: Expect container to be a html element"),[].forEach.call(e.querySelectorAll('img[src^="cid://"]'),function(e){var r="<"+e.src.slice("cid://".length)+">",n=t.find(function(e){return e.contentId===r});n&&(e.src=n.downloadUrl,e.setAttribute("data-id",n.dataId||e.dataset.id))})}exports.__esModule=!0,exports.fixImageSrc=t;var r=require("../invariant.js"),n=e(r);
},{"../invariant.js":"./platform/invariant"}],"./platform/utils/item":[function(require,module,exports){
"use strict";function t(t,s){return(0,e.getListContentTypeFromListId)(s)===r.ListContentTypes.MESSAGES?t:null}exports.__esModule=!0,exports.getGroupIdFromItemId=t;var e=require("./list"),r=require("../mail_constants");
},{"../mail_constants":"./platform/mail_constants","./list":"./platform/utils/list"}],"./platform/utils/list":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){var r=e.name,t=void 0===r?"":r,s=e.referrer,i=void 0===s?"":s,n=e.keyword,o=void 0===n?"":n,a=e.excludefolders,d=void 0===a?[]:a,u=e.folders,l=void 0===u?[]:u,c=e.accountIds,f=void 0===c?[]:c,p=e.emailAddresses,E=void 0===p?[]:p,L=e.listContentType,A=void 0===L?j.ListContentTypes.MESSAGES:L,I=e.listFilter,S=void 0===I?j.ListFilters.WITH_KEYWORD:I,m=e.sortOrder,F=void 0===m?j.SortOrder.DATE_DESC:m;return{name:t,referrer:i,keyword:o,folders:[].concat(l),accountIds:[].concat(f),emailAddresses:[].concat(E),excludefolders:[].concat(d),listContentType:A,listFilter:S,sortOrder:F}}function t(e){return JSON.stringify(B.map(function(r,t){return!e[r]||e[r]===z[t]||Array.isArray(e[r])&&e[r].length<=0?"":Array.isArray(z[t])&&!Array.isArray(e[r])?[e[r]]:e[r]}))}function s(e){var t=JSON.parse(e);return r(Array.isArray(t)?t.reduce(function(e,r,t){return e[B[t]]=r||z[t],e},Object.create(null)):t)}function i(e){var r=e.params||{},t=r.query,s=r.fid,i=r.serializedListId,n={};if(i){n=H.default.parse(i)||{};var o=parseInt(i,10)?i:n.folders;o&&(n.folders=[o])}else if(t)n=H.default.parse(t);else if(s){n=H.default.parse(s);var a=n,d=a.folders,u=void 0===d?[s]:d;n.folders=u}return $(n)}function n(e){var r=J(e),t=r.folders;if(1===t.length)return t[0]}function o(e){return $({folders:[e],sortOrder:arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.SortOrder.DATE_DESC})}function a(e,r){return J(e).folders.indexOf(r)!==-1}function d(e){var r=J(e),t=r.keyword;return(void 0===t?"":t).split(" ").filter(function(e){return e.trim().match(q)})}function u(e){return d(e).length>0}function l(e,r){var t=d(e),s=!0;return t.forEach(function(e){if(s)switch(e){case"is:unread":s=!r.read;break;case"is:read":s=!!r.read;break;case"is:starred":case"is:flagged":s=!!r.flagged}}),s}function c(e){return e&&J(e).keyword?e:K}function f(e){var r=J(e);return r.name||r.keyword||""}function p(e){var r=J(e),t=A(e),s=j.BootcampSRPExpandParams.MESSAGES,i=j.BootcampSRPExpandParams.IMAGES,n=j.BootcampSRPExpandParams.DOCUMENTS,o=j.BootcampSRPExpandParams.PEOPLE,a=[s,i,n,o].join(",");if(_(e))switch(t){case j.ListContentTypes.MESSAGES:a=s;break;case j.ListContentTypes.IMAGES:case j.ListContentTypes.DOCUMENTS:a=[i,n].join(",")}else if(!v(e))switch(t){case j.ListContentTypes.MESSAGES:a=[s,o].join(",");break;case j.ListContentTypes.IMAGES:a=[i,o].join(",");break;case j.ListContentTypes.DOCUMENTS:a=[n,o].join(",")}return Object.assign({},r,{expand:a})}function E(e){return J(e).sortOrder}function L(e){return J(e).listFilter}function A(e){return J(e).listContentType}function I(e){return J(e).referrer}function S(e){return J(e).keyword}function m(e){var r=J(e),t=r.folders,s=r.keyword,i=(0,b.getSearchInputTokens)(s),n=b.Tokens.FOLDERS,o=i[n]||[];return t.length?{folderIds:t,folderNames:[]}:{folderIds:[],folderNames:o}}function F(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(Object.assign({},J(e),r))}function T(e){return $(e)}function g(e){var t=J(e),s=r({}),i={},n=t.emailAddresses,o=void 0===n?[]:n,a=t.listFilter,d=void 0===a?j.ListFilters.WITH_KEYWORD:a;return o.length>0&&d===j.ListFilters.WITH_KEYWORD&&(t.listFilter=j.ListFilters.FROM),Object.keys(t).filter(function(e){return Array.isArray(t[e])?t[e].length>0:t[e]&&t[e]!==s[e]}).map(function(e){i[e]=t[e]}),H.default.stringify(i)}function y(e){return g(e).replace(Y,"$1")}function x(e){return $(e)}function v(e){var r=J(e),t=r.emailAddresses;return(void 0===t?[]:t).length>0}function _(e){return I(e)===j.ListReferrer.SMARTVIEW}function C(e){var r=J(e),t=r.emailAddresses;return(void 0===t?[]:t)[0]}function O(e,r){var t=J(e),s=t.keyword,i=void 0===s?"":s;return((0,b.getSearchInputTokens)(i).is||[]).indexOf(r)!==-1}function R(e){switch(L(e)){case j.ListFilters.WITH_KEYWORD:return j.ListFilters.WITH_KEYWORD_RELEVANCE;case j.ListFilters.ALL:return j.ListFilters.ALL_WITH_RELEVANCE;case j.ListFilters.FROM:return j.ListFilters.FROM_WITH_RELEVANCE;case j.ListFilters.TO:return j.ListFilters.TO_WITH_RELEVANCE}}function h(e){var r=J(e),t=r.referrer,s=r.keyword,i=r.emailAddresses,n=r.folders;return!!(t||s||i&&i.length||n&&0===n.length)}function M(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter(function(e){return!!e}).join(U)}function D(e){return e.split(U)}function k(e,r){var t=e.name===j.RouteNames.SEARCH,s=t,i=_(r),n=A(r);if(s&&!i&&n===j.ListContentTypes.MESSAGES)return F(r,{listFilter:R(r)})}function w(e){var r=A(e);return r===j.ListContentTypes.COUPON_CARDS||r===j.ListContentTypes.TRAVEL_CARDS}exports.__esModule=!0,exports.createListIdFromParams=exports.DEFAULT_MESSAGES_METADATA_CACHEKEY=void 0,exports.getListIdFromRoute=i,exports.getFolderIdFromListId=n,exports.getListIdFromFolderId=o,exports.listIdContainsFolderId=a,exports.listIdHasMessageFlags=u,exports.listIdContainsMessageFlags=l,exports.getMetadataCacheKey=c,exports.getSearchAdKeywordFromListId=f,exports.getBootcampApiQueryParams=p,exports.getSortOrderFromListId=E,exports.getListFilterFromListId=L,exports.getListContentTypeFromListId=A,exports.getReferrerFromListId=I,exports.getKeywordFromListId=S,exports.getFolderIdNamesFromListId=m,exports.recreateListId=F,exports.createListIdForTest=T,exports.serializeListIdForRoute=g,exports.serializeListIdForFolderRoute=y,exports.convertSearchQueryToListId=x,exports.isPeopleSearch=v,exports.isSmartViewSearch=_,exports.getEmailAddressFromListId=C,exports.listIdContainsFlag=O,exports.getRelevantListFilterFromListId=R,exports.__isSearchListId=h,exports.composeListId=M,exports.decomposeListId=D,exports.heroListId=k,exports.isContentCardsList=w;var P=require("lodash/memoize"),N=e(P),W=require("querystring"),H=e(W),j=require("../mail_constants"),b=require("../../atoms/utils/search_input_parser"),G=require("./generic"),K=exports.DEFAULT_MESSAGES_METADATA_CACHEKEY="DEFAULT_MESSAGES_METADATA_CACHEKEY",Y=/^folders=([0-9]+)$/,q=/^is\:(starred|flagged|unread|read)$/gi,U="__LIST_ID_DELIMITER__",V=r(Object.create(null)),B=Object.keys(V).sort(),z=B.map(function(e){return V[e]}),$=t,J=(0,G.isBrowser)()?(0,N.default)(s):s,Q=exports.createListIdFromParams=x;
},{"../../atoms/utils/search_input_parser":"./atoms/utils/search_input_parser","../mail_constants":"./platform/mail_constants","./generic":"./platform/utils/generic","lodash/memoize":"./node_modules/lodash/memoize.js","querystring":"querystring"}],"./platform/utils/mail_ui_vars":[function(require,module,exports){
"use strict";function _(_){return _&&_.__esModule?_:{default:_}}exports.__esModule=!0,exports.MOBILE_TRANSITION_DURATION=exports.FEATURE_CUE_CONTAINER=exports.FEATURE_CUE_BODY_TEXT=exports.FEATURE_CUE_HEADER_TEXT=exports.FEATURE_CUE_PADDING=exports.FEATURE_CUE_BACKGROUND_COLOR=exports.SRP_RIGHT_RAIL_WIDTH=exports.AD_WIDTH_WIDE=exports.AD_WIDTH_NARROW=exports.ACCESSIBLE=exports.PillMaxWidths=exports.BREAKPOINTS=exports.FOLDER_INDENTATION=exports.WIDE_SCREEN_WIDTH=exports.NARROW_SCREEN_WIDTH=exports.APP_MAX_WIDTH=exports.APP_MIN_WIDTH=exports.APP_MIN_WIDTH_VERTICAL_VIEW=exports.NAVIGATION_MAX_WIDTH=exports.NAVIGATION_PERCENTAGE_WIDTH=exports.NAVIGATION_WIDTH=exports.TAB_MENU_WIDTH=exports.TAB_MAX_WIDTH=exports.TAB_MIN_WIDTH=exports.ZIndices=exports.TabIndices=exports.PALETTE=exports.ButtonPadding=exports.STYLELESS_BUTTON=exports.STYLELESS_INPUT=exports.HEADING_FONT_WEIGHT=exports.DOCUMENT_ITEM_HEIGHT=exports.PHOTO_ITEM_SMALL_SIZE=exports.PHOTO_SIZE_PLUS_PADDING=exports.PHOTO_ITEM_SIZE=exports.SEARCH_BAR_HEIGHT=exports.ITEM_LIST_SEPARATOR_HEIGHT=exports.PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET=exports.PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET=exports.PREVIEW_PANE_CONSTRAINT_BOTTOM_PIXELS_OFFSET=exports.PREVIEW_PANE_CONSTRAINT_TOP_PIXELS_OFFSET=exports.PREVIEW_PANE_DEFAULT_TOP_PIXELS_OFFSET=exports.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET=exports.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET=exports.MESSAGE_LIST_FEEDBACK_FORM_HEIGHT=exports.MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT=exports.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT=exports.MESSAGE_LIST_GEMINI_AD_HEIGHT_M=exports.MESSAGE_LIST_GEMINI_AD_HEIGHT=exports.MESSAGE_LIST_ITEM_LOAD_MORE_HEIGHT=exports.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT=exports.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT=exports.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT=exports.MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT=exports.MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT=exports.MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT=exports.MESSAGE_LIST_ITEM_RELAXED_HEIGHT=exports.MESSAGE_LIST_ITEM_SLIM_HEIGHT=exports.MESSAGE_LIST_ITEM_NORMAL_HEIGHT=exports.APP_HEADER_FOCUS_OUTLINE=exports.FOCUS_OUTLINE_DARK_THEME_MODE=exports.FOCUS_OUTLINE=void 0,exports.Shadows=exports.SHADOW_COLOR=exports.ShadowBlurs=exports.BOX_SHADOW_NORMAL=exports.BORDER_MEDIUM=exports.BORDER_ACTIVE=exports.BORDER_WARNING=exports.BORDER_DARK=exports.BORDER_LIGHT=exports.BORDER_SUPER_LIGHT=exports.IconColors=exports.AVATAR_SIZE_COMPACT=exports.AVATAR_SIZE_L=exports.AVATAR_SIZE_M=exports.AVATAR_SIZE_S=exports.ICON_SIZE_XXL=exports.ICON_SIZE_XL=exports.ICON_SIZE_L=exports.ICON_SIZE_M=exports.ICON_SIZE_S=exports.ICON_SIZE_XS=exports.ICON_SIZE_XXS=exports.ICON_SIZE_XXXS=exports.FONT_SIZE_XXL=exports.FONT_SIZE_XL=exports.FONT_SIZE_L=exports.FONT_SIZE_M=exports.FONT_SIZE_S=exports.FONT_SIZE_XS=exports.FONT_SIZE_XXS=exports.ALT_FONT_STACK=exports.HIGHER_LINE_HEIGHT=exports.LOWER_LINE_HEIGHT=exports.LOWEST_LINE_HEIGHT=exports.BASE_LINE_HEIGHT=exports.BASE_FONT_SIZE=exports.BASE_FONT_WEIGHT=exports.MOBILE_BASE_FONT_STACK=exports.BASE_FONT_STACK=exports.SMALL=exports.MEDIUM=exports.BOLD=exports.SECONDARY_BUTTON_ACTIVE=exports.SECONDARY_BUTTON_NORMAL=exports.PRIMARY_BUTTON_HOVER_COLOR=exports.PRIMARY_BUTTON_INACTIVE_COLOR=exports.PRIMARY_BUTTON_INACTIVE_TEXT_COLOR=exports.PRIMARY_BUTTON_PRESSED_COLOR=exports.PRIMARY_BUTTON_TEXT_COLOR=exports.PRIMARY_BUTTON_ACTIVE_COLOR=exports.MAIN_APP_BORDER=exports.DEFAULT_BACKGROUND_COLOR=exports.PILL_SELECTED_BGCOLOR=exports.ATTACHMENT_MEDIUM_PURPLE=exports.ATTACHMENT_LIGHT_PURPLE=exports.MESSAGE_LIST_HOVER_GEMINI_AD_BGCOLOR=exports.MESSAGE_LIST_GEMINI_AD_BGCOLOR=exports.ITEM_SELECTED_BGCOLOR=exports.ITEM_HOVER_BGCOLOR=exports.SRP_LINK_COLOR=exports.HEADER_COLOR_2=exports.HEADER_COLOR_1=exports.DODGE_95=exports.DODGE_80=exports.DODGE_60=exports.DODGE_50=exports.DODGE_20=exports.DODGE_16=exports.DODGE_12=exports.DODGE_10=exports.DODGE_8=exports.DODGE_6=exports.BURN_80=exports.BURN_70=exports.BURN_60=exports.BURN_46=exports.BURN_30=exports.BURN_20=exports.BURN_16=exports.BURN_10=exports.BURN_8=exports.FOLDER_ITEM_HOVER_BGCOLOR=exports.BORDER_MEDIUM_COLOR=exports.WORK_AREA_BACKGROUND_COLOR=exports.HEADING_PURPLE=exports.FIFTH_LEVEL_GRAY=exports.FOURTH_LEVEL_GRAY=exports.THIRD_LEVEL_GRAY=exports.SECOND_LEVEL_GRAY=exports.FIRST_LEVEL_GRAY=exports.LESS_IMPORTANT_GRAY=exports.IMPROVED_GRAY_DARK=exports.IMPROVED_GRAY=exports.BACKGROUND_COLOR=exports.BLACK=exports.WHITE=exports.TRANSPARENT=exports.SELECTED=exports.BASE_LINK_COLOR=exports.GRID_UNIT=void 0;var E=require("fuji-css"),T=_(E),e=exports.GRID_UNIT=4,I=exports.BASE_LINK_COLOR=T.default.ycolorBlue10a,o=exports.SELECTED=T.default.ycolorBlue10a,r=exports.TRANSPARENT="transparent",t=exports.WHITE="#fff",O=exports.BLACK=T.default.ycolorGrayA,A=exports.BACKGROUND_COLOR="rgba(241, 241, 245, .5)",p=exports.IMPROVED_GRAY="#a7acbb",x=exports.IMPROVED_GRAY_DARK="#5b636a",R=exports.LESS_IMPORTANT_GRAY=T.default.ycolorGrayD,s=exports.FIRST_LEVEL_GRAY=T.default.ycolorGrayE,S=exports.SECOND_LEVEL_GRAY=T.default.ycolorGrayF,N=exports.THIRD_LEVEL_GRAY=T.default.ycolorGrayG,L=exports.FOURTH_LEVEL_GRAY=T.default.ycolorGrayH,D=exports.FIFTH_LEVEL_GRAY=T.default.ycolorGrayI,M=exports.HEADING_PURPLE="#775eec",C=exports.WORK_AREA_BACKGROUND_COLOR=t,G=exports.BORDER_MEDIUM_COLOR="#B9BDC5",H=exports.FOLDER_ITEM_HOVER_BGCOLOR="rgba(24, 143, 255, 0.08)",P=exports.BURN_8="rgba(0, 0, 0, .08)",a=exports.BURN_10="rgba(0, 0, 0, .1)",B=exports.BURN_16="rgba(0, 0, 0, .16)",l=exports.BURN_20="rgba(0, 0, 0, .2)",U=exports.BURN_30="rgba(0, 0, 0, .3)",F=exports.BURN_46="rgba(0, 0, 0, .46)",d=exports.BURN_60="rgba(0, 0, 0, .6)",W=exports.BURN_70="rgba(0, 0, 0, .7)",i=exports.BURN_80="rgba(039, 41, 43, .8)",V=exports.DODGE_6="rgba(255, 255, 255, .06)",u=exports.DODGE_8="rgba(255, 255, 255, .08)",f=exports.DODGE_10="rgba(255, 255, 255, .10)",c=exports.DODGE_12="rgba(255, 255, 255, .12)",X=exports.DODGE_16="rgba(255, 255, 255, .16)",y=exports.DODGE_20="rgba(255, 255, 255, .2)",b=exports.DODGE_50="rgba(255, 255, 255, .5)",n=exports.DODGE_60="rgba(255, 255, 255, .6)",g=exports.DODGE_80="rgba(255, 255, 255, .8)",Z=exports.DODGE_95="rgba(255, 255, 255, .95)",Y=exports.HEADER_COLOR_1="#7282fb",K=exports.HEADER_COLOR_2="#7934f7",h=exports.SRP_LINK_COLOR=I,m=exports.ITEM_HOVER_BGCOLOR="#f4f9ff",v=exports.ITEM_SELECTED_BGCOLOR="#e9f4ff",w=exports.MESSAGE_LIST_GEMINI_AD_BGCOLOR="#ccf5e4",k=exports.MESSAGE_LIST_HOVER_GEMINI_AD_BGCOLOR="#baf4d7",z=exports.ATTACHMENT_LIGHT_PURPLE="#7daae8",q=exports.ATTACHMENT_MEDIUM_PURPLE="#7a50ee",j=exports.PILL_SELECTED_BGCOLOR="#daedff",J=exports.DEFAULT_BACKGROUND_COLOR="#f4f4f7",Q=exports.MAIN_APP_BORDER="1px solid "+T.default.ycolorGrayH,$=exports.PRIMARY_BUTTON_ACTIVE_COLOR=T.default.ycolorBlue10a,__=exports.PRIMARY_BUTTON_TEXT_COLOR=t,E_=exports.PRIMARY_BUTTON_PRESSED_COLOR=T.default.ycolorBlueviolet12a,T_=exports.PRIMARY_BUTTON_INACTIVE_TEXT_COLOR=T.default.ycolorGrayG,e_=exports.PRIMARY_BUTTON_INACTIVE_COLOR=T.default.ycolorGrayH,I_=exports.PRIMARY_BUTTON_HOVER_COLOR=T.default.ycolorBlue10b,o_=exports.SECONDARY_BUTTON_NORMAL=T.default.ycolorBlue10a,r_=exports.SECONDARY_BUTTON_ACTIVE=T.default.ycolorBlueviolet12a,t_=exports.BOLD="bold",O_=exports.MEDIUM=500,A_=exports.SMALL=400,p_=exports.BASE_FONT_STACK="Helvetica Neue, Helvetica, Segoe UI, Arial, sans-serif",x_=exports.MOBILE_BASE_FONT_STACK='Roboto, "San Francisco", -apple-system, "Helvetica Neue", SegoeUI, Helvetica, Arial, Sans-Serif',R_=exports.BASE_FONT_WEIGHT="regular",s_=exports.BASE_FONT_SIZE="13px",S_=exports.BASE_LINE_HEIGHT="18px",N_=exports.LOWEST_LINE_HEIGHT="13px",L_=exports.LOWER_LINE_HEIGHT="15px",D_=exports.HIGHER_LINE_HEIGHT="20px",M_=exports.ALT_FONT_STACK="Helvetica Neue Medium, Helvetica Neue, Helvetica, Segoe UI, Arial, sans-serif",C_=exports.FONT_SIZE_XXS="11px",G_=exports.FONT_SIZE_XS="12px",H_=exports.FONT_SIZE_S="13px",P_=exports.FONT_SIZE_M="15px",a_=exports.FONT_SIZE_L="17px",B_=exports.FONT_SIZE_XL="24px",l_=exports.FONT_SIZE_XXL="30px",U_=exports.ICON_SIZE_XXXS="12px",F_=exports.ICON_SIZE_XXS="16px",d_=exports.ICON_SIZE_XS="20px",W_=exports.ICON_SIZE_S="24px",i_=exports.ICON_SIZE_M="32px",V_=exports.ICON_SIZE_L="48px",u_=exports.ICON_SIZE_XL="72px",f_=exports.ICON_SIZE_XXL="96px",c_=exports.AVATAR_SIZE_S=20,X_=exports.AVATAR_SIZE_M=32,y_=exports.AVATAR_SIZE_L=48,b_=exports.AVATAR_SIZE_COMPACT=28,n_=exports.IconColors={NORMAL:O,FIRST_LEVEL_GRAY:s,NORMAL_LESS_DIM:"rgba(38, 40, 42, 0.8)",IMPROVED_GRAY_DARK:x,INVERTED:t,INVERTED_DIM:"rgba(255, 255, 255, 0.5)",INVERTED_LESS_DIM:"rgba(255, 255, 255, 0.8)",SELECTED:o,SELECTED_DARK_THEME_MODE:"#4faaff",DISABLED:S,STARRED:T.default.ycolorOrange4a,STARRED_DARK:"#ffb700",SMARTVIEW_DARK:"rgba(255, 255, 255, .6)",LESS_IMPORTANT:R,SECOND_LEVEL_GRAY:S,FAINT:T.default.ycolorGrayH,COOL_FAINT:T.default.ycolorGrayFg,WARNING:T.default.ycolorPink1a,HEADING:M,HOVER_BGCOLOR:"rgba(24, 143, 255, 0.08)",ICON_HOVER_BGCOLOR:"rgba(24, 143, 255, 0.15)",ACTIVE_BGCOLOR:"rgba(185, 189, 197, 0.3)",YBADGE:T.default.ycolorPurple14c,GREEN:"#1AC567",TOUCH_PRIMARY:T.default.ycolorBlue10a,Attachments:{MEDIA:T.default.ycolorFuchsia18a,CAL:T.default.ycolorFuchsia18a,EXCEL:T.default.ycolorGreen6b,DOC:T.default.ycolorBlue10b,SLIDE:T.default.ycolorOrange4c,PDF:T.default.ycolorOrange4c,GENERIC:T.default.ycolorBlue10a,COMPRESSED:T.default.ycolorTurquoise8b}},g_=exports.BORDER_SUPER_LIGHT="1px solid "+T.default.ycolorGrayI,Z_=exports.BORDER_LIGHT="1px solid "+T.default.ycolorGrayH,Y_=exports.BORDER_DARK="1px solid "+O,K_=exports.BORDER_WARNING="1px solid "+T.default.ycolorPink1a,h_=exports.BORDER_ACTIVE="1px solid "+T.default.ycolorGrayF,m_=exports.BORDER_MEDIUM="1px solid "+G,v_=exports.BOX_SHADOW_NORMAL="0 "+2*e+"px "+2*e+"px "+e*-2+"px\n    rgba(0,0,0,.5)",w_=exports.ShadowBlurs={LOW:3,MEDIUM:6,HIGH:10},k_=exports.SHADOW_COLOR="rgba(0, 0, 0, .3)",z_=exports.Shadows={LOW:"0 0 "+w_.LOW+"px "+k_,MED:"0 0 "+w_.MEDIUM+"px "+k_,HIGH:"0 0 "+w_.HIGH+"px "+k_},q_=exports.FOCUS_OUTLINE="1px dotted "+T.default.ycolorGrayA,j_=exports.FOCUS_OUTLINE_DARK_THEME_MODE="1px dotted #c7cad1",J_=exports.APP_HEADER_FOCUS_OUTLINE="1px dotted #b9bdc5",Q_=exports.MESSAGE_LIST_ITEM_NORMAL_HEIGHT=8*e,$_=exports.MESSAGE_LIST_ITEM_SLIM_HEIGHT=6*e,_E=exports.MESSAGE_LIST_ITEM_RELAXED_HEIGHT=11*e,EE=exports.MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT=14*e,TE=exports.MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT=12*e,eE=exports.MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT=14*e+e/2,IE=exports.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT=18*e,oE=exports.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT=16*e,rE=exports.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT=19*e+e/2,tE=exports.MESSAGE_LIST_ITEM_LOAD_MORE_HEIGHT=18*e,OE=exports.MESSAGE_LIST_GEMINI_AD_HEIGHT=12*e,AE=exports.MESSAGE_LIST_GEMINI_AD_HEIGHT_M=46,pE=exports.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT=18*e,xE=exports.MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT=3*pE,RE=exports.MESSAGE_LIST_FEEDBACK_FORM_HEIGHT=2*OE,sE=exports.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET=32,SE=exports.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET=30,NE=exports.PREVIEW_PANE_DEFAULT_TOP_PIXELS_OFFSET=180,LE=exports.PREVIEW_PANE_CONSTRAINT_TOP_PIXELS_OFFSET=180,DE=exports.PREVIEW_PANE_CONSTRAINT_BOTTOM_PIXELS_OFFSET=180,ME=exports.PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET=32,CE=exports.PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET=45,GE=exports.ITEM_LIST_SEPARATOR_HEIGHT=8*e,HE=exports.SEARCH_BAR_HEIGHT=12*e,PE=exports.PHOTO_ITEM_SIZE=150,aE=exports.PHOTO_SIZE_PLUS_PADDING=PE+8,BE=exports.PHOTO_ITEM_SMALL_SIZE=83,lE=exports.DOCUMENT_ITEM_HEIGHT=16*e,UE=exports.HEADING_FONT_WEIGHT=t_,FE=exports.STYLELESS_INPUT={border:0,boxShadow:"none",width:"100%",minHeight:"40px"},dE=exports.STYLELESS_BUTTON={fontFamily:p_,fontSize:s_,border:0,backgroundColor:r},WE=exports.ButtonPadding={XXXS:.25*e,XXS:.5*e,XS:1*e,S:2*e,M:2*e,L:3*e,XL:4*e,XXL:4*e},iE=exports.PALETTE=T.default,VE=exports.TabIndices={APP_HEADER_MAIL_APPS:0,APP_HEADER_ACCOUNT_MENU:0,APP_HEADER_SEARCHBOX:10,FOLDER_LIST:20,MESSAGE_LIST_TOOLBAR:30,MESSAGE_LIST_MAIN:40,MESSAGE_GROUP_HEADER:50,SEGMENTED_CONTROL_FILTERS:60,ATTACHMENT_PREVIEW:70,ATTACHMENT_PREVIEW_TOOLBAR:80,COMMS_PROPERTIES_BAR:90,FOLDER_SELECTION_MENU:100},uE=exports.ZIndices={CURSOR:11e3,MODAL:1e4,POPOVER:{LOW:100,MEDIUM:500,HIGH:900},OVERLAY:9e3,NOTIFICATION:200},fE=exports.TAB_MIN_WIDTH=108,cE=exports.TAB_MAX_WIDTH=144,XE=exports.TAB_MENU_WIDTH=28,yE=exports.NAVIGATION_WIDTH=192,bE=exports.NAVIGATION_PERCENTAGE_WIDTH=14,nE=exports.NAVIGATION_MAX_WIDTH=224,gE=exports.APP_MIN_WIDTH_VERTICAL_VIEW=1280,ZE=exports.APP_MIN_WIDTH=1024,YE=exports.APP_MAX_WIDTH=1920,KE=exports.NARROW_SCREEN_WIDTH=1360,hE=exports.WIDE_SCREEN_WIDTH=1600,mE=exports.FOLDER_INDENTATION="0 0 0 8px",vE=exports.BREAKPOINTS={H768:"@media (min-height: 768px)",W1280:"@media (min-width: 1280px)",W1360:"@media (min-width: 1360px)",W1440:"@media (min-width: 1440px)",W1600:"@media (min-width: 1600px)",W1920:"@media (min-width: 1920px)"},wE=exports.PillMaxWidths={S:"88px",L:"160px"},kE=exports.ACCESSIBLE={position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},zE=exports.AD_WIDTH_NARROW=192,qE=exports.AD_WIDTH_WIDE=332,jE=exports.SRP_RIGHT_RAIL_WIDTH="300px",JE=exports.FEATURE_CUE_BACKGROUND_COLOR=iE.ycolorBlue10a,QE=exports.FEATURE_CUE_PADDING="18px 24px 24px",$E=exports.FEATURE_CUE_HEADER_TEXT={lineHeight:"24px",fontSize:a_,fontWeight:O_,color:O},_T=exports.FEATURE_CUE_BODY_TEXT={fontSize:s_,lineHeight:S_,color:O},ET=exports.FEATURE_CUE_CONTAINER={backgroundColor:t,padding:QE,minWidth:"200px",maxWidth:"450px"},TT=exports.MOBILE_TRANSITION_DURATION={enter:225,leave:195,fullScreen:375};
},{"fuji-css":"./node_modules/fuji-css/dist/jss/colors.js"}],"./platform/utils/mailto_parser":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function r(t){0===t.indexOf("mailto:")&&(t=t.substring(7));var r=e(t),i=t.indexOf("?");i>-1&&(t=t.substring(i+1));var s=n.default.parse(t);return r&&Object.assign(s,{to:r}),["to","cc","bcc"].forEach(function(t){var r=s[t];r&&"string"==typeof r&&(s[t]=[].concat(r))}),["subject","body"].forEach(function(t){var r=s[t];r&&Array.isArray(r)&&(s[t]=r.pop())}),s}function e(t){if(t&&t.length){var r=t.indexOf("?");if(r>-1&&(t=t.substring(0,r)),t.length){if(t=t.toLowerCase(),0===t.indexOf("http://")||0===t.indexOf("https://")||0===t.indexOf("ftp://"))return"";if((0,s.isValidEmail)(t))return t}}return""}exports.__esModule=!0,exports.extractMailtoFields=r,exports.extractEmailAddressFromMailto=e;var i=require("querystring"),n=t(i),s=require("./index");
},{"./index":"./platform/utils","querystring":"querystring"}],"./platform/utils/message":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,c.getPrimaryFolderType)(e.folder)===l.FolderTypes.DRAFT}function t(e){return(0,c.getPrimaryFolderType)(e.folder)===l.FolderTypes.TRASH}function i(e){return(0,c.getPrimaryFolderType)(e.folder)===l.FolderTypes.BULK}function a(e){return function(r){return r.folder.id===e}}function n(e){return e.length>27?e.split("_").pop().replace(/\+/g,"-").replace(/\//g,"_"):e}function o(e,r){var t=e.partId,i=e.contentId;return(0,m.default)(r,"#generateAttachmentId must receive a messageId"),r+":"+(t||i)}function d(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(":")[0]}function s(e,r){return e.filter(function(e){var t=e.folder;return r((0,c.getPrimaryFolderType)(t))})}function u(e){var r=e.decos;return!(!r||!Array.isArray(r))&&r.findIndex(function(e){if("CRD"===e.id)return!0})>-1}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach(function(e){var t=e.schema||e;switch(t["@type"]){case l.SchemaTypes.ReservationPackage:t.subReservation&&p(t.subReservation,r);break;case l.SchemaTypes.FlightReservation:if(!t.reservationFor)break;var i=t.reservationId,a=t.reservationFor,n=t.underName,o=void 0===n?[]:n,d=t.potentialAction,s=void 0===d?[]:d,u=a.departureAirport,c=a.departureTime,v=a.departureTerminal,m=void 0===v?"":v,g=a.arrivalAirport,h=a.arrivalTerminal,y=void 0===h?"":h,I=a.flightNumber,T=void 0===I?"":I,A=a.arrivalTime,F=void 0===A?"":A;if(!(u&&g&&c&&t["@id"]))break;var x="";Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]),s.some(function(e){if(e["@type"]===l.SchemaTypes.CheckInAction&&e.url)return x=(0,f.getIn)(e,"url.@value")||(0,f.getIn)(e,"url",""),!0}),r.push({id:t["@id"],type:t["@type"],providerName:(0,f.getIn)(a,"provider.name",""),providerIataCode:(0,f.getIn)(a,"provider.iataCode",""),providerUrl:(0,f.getIn)(a,"provider.url",""),departureAirportName:(0,f.getIn)(u,"name",""),departureAirportDesc:(0,f.getIn)(u,"description",""),departureAirportCode:(0,f.getIn)(u,"iataCode",""),departureTime:c,departureTerminal:m,arrivalAirportName:(0,f.getIn)(g,"name",""),arrivalAirportDesc:(0,f.getIn)(g,"description",""),arrivalAirportCode:(0,f.getIn)(g,"iataCode",""),arrivalTime:F,arrivalTerminal:y,flightNumber:T,reservationId:i,passengers:o.map(function(e){return e.name}),checkInUrl:x});break;case l.SchemaTypes.Coupon:if(!t.validThrough||!t["@id"])break;r.push({id:t["@id"],type:t["@type"],validThrough:t.validThrough})}}),r}exports.__esModule=!0,exports.isDraft=r,exports.isTrash=t,exports.isSpam=i,exports.isInFolderWithId=a,exports.convertV2IdToV3ImmutableId=n,exports.generateAttachmentId=o,exports.getMessageIdFromAttachmentId=d,exports.filterMessagesByFolderType=s,exports.isCardMessage=u,exports.transformSchemaOrg=p;var l=require("../mail_constants"),c=require("./folder"),v=require("../invariant"),m=e(v),f=require("./object");
},{"../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","./folder":"./platform/utils/folder","./object":"./platform/utils/object"}],"./platform/utils/message_group":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){for(var t=e.messages,r=!0,n=!1,s=!1,a=!1,i=0;i<t.length;i++){var o=t[i];o.flags.read||(r=!1),o.flags.flagged&&(n=!0),o.flags.answered&&(s=!0,a=!1),o.flags.forwarded&&(a=!0,s=!1)}return{read:r,flagged:n,answered:s,forwarded:a}}function r(e){return e.filter(function(e){return e.headers.from.length>0&&(e.headers.from[0].email||e.headers.from[0].name)}).map(function(e){return{email:e.headers.from[0].email,name:e.headers.from[0].name,recent:!e.flags.read}})}function n(e){return e.reduce(function(e,t){return t.headers.to.filter(function(e){return e.email||e.name}).reduce(function(e,r){return e.push({email:r.email,name:r.name,recent:!t.flags.read}),e},e)},[])}function s(e){return e.messages.some(function(e){return e.attachments&&e.attachments.length})}function a(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some(function(e){return I.YahooOfficialVerifiedDomains.indexOf(e.domain)!==-1})}function i(e){return e.messages.some(function(e){return a(e.verifiedDomains)})}function o(e){var t=e.messages.reduce(function(e,t){var r=t.attachments;return e.concat(r.filter(function(e){return e.filename}))},[]),r=t.map(function(e){return e.filename+e.size});return t.filter(function(e,t){var n=e.filename,s=e.size;return t===r.indexOf(n+s)})}function u(e){return e.messages.reduce(function(e,t){var r=t.attachmentCount;return e+(void 0===r?0:r)},0)}function f(e){return e.messages.some(y.isDraft)}function g(e){return e.messages.every(y.isDraft)}function c(e){return e.messages.every(y.isTrash)}function m(e){return e.messages.every(y.isSpam)}function l(e){return e.messages.map(function(e){return e.id})}function d(e,t){for(var r=e.messages,n=void 0,s=r.length-1;s>=0;s--)if(t(r[s])){n=r[s];break}return n}function h(e,t){return d(e,(0,y.isInFolderWithId)(t))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.messages,n=r.some(function(e){return!e.flags.read}),s=r.filter(function(e){return!(0,y.isDraft)(e)}).pop();if(0!==t.length){var a=r.filter(function(e){return(0,y.isDraft)(e)}).map(function(e){return e.id});return(0,T.default)(t.concat(a))}return r.filter(function(e,t){return Boolean(!e.flags.read||(0,y.isDraft)(e)||t===r.length-1||e===s||!n&&e.flags.flagged)}).map(function(e){return e.id})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/\^_(.+?)\^_/g;return e.replace(t,"$1")}function x(e){for(var t=e.messages,r=t.length-1;r>=0;r--)if(t[r].folder.types[0]!==I.FolderTypes.TRASH)return t[r].folder;return t[t.length-1].folder}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.listId,n=void 0;return r&&(n=(0,F.getFolderIdFromListId)(r)),(h(e,n)||e.messages[e.messages.length-1]).headers.date}function M(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t(e),u=r(e.messages),g=n(e.messages),c=e.messages[e.messages.length-1],m=e.messages[0].headers.subject,l=c.snippet;return{flags:o,participants:u,recipients:g,subjectWithMatchDelimiter:m,snippetWithMatchDelimiter:l,subject:v(m),snippet:v(l),date:D(e,a),messageCount:e.messages.length,hasAttachment:s(e),hasVerifiedMessage:i(e),hasDraft:f(e),folder:x(e)}}exports.__esModule=!0,exports.getFlags=t,exports.getParticipants=r,exports.getRecipients=n,exports.hasAttachment=s,exports.hasVerifiedYahooSource=a,exports.hasVerifiedMessage=i,exports.getAttachmentsWithFileNames=o,exports.getAttachmentsCount=u,exports.hasDraft=f,exports.onlyDrafts=g,exports.onlyTrash=c,exports.onlySpam=m,exports.getMessageIds=l,exports.getLastMessageWith=d,exports.getLastMessageWithFolderId=h,exports.getIdsOfMessagesToExpand=p,exports.removeMatchTermDelimiter=v,exports.getMessageGroupFolder=x,exports.getDate=D,exports.getMetadata=M;var y=require("./message"),F=require("./list"),I=require("../mail_constants"),_=require("lodash/uniq"),T=e(_);
},{"../mail_constants":"./platform/mail_constants","./list":"./platform/utils/list","./message":"./platform/utils/message","lodash/uniq":"./node_modules/lodash/uniq.js"}],"./platform/utils/message_quote_finder":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function d(e){return 0!==e.length&&0!==e[0].divIds.length}function n(e,d){var n=d.divId,i=void 0,t=void 0,r=new RegExp("<div[^>]+id=[\"']"+v+n+v+"[\"'][^>]*>","gm"),o=r.exec(e);if(!o)return l;var s=e.slice(o.index),a=/<div|<\/div>/gi;for(i=0;i>0||!t||"</div>"!==t[0];){var u=a.exec(s);if(!u){t=[""],t.index=s.length;break}t=u,"<div"===t[0]?i++:i--}return{imbalancedBy:i,start:o.index,end:o.index+t.index+t[0].length}}function i(e,d){var i=d.divIds,t=void 0===i?[]:i,r=[],o=l;return t.forEach(function(d){var i=l;try{i=n(e.slice(o.end),{divId:d})}catch(e){a.default.error("Mismatched HTML tags",{divId:d,error:e})}i!==l&&(i.start+=o.end,i.end+=o.end,r.push(i),o=i)}),r}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!d(n))return{nonQuote:e,quote:""};for(var t=i(e,{divIds:n[0].divIds}),r="",o="",s=l,a=0;a<t.length;a++){var v=t[a],u=v.start,g=v.end,c=v.imbalancedBy;r+=a>0?e.slice(s.end,u):e.slice(0,u),o+=e.slice(u,g),c>0&&(o+=new Array(c).fill("</div>").join("")),s=t[a]}return r+=e.slice(s.end),{quote:o,nonQuote:r}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!d(n))return{messageAbove:e,messageBelow:"",expandable:!1};for(var r=i(e,{divIds:n[0].divIds}),o=l,s=!1,a=[],v=[],u=0;u<r.length;u++){var g=r[u],c=g.start,h=g.end,f=g.imbalancedBy;if((0===u?a:v).push(e.slice(o.end,c)),t){var x=e.slice(c,h);f>0&&(x+=new Array(f).fill("</div>").join("")),v.push('<div class="qtd-body">'+x+"</div>")}o=r[u]}return 0===r.length?a.push(e):(v.push(e.slice(o.end)),s=!0),{messageAbove:a.join(""),messageBelow:v.join(""),expandable:s}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=arguments[1],n=arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],t=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=r(e,d,i),s=o.messageAbove,a=o.messageBelow,v=o.expandable;return s+(!t&&v?"<div>"+n+"</div>":"")+a}exports.__esModule=!0,exports.DEFAULT_QUOTE_CLASS=void 0,exports.separateQuote=t,exports.divideMessage=r,exports.handleMessageAndQuotedText=o;var s=require("../../platform/logger"),a=e(s),v="[a-zA-Z0-9-_]*",l={start:0,end:0},u=exports.DEFAULT_QUOTE_CLASS="yahoo_quoted";
},{"../../platform/logger":"./platform/logger"}],"./platform/utils/object":[function(require,module,exports){
"use strict";function r(t,e,n){if(!e||!t)throw new Error("object && nestedProp are required arguments");return"string"==typeof e&&(e=e.split(".")),1===e.length?s.call(t,e[0])?t[e[0]]:n:(t=t[e.splice(0,1)[0]],t?r(t,e,n):n)}function t(r){var t,e={};return t="[object Array]"===Object.prototype.toString.call(r)?r:Object.keys(r),t.forEach(function(r){null===r?e.null=null:void 0===r?e.undefined=void 0:e[r]=r.toString()}),e}function e(r,t){for(var e in r)if(r.hasOwnProperty(e)&&(!t.hasOwnProperty(e)||r[e]!==t[e]))return!0;return!1}function n(r){return!r||0===Object.keys(r).length}function o(r,t){if(!r&&!t)return!0;if(!r&&t||r&&!t)return!1;var e=Object.keys(r),n=Object.keys(t);return e.length===n.length&&e.every(function(e){return r[e]===t[e]})}function u(r){return Object.keys(r).map(function(t){return r[t]})}exports.__esModule=!0,exports.getIn=r,exports.mirrorKeys=t,exports.shallowDiff=e,exports.isEmpty=n,exports.shallowEqual=o,exports.values=u;var s=Object.prototype.hasOwnProperty;
},{}],"./platform/utils/path":[function(require,module,exports){
"use strict";function t(t){if("string"!=typeof t)return"";var e=t.match(r);return e?e[0]:""}function e(t,e){void 0===t?t="undefined":"string"!=typeof t&&(t=t.toString());var r=t.split("/").pop();return e&&r.substr(-e.length)===e&&(r=r.substr(0,r.length-e.length)),r}exports.__esModule=!0,exports.extname=t,exports.basename=e;var r=/\.\w*$/;
},{}],"./platform/utils/pgp_parser":[function(require,module,exports){
"use strict";function e(e){return e.indexOf("-----BEGIN PGP")!==-1}function n(e){var n=e.success,t={};if(!n||!n.length)return[];for(var r=0;r<n.length;r++)if(n[r].uids&&n[r].uids.length)for(var s=0;s<n[r].uids.length;s++){var d=n[r].uids[s];t[d]=!0}return Object.keys(t)}function t(e,n,t){for(var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=void 0,a=void 0,o=void 0,u=void 0,l=!1,c=0,G=0,g=new RegExp(s,"g"),p=new RegExp(r,"g");G++<d&&null!==(i=g.exec(e));)l="> "===i[1],u=l?function(e){return e.replace(/^> /gm,"")}:function(e){return e},a={type:i[4],headers:u(i[5]).trim().split(p),body:u(i[6]).replace(p,"\n"),checksum:i[7].trim(),start:i.index+(l?0:i[1].length),end:g.lastIndex-i[8].length,quoted:l,normalized:""},"SIGNATURE"===a.type&&void 0!==i[3]&&(a.signedHeaders=u(i[2]).trim().split(p),a.signedBody=u(i[3]).replace(/\r?\n?$/,"\n").replace(p,"\n"),a.normalized="-----BEGIN PGP SIGNED MESSAGE-----\n"+a.signedHeaders.join("\n")+"\n\n"+a.signedBody),o={start:c,end:a.start},o.start!==o.end&&n(o),a.normalized+="-----BEGIN PGP "+a.type+"-----\n"+a.headers.join("\n")+"\n\n"+a.body+"="+a.checksum+"\n-----END PGP "+a.type+"-----",t(a),c=a.end;o={start:c,end:e.length},o.start!==o.end&&n(o)}exports.__esModule=!0,exports.hasPGPAsciiArmor=e,exports.extractUserIds=n,exports.default=t;var r="(?:[\\t\\xa0 ]?\\r?\\n)+",s="(^|> |[\\t\\xa0 ]?)(?:-----BEGIN PGP SIGNED MESSAGE-----"+r+"((?:\\1[A-Za-z]+: [^\\n]+"+r+")*)(?:\\1"+r+")*([\\s\\S.]*)"+r+"\\1)?-----BEGIN PGP ([^-]+)-----"+r+"((?:\\1[A-Za-z]+:[ ][^\\n]+"+r+")*)(?:\\1"+r+")*((?:\\1[a-zA-Z0-9/+]+=*"+r+")*)(?:\\1=([a-zA-Z0-9/+]+))?"+r+"(?:\\1"+r+")*\\1-----END PGP \\4-----([\\t\\u00a0 ]?(?:$|\\r?\\n))";
},{}],"./platform/utils/route":[function(require,module,exports){
"use strict";function e(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.checkQuery,u=void 0===o||o;if(!e.name||!r.name||e.name!==r.name)return!1;var a=(0,c.isEmpty)(e.params)&&(0,c.isEmpty)(r.params)||(0,c.shallowEqual)(e.params,r.params);return u&&a?(0,c.isEmpty)(e.query)&&(0,c.isEmpty)(r.query)||(0,c.shallowEqual)(e.query,r.query):a}function r(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,v.__isSearchListId)(e)?a(e,r):o(e,r)}function t(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,v.serializeListIdForFolderRoute)(e);return(0,v.__isSearchListId)(e)?{name:F.RouteNames.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:o,groupId:r}),query:t}:{name:F.RouteNames.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:o,groupId:r}),query:t}}function o(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,v.recreateListId)(e,r),o=(0,v.serializeListIdForFolderRoute)(t);return o?{name:F.RouteNames.FOLDER,params:{fid:o}}:null}function u(e,r,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=(0,v.serializeListIdForFolderRoute)(e);return u?{name:F.RouteNames.ATTACHMENT,params:{serializedListId:u,groupId:r,attachmentId:t},query:o}:null}function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,v.recreateListId)(e,r);if((0,v.isContentCardsList)(t))return f(t);var o=(0,v.serializeListIdForRoute)(t);return o?{name:F.RouteNames.SEARCH,params:{query:o}}:null}function i(e){return a((0,v.convertSearchQueryToListId)(e))}function s(){return{name:F.RouteNames.TUTORIAL}}function n(e,r){return e===F.SmartViewTypes.TUTORIAL?s():i((0,I.getSmartViewSearchQuery)(e,r))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:F.RouteNames.SETTINGS,params:e}}function m(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{name:F.RouteNames.NEW_DRAFT,params:{csid:e},query:r}}function l(e){return e.params.csid}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e.query||{}).filter(function(e){return F.FILTER_QUERY_PARAMS.indexOf(e)===-1}).reduce(function(r,t){var o;return R({},r,(o={},o[t]=e.query[t],o))},{})}exports.__esModule=!0,exports.getUnsavedDataFromRoute=exports.buildSponsoredMessageRoute=exports.buildFolderRouteFromFolderId=exports.buildContentCardsSmartViewRoute=void 0;var R=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};exports.routesEqual=e,exports.buildListRouteFromListId=r,exports.buildMessageRouteFromGroupId=t,exports.buildFolderRouteFromListId=o,exports.buildAttachmentRouteFromListId=u,exports.buildSearchRouteFromListId=a,exports.buildSearchRouteFromQuery=i,exports.buildSmartViewRoute=n,exports.buildSettingsRoute=d,exports.buildComposeRouteFromCsid=m,exports.getCsidFromRoute=l,exports.filterQueryParams=p;var c=require("./object"),v=require("./list"),F=require("../mail_constants"),I=require("./smartview"),f=exports.buildContentCardsSmartViewRoute=function e(r){return{name:F.RouteNames.LIST,params:{serializedListId:(0,v.serializeListIdForRoute)(r)}}},S=exports.buildFolderRouteFromFolderId=function e(r){return o((0,v.getListIdFromFolderId)(r))},L=exports.buildSponsoredMessageRoute=function e(r,t){return{name:F.RouteNames.SPONSORED_MESSAGE,params:{fid:(0,v.serializeListIdForFolderRoute)(r),creativeId:t}}},g=exports.getUnsavedDataFromRoute=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.unsavedData;return void 0===t?{}:t};
},{"../mail_constants":"./platform/mail_constants","./list":"./platform/utils/list","./object":"./platform/utils/object","./smartview":"./platform/utils/smartview"}],"./platform/utils/script_loader":[function(require,module,exports){
"use strict";function e(e){return new Promise(function(t,r){var n=document.createElement("script"),a=document.getElementsByTagName("head")[0];n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:(n.onload=function(){return t()},n.onerror=function(){return r(new Error("Failed to load script from "+e))}),n.type="text/javascript",n.setAttribute("data-origin","norrin"),n.setAttribute("data-inserted-time",Date.now()),n.src=e,a.appendChild(n),setTimeout(function(){return a.removeChild(n)},1e3)})}exports.__esModule=!0,exports.loadScript=e;
},{}],"./platform/utils/smartview":[function(require,module,exports){
"use strict";function e(e){return e&&e.types?e.types[0]:""}function r(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={};switch(e){case s.SmartViewTypes.UNREAD:t={keyword:"is:unread",excludefolders:[s.FolderTypes.ARCHIVE],referrer:s.ListReferrer.SMARTVIEW};break;case s.SmartViewTypes.STARRED:t={keyword:"is:starred",referrer:s.ListReferrer.SMARTVIEW};break;case s.SmartViewTypes.PHOTOS:t={listContentType:"IMAGES",referrer:s.ListReferrer.SMARTVIEW};break;case s.SmartViewTypes.DOCUMENTS:t={listContentType:"DOCUMENTS",referrer:s.ListReferrer.SMARTVIEW};break;case s.SmartViewTypes.MAGIC_TRIAGE:t={referrer:s.ListReferrer.SMARTVIEW,listFilter:s.ListFilters.MAGIC_TRIAGE};break;case s.SmartViewTypes.COUPONS:t={listContentType:s.ListContentTypes.COUPON_CARDS,referrer:s.ListReferrer.SMARTVIEW,listFilter:s.ListFilters.SAVED_COUPON_CARDS};break;case s.SmartViewTypes.TRAVEL:t={listContentType:s.ListContentTypes.TRAVEL_CARDS,listFilter:s.ListFilters.TRAVEL_VIEW,referrer:s.ListReferrer.SMARTVIEW}}return Object.assign(t,r)}function t(e){var r=(0,i.getKeywordFromListId)(e),t=(0,i.getListContentTypeFromListId)(e),T=(0,i.getListFilterFromListId)(e);if(r&&r.indexOf(":")!==-1)return r.split(":")[1].toUpperCase();if(t)switch(t){case"IMAGES":return s.SmartViewTypes.PHOTOS;case"DOCUMENTS":return s.SmartViewTypes.DOCUMENTS;case s.ListContentTypes.COUPON_CARDS:return s.SmartViewTypes.COUPONS;case s.ListContentTypes.TRAVEL_CARDS:return s.SmartViewTypes.TRAVEL}return T===s.ListFilters.MAGIC_TRIAGE?s.SmartViewTypes.MAGIC_TRIAGE:""}exports.__esModule=!0,exports.getSmartViewType=e,exports.getSmartViewSearchQuery=r,exports.getSmartViewNameFromListId=t;var s=require("../mail_constants"),i=require("./list");
},{"../mail_constants":"./platform/mail_constants","./list":"./platform/utils/list"}],"./platform/utils/stream":[function(require,module,exports){
"use strict";exports.__esModule=!0;var r=exports.buildStreamIdFromListIds=function r(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort().join("")},t=exports.buildStreamIdForSideNav=function r(){return"SidebarNavigation"},e=exports.buildStreamIdFromStreamItem=function r(t,e){return t+":"+e};
},{}],"./platform/utils/string":[function(require,module,exports){
"use strict";function u(u){return u.charCodeAt(0)>=1568}function D(D){return D=D.slice(-1),D&&u(D)&&F.test(D)}function t(D){return D=D[0],D&&u(D)&&i.test(D)}function E(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=s(u,D);if(t>0&&t++,t>=0){var E=t+D.length;return n([u.substring(0,t),u.substring(t,E),u.substring(E)])}return[u]}function n(u){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return u.forEach(function(u,n,e){0!==n&&t(u)&&D(e[n-1])&&(e[n-1]=e[n-1]+E,e[n]=E+e[n]),e[n+1]&&D(u)&&t(e[n+1])&&(e[n+1]=E+e[n+1],e[n]=e[n]+E)}),u}function e(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function r(u,D,t){var E="";return u=u||"",D=D||0,t=void 0!==t?t:"...",E=u,u.length>D&&(E=u.substr(0,D-t.length)+t),E}exports.__esModule=!0,exports.segmentText=E,exports.addJoiners=n,exports.escapeRegExp=e,exports.truncateString=r;var A="‍",F=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,i=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/,o=" +",s=function u(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",E=e(t);return D.search(new RegExp("(^"+E+"|"+o+E+")","i"))};
},{}],"./platform/utils/suggestions":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return e.forEach(function(e){Object.keys(e.entities).forEach(function(t){var i=e.entities[t],r=e.intent===a.SuggestionIntent.ALL;n.push(Object.assign({},i,r?{name:(0,g.default)(i.name)}:null))})}),n}function t(e){return{emailIds:e.emails,imageUrl:"https://proddata.xobni.yahoo.com/v4/contacts/"+e.xobniId+"/photo",name:e.name,serviceId:e.xobniId,sourceService:"XOBNI",type:a.SuggestionType.PERSON}}function i(){return n((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return e.intent===a.SuggestionIntent.PEOPLE}).filter(function(e){var n=e.entities;return Object.keys(n).forEach(function(e){var t=n[e];t.type!==a.SuggestionType.PERSON||t.emailIds&&0!==t.emailIds.length||delete n[e]}),Boolean(Object.keys(n).length)}))}function r(e){return n(e.filter(function(e){return e.intent===a.SuggestionIntent.ALL}).filter(function(e){var n=e.entities;return Object.keys(n).forEach(function(e){var t=n[e];t.type!==a.SuggestionType.KEYWORD||t.name||delete n[e]}),Boolean(Object.keys(n).length)}))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],i=new RegExp("(^|\\s)"+(0,l.escapeRegExp)(n),"gi");return e.filter(function(e){var t=e.name,r=void 0===t?"":t,o=e.backyard,u=void 0===o?"":o,s=e.emails,c=void 0===s?[]:s,a=r+" "+u+" "+c.join(" ");return n&&a.search(i)!==-1}).map(function(e){return t(e)}).filter(function(e,n,t){return t.findIndex(function(n){return n.serviceId===e.serviceId})===n})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.map(function(e){var t=n.find(function(n){return n.serviceId===e.serviceId});return"undefined"!=typeof t?t:e}),i=n.filter(function(e){return!t.find(function(n){return n.serviceId===e.serviceId})});return[].concat(t,i)}function s(e){var n=[];return e.forEach(function(e){e.emailIds.forEach(function(t){var i=JSON.parse(JSON.stringify(e));i.emailIds=[t],n.push(i)})}),n}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments[2],s=i(e),c=r(e).slice(0,d),a=o(n,t),l=u(a,s),f=[];return l.length&&(f=l.slice(0,Math.max(3,d-c.length))),f=f.concat(c.splice(0,Math.max(3,d-f.length))),f.slice(0,d)}exports.__esModule=!0,exports.filterPeopleSuggestions=i,exports.filterTextualSuggestions=r,exports.filterImportantsSuggestions=o,exports.reconcileSuggestions=u,exports.flattenPeopleSuggestionsByEmailId=s,exports.getReconciledSuggestions=c;var a=require("../../platform/mail_constants"),l=require("../../platform/utils/string"),f=require("lodash/unescape"),g=e(f),d=6;
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/string":"./platform/utils/string","lodash/unescape":"./node_modules/lodash/unescape.js"}],384:[function(require,module,exports){
"use strict";function e(e,o,n,l){var u=(0,i.getBootcampApiQueryParams)(e),a=u.name,c=u.keyword,d=u.accountIds,s=void 0===d?[]:d,f=u.folders,m=void 0===f?[]:f,g=(0,i.isPeopleSearch)(e)?a:c,p=void 0;if(!o.length||!n.length)return g;if(m.length){var v=(0,t.flattenFolderTree)(n),h=v[m[0]],F=h.accountId,P=o.find(function(e){return e.id===F}),q=(0,r.getProviderFromAccount)(P);p=1===o.length?h.name:(P.description||l[q])+"/"+h.name}else if(1===s.length){var A=o.find(function(e){return e.id===s[0]}),I=(0,r.getProviderFromAccount)(A);p=1===o.length?p:A.description||l[I]}return p?g?p+" "+g:p:g}exports.__esModule=!0,exports.getSearchTabTitleFromListId=e;var r=require("../../platform/utils/account"),t=require("../../platform/utils/folder"),i=require("../../platform/utils/list");
},{"../../platform/utils/account":"./platform/utils/account","../../platform/utils/folder":"./platform/utils/folder","../../platform/utils/list":"./platform/utils/list"}],"./platform/utils/timezone":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){var t=i.get(e);return void 0===t&&(t=(0,a.getTimezoneOffset)(new Date,e),i.set(e,t)),t}function r(e,t){return(0,a.formatDate)(new Date(Date.UTC(2016,0,1)+6e4*Math.abs(e)),t,{hour12:!1,timeZone:"UTC",hour:"numeric",minute:"numeric"})}function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,n=(0,a.formatDate)(r,t,{timeZone:e,year:"numeric"});return(0,a.formatDate)(r,t,{timeZone:e,year:"numeric",timeZoneName:"long"}).replace(n,"").replace(/,/g,"").trim()}exports.__esModule=!0,exports.getCurrentOffset=t,exports.getFormattedOffset=r,exports.getTimezoneLongName=n;var a=require("./date"),o=require("lru-cache"),u=e(o),i=new u.default({max:500,maxAge:3e5});
},{"./date":"./platform/utils/date","lru-cache":"./node_modules/lru-cache/index.js"}],"./platform/utils/xss_filters":[function(require,module,exports){
"use strict";function t(t,n,e){return void 0===t?"undefined":null===t?"null":t.toString().replace(n,e)}function n(n){return t(n,r,"&lt;")}function e(n){return t(n,u,"&quot;")}exports.__esModule=!0,exports.inHTMLData=n,exports.inDoubleQuotedAttr=e;var r=/</g,u=/"/g;
},{}],"./platform/utoa/browser":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=function(e){return btoa(unescape(encodeURIComponent(e)))},module.exports=exports.default;
},{}],385:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=require("../http_transport"),r=e(n),i=require("../mail_constants"),o=require("./logger"),a=e(o),s=i.YCPI_PATH_PREFIX+"/video_api",l=3e3,u=function(){function e(n){t(this,e),this.lang=n.locale,this.region=n.region}return e.prototype.request=function e(t){var i={region:this.region,lang:this.lang,dev_type:"desktop",site:"mail",sort_by:"recent",channels:t.channel_alias,type:t.type,image_sizes:"175x219"},o=s+"/getVideos",u=new r.default(n.HTTP_METHODS.GET,o,{timeout:l});u.setHeader("Accept","application/json");var c=a.default.feature("video_api_client"),p=u.send(i);return p.then(c.logSuccessAndLatency,c.logFailure),p},e}();exports.default=u,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../mail_constants":"./platform/mail_constants","./logger":386}],386:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/video_client"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],"./platform/web_storage":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){if("undefined"!=typeof Storage&&"string"==typeof e)return localStorage.getItem(e)}function o(e,t){if("undefined"!=typeof Storage){(0,a.default)("string"==typeof e,"key is not a string");try{localStorage.setItem(e,t)}catch(e){}}}exports.__esModule=!0,exports.readFromLocalStorage=t,exports.writeToLocalStorage=o;var r=require("../invariant"),a=e(r);
},{"../invariant":"./platform/invariant"}],387:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t){t||(t=["id"]),this.cacheableFields=this.toArray(t),this.createDb()}exports.__esModule=!0;var r=require("lodash/uniq"),i=t(r),n=require("./trie"),o=t(n);e.prototype={createDb:function t(){this.db=new o.default},add:function t(e){return this.toArray(e).forEach(function(t){this.cacheableFields.forEach(function(e){this.db.insert(this.normalizeKey(t[e]),t)},this)},this),this},get:function t(e){return(0,i.default)(this.db.find(this.normalizeKey(e)))},normalizeKey:function t(e){return e?(e+"").toLowerCase():""},toArray:function t(e){return Array.isArray(e)?e:[e]}},exports.default=e,module.exports=exports.default;
},{"./trie":393,"lodash/uniq":"./node_modules/lodash/uniq.js"}],388:[function(require,module,exports){
"use strict";function t(){e.apply(this,arguments),this.instanceOptions=Object.assign({},{cacheableFields:["name","email"]},this.instanceOptions),this._createCaches()}var e=require("./client"),i=require("./bloodhound");t.prototype=Object.create(e.prototype),t.prototype.search=function(t,i){var c=this,n=t.query;if(t.recipientList&&t.recipientList.length&&(n+="|"+t.recipientList.sort().join(",")),this._history[n])return i(null,{contacts:this._history[n]});var s=e.prototype.search,o=this._db.get(n),r=o&&o.length;r&&(o=o.slice(0,Math.ceil(t.limit/2)),i(null,this.normalizeResponse({contacts:o}))),s.call(this,t).then(function(t){r&&(t.contacts=c.uniqueBy("email",o,t.contacts)),i(null,t),c._db.add(t.contacts),c._history[n]=t.contacts}).catch(i)},t.prototype._createCaches=function(){this._history=Object.create(null),this._db=new i(this.instanceOptions.cacheableFields)},t.prototype.uniqueBy=function(t){var e=Array.prototype.slice.call(arguments,1),i=Object.create(null),c;return e.reduce(function(e,n){return n.forEach(function(n){c=n[t],c&&!i[c]&&(i[c]=n,e.push(n))}),e},[])},module.exports=t;
},{"./bloodhound":387,"./client":389}],389:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.loginHash)throw new Error("Xobni `loginHash` is a required option");this.ymreqidGenerator=new a.default(t.loginHash,u.YMREQ_CLIENT_ID,u.SESSION_ID),this.crumb=t.crumb,this.wssid=t.wssid,this.httpRetry=t.httpRetry,this.instanceOptions=t}exports.__esModule=!0;var i=require("./logger"),n=t(i),r=require("../http_transport"),s=t(r),o=require("../ymreqid"),a=t(o),u=require("../mail_constants"),c=require("../invariant"),p=t(c),l=require("./mapper"),d=t(l);e.prototype.transport=function(t,e){e||(e=r.HTTP_METHODS.GET);var i=new s.default(e,t,{httpRetry:this.httpRetry});return i.setHeader("Accept","application/json"),i.withCredentials=!0,i},e.prototype.getRequestId=function(){return this.ymreqidGenerator.generate()},e.prototype.getSearchQueries=function(t){return t=Object.assign({query:"",includeLists:!0,includeTypes:"smtp",contextFrom:"",recipientList:[],identifier:"",limit:6},t),{q:t.query,i_l:t.includeLists,i_t:t.includeTypes,c_t:t.recipientList.join(","),c_f:t.contextFrom,k:t.identifier,l:t.limit,ymreqid:this.getRequestId()}},e.prototype.getOptions=function(t){return{host:Object.assign({},this.instanceOptions,t).host}},e.prototype.isUserXobnified=function(t){return t=this.getOptions(t),this.transport(t.host+"/pachinko/v2/xobnified").send({ymreqid:this.getRequestId()}).then(Boolean.bind(null,!0),Boolean.bind(null,!1))},e.prototype.normalizeResponse=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&"undefined"!=typeof t[i]&&(e[i]=t[i]);return e},e.prototype.normalizeImportantContactsResponse=function(t){return(t.endpoint_info_list||[]).map(function(t){var e=t.endpoint?[t.endpoint]:[],i=e.filter(function(t){return/^smtp:(\S+)/.test(t)}).map(function(t){return t.match(/^smtp:(\S+)/)[1]});return{emails:i,name:t.c_name,xobniId:t.c_id,id:i[0]}})},e.prototype.setMailboxParams=function(t){this.getMailboxParams=t},e.prototype.request=function(t,e){return this.transport(t).send(Object.assign(e,this.getMailboxParams())).then(function(t){return t.body})},e.prototype.search=function(t,e){var i=this;1===arguments.length&&(e=t,t={}),t=this.getOptions(t);var r=this.getSearchQueries(e),s=n.default.feature(u.ApiClientLoggerNames.XobniClient,{apiName:"search",ymreqid:r.ymreqid,crumb:this.crumb}),o=this.request(t.host+"/v4/endpoints/s",r).then(function(t){return i.normalizeResponse({identifier:t.k,contacts:t.r.map(function(t){return"LIST"===t.i?{id:t.n+t.ct,email:t.n+t.ct,name:t.n,list:t.es.map(function(t){return{id:t.e,email:t.e,name:t.n}})}:{id:t.c,email:t.e,name:t.n||t.nd||"",filteredResults:{fullName:t.f&&(t.f.FN||t.f.ND)||[],email:t.f&&t.f.E||[]}}})})});return o.then(s.logSuccessAndLatency,s.logFailure),o},e.prototype.importantContacts=function(t){var e=this;if(!t)return Promise.resolve([]);var i={include_types:"smtp",context_from:t,max_count:100,ymreqid:this.getRequestId()},r=n.default.feature(u.ApiClientLoggerNames.XobniClient,{apiName:"search",ymreqid:i.ymreqid,crumb:this.crumb}),s=this.request(this.instanceOptions.host+"/v4/endpoints/important",i).then(function(t){return e.normalizeImportantContactsResponse(t)});return s.then(r.logSuccessAndLatency,r.logFailure),s},e.prototype.contactDetails=function(t){var e=t.email,i=t.isCompose;if(e){var r=n.default.feature(u.ApiClientLoggerNames.XobniClient,{apiName:"search"});(0,p.default)(this.instanceOptions.host,"host is undefined");var s="smtp:"+e,o=this.request(this.instanceOptions.host+"/v4/contacts/by/ep",{ep:s,is_composing:i,enable_tmp:!0}).then(function(t){return(0,d.default)(Object.assign({ep:s},t))});return o.then(r.logSuccessAndLatency,r.logFailure),o}},e.prototype.formatted=function(t,e){var i=this.getSearchQueries(t),r=n.default.feature(u.ApiClientLoggerNames.XobniClient,{apiName:"search"});(0,p.default)(this.instanceOptions.host,"host is undefined");var s=this.request(this.instanceOptions.host+"/v4/util/credentials/formatted",i).then(function(t){return(0,l.formattedStatusMapper)(t,e)});return s.then(r.logSuccessAndLatency,r.logFailure),s},e.prototype.contactsWithGroupName=function(){var t={format:"json",view:"compact",count:7e3,ymreqid:this.getRequestId(),custId:"ymail",wssid:this.wssid},e=n.default.feature("xobni_client_call",{apiName:"contactsWithGroupName",ymreqid:t.ymreqid}),i="https://data.mail.yahoo.com/classicab/v2/contacts",r=this.request(i,t).then(function(t){return(0,l.formatGroupContactsToXobni)(t.contacts)});return r.then(e.logSuccessAndLatency,e.logFailure),r},e.prototype.getMagicTriageMessages=function(t){var e=t.url,i={format:"json",ymreqid:this.getRequestId(),custId:"ymail",wssid:this.wssid,url:e},r=n.default.feature("xobni_client_call",{apiName:"getMagicTriageMessages",ymreqid:i.ymreqid}),s=e,o=this.request(s,i);return o.then(r.logSuccessAndLatency,r.logFailure),o},exports.default=e,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../invariant":"./platform/invariant","../mail_constants":"./platform/mail_constants","../ymreqid":"./platform/ymreqid","./logger":391,"./mapper":392}],390:[function(require,module,exports){
"use strict";module.exports=require("./cacheable_client");
},{"./cacheable_client":388}],391:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/xobni_client"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],392:[function(require,module,exports){
"use strict";function t(t){var e=t.ep,r=t.xobniId;return{xobniId:void 0===r?"":r,emails:[e].filter(function(t){return/^smtp:(\S+)/.test(t)}).map(function(t){return t.match(/^smtp:(\S+)/)[1]}),name:"",phone:"",id:""}}function e(e){var r=e.ep,n=e.contacts_info,i=e.contacts_by_ep,a=e.relationshipHistory,o=["twitter","facebook","linkedin","flickr"];if(!i||!i[r])return t({ep:r});var c=i[r],u=c[0];if(!n||!n[u])return t({ep:r,xobniId:u});var s=n[u],p=s.name,f=s.role,d=void 0===f?{}:f,m=s.attributes,l=s.endpoints,v=d.position,y=void 0===v?"":v,h=d.company,S=void 0===h?"":h,_=l.find(function(t){var e=t.ep;return/^tel:(\+|)\d+/.test(e)}),b=m.filter(function(t){return"link"===t.key}),g=l.filter(function(t){var e=t.ep;return/^smtp:(\S+)/.test(e)}).map(function(t){return t.ep.match(/^smtp:(\S+)/)[1]}),A=l.filter(function(t){var e=t.ep;return/^smtp:(\S+)/.test(e)}).map(function(t){var e=t.ep,r=t.type;return{address:t.display||e.match(/^smtp:(\S+)/)[1],type:r}}),k=l.filter(function(t){var e=t.ep;return/^tel:(\+|)\d+/.test(e)}).map(function(t){var e=t.ep,r=t.type;return{number:t.display||e.match(/^tel:(\S+)/)[1],type:r}}),x=(m.find(function(t){var e=t.key,r=t.source;return"user_id"===e&&"corpdir"===r})||{}).value,E={xobniId:u,emails:g,id:g[0],name:p?p.name:"",phone:_?_.display:"",position:y,company:S,emailsWithType:A,phonesWithType:k,backyard:x,relationshipHistory:a};return o.forEach(function(t){var e=b.find(function(e){return e.source===t});e&&(E[t]=e.value)}),E}function r(t,e){var r=t.results;return Object.keys(e).reduce(function(t,n){var i=e[n],a=r[i];return a&&(t[n]={spid:i,connected:!a.is_expired}),t},{})}function n(t){var e=t.filter(function(t){return"undefined"!=typeof t.emails}),r=a(e),n={};return e.forEach(function(t){var e=t.categories,a=t.emails,c=t.name,u=[o.ALL_CONTACTS_KEY];Array.isArray(e)&&e.forEach(function(t){var e=t.id.toString();r.hasOwnProperty(e)&&u.push(e)});var s=a.map(function(t){return t.ep});a.forEach(function(t){var e=t.ep;n[e]={id:e,categories:u,emails:s,name:i(c)},u.forEach(function(t){return r[t].contactIds.push(e)})})}),{contacts:n,categoryIdToGroupNameAndContacts:r}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.givenName,r=t.familyName;return((e||"")+" "+(r||"")).trim()}function a(t){var e,r=(e={},e[o.ALL_CONTACTS_KEY]={categoryName:"All Contacts",contactIds:[]},e);return t.forEach(function(t){var e=t.categories;Array.isArray(e)&&e.forEach(function(t){!r.hasOwnProperty(t.id.toString())&&t.name&&(r[t.id]={categoryName:t.name,contactIds:[]})})}),r}exports.__esModule=!0,exports.default=e,exports.formattedStatusMapper=r,exports.formatGroupContactsToXobni=n;var o=require("../../molecules/contact_picker/constants");
},{"../../molecules/contact_picker/constants":"./molecules/contact_picker/constants"}],393:[function(require,module,exports){
"use strict";function n(n){this.key=n,this.value=null,this.descendantCount=0,this.children={}}n.prototype={insert:function n(t,e){if(!arguments.length)throw new Error("Invalid number of arguments, requires key and value");this._insert(t,e)},_insert:function t(e,i,r){var h=arguments.length;if(r===e.length)return void(null===this.value&&(this.value=i));h<3&&(r=0),this.descendantCount=this.descendantCount+1;var s=e[r];void 0===this.children[s]&&(this.children[s]=new n(s)),this.children[s]._insert(e,i,r+1)},find:function n(t){return!t||t&&0===t.length?[]:this._find(t)},_find:function n(t,e){void 0===e&&(e=0);var i=this.children[t[e]];return i?e===t.length-1?i._getChildrenValues(t):i._find(t,e+1):[]},_getChildrenValues:function n(t){var e=[],i;t||(t=""),this.value&&e.push(this.value);for(var r in this.children)this.children.hasOwnProperty(r)&&(i=this.children[r],e=e.concat(i._getChildrenValues(t+r)));return e}},module.exports=n;
},{}],"./platform/ymreqid":[function(require,module,exports){
"use strict";function t(t,i,n,o,r){if(!t)throw new Error("guidMd5 is required argument");if("number"!=typeof i&&"number"!=typeof n)throw new Error("clientId and sessionId are required and have to be numeric values");this.state={guiMd5Section:e.toNBits(e.hexToBin(t),64),clientIdSection:e.toNBits(i.toString(2),8),sessionSection:e.toNBits(n.toString(2),16),versionSection:e.toNBits(1..toString(2),8),randomClientSection:e.toNBits((o||Math.floor(256*Math.random())).toString(2),8),debugSection:e.toNBits((r||0).toString(2),8)},this._seq=0}var e=require("../utils").binstring;t.prototype.generate=function(){var t=e.toNBits(this._getNextSeq().toString(2),16),i=[this.state.guiMd5Section,this.state.clientIdSection,this.state.sessionSection,t,this.state.versionSection,this.state.randomClientSection,this.state.debugSection].join("");return this._formatBinary(i)},t.prototype._formatBinary=function(t){var i=[8,4,4,4,12],n=e.binToHex(t),o=0;return i.map(function(t){var e=n.substr(o,t);return o+=t,e}).join("-")},t.prototype._getNextSeq=function(){return this._seq>65535&&(this._seq=0),this._seq++},t.getSeq=function(t){var e=t.substr(26,4);return parseInt(e,16)},module.exports=t;
},{"../utils":"./platform/utils"}],394:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=require("../http_transport"),r=e(n),a=require("./constants"),o=require("../invariant"),u=e(o),i=require("./logger"),l=e(i),s=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.locale,a=void 0===r?"en-US":r;t(this,e),this.locale=a}return e.prototype.request=function e(t,n){(0,u.default)("cities"===t,"Unknown apiName "+t);var o=a.YQL_ENDPOINT+"/"+t,i=l.default.feature("yql_client_call",{apiName:t}),s=new r.default("GET",o).send(n);return s.then(i.logSuccessAndLatency,i.logFailure),s.then(function(e){return JSON.parse(e.text)})},e}();exports.default=s,module.exports=exports.default;
},{"../http_transport":"./platform/http_transport","../invariant":"./platform/invariant","./constants":395,"./logger":396}],395:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.CITIES_QUERY=exports.YQL_BASE_URL=exports.YQL_ENDPOINT=void 0;var e=require("../mail_constants"),o=exports.YQL_ENDPOINT=e.YCPI_PATH_PREFIX+"/yql",t=exports.YQL_BASE_URL="https://query.yahooapis.com/v1/public/yql",s=exports.CITIES_QUERY="select * from geo.places where text=@input and placeTypeName.code=7 and lang=@locale";
},{"../mail_constants":"./platform/mail_constants"}],396:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var r=require("norrin-logger"),t=e(r);exports.default=t.default.create("norrin/yql_client"),module.exports=exports.default;
},{"norrin-logger":"./node_modules/norrin-logger/index.js"}],397:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var n=require("react"),s=t(n),i=require("react-dom"),a=t(i),l=require("../platform/utils/object"),u=require("../platform/utils/generic"),c=require("../platform/mail_constants"),p=require("../molecules/notification/toast_center"),f=t(p),d=require("./styles/notification_provider"),h=t(d),m=require("react-atomic-css/css"),T=t(m);exports.default=function(t,i,p){var d=p.appName,m=p.toastWrapper,y=function(n){function p(t){e(this,p);var r=o(this,n.call(this,t));return r.toast=r.toast.bind(r),r.closeToast=r.closeToast.bind(r),r.toastContainerNodes={alert:null,status:null,alertdialog:null},r}return r(p,n),p.prototype.getChildContext=function t(){return{toast:this.toast}},p.prototype.toast=function t(e){if((0,u.isBrowser)()&&this.toastContainerNodes[e.role]&&!(this.lastToast&&(0,l.getIn)(e,"priority",c.NotificationPriorities.LOW)<(0,l.getIn)(this.lastToast,"priority",c.NotificationPriorities.LOW))){this.closeToast(),this.lastToast=e,a.default.unstable_renderSubtreeIntoContainer(this,s.default.createElement(m,{toast:e,onClose:this.closeToast,appName:d}),this.toastContainerNodes[e.role]);var o=this.context.config.notificationTTL||0;o>=0&&!e.requireInteraction&&(this.toastTimeoutHandler=setTimeout(this.closeToast,o))}},p.prototype.closeToast=function t(){this.lastToast&&(this.toastContainerNodes[this.lastToast.role]&&a.default.unmountComponentAtNode(this.toastContainerNodes[this.lastToast.role]),delete this.lastToast),this.toastTimeoutHandler&&clearTimeout(this.toastTimeoutHandler)},p.prototype.componentDidMount=function t(){var e=this,o=document.getElementById("app");Object.keys(this.toastContainerNodes).forEach(function(t){var r=document.createElement("div");r.setAttribute("role",t),o.appendChild(r),e.toastContainerNodes[t]=r})},p.prototype.render=function e(){var o=(0,T.default)(h.default);return s.default.createElement("div",{className:o.provider},s.default.createElement(t,this.props),s.default.createElement(f.default,{TOAST_MAP:i}))},p}(n.Component);return y.contextTypes={config:n.PropTypes.object},y.childContextTypes={toast:n.PropTypes.func},y},module.exports=exports.default;
},{"../molecules/notification/toast_center":300,"../platform/mail_constants":"./platform/mail_constants","../platform/utils/generic":"./platform/utils/generic","../platform/utils/object":"./platform/utils/object","./styles/notification_provider":398,"react":"./node_modules/react/react.js","react-atomic-css/css":"./node_modules/react-atomic-css/css.js","react-dom":"./node_modules/react-dom/index.js"}],398:[function(require,module,exports){
module.exports={className:{default:{provider:"H_6D6F"}},_key:"2suuok"};
},{}],"./reducers_selectors/accounts":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0,exports.selectors=void 0;var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},n=require("redux"),c=require("../platform/react_action_constants"),i=require("../platform/mail_constants"),r=require("../platform/utils/object"),E=require("lodash/omit"),a=t(E),u=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:return r.id}return e},A=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return r.email}return e},s=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return r.description||""}return e},o=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],i=n.type,r=n.account,t=n.status;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return r.status;case c.mail.ACCOUNT_DELETE_REQUESTED:return e===t?e:t}return e},_=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return r.sendingName||""}return e},C=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],t=n.type,i=n.account;switch(t){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return i.type||""}return e},l=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return!!r.isPrimary}return e},T=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return!!r.isSelected}return e},D=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1],r=n.type,E=n.account,a=n.isSending,t=void 0!==a&&a,u=n.accountType;switch(r){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:return E.isSending;case c.mail.DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED:return[i.AccountTypes.IMAPIN].indexOf(u)!==-1?e:!!t}return e},S=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.SIGNATURE_STATUS_CHANGE_REQUESTED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return!!r.signatureActive}return e},I=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.SIGNATURE_TEXT_CHANGE_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return r.signature||""}return e},d=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return r.replyToAddress||""}return e},m=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:return r.isPrimary;default:return e}},U=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:return r.accountVerified}return e},f=function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(arguments[1].type){case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_ADD_FINISHED:return!0;case c.mail.ACCOUNT_ADD_FAILED:return!1;default:return e}},N=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_ADD_SUCCEEDED:return r.subscriptionId||e;default:return e}},y=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=n.type,r=n.account;switch(i){case c.mail.INITIAL_STATE:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:return r.link||{};default:return e}},L=(0,n.combineReducers)({id:u,email:A,description:s,isPrimary:l,isSelected:T,isSending:D,signatureActive:S,signature:I,sendingName:_,status:o,type:C,replyToAddress:d,isActive:m,accountVerified:U,isSynced:f,subscriptionId:N,link:y}),p=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];switch(r.type){case c.mail.INITIAL_STATE:var E=r.accounts,u=void 0===E?[]:E;return u.length?u.reduce(function(t,n){return t[n.id]=L({},e({},r,{account:n})),t},{}):n;case c.mail.DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED:var A=r.updatedAccount;return A?Object.keys(n).reduce(function(t,c){var i;return e({},t,(i={},i[c]=L(n[c],e({},r,{account:A,isSending:c===A.id,accountType:n[c].type})),i))},{}):n;case c.mail.SIGNATURE_TEXT_CHANGE_SUCCEEDED:case c.mail.SIGNATURE_STATUS_CHANGE_REQUESTED:case c.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED:case c.mail.ACCOUNT_ADD_SUCCEEDED:case c.mail.ACCOUNT_ADD_FAILED:var s,o=r.updatedAccount;return o?e({},n,(s={},s[o.id]=L(n[o.id],e({},r,{account:o})),s)):n;case c.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:var _,C=r.newAccount;return C?e({},n,(_={},_[C.id]=L(n[C.id],e({},r,{account:C})),_)):n;case c.mail.ACCOUNT_DELETE_SUCCEEDED:var l=r.updatedAccount;return l?(0,a.default)(n,[l.id]):n;case c.mail.ACCOUNT_ADD_FINISHED:return Object.keys(n).reduce(function(t,c){var i;return e({},t,(i={},i[c]=L(n[c],r),i))},{});case c.mail.ACCOUNT_DELETE_REQUESTED:var T,D=r.updatedAccount;return D?D.type===i.AccountTypes.DEA?(0,a.default)(n,[D.id]):e({},n,(T={},T[D.id]=L(n[D.id],e({},r,{account:D,status:i.AccountStatus.DELETE_IN_PROGRESS})),T)):n;default:return n}};exports.default=p;var v=exports.selectors=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={getAccountById:function t(n){return e[n]},getActiveAccountId:function t(){return Object.keys(e).find(function(t){return e[t].isActive})},getSelectedAccountId:function t(){return Object.keys(e).find(function(t){return e[t].isSelected})},getPrimaryAccountId:function t(){return Object.keys(e).find(function(t){return e[t].isPrimary})},isMyEmailAddress:function t(n){return(0,r.values)(e).some(function(t){return t.email===n})},hasMultipleRootAccounts:function t(){return Object.keys(e).map(function(t){return e[t]}).filter(function(t){return i.ROOT_ACCOUNT_TYPE.indexOf(t.type)>-1}).length>1},isSignatureActive:function t(n){return Boolean(e[n].signatureActive)},getSignatureByAccountId:function t(n){return e[n].signatureActive?e[n].signature:""},isPrimaryAccountEmail:function t(e){var c=n.getAccountIdByAccountEmail(e);return i.ROOT_ACCOUNT_TYPE.indexOf(n.getAccountTypeByAccountId(c))>-1},getSignatureByAccountEmail:function t(e){return n.isPrimaryAccountEmail(e)?n.getSignatureByAccountId(n.getAccountIdByAccountEmail(e)):n.getSignatureByAccountId(n.getPrimaryAccountId())},getAccountDescriptionByAccountId:function t(n){return Object.keys(e).map(function(t){return e[t]}).find(function(t){return t.id===n}).description},getAccountTypeByAccountId:function t(n){return Object.keys(e).map(function(t){return e[t]}).find(function(t){return t.id===n}).type},getAccountEmailByAccountId:function t(n){return Object.keys(e).map(function(t){return e[t]}).find(function(t){return t.id===n}).email},getAccountNameByAccountId:function t(n){return Object.keys(e).map(function(t){return e[t]}).find(function(t){return t.id===n}).sendingName},isSelectedAccountId:function t(n){return Object.keys(e).map(function(t){return e[t]}).find(function(t){return t.id===n}).isSelected},getMyAddresses:function t(){return Object.keys(e).map(function(t){return e[t].email})},getAccountIdByAccountEmail:function t(n){return(0,r.values)(e).find(function(t){return t.email===n}).id},getAliasAccounts:function t(){return Object.keys(e).map(function(t){return e[t]}).filter(function(t){return t.type===i.AccountTypes.ALIAS})},getAccountIds:function t(){return Object.keys(e).map(function(t){return e[t].id})},getAccountSubscriptionIds:function t(){return Object.keys(e).map(function(t){return e[t]}).map(function(t){return t.subscriptionId})}};return n};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/object":"./platform/utils/object","lodash/omit":"./node_modules/lodash/omit.js","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/address_book":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e=require("../platform/react_action_constants"),r=require("redux"),n=require("../platform/mail_constants"),o=require("../platform/utils/string"),a=function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];switch(o.type){case e.mail.CONTACT_GROUPS_RECEIVED:return t({},n,o.response.contacts)}return n},c=function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];switch(o.type){case e.mail.CONTACT_GROUPS_RECEIVED:return t({},n,o.response.categoryIdToGroupNameAndContacts)}return n},s=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.RecordStates.DOES_NOT_EXIST;switch(arguments[1].type){case e.mail.CONTACT_GROUPS_REQUESTED:return n.RecordStates.LOADING;case e.mail.CONTACT_GROUPS_RECEIVED:return n.RecordStates.LOADED;case e.mail.CONTACT_GROUPS_FAILED:return n.RecordStates.ERROR}return r},i=function t(e,r){var n=r.query,a=void 0===n?"":n,c=r.contactIds,s=void 0===c?[]:c,i=new RegExp("\\b"+(0,o.escapeRegExp)(a.trim())+"\\w*","i");return s.filter(function(t){var r=e[t],n=r.id,o=r.name;return i.test(o+" "+n)})},u=(0,r.combineReducers)({contacts:a,contactCategories:c,contactCategoriesStatus:s});exports.default=u;var C=exports.selectors=function t(e){return{getContacts:function t(){return e.contacts},getContactCategories:function t(){return e.contactCategories},getContactCategoriesStatus:function t(){return e.contactCategoriesStatus},filterContactIdsBy:function t(r){var n=r.query,o=r.contactIds;return i(e.contacts,{query:n,contactIds:o})},doesCategoryIdExist:function t(r){return e.contactCategories.hasOwnProperty(r)},getContactIdsByCategoryId:function t(r){return e.contactCategories[r].contactIds},getContactName:function t(r){return e.contacts[r].name}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/string":"./platform/utils/string","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/ads":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=exports.AD_ROTATION_ACTIONS=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var E in a)Object.prototype.hasOwnProperty.call(a,E)&&(e[E]=a[E])}return e},t=require("../platform/react_action_constants"),a=require("redux"),E=require("../platform/utils/object"),i=require("../platform/mail_constants"),n=exports.AD_ROTATION_ACTIONS=(0,E.mirrorKeys)([t.mail.WINDOW_RESIZED,t.mail.AD_FEEDBACK_CLOSED,t.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED,t.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED,t.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED,t.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,t.mail.MESSAGE_CARD_EXPANSION_CHANGED,t.mail.V3_PREVIEW_MESSAGE_REQUESTED,t.mail.PREVIEW_MESSAGE_REQUESTED,t.mail.CHANGE_FOLDER_REQUESTED,t.mail.ITEM_LIST_PAGE_SCROLLED,t.mail.MESSAGES_MOVE_REQUESTED,t.mail.MESSAGES_ARCHIVE_REQUESTED,t.mail.MESSAGES_RESTORE_REQUESTED,t.mail.MESSAGES_DELETE_REQUESTED,t.mail.MESSAGES_MARK_SPAM_REQUESTED,t.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED,t.mail.SEND,t.mail.V3_MESSAGE_SEND_REQUESTED,t.mail.SEARCH_LIST_ITEMS_REQUESTED,t.mail.MAGIC_TRIAGE_ITEMS_REQUESTED,t.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED,t.mail.MESSAGE_READ_AD_ROTATION_TIMER]),r=i.RouteNames.MESSAGE_FROM_SEARCH_LIST,s=i.RouteNames.MESSAGE_FROM_FOLDER_LIST,_=i.RouteNames.SPONSORED_MESSAGE,S=6e5,o={creativeId:"",pencilAd:{adHeadline:"",adSummary:"",adImg:"",adSource:"",clickUrl:"",creativeId:"",type:"",adFeedbackBeacon:"",rules:{},actionUrls:{}},nativeAd:{contentType:"",url:"",usageType:"",geminiSponsoredAsset:"",actionUrls:{}}},A=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,E=arguments[1];if(n[E.type])return E.actionTimestamp;switch(E.type){case t.mail.APPLICATION_VISIBILITY_DID_CHANGE:if(E.isVisible)return E.actionTimestamp;break;case t.mail.OPEN_PAGE_REQUESTED:if(E.route.name!==_)return E.actionTimestamp}return a},c=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",E=arguments[1];switch(E.type){case t.mail.DARLA_ADS_FAILED:return E.error}return a},m=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spaceId:"",positions:[]},E=arguments[1];switch(E.type){case t.mail.DARLA_ADS_RECEIVED:return{spaceId:E.spaceId,positions:E.positions}}return a},d=(0,a.combineReducers)({ads:m,errorMessage:c}),l=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments[1];switch(i.type){case t.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case t.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case t.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case t.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case t.mail.MESSAGE_CARD_EXPANSION_CHANGED:return i.actionTimestamp;case t.mail.MESSAGE_CARD_FOCUSED:if(i.messageReadAdRotationActive&&(0,E.getIn)(i,"card.composeData",null))return 0;if((!i.messageReadAdRotationActive||i.actionTimestamp>i.messageReadAdRotationTimestamp+i.messageReadAdRotationIdleInterval)&&!(0,E.getIn)(i,"card.composeData",null))return i.actionTimestamp;break;case t.mail.APPLICATION_VISIBILITY_DID_CHANGE:return i.isVisible&&i.messageReadAdRotationActive?i.actionTimestamp:0;case t.mail.OPEN_PAGE_REQUESTED:return i.route.name===r||i.route.name===s?i.actionTimestamp:0}return a},R=function e(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments[1];switch(i.type){case t.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case t.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case t.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case t.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case t.mail.MESSAGE_CARD_EXPANSION_CHANGED:return!0;case t.mail.MESSAGE_CARD_FOCUSED:if(i.messageReadAdRotationActive&&(0,E.getIn)(i,"card.composeData",null))return!1;if((!i.messageReadAdRotationActive||i.actionTimestamp>i.messageReadAdRotationTimestamp+i.messageReadAdRotationIdleInterval)&&!(0,E.getIn)(i,"card.composeData",null))return!0;break;case t.mail.APPLICATION_VISIBILITY_DID_CHANGE:return!(!i.isVisible||!i.messageReadAdRotationActive)||a;case t.mail.OPEN_PAGE_REQUESTED:return i.route.name===r||i.route.name===s}return a},u=(0,a.combineReducers)({timestamp:l,active:R}),D=function e(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case t.mail.AD_FEEDBACK_STARTED:return!0;case t.mail.AD_FEEDBACK_SUBMITTED:return!1}return a},I=function e(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case t.mail.AD_FEEDBACK_STARTED:return!1;case t.mail.AD_FEEDBACK_SUBMITTED:return!0}return a},T=(0,a.combineReducers)({adFeedbackStarted:D,adFeedbackSubmitted:I}),M=function a(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];switch(i.type){case t.mail.INITIAL_STATE:case t.mail.GEMINI_AD_RECEIVED:if(i.geminiAd)return[].concat(E,[e({},i.geminiAd,{timestamp:i.actionTimestamp})]);break;case t.mail.GEMINI_AD_REQUESTED:return E.length>1?E.slice(1).filter(function(e){return i.actionTimestamp-e.timestamp<S}):E.filter(function(e){return i.actionTimestamp-e.timestamp<S})}return E},p=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,E=arguments[1];switch(E.type){case t.mail.GEMINI_AD_RECEIVED:return null;case t.mail.GEMINI_AD_FAILED:return E.error}return a},g=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],E=arguments[1];switch(E.type){case t.mail.GEMINI_AD_REQUESTED:if(E.fallbacks&&!a.length)return E.fallbacks}return a},G=function a(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];switch(r.type){case t.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return e({},n,(i={},i[r.listId]=(0,E.getIn)(r,"response.ADS.WITH_KEYWORD.items.0",null),i))}return n},v=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],E=arguments[1];switch(E.type){case t.mail.OPEN_PAGE_REQUESTED:case t.mail.V3_PREVIEW_MESSAGE_REQUESTED:case t.mail.PREVIEW_MESSAGE_REQUESTED:if(E.geminiCategories&&E.geminiCategories.length)return E.geminiCategories}return a},O=function a(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];switch(r.type){case t.mail.GEMINI_SPONSORED_AD_OPENED:return e({},n,(i={},i[(0,E.getIn)(r,"sponsoredAd.creativeId")]=r.sponsoredAd,i));case t.mail.GEMINI_SPONSORED_ASSET_RECEIVED:var s,_=n[r.creativeId]&&e({},n[r.creativeId].nativeAd,{geminiSponsoredAsset:r.asset});return e({},n,(s={},s[r.creativeId]=e({},n[r.creativeId],{nativeAd:_}),s))}return n};exports.default=(0,a.combineReducers)({adRotationId:A,darla:d,geminiAds:M,geminiError:p,pencilAdFallbacks:g,searchAds:G,adFeedback:T,messageReadAdRotation:u,geminiCategories:v,sponsoredAds:O});var f=exports.selectors=function e(t){var a=t&&(0,E.getIn)(t,"geminiAds.0",o);return{getAdRotationId:function e(){return t.adRotationId},shouldRotateAds:function e(a){var E=a.currentTimestamp,i=a.timeToWaitSinceLastAdCall;return E-t.adRotationId>i||!t.adFeedback.adFeedbackStarted&&t.adFeedback.adFeedbackSubmitted},getGeminiAdData:function e(){return a},getGeminiError:function e(){return t.geminiError},getNativeAdData:function e(){return a.nativeAd},getPencilAdData:function e(E){return t.searchAds[E]?t.searchAds[E].pencilAd:a.pencilAd},getPencilAdFallbacks:function e(){return t.pencilAdFallbacks},getAdFeedbackBeacon:function e(){return a.pencilAd.adFeedbackBeacon},getMessageReadAdRotationTimestamp:function e(){return t.messageReadAdRotation.timestamp},getMessageReadAdRotationActive:function e(){return t.messageReadAdRotation.active},getDarlaAdData:function e(){return t.darla},getGeminiCategories:function e(){return t.geminiCategories},doesSponsoredAdExist:function e(a){return!!t.sponsoredAds[a]},getSponsoredAd:function e(a){return t.sponsoredAds[a]}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/object":"./platform/utils/object","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/alias_suggestions":[function(require,module,exports){
"use strict";function e(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[1];switch(s.type){case E.mail.ALIAS_EMAIL_CREATE_REQUESTED:case E.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:return{};case E.mail.ALIAS_EMAIL_CREATE_FAILED:return s.suggestions?(e={},e[s.email]=s.suggestions,e):t}return t}function t(){var e,t,s,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case E.mail.ALIAS_EMAIL_CREATE_REQUESTED:return e={},e[n.email]=a.RecordStates.LOADING,e;case E.mail.ALIAS_EMAIL_CREATE_SUCCEEDED:return t={},t[n.email]=a.RecordStates.LOADED,t;case E.mail.ALIAS_EMAIL_CREATE_FAILED:return s={},s[n.email]=a.RecordStates.ERROR,s}return r}function s(e){return{getSuggestions:function t(s){return e.suggestions[s]},getStatus:function t(s){return e.status[s]||a.RecordStates.DOES_NOT_EXIST}}}exports.__esModule=!0,exports.selectors=s;var r=require("redux"),E=require("../platform/react_action_constants"),a=require("../platform/mail_constants"),n=(0,r.combineReducers)({suggestions:e,status:t});exports.default=n;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/attachments":[function(require,module,exports){
"use strict";function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],i=a.type,E=a.listData,s=a.message;switch(i){case r.mail.INITIAL_STATE:case r.mail.V3_CHECK_MAIL_RECEIVED:case r.mail.AUTO_CHECK_MAIL_RECEIVED:case r.mail.CHANGE_FOLDER_SUCCEEDED:case r.mail.UNDO_MOVE_SUCCEEDED:case r.mail.MORE_MESSAGES_REQUEST_SUCCESS:case r.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.mail.SEARCH_LIST_ITEMS_RECEIVED:case r.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.mail.V3_MESSAGE_SAVE_SUCCEEDED:case r.mail.MESSAGE_SAVE_SUCCEEDED:var c=s?s.attachments.reduce(function(t,e){var r;return n({},t,(r={},r[e.id]=e,r))},{}):E.attachments;if(!c)return t;var o=e(t,c);return Object.keys(o).length?n({},t,o):t;default:return t}}function e(t,e){return Object.keys(e).reduce(function(n,r){var a=e[r];return t.hasOwnProperty(r)||(n[r]=a),n},{})}exports.__esModule=!0,exports.selectors=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=require("../platform/react_action_constants"),a=require("../platform/mail_constants"),i=require("../platform/utils/object"),E=a.Attachments.Dispositions;exports.default=t;var s=exports.selectors=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getAttachmentById:function t(n){return e[n]},isInlineAttachmentById:function t(n){return e[n].disposition===E.INLINE},isNonInlineAttachmentById:function t(n){return e[n].disposition!==E.INLINE},getConversationId:function t(n){return e[n].conversationId},getTimeStamp:function t(n){return e[n].creationDate},getMessageReferenceByContentId:function t(n){var r=(0,i.values)(e).find(function(t){return t.contentId===n});if(r){var a=r.id,E=r.partId;return{id:a.split(":").slice(0,-1).join(":"),pid:E}}},__getByContentId:function t(n){return(0,i.values)(e).find(function(t){return t.contentId===n})}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/object":"./platform/utils/object"}],"./reducers_selectors/calendar":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t=require("../platform/react_action_constants"),n=require("redux"),i=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.startTime;default:return n}},r=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.endTime;default:return n}},a=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.location;default:return n}},E=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.summary;default:return n}},u=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.isSameDay;default:return n}},s=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.attendees;default:return n}},I=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.videoLink;default:return n}},l=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.response;case t.mail.RESPOND_TO_INVITE_SUCCEEDED:case t.mail.RESPOND_TO_INVITE_FAILED:return i.response;default:return n}},o=(0,n.combineReducers)({startTime:i,endTime:r,location:a,summary:E,isSameDay:u,attendees:s,videoLink:I,response:l}),c=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case t.mail.GET_INVITE_INFO_FAILED:return"ERROR";case t.mail.GET_INVITE_INFO_REQUESTED:return"LOADING";case t.mail.GET_INVITE_INFO_SUCCEEDED:return"READY";default:return n}},_=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1];switch(i.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return i.inviteInfo.uid;default:return n}},v=(0,n.combineReducers)({status:c,uid:_}),d=function n(){var i,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=arguments[1];switch(E.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:return e({},a,(i={},i[E.inviteInfo.uid]=o(a[E.inviteInfo.uid],E),i));case t.mail.RESPOND_TO_INVITE:case t.mail.RESPOND_TO_INVITE_SUCCEEDED:case t.mail.RESPOND_TO_INVITE_FAILED:return e({},a,(r={},r[E.uid]=o(a[E.uid],E),r));default:return a}},T=function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];switch(a.type){case t.mail.GET_INVITE_INFO_SUCCEEDED:case t.mail.GET_INVITE_INFO_FAILED:case t.mail.GET_INVITE_INFO_REQUESTED:return e({},r,(i={},i[a.messageId]=v(r[a.messageId],a),i));default:return r}};exports.default=(0,n.combineReducers)({inviteInfoList:d,messageInviteList:T});var f=exports.selectors=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getInviteUid:function e(n){return t.messageInviteList[n].uid},getInviteStatus:function e(n){return t.messageInviteList[n]&&t.messageInviteList[n].status},getInviteInfo:function e(n){return t.inviteInfoList[n]}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/card_groups":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],n=r.type,s=r.listData;switch(n){case a.mail.COUPONS_LIST_SUCCEEDED:case a.mail.TRAVEL_LIST_SUCCEEDED:var i=s.groupIdToMessageIdsMap;if(!i)return e;var c=Object.keys(i).filter(function(r){return!(0,o.default)(i[r],e[r])}).reduce(function(r,a){var o;return t({},r,(o={},o[a]=u(e[a],{type:n,cardGroup:i[a]}),o))},{});return Object.keys(c).length?t({},e,c):e;default:return e}}exports.__esModule=!0,exports.selectors=void 0;var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},a=require("../platform/react_action_constants"),n=require("lodash/isEqual"),o=e(n),u=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.type,u=t.cardGroup,e=void 0===u?[]:u;switch(n){case a.mail.TRAVEL_LIST_SUCCEEDED:case a.mail.COUPONS_LIST_SUCCEEDED:return(0,o.default)(e,r)?r:e;default:return r}};exports.default=r;var s=exports.selectors=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{doesCardGroupIdExist:function e(t){return!!r[t]},getMessageIdsFromCardGroupId:function e(t){return r[t]}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","lodash/isEqual":"./node_modules/lodash/isEqual.js"}],"./reducers_selectors/card_message_to_schemas":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],s=t.listData,o=t.type;switch(o){case a.mail.COUPONS_LIST_SUCCEEDED:case a.mail.TRAVEL_LIST_SUCCEEDED:if(!s.messageIdToSchemaIdsMap)return e;var u=Object.keys(s.messageIdToSchemaIdsMap).filter(function(t){return!(0,n.default)(e[t],s.messageIdToSchemaIdsMap[t])}).reduce(function(t,a){var n;return r({},t,(n={},n[a]=c(e[a],{type:o,cards:s.messageIdToSchemaIdsMap[a]}),n))},{});return Object.keys(u).length?r({},e,u):e;default:return e}}exports.__esModule=!0,exports.selectors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a=require("../platform/react_action_constants"),s=require("lodash/isEqual"),n=e(s),c=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1],s=r.cards;switch(r.type){case a.mail.COUPONS_LIST_SUCCEEDED:case a.mail.TRAVEL_LIST_SUCCEEDED:return(0,n.default)(s,t)?t:s;default:return t}};exports.default=t;var o=exports.selectors=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getSchemas:function e(r){return t[r]}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","lodash/isEqual":"./node_modules/lodash/isEqual.js"}],"./reducers_selectors/compose_sessions":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.selectors=void 0;var E=Object.assign||function(e){for(var E=1;E<arguments.length;E++){var a=arguments[E];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},a=require("redux"),i=require("../platform/utils/object"),s=require("../platform/react_action_constants"),t=require("../platform/mail_constants/compose"),n=require("../platform/mail_constants"),r=require("lodash/omit"),l=e(r),_=3e4,S=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1];switch(a.type){case s.mail.INITIAL_STATE:case s.mail.UNDO_MOVE_SUCCEEDED:case s.mail.AUTO_CHECK_MAIL_RECEIVED:case s.mail.V3_CHECK_MAIL_RECEIVED:case s.mail.CHANGE_FOLDER_SUCCEEDED:case s.mail.MORE_MESSAGES_REQUEST_SUCCESS:case s.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case s.mail.MESSAGE_SAVE_SUCCEEDED:case s.mail.V3_MESSAGE_SAVE_SUCCEEDED:case s.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_RECEIVED:case s.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case s.mail.GIF_FETCH_SUCCEEDED:case s.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:var i=a.inReplyTo,t=void 0===i?{}:i,n=t.messageReference,r=void 0===n?{}:n;return t.replied&&r.id?r.id:null;case s.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return a.inReplyToMessageId||null;case s.mail.OPEN_PAGE_REQUESTED:return a.isReplyingMessageSubjectEdited?null:E}return E},c=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1];switch(a.type){case s.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return a.inReplyAllToMessageId||null;case s.mail.OPEN_PAGE_REQUESTED:return a.isReplyingMessageSubjectEdited?null:E}return E},o=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1];switch(a.type){case s.mail.INITIAL_STATE:case s.mail.UNDO_MOVE_SUCCEEDED:case s.mail.AUTO_CHECK_MAIL_RECEIVED:case s.mail.V3_CHECK_MAIL_RECEIVED:case s.mail.CHANGE_FOLDER_SUCCEEDED:case s.mail.MORE_MESSAGES_REQUEST_SUCCESS:case s.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case s.mail.MESSAGE_SAVE_SUCCEEDED:case s.mail.V3_MESSAGE_SAVE_SUCCEEDED:case s.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_RECEIVED:case s.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case s.mail.GIF_FETCH_SUCCEEDED:case s.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:var i=a.inReplyTo,t=void 0===i?{}:i,n=t.messageReference,r=void 0===n?{}:n;return t.forwarded&&r.id?r.id:null;case s.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return a.inForwardToMessageId||null;case s.mail.OPEN_PAGE_REQUESTED:return a.isReplyingMessageSubjectEdited?null:E}return E},d=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1];switch(a.type){case s.mail.INITIAL_STATE:case s.mail.UNDO_MOVE_SUCCEEDED:case s.mail.AUTO_CHECK_MAIL_RECEIVED:case s.mail.V3_CHECK_MAIL_RECEIVED:case s.mail.CHANGE_FOLDER_SUCCEEDED:case s.mail.MORE_MESSAGES_REQUEST_SUCCESS:case s.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case s.mail.MESSAGE_SAVE_SUCCEEDED:case s.mail.V3_MESSAGE_SAVE_SUCCEEDED:case s.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_RECEIVED:case s.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case s.mail.GIF_FETCH_SUCCEEDED:case s.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case s.mail.COMPOSE_OPENED:return a.draftMessageId||null;case s.mail.OPEN_PAGE_REQUESTED:return a.isReplyingMessageSubjectEdited?null:E}return E},u=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],i=a.type,t=a.online,n=a.unsavedDataItem,r=void 0===n?{}:n;switch(i){case s.mail.ONLINE_STATUS_CHANGED:var l=r.userInputtedValues,_=void 0===l?{}:l;return t&&_.lastEditedTimeStamp?E.concat(_.lastEditedTimeStamp):E;case s.mail.OPEN_PAGE_REQUESTED:case s.mail.APPLICATION_VISIBILITY_DID_CHANGE:var S=r.userInputtedValues,c=void 0===S?{}:S;return c.lastEditedTimeStamp?E.concat(c.lastEditedTimeStamp):E;case s.mail.V3_MESSAGE_SAVE_REQUESTED:return E.concat(a.lastEditedTimeStamp);case s.mail.V3_MESSAGE_SAVE_SUCCEEDED:case s.mail.V3_MESSAGE_SAVE_FAILED:case s.mail.V3_MESSAGE_SEND_FAILED:return E.filter(function(e){return e!==a.lastEditedTimeStamp})}return E},m=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments[1];switch(a.type){case s.mail.V3_MESSAGE_SAVE_SUCCEEDED:return a.lastEditedTimeStamp}return E},I=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1];switch(a.type){case s.mail.OPEN_PAGE_REQUESTED:return a.forwardCreativeId||null}return E},C=function e(){var E=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments[1];switch(a.type){case s.mail.INITIAL_STATE:return!!a.mrdParams;case s.mail.OPEN_PAGE_REQUESTED:return!1}return E},T=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.FocusableRefs.TO,a=arguments[1];switch(a.type){case s.mail.OPEN_PAGE_REQUESTED:return a.isReplyingMessageSubjectEdited?t.FocusableRefs.SUBJECT:E}return E},D=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1];switch(a.type){case s.mail.OPEN_PAGE_REQUESTED:var i=a.unsavedDataItem,t=void 0===i?{}:i;return t.csid?t.userInputtedValues:E}return E},A=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1];switch(a.type){case s.mail.OPEN_PAGE_REQUESTED:var i=a.mailtoAttr;return i?i:E}return E},R=(0,a.combineReducers)({unsavedData:D,mailToLink:A,composeFieldToFocus:T,doComposeFromRouteQueryParams:C,forwardCreativeId:I,inReplyToMessageId:S,inReplyAllToMessageId:c,inForwardToMessageId:o,draftMessageId:d,pendingSaveRequestsTimeStamp:u,lastSaveTimeStamp:m}),M=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.mail.V3_MESSAGE_SAVE_REQUESTED:case s.mail.V3_MESSAGE_SAVE_FAILED:case s.mail.V3_MESSAGE_SEND_FAILED:case s.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(t.csid){var r;return E({},a,(r={},r[t.csid]=R(a[t.csid],t),r))}break;case s.mail.ONLINE_STATUS_CHANGED:case s.mail.APPLICATION_VISIBILITY_DID_CHANGE:case s.mail.OPEN_PAGE_REQUESTED:var _=t.unsavedData,S=void 0===_?[]:_;if(S.length){var c,o=S.filter(function(e){return e.type===n.UnsavedDataTypes.COMPOSE}).map(function(e){var E;return E={},E[e.csid]=R(a[e.csid],{type:t.type,isVisible:t.isVisible,online:t.online,isReplyingMessageSubjectEdited:t.isReplyingMessageSubjectEdited,unsavedDataItem:e}),E});return E({},a,t.csid?(c={},c[t.csid]=R(a[t.csid],t),c):{},Object.assign.apply({},o))}if(t.csid){var d;return E({},a,(d={},d[t.csid]=R(a[t.csid],t),d))}break;case s.mail.INITIAL_STATE:case s.mail.UNDO_MOVE_SUCCEEDED:case s.mail.AUTO_CHECK_MAIL_RECEIVED:case s.mail.V3_CHECK_MAIL_RECEIVED:case s.mail.CHANGE_FOLDER_SUCCEEDED:case s.mail.MORE_MESSAGES_REQUEST_SUCCESS:case s.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case s.mail.MESSAGE_SAVE_SUCCEEDED:case s.mail.V3_MESSAGE_SAVE_SUCCEEDED:case s.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case s.mail.SEARCH_LIST_ITEMS_RECEIVED:case s.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case s.mail.GIF_FETCH_SUCCEEDED:case s.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:var u=t.mrdParams,m=void 0===u?{}:u;if(m.csid){var I;return E({},a,(I={},I[m.csid]=R(a[m.csid],t),I))}if(t.listData){var C=(0,i.values)(t.listData.messages||[]).map(function(e){var i;return i={},i[e.csid]=R(a[e.csid],E({},t,{draftMessageId:e.id,inReplyTo:e.inReplyTo})),i});return C.length?E({},a,Object.assign.apply({},C)):a}break;case s.mail.COMPOSE_OPENED:if(t.csid&&t.message){var T;return E({},a,(T={},T[t.csid]=R(a[t.csid],E({},t,{draftMessageId:t.message.id})),T))}break;case s.mail.DELETE_DRAFT_REQUESTED:if(t.csid)return(0,l.default)(a,t.csid)}return a};exports.default=M;var p=exports.selectors=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={doesComposeSessionExist:function e(a){return!!E[a]},hasUnsavedData:function e(a){return Boolean(Object.keys(E[a].unsavedData||{}).length)},getUnsavedData:function e(a){return E[a].unsavedData},getComposeFieldToFocus:function e(a){return(E[a]||{}).composeFieldToFocus},doComposeFromRouteQueryParams:function e(a){return E[a].doComposeFromRouteQueryParams},doComposeFromMailToLink:function e(a){return Boolean(E[a].mailToLink)},getMailToLink:function e(a){return E[a].mailToLink},getReplyingToMessageId:function e(E){var i=a.getInReplyToMessageId,s=a.getInReplyAllToMessageId,t=a.getInForwardToMessageId;return i(E)||s(E)||t(E)},findReplyForwardCsidsOfMessage:function e(i){return Object.keys(E).filter(function(e){return a.getReplyingToMessageId(e)===i})},getDraftMessageId:function e(a){return E[a].draftMessageId},getForwardCreativeId:function e(a){return E[a].forwardCreativeId},getInReplyToMessageId:function e(a){return E[a].inReplyToMessageId},getInReplyAllToMessageId:function e(a){return E[a].inReplyAllToMessageId},getInForwardToMessageId:function e(a){return E[a].inForwardToMessageId},isReplyMessage:function e(a){return Boolean(E[a].inReplyToMessageId)},isReplyAllMessage:function e(a){return Boolean(E[a].inReplyAllToMessageId)},isForwardMessage:function e(a){return Boolean(E[a].inForwardToMessageId)},isComposeSessionDirty:function e(a){var i=a.csid,s=a.lastEditedTimeStamp;return Boolean(s)&&(!E[i]||!E[i].lastSaveTimeStamp||E[i].lastSaveTimeStamp!==s)},isSaving:function e(a){var i=a.csid,s=a.lastEditedTimeStamp;return Boolean(s)&&E[i]&&E[i].pendingSaveRequestsTimeStamp.indexOf(s)!==-1},isSaveDue:function e(i){var s=i.csid,t=i.lastEditedTimeStamp,n=i.newContentIds,r=i.removedContentIds,l=void 0===r?[]:r,S=i.composeSaveInterval,c=void 0===S?_:S;return!a.isSaving({csid:s,lastEditedTimeStamp:t})&&(Boolean(n)||l.length>0||a.isComposeSessionDirty({csid:s,lastEditedTimeStamp:t})&&E[s]&&0===E[s].pendingSaveRequestsTimeStamp.length&&Date.now()-E[s].lastSaveTimeStamp>c)}};return a};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/mail_constants/compose":"./platform/mail_constants/compose","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/object":"./platform/utils/object","lodash/omit":"./node_modules/lodash/omit.js","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/compose_suggestions":[function(require,module,exports){
"use strict";function t(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];switch(o.type){case n.mail.SEARCH_CONTACT_SUCCEEDED:return e({},r,(t={},t[o.query]=o.data.contacts,t))}return r}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getSuggestions:function r(e){return t[e]}}}exports.__esModule=!0;var e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};exports.selectors=r;var n=require("../platform/react_action_constants");exports.default=t;
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/coupons":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.selectors=void 0;var r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};exports.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],u=n.listData,i=void 0===u?{}:u;switch(n.type){case t.mail.COUPONS_LIST_SUCCEEDED:if(!i.schemaCards)return e;var c=Object.keys(i.schemaCards).filter(function(r){return i.schemaCards[r].type===a.SchemaTypes.Coupon&&!(0,o.default)(e[r],s(i.schemaCards[r]))}).reduce(function(e,t){var a;return r({},e,(a={},a[t]=s(i.schemaCards[t]),a))},{});return Object.keys(c).length?r({},e,c):e;default:return e}};var t=require("../platform/react_action_constants"),a=require("../platform/mail_constants"),n=require("lodash/isEqual"),o=e(n),s=function e(r){return{validThrough:r.validThrough}},u=exports.selectors=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getValidThroughDate:function e(t){return r[t].validThrough}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","lodash/isEqual":"./node_modules/lodash/isEqual.js"}],"./reducers_selectors/documents":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.selectors=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var E in r)Object.prototype.hasOwnProperty.call(r,E)&&(e[E]=r[E])}return e},r=require("redux"),E=require("../platform/react_action_constants"),n=require("../platform/mail_constants"),a=require("../platform/invariant"),s=e(a),i=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.RecordStates.DOES_NOT_EXIST;switch(arguments[1].type){case E.mail.DOCUMENT_FETCH_REQUESTED:return n.RecordStates.LOADING;case E.mail.DOCUMENT_FETCH_SUCCEEDED:return n.RecordStates.LOADED;case E.mail.DOCUMENT_FETCH_FAILED:case E.mail.DOCUMENT_PREVIEW_FAILED:return n.RecordStates.ERROR}return t},c=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.RecordStates.DOES_NOT_EXIST,r=arguments[1];switch(r.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:case E.mail.DOCUMENT_PAGE_FETCH_SUCCEEDED:return r.page.state;case E.mail.DOCUMENT_PAGE_FETCH_REQUESTED:return n.RecordStates.LOADING}return t},o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments[1];switch(r.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:case E.mail.DOCUMENT_PAGE_FETCH_SUCCEEDED:return r.page.content}return t},u=(0,r.combineReducers)({content:o,status:c}),D=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],a=n.startPage,s=n.endPage,i={};switch(n.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:case E.mail.DOCUMENT_PAGE_FETCH_SUCCEEDED:return t({},r,Object.keys(n.response.pages).reduce(function(e,E){return e[E]=u(r[E],t({},n,{page:n.response.pages[E]})),e},{}));case E.mail.DOCUMENT_PAGE_FETCH_REQUESTED:for(var c=a;c<=s;c++)i[c]=u(r[c],n);return t({},r,i)}return r},C=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments[1];switch(r.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:return r.response.height}return t},_=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments[1];switch(r.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:return r.response.width}return t},T=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments[1];switch(r.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:return r.response.numPages}return t},l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];switch(r.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:return r.response.exceptions}return t},d=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];switch(r.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:return r.response.sheets}return t},U=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],n=r.error,e=void 0===n?{}:n,a=e.data||{},s=a.info,i=void 0===s?{}:s,c=i.documentError,o=void 0===c?{}:c;switch(r.type){case E.mail.DOCUMENT_FETCH_SUCCEEDED:case E.mail.DOCUMENT_FETCH_REQUESTED:return{};case E.mail.DOCUMENT_FETCH_FAILED:case E.mail.DOCUMENT_PREVIEW_FAILED:return o}return t},O=(0,r.combineReducers)({pages:D,height:C,width:_,numPages:T,exceptions:l,sheets:d,status:i,error:U}),m=function e(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];switch(a.type){case E.mail.DOCUMENT_FETCH_REQUESTED:case E.mail.DOCUMENT_FETCH_SUCCEEDED:case E.mail.DOCUMENT_FETCH_FAILED:case E.mail.DOCUMENT_PAGE_FETCH_REQUESTED:case E.mail.DOCUMENT_PAGE_FETCH_SUCCEEDED:case E.mail.DOCUMENT_PREVIEW_FAILED:return(0,s.default)(a.documentId,"action.documentId is required"),t({},n,(r={},r[a.documentId]=O(n[a.documentId],a),r))}return n};exports.default=m;var p=exports.selectors=function e(t){return{getState:function e(r){return t[r]?t[r].status:n.RecordStates.DOES_NOT_EXIST},getDocument:function e(r){return t[r]},getError:function e(r){return t[r].error},getNumberOfPages:function e(r){return t[r].numPages},isDocumentLoaded:function e(r){return!(!t[r]||t[r].status!==n.RecordStates.LOADED)},isPageLoaded:function e(r,E){return!(!t[r].pages[E]||t[r].pages[E].status!==n.RecordStates.LOADED)},isPageLoading:function e(r,E){return!(!t[r].pages[E]||t[r].pages[E].status!==n.RecordStates.LOADING)}}};
},{"../platform/invariant":"./platform/invariant","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/downloads":[function(require,module,exports){
"use strict";function e(e,t){return t.downloadId="download-"+(0,o.generateUID)(),e.concat(t)}function t(e,t){return e.filter(function(e){return e.downloadId!==t})}function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments[1];switch(o.type){case n.mail.DOWNLOAD_REQUESTED:case n.mail.ATTACHMENT_DOWNLOADED:case n.mail.ALL_ATTACHMENTS_DOWNLOADED:return e(r,o.download);case n.mail.DOWNLOAD_COMPLETED:case n.mail.DOWNLOAD_FAILED:return t(r,o.downloadId);default:return r}}exports.__esModule=!0,exports.selectors=void 0;var n=require("../platform/react_action_constants"),o=require("../platform/utils");exports.default=r;var a=exports.selectors=function e(t){return{getDownloads:function e(){return t}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","../platform/utils":"./platform/utils"}],"./reducers_selectors/emoji":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},t=require("../platform/react_action_constants"),r=require("redux"),s=require("../platform/mail_constants"),a=function r(){var s,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];switch(o.type){case t.mail.EMOJI_SEARCH_SUCCEEDED:return e({},a,(s={},s[o.keyword]=o.suggestions,s));default:return a}},o=function e(){var r,a,o,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1];switch(c.type){case t.mail.EMOJI_SEARCH_REQUESTED:return r={},r[c.keyword]=s.RecordStates.LOADING,r;case t.mail.EMOJI_SEARCH_SUCCEEDED:return a={},a[c.keyword]=s.RecordStates.LOADED,a;case t.mail.EMOJI_SEARCH_FAILED:return o={},o[c.keyword]=s.RecordStates.ERROR,o;default:return n}};exports.default=(0,r.combineReducers)({searchResults:a,searchStatus:o});var n=exports.selectors=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getEmojiSearchResults:function e(r){return t.searchResults[r]||[]},getEmojiSearchStatus:function e(r){return t.searchStatus[r]||s.RecordStates.DOES_NOT_EXIST}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/environment":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var e=require("../platform/react_action_constants"),t=require("redux"),i=function t(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments[1];switch(r.type){case e.mail.INITIAL_STATE:return r.internal;default:return i}},r=function t(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments[1];switch(r.type){case e.mail.APPLICATION_VISIBILITY_DID_CHANGE:return r.isVisible}return i};exports.default=(0,t.combineReducers)({isInternalIP:i,applicationVisibility:r});var n=exports.selectors=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getIsInternalIP:function e(){return t.isInternalIP},isAppVisible:function e(){return t.applicationVisibility}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/feature_cues":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t=require("../platform/react_action_constants"),r=exports.selectors=function e(t){return{isNotSeenBefore:function e(r){return!t[r]},shownFeatures:function e(){return Object.keys(t).filter(function(e){return t[e]})}}},n=function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];switch(o.type){case t.mail.FEATURE_CLOSED:case t.mail.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:case t.mail.SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED:var s,a=o.name;return e({},n,(s={},s[a]=!0,s));default:return n}};exports.default=n;
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/features/helpers/categories_setting":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../../platform/mail_constants"),t=require("../../../platform/utils/categories"),r=function r(o,s){var a=[];return(0,s.selectors.getFeaturesSelectors)().isEnabled("inboxCategorization")?(o.forEach(function(e){var r=(0,t.getCategoryFromSetting)(e);r&&a.push(r)}),e.InboxFilters.forEach(function(e){a.find(function(t){return t.name===e})||a.push({name:e,status:0})}),a):[]};exports.default=r,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/categories":"./platform/utils/categories"}],"./reducers_selectors/features/helpers/get_hide_right_rail_setting":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../../platform/mail_constants"),t=function t(r,s){var a=s.selectors.getFeaturesSelectors,o=!!r[e.Features.IS_WIDER_MAIL_EXTN_ENABLED];return a().isEnabled("hideRightPaneAds")||o};exports.default=t,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants"}],"./reducers_selectors/features/helpers/get_list_item_height":[function(require,module,exports){
"use strict";exports.__esModule=!0;var E=require("../../../platform/mail_constants"),_=require("../../../platform/utils/mail_ui_vars"),S=function S(e,t){var T=t.selectors,I=T.getFeaturesSelectors,M=T.getRouterSelectors,s=I(),r=s.getSetting,i=s.isEnabled,A=M().isMobileRoute(),L=A||r(E.Settings.PREVIEW_PANE)===E.PreviewPaneSettings.RIGHT;switch(r(E.Settings.MSG_LIST_DENSITY)){case E.MessageListDensity.SLIM:return L?i(E.Settings.SNIPPETS)?_.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT:_.MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT:_.MESSAGE_LIST_ITEM_SLIM_HEIGHT;case E.MessageListDensity.RELAXED:return L?i(E.Settings.SNIPPETS)?_.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT:_.MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT:_.MESSAGE_LIST_ITEM_RELAXED_HEIGHT;default:return L?i(E.Settings.SNIPPETS)?_.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT:_.MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT:_.MESSAGE_LIST_ITEM_NORMAL_HEIGHT}};exports.default=S,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars"}],"./reducers_selectors/features/helpers/msg_read_contact_card_setting":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../../platform/mail_constants"),t=function t(o,r){var a=r.getRouterSelectors,s=a().getRoute();return!(!s||!s.name)&&(s.name===e.RouteNames.MESSAGE_FROM_FOLDER_LIST||s.name===e.RouteNames.MESSAGE_FROM_SEARCH_LIST)&&o};exports.default=t,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants"}],"./reducers_selectors/features/helpers/notification_mode_setting":[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=require("../../../platform/mail_constants"),o=require("../../../platform/push_notifications"),i=function i(e){var s=e(),r=s.isEnabled,a=r("pushNotifications"),u=r("browserNotifications");return a&&(0,o.isPushSupported)()?t.NotificationModes.PUSH:u?t.NotificationModes.BROWSER:null};exports.default=i,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/push_notifications":"./platform/push_notifications"}],"./reducers_selectors/features/helpers/nuke_display_ads_on_inactive":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../../platform/mail_constants");exports.default=function(t,r){var s=r.getEnvironmentSelectors,o=s().isAppVisible();return t[e.Features.NUKE_DISPLAY_ADS_ON_INACTIVE]&&!o},module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants"}],"./reducers_selectors/features/helpers/preview_pane_setting":[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=require("../../../platform/mail_constants"),e=require("../../../platform/utils/list"),r=function r(o,s){var i=s.getRouterSelectors,u=(0,e.getListIdFromRoute)(i().getRoute());return(0,e.getListContentTypeFromListId)(u)===t.ListContentTypes.MESSAGES?o:t.PreviewPaneSettings.NO};exports.default=r,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list"}],"./reducers_selectors/features/helpers/pubs_card":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../../platform/mail_constants"),t=require("../../../platform/utils/mail_ui_vars");exports.default=function(r,s){var a=s.selectors.getFeaturesSelectors,i=s.innerWidth,u=a(),_=u.getSetting,l=u.isEnabled,n=l(e.Features.WIDE_RIGHT_RAIL),o=r[e.Features.PUBS_CARD],E=_(e.Settings.PREVIEW_PANE)===e.PreviewPaneSettings.RIGHT;return 0===i?o:o&&(!(!E&&i<t.NARROW_SCREEN_WIDTH||E&&i<t.WIDE_SCREEN_WIDTH)||n)},module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/mail_ui_vars":"./platform/utils/mail_ui_vars"}],"./reducers_selectors/features/helpers/wide_right_rail":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.NFL_STREAM_TIME=void 0;var e=require("../../../platform/mail_constants"),t=exports.NFL_STREAM_TIME={start:Date.parse("2017-09-24T04:55:00-07:00"),end:Date.parse("2017-09-24T10:00:00-07:00")};exports.default=function(r,a){var s=a.getRouterSelectors,o=a.getEnvironmentSelectors,n=s().getQueryParams(),i=o().getIsInternalIP(),u=t.start,l=t.end,R=r[e.Features.WIDE_RIGHT_RAIL],_=Date.now();return i&&n.hasOwnProperty("wideRightRail")?"true"===n.wideRightRail:!!(R&&u&&l)&&u<=_&&_<l};
},{"../../../platform/mail_constants":"./platform/mail_constants"}],"./reducers_selectors/features":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.selectors=void 0;var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},a=require("../../platform/react_action_constants"),i=require("redux"),r=require("../../platform/mail_constants"),s=require("../../platform/theming/themes"),n=require("./helpers/preview_pane_setting"),o=e(n),E=require("./helpers/categories_setting"),_=e(E),S=require("./helpers/get_list_item_height"),u=e(S),l=require("./helpers/msg_read_contact_card_setting"),I=e(l),c=require("./helpers/notification_mode_setting"),A=e(c),T=require("./helpers/wide_right_rail"),d=e(T),g=require("./helpers/pubs_card"),R=e(g),m=require("./helpers/nuke_display_ads_on_inactive"),O=e(m),C=require("./helpers/get_hide_right_rail_setting"),h=e(C),N=require("../ads.js"),p=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case a.mail.CONFIRM_EMAIL_RESEND_REQUESTED:return!0;case a.mail.CONFIRM_EMAIL_RESEND_SUCCEEDED:case a.mail.CONFIRM_EMAIL_RESEND_FAILED:return!1;default:return t}},D=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments[1];if(N.AD_ROTATION_ACTIONS[i.type])return!1;switch(i.type){case a.mail.APPLICATION_VISIBILITY_DID_CHANGE:return!1;case a.mail.HIDE_RIGHT_PANE_ADS:return!0}return t},F=300,M=function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,r=arguments[1];switch(r.type){case a.mail.INITIAL_STATE:case a.mail.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return void 0!==r.features[t]?r.features[t]:e;case a.mail.FEATURE_CLOSED:case a.mail.FEATURE_DISABLED:case a.mail.FEATURE_TRY_NOW_REQUESTED:case a.mail.FEATURE_CUE_NOTIFICATION_CLOSED:case a.mail.SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED:var s=r.fromFeature,n=r.name;if((s||n)===t)return!1;var o=r.nextFeatureCues;return(void 0===o?[]:o).indexOf(t)!==-1||e;case a.mail.SETTINGS_CHANGE_REQUESTED:case a.mail.RENAME_FOLDER_REQUESTED:var E=r.name,_=r.value;return void 0===E||void 0===_?e:E===t?_:e;default:return r.nextFeature===t||e}}},L=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case a.mail.DRAWER_OPENED:return!0;case a.mail.DRAWER_CLOSED:case a.mail.OPEN_PAGE_REQUESTED:return!1;default:return t}},f=(0,i.combineReducers)({photosCue:M("photosCue"),starredCue:M("starredCue"),settingsCue:M("settingsCue"),searchCue:M("searchCue"),stationeryCue:M("stationeryCue"),emojiCue:M("emojiCue"),couponClipperCue:M("couponClipperCue"),fbBotTakeover:M("fbBotTakeover"),themesCueV2:M("themesCueV2"),ssaBreachSecurityAlert:M("ssaBreachSecurityAlert"),aptSecurityCue:M("aptSecurityCue"),newUserOnboardingCue:M("newUserOnboardingCue"),updateWiderMailCue:M("updateWiderMailCue"),isWiderMailExtnEnabled:M("isWiderMailExtnEnabled"),conversations:M(r.Features.CONVERSATIONS,!0),imapin:M("imapin"),canAddImapInAccount:M("canAddImapInAccount"),canRemoveImapInAccount:M("canRemoveImapInAccount"),autoOpenReauth:M(r.Features.AUTO_OPEN_REAUTH,!1),linkAccountList:M("linkAccountList"),collapsibleSystemFolders:M(r.Features.COLLAPSIBLE_SYSTEM_FOLDERS),showAllSystemFolders:M("showAllSystemFolders"),mailProSetting:M("mailProSetting"),addAliasAccount:M("addAliasAccount"),snippets:M(r.Settings.SNIPPETS),showImages:M(r.Settings.SHOW_IMAGES),desktopNotification:M(r.Settings.DESKTOP_NOTIFICATION,0),multiTask:M(r.Settings.MAIL_TABS),markAsReadInterval:M(r.Settings.MARK_AS_READ_INTERVAL,r.MarkAsReadInterval.IMMEDIATELY),replyIndicator:M("replyIndicator"),theme:M(r.Settings.THEME,s.Themes.DEFAULT),themeMode:M(r.Settings.THEME_MODE,s.ThemeModes.LIGHT),previewpane:M(r.Settings.PREVIEW_PANE,r.PreviewPaneSettings.NO),messageListDensity:M(r.Settings.MSG_LIST_DENSITY,r.MessageListDensity.NORMAL),scrollPerf:M("scrollPerf"),secureMode:M(r.Settings.SECURE_MODE),composeFontSize:M(r.Settings.COMPOSE_FONT_SIZE,r.DefaultFont.SIZE),composeFontFamily:M(r.Settings.COMPOSE_FONT_FAMILY,r.DefaultFont.FAMILY),focusBasedVisibilityDetection:M("focusBasedVisibilityDetection"),deliveryBlockedSenders:M(r.Settings.DELIVERY_BLOCKED_SENDERS,[]),linkEnhancer:M(r.Settings.LINK_ENHANCR),vacationPreferences:M(r.Settings.VACATION_PREFERENCES,{enabled:!1}),listItemHeight:M(r.Settings.LIST_ITEM_HEIGHT,32),magicTriage:M(r.Settings.MAGIC_TRIAGE),magicTriageBar:M(r.Settings.MAGIC_TRIAGE_BAR),fbBotTakeoverDayOne:M("fbBotTakeoverDayOne"),magicTriageUserVisits:M(r.Settings.MAGIC_TRIAGE_USER_VISITS,[!1,!1,!1,!1,!1,!1,!1]),magicTriageTimestamp:M(r.Settings.MAGIC_TRIAGE_TIMESTAMP,0),messageFilters:M(r.Settings.MESSAGE_FILTERS,[]),actionAfterMsgMove:M(r.Settings.ACTION_AFTER_MSG_MOVE,r.ActionAfterMessageMove.GO_BACK_TO_FOLDER),showCustomFolders:M(r.Settings.SHOW_CUSTOM_FOLDERS,!0),expandedFolders:M(r.Settings.EXPANDED_FOLDERS,[]),stationeryDefaultTheme:M(r.Settings.STATIONERY_DEFAULT_THEME,""),toggleConversationReloadDelayMS:M(r.Settings.TOGGLE_CONV_RELOAD_DELAY,F),previewpaneResizable:M(r.Features.RESIZABLE_PREVIEW_PANE,!0),emojiWithVirtualList:M(r.Features.EMOJI_WITH_VIRTUAL_LIST,!1),recentlyUsedEmojis:M(r.Settings.RECENTLY_USED_EMOJIS,[]),emojiSearch:M(r.Features.EMOJI_SEARCH,!1),systemTabs:M(r.Settings.SYSTEM_TABS,[]),sendingEmailConfirmStatus:p,composeV3:M(r.Features.COMPOSE_V3,!1),previewMessageV3:M(r.Features.PREVIEW_MESSAGE_V3,!1),rsvp:M(r.Features.RSVP,!1),rsvpResponse:M(r.Features.RSVP_RESPONSE,!1),pubsCard:M(r.Features.PUBS_CARD,!1),searchSourceTag:M(r.Settings.SEARCH_SOURCE_TAG,"yahoo_mail_nextgen_search"),ads:M(r.Features.ADS,!0),darlaPrefetch:M(r.Features.DARLA_PREFETCH,!0),darlaLookAhead:M(r.Features.DARLA_LOOKAHEAD,!0),geminiSponsoredMessage:M(r.Features.GEMINI_SPONSORED_MESSAGE,!0),geminiSponsoredVideo:M(r.Features.GEMINI_SPONSORED_VIDEO,!1),adFreeSupported:M(r.Features.AD_FREE_SUPPORTED,!1),comScoreBeaconing:M(r.Features.COM_SCORE_BEACONING,!1),emptyFolderVideo:M(r.Features.EMPTY_FOLDER_VIDEO,!1),messageReadAdRotation:M(r.Features.MESSAGE_READ_AD_ROTATION,!0),geminiViewability:M(r.Features.GEMINI_VIEWABILITY,!0),hideAd:M(r.Settings.HIDE_AD,!1),mailProEligible:M(r.Features.MAIL_PRO_ELIGIBLE,!1),messageReadContactCard:M(r.Features.MESSAGE_READ_CONTACT_CARD,!1),wideRightRail:M(r.Features.WIDE_RIGHT_RAIL,!1),premiumAdDetection:M(r.Features.PREMIUM_AD_DETECTION,!1),rightRailWiderMailUpsell:M(r.Features.RIGHT_RAIL_WIDER_MAIL_UPSELL,!1),geminiContextualAds:M(r.Features.GEMINI_CONTEXTUAL_ADS,!1),nukeDisplayAdsOnInactive:M(r.Features.NUKE_DISPLAY_ADS_ON_INACTIVE,!1),hideRightPaneAds:D,emptyFolderVideoChannels:M(r.Settings.EMPTY_FOLDER_VIDEO_CHANNELS,{}),timeToWaitSinceLastAdCall:M(r.Settings.TIME_TO_WAIT_SINCE_LAST_AD_CALL,0),geminiRequestsParams:M(r.Settings.GEMINI_REQUEST_PARAMS,0),geminiSectionIdsToCache:M(r.Settings.GEMINI_SECTION_IDS_TO_CACHE,0),geminiForceFilter:M(r.Settings.GEMINI_FORCE_FILTER,!1),adFreeMailUrl:M(r.Settings.AD_FREE_MAIL_URL,""),aboutAdsUrl:M(r.Settings.ABOUT_AD_URL,""),privacyUrl:M(r.Settings.PRIVACY_URL,""),termsUrl:M(r.Settings.TERMS_URL,""),itemListPageThreshold:M(r.Settings.ITEM_LIST_PAGE_THRESHOLD,0),messageReadAdRotationInterval:M(r.Settings.MESSAGE_READ_AD_ROTATION_INTERVAL,0),messageReadAdRotationIdleInterval:M(r.Settings.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL,0),widerMailExtension:M(r.Settings.WIDER_MAIL_EXTENSION,{}),unsubscribeNotification:M(r.Settings.UNSUBSCRIBE_NOTIFICATION,!0),unsubscribeTimestamp:M(r.Settings.UNSUBSCRIBE_TIMESTAMP,0),numUnsubscribedItems:M(r.Settings.NUM_UNSUBSCRIBED_ITEMS,0),mailProMonthlyPrice:M(r.Settings.MAIL_PRO_MONTHLY_PRICE,"$3.49"),mailProYearlyPrice:M(r.Settings.MAIL_PRO_YEARLY_PRICE,"$34.99"),geminiVideoAdId:M(r.Settings.GEMINI_VIDEO_AD_ID,""),geminiVideoAdSite:M(r.Settings.GEMINI_VIDEO_AD_SITE,""),geminiVideoAdExpName:M(r.Settings.GEMINI_VIDEO_AD_EXP_NAME,""),documentTitleStandardDuration:M("documentTitleStandardDuration",3e3),documentTitleNotificationDuration:M("documentTitleNotificationDuration",5e3),bulkActionDialogThreshold:M("bulkActionDialogThreshold",50),showTextualSuggestions:M("showTextualSuggestions",!1),deaSuggestionJWS:M("deaSuggestionJWS",!1),attachmentPreview:M("attachmentPreview",!0),mailSearchRightRail:M("mailSearchRightRail",!0),messageScrollLoadThreshold:M("messageScrollLoadThreshold",10),partnerBrand:M("partnerBrand",""),logoUrl:M("logoUrl","https://s1.yimg.com/rz/d/yahoo_mail_en-US_s_f_w_bestfit_mail.png"),secureCryptoMode:M("secureCryptoMode",0),unsubscribe:M("unsubscribe",!1),ybar:M("ybar",!0),mailSearch:M("mailSearch",!0),contactSummary:M("contactSummary",!1),advancedMailSearch:M("advancedMailSearch",!0),composeSaveInterval:M("composeSaveInterval",2e4),rteFormattingToolbar:M("rteFormattingToolbar",!0),marketingBeaconing:M("marketingBeaconing",!1),forcedMigrationBeaconing:M("forcedMigrationBeaconing",!1),inboxCategorization:M("inboxCategorization",!1),showSuggestedContacts:M("showSuggestedContacts",!0),udb:M("udb",!0),theming:M("theming",!0),norrinOptOut:M("norrinOptOut",!0),optOutSurvey:M("optOutSurvey",!0),helpUrl:M("helpUrl","https://help.yahoo.com/kb/index?page=product&y=PROD_MAIL_WEB&locale=en_US"),asyncTaskPollCount:M("asyncTaskPollCount",200),unsubInterval:M("unsubInterval",648e5),fetchFullBody:M("fetchFullBody",!0),peopleNotifications:M("peopleNotifications",!1),pushNotifications:M("pushNotifications",!1),browserNotifications:M("browserNotifications",!1),dragDropPill:M("dragDropPill",!0),offlineChecking:M("offlineChecking",!0),promptUnsaved:M("promptUnsaved",!0),appRefreshIdleInterval:M("appRefreshIdleInterval",{emergencyRefresh:30,periodicRefresh:120}),heartbeatRefresh:M("heartbeatRefresh",!0),appRootPath:M("appRootPath","/d"),tooltipEmoji:M(r.Features.TOOLTIP_EMOJI,!1),hero:M("hero",!0),calendarTab:M(r.Features.CALENDAR_TAB,!1),notepadTab:M(r.Features.NOTEPAD_TAB,!1),drawer:L,secureCryptoOrigins:M("secureCryptoOrigins","chrome-extension://ajchcmeejglejgkjiphmbiimjpjfakbn,https://crypto-u2u.ymail.com"),secureUIOrigin:M("secureUIOrigin","https://u2u.ymail.com"),newMailVideoId:M("newMailVideoId",{onboarding:"ebcb9733-fa01-3cb9-a57d-4254ab9c969a",searchOnboarding:"ad93243f-aae2-32e5-8505-b70ea1b35216",personalizeInbox:"1fae6609-d76d-3b9a-adc6-afe490d2ca10",emailOrganization:"92a2f4f4-00c6-38f5-894d-ebcb34d6b9c9"}),selectAll:M("selectAll",!1),reloadingBar:M(r.Features.RELOADING_BAR,!1),showCommsProperties:M(r.Features.SHOW_COMMS_PROPERTIES,!1),feedbackPanel:M(r.Features.FEEDBACK_PANEL,!0),syncTime:M(r.Settings.SYNC_TIME,20),disposableAddress:M(r.Features.DISPOSABLE_ADDRESS,!0),asyncTaskPollInterval:M(r.Settings.ASYNC_TASK_POLL_INTERVAL,2e3),checkMailInterval:M(r.Settings.CHECK_MAIL_INTERVAL,3e4),calendarURL:M(r.Settings.CALENDAR_URL,"https://calendar.yahoo.com"),inlineAttachment:M(r.Features.INLINE_ATTACHMENT,!0),feedbackURL:M(r.Settings.FEEDBACK_URL,"https://yahoo.uservoice.com/forums/600772?auth=yahoo"),tutorial:M(r.Features.TUTORIAL,!0),smartViews:M(r.Features.SMART_VIEWS,!0),settings:M(r.Features.SETTINGS,!0),bufferSize:M(r.Settings.BUFFER_SIZE,35),previewableInlineAttachmentSize:M(r.Settings.PREVIEWABLE_INLINE_ATTACHMENT_SIZE,51200),restoreToInbox:M("restoreToInbox"),messageInitialRenderCount:M(r.Settings.MESSAGE_INITIAL_RENDER_COUNT,15),showTweet:M(r.Features.SHOW_TWEET,!1),stationeryRestrictedThemes:M(r.Settings.STATIONERY_RESTRICTED_THEMES,!1),timezoneCheck:M(r.Features.TIMEZONE_CHECK,!0),resolutionCheck:M(r.Features.RESOLUTION_CHECK,!1),checkMailPrefetch:M(r.Features.CHECK_MAIL_PREFETCH,!1),messageFetchCount:M(r.Settings.MESSAGE_FETCH_COUNT,100),messageFetchCountInitial:M(r.Settings.MESSAGE_FETCH_COUNT_INITIAL,40),magicTriageHost:M(r.Settings.MAGIC_TRIAGE_HOST,"https://proddata.xobni.yahoo.com/pachinko/triage"),linkEnhancerUrlBlacklist:M(r.Settings.LINK_ENHANCER_URL_BLACK_LIST,[]),v3Notification:M(r.Features.V3_NOTIFICATION,!1),rtl:M(r.Features.RTL,!1),aptSecurityHelpURL:M(r.Settings.APT_SECURITY_HELP_URL,"https://help.yahoo.com/kb/index?page=content&y=PROD_ACCT&locale=en_US&id=SLN26995&actp=email"),isReturningUser:M(r.Features.IS_RETURNING_USER,!1),hasMappedTheme:M(r.Features.HAS_MAPPED_THEME,!1),disableOnboarding:M("disableOnboarding",!1),hasSeenOnboarding:M("hasSeenOnboarding",!1),couponCardExtractions:M(r.Features.COUPON_CARD_EXTRACTIONS,!1),flightCardExtractions:M(r.Features.FLIGHT_CARD_EXTRACTIONS,!1),couponsView:M(r.Features.COUPONS_VIEW,!1),travelView:M(r.Features.TRAVEL_VIEW,!1),emoji:M(r.Features.EMOJI,!0),preloadEmoji:M(r.Features.PRELOAD_EMOJI,!1),gif:M(r.Features.GIF,!0),stationery:M(r.Features.STATIONERY,!0),recentlyUsedEmoji:M(r.Features.RECENTLY_USED_EMOJI,!1),suppressedSaveAndSend:M(r.Features.SUPPRESSED_SAVE_AND_SEND,!1),yaftCanShowVisualReport:M(r.Settings.YAFT_CAN_SHOW_VISUAL_REPORT,!1),exceptionNotification:M(r.Features.EXCEPTION_NOTIFICATION,!1)});exports.default=f;var P=exports.selectors=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1];return{isEnabled:function s(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n){case r.Features.MESSAGE_READ_CONTACT_CARD:return(0,I.default)(a[n],i);case r.Features.WIDE_RIGHT_RAIL:return(0,d.default)(a,i);case r.Features.NUKE_DISPLAY_ADS_ON_INACTIVE:return(0,O.default)(a,i);case r.Features.IS_WIDER_MAIL_EXTN_ENABLED:return(0,h.default)(a,t({selectors:{getFeaturesSelectors:function t(){return e(a,i)}}},i));case r.Features.PUBS_CARD:return(0,R.default)(a,t({selectors:t({},i,{getFeaturesSelectors:function t(){return e(a,i)}})},o));default:return void 0!==a[n]?!!a[n]:a[n]}},getSetting:function s(n){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n){case r.Settings.PREVIEW_PANE:return(0,o.default)(a[n],i);case r.Settings.LIST_ITEM_HEIGHT:return(0,u.default)(a[n],t({selectors:t({},i,{getFeaturesSelectors:function t(){return e(a,i)}})},E));case r.Settings.NOTIFICATION_MODE:return(0,A.default)(function(){return e(a,i)});case r.Settings.SYSTEM_TABS:return(0,_.default)(a[n],t({selectors:{getFeaturesSelectors:function t(){return e(a,i)}}},E));default:return a[n]}}}};
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/theming/themes":"./platform/theming/themes","../ads.js":"./reducers_selectors/ads","./helpers/categories_setting":"./reducers_selectors/features/helpers/categories_setting","./helpers/get_hide_right_rail_setting":"./reducers_selectors/features/helpers/get_hide_right_rail_setting","./helpers/get_list_item_height":"./reducers_selectors/features/helpers/get_list_item_height","./helpers/msg_read_contact_card_setting":"./reducers_selectors/features/helpers/msg_read_contact_card_setting","./helpers/notification_mode_setting":"./reducers_selectors/features/helpers/notification_mode_setting","./helpers/nuke_display_ads_on_inactive":"./reducers_selectors/features/helpers/nuke_display_ads_on_inactive","./helpers/preview_pane_setting":"./reducers_selectors/features/helpers/preview_pane_setting","./helpers/pubs_card":"./reducers_selectors/features/helpers/pubs_card","./helpers/wide_right_rail":"./reducers_selectors/features/helpers/wide_right_rail","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/flights":[function(require,module,exports){
"use strict";function r(r){return r&&r.__esModule?r:{default:r}}function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],a=e.listData,u=e.type;switch(u){case i.mail.TRAVEL_LIST_SUCCEEDED:if(!a.schemaCards)return r;var d=Object.keys(a.schemaCards).filter(function(e){return a.schemaCards[e].type===n.SchemaTypes.FlightReservation&&!(0,c.default)(r[e],a.schemaCards[e])}).reduce(function(e,i){var n;return t({},e,(n={},n[i]=g(r[i],{type:u,card:a.schemaCards[i]}),n))},{});return Object.keys(d).length?t({},r,d):r;default:return r}}exports.__esModule=!0,exports.selectors=void 0;var t=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},a=require("redux"),i=require("../platform/react_action_constants"),n=require("../platform/mail_constants"),u=require("lodash/isEqual"),c=r(u),d=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.providerName;default:return e}},l=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.providerIataCode;default:return e}},o=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.providerUrl;default:return e}},s=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.departureAirportName;default:return e}},E=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.departureAirportDesc;default:return e}},v=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.departureAirportCode;default:return e}},p=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.departureTime;default:return e}},f=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.departureTerminal;default:return e}},h=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.arrivalAirportName;default:return e}},C=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.arrivalAirportDesc;default:return e}},T=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.arrivalAirportCode;default:return e}},m=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.arrivalTime;default:return e}},_=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.arrivalTerminal;default:return e}},D=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.flightNumber;default:return e}},S=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.reservationId;default:return e}},L=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.passengers;default:return e}},A=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=t.type,n=t.card;switch(a){case i.mail.TRAVEL_LIST_SUCCEEDED:return n.checkInUrl;default:return e}},g=(0,a.combineReducers)({providerName:d,providerIataCode:l,providerUrl:o,departureAirportName:s,departureAirportDesc:E,departureAirportCode:v,departureTime:p,departureTerminal:f,arrivalAirportName:h,arrivalAirportDesc:C,arrivalAirportCode:T,arrivalTime:m,arrivalTerminal:_,reservationId:S,flightNumber:D,passengers:L,checkInUrl:A});exports.default=e;var y=exports.selectors=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getFlightCard:function r(t){return e[t]}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","lodash/isEqual":"./node_modules/lodash/isEqual.js","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/folders":[function(require,module,exports){
"use strict";function E(E){return E&&E.__esModule?E:{default:E}}function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case S.mail.INITIAL_STATE:case S.mail.CREATE_FOLDER_SUCCEEDED:case S.mail.RENAME_FOLDER_SUCCEEDED:var a=Object.keys(e.folderMap||{}).map(function(E){return e.folderMap[E]}).filter(function(e){return!(0,r.default)(E[e.id],e)});return a.length?a.reduce(function(E,a){var S;return _({},E,(S={},S[a.id]=O(E[a.id],{type:e.type,folder:a}),S))},_({},E)):E;case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:var i=e.folderMap,t=void 0===i?{}:i,c=Object.keys(t);if(!c.length)return E;var s=c.map(function(E){return t[E]}).filter(function(e){return!(0,r.default)(E[e.id],e)}),C=Object.keys(E).filter(function(E){return!t[E]});return s.length||C.length?s.reduce(function(E,a){var S;return _({},E,(S={},S[a.id]=O(E[a.id],{type:e.type,folder:a}),S))},(0,l.default)(E,C)):E;case S.mail.DELETE_FOLDER_SUCCEEDED:return(0,l.default)(E,[e.folder.id]);case S.mail.MOVE_ITEMS_REQUESTED:case S.mail.MESSAGES_MOVE_REQUESTED:case S.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_DELETE_REQUESTED:case S.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_ARCHIVE_REQUESTED:case S.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_RESTORE_REQUESTED:case S.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case S.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_SPAM_REQUESTED:case S.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_READ_REQUESTED:case S.mail.MESSAGES_MARK_UNREAD_REQUESTED:case S.mail.MARK_READ_FOLDER_REQUESTED:case S.mail.DELETE_DRAFT_REQUESTED:case S.mail.SEND_SUCCESS:case S.mail.ARCHIVE_FOLDER_REQUESTED:case S.mail.CLEAR_FOLDER_REQUESTED:var D=e.itemsToUpdate,n=void 0===D?[]:D,R=n.filter(function(E){return E.isAffected});return R.length?R.reduce(function(E,a){var S,i,t=a.flags,r=a.folder,c=a.destinationFolder;return _({},E,(S={},S[r.id]=O(E[r.id],{type:e.type,folder:r,flags:t}),S),c?(i={},i[c.id]=O(E[c.id],{type:e.type,folder:r,isDestinationFolder:!0,flags:t}),i):{})},_({},E)):E;default:return E}}exports.__esModule=!0,exports.selectors=void 0;var _=Object.assign||function(E){for(var e=1;e<arguments.length;e++){var _=arguments[e];for(var a in _)Object.prototype.hasOwnProperty.call(_,a)&&(E[a]=_[a])}return E},a=require("redux"),S=require("../platform/react_action_constants"),i=require("../platform/mail_constants"),t=require("lodash/isEqual"),r=E(t),c=require("lodash/omit"),l=E(c),s=require("./helpers/index"),C=exports.selectors=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={doesFolderIdExist:function E(_){return!!e[_]},getFolderIdsByName:function E(_){return Object.keys(e).reduce(function(E,a){return e[a].name===_?E.concat(a):E},[])},getFolderIds:function E(){return Object.keys(e)},getFolderName:function E(_){return e[_].name},getFolderLevelByFolderId:function E(_){return e[_].level},getFolderUnreadCount:function E(_){return e[_].unread},getFolderTotal:function E(_){return e[_].total},getPrimaryFolderTypeByFolderId:function E(_){var a=e[_].types,S=a.find(function(E){return i.PrimaryFolderTypes.hasOwnProperty(E)});return S===i.FolderTypes.ARCHIVE&&a.indexOf(i.FolderTypes.EXTERNAL_ALL)>-1&&(S="ALL_MAIL"),S},isSystemFolder:function E(_){return!!e[_].types.find(function(E){return i.SystemFolderTypes.hasOwnProperty(E)})},getAccountIdByFolderId:function E(_){return e[_].accountId},getFolderIdsFromFolderType:function E(_,a){return Object.keys(e).reduce(function(E,S){return e[S].types.indexOf(_)!==-1&&e[S].accountId===a?E.concat(S):E},[])},getFolderTypes:function E(_){return e[_].types},getFolderIdsByAccountId:function E(_){return Object.keys(e).filter(function(E){return e[E].accountId===_})},isDraftFolder:function E(e){return a.getPrimaryFolderTypeByFolderId(e)===i.FolderTypes.DRAFT},getParentFolderId:function E(_){var a=e[_].path,S=e[_].name,i=e[_].accountId,t=Object.keys(e).find(function(E){return e[E].accountId===i&&e[E].path+"/"+S===a});return t?t:""},getCustomFolderIds:function E(_){return Object.keys(e).map(function(E){return e[E]}).filter(function(E){return E.accountId===_&&E.types.indexOf(i.FolderTypes.USER)>=0&&E.types.indexOf(i.FolderTypes.INVISIBLE)<0}).sort(s.sortFoldersByPath).map(function(E){return E.id})},hasChildren:function E(_){var a=e[_].path+"/",S=!1;return Object.keys(e).some(function(E){0===e[E].path.indexOf(a)&&(S=!0)}),S},__get__:function E(_){return e[_]},__getFolderIds__:function E(){return Object.keys(e)}};return _({},a)},D=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return i.id}return e},n=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:case S.mail.RENAME_FOLDER_SUCCEEDED:return i.name}return e},R=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:case S.mail.RENAME_FOLDER_SUCCEEDED:return i&&i.path?i.path:e}return e},A=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return i.accountId}return e},I=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return(0,r.default)(e,i.types)?e:i.types}return e},T=function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return i.isSystem}return e},M=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=arguments[1],a=_.type,i=_.folder,t=_.isDestinationFolder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return i.total;case S.mail.MOVE_ITEMS_REQUESTED:case S.mail.MESSAGES_MOVE_REQUESTED:case S.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_DELETE_REQUESTED:case S.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_RESTORE_REQUESTED:case S.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case S.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_SPAM_REQUESTED:case S.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_ARCHIVE_REQUESTED:case S.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.DELETE_DRAFT_REQUESTED:case S.mail.SEND_SUCCESS:case S.mail.V3_MESSAGE_SEND_SUCCEEDED:return t?e+1:e-1;case S.mail.ARCHIVE_FOLDER_REQUESTED:case S.mail.CLEAR_FOLDER_REQUESTED:return t?e+1:0}return e},m=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=arguments[1],a=_.type,i=_.folder,t=_.isDestinationFolder,r=_.flags,c=void 0===r?{}:r;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return i.unread;case S.mail.MESSAGES_MARK_READ_REQUESTED:return e?e-1:e;case S.mail.MESSAGES_MARK_UNREAD_REQUESTED:return e+1;case S.mail.MOVE_ITEMS_REQUESTED:case S.mail.MESSAGES_MOVE_REQUESTED:case S.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_DELETE_REQUESTED:case S.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_RESTORE_REQUESTED:case S.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case S.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_SPAM_REQUESTED:case S.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_ARCHIVE_REQUESTED:case S.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.DELETE_DRAFT_REQUESTED:case S.mail.SEND_SUCCESS:return t?c.read?e:e+1:c.read?e:e-1;case S.mail.MARK_READ_FOLDER_REQUESTED:return 0;case S.mail.ARCHIVE_FOLDER_REQUESTED:case S.mail.CLEAR_FOLDER_REQUESTED:return t?c.read?e:e+1:c.read?e:0;default:return e}},o=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return i.highestModSeq}return e},u=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return i.uidNext}return e},d=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=arguments[1],a=_.type,i=_.folder;switch(a){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.CREATE_FOLDER_SUCCEEDED:return i.level}return e},O=(0,a.combineReducers)({id:D,name:n,path:R,accountId:A,types:I,isSystem:T,total:M,unread:m,highestModSeq:o,uidNext:u,level:d});exports.default=e;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","./helpers/index":"./reducers_selectors/helpers","lodash/isEqual":"./node_modules/lodash/isEqual.js","lodash/omit":"./node_modules/lodash/omit.js","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/gif_categories":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},t=require("../platform/react_action_constants"),r=require("redux"),a=require("../platform/mail_constants"),s=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1];switch(a.type){case t.mail.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return a.categories.map(function(e){return e.searchQuery});default:return r}},o=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.RecordStates.DOES_NOT_EXIST;switch(arguments[1].type){case t.mail.GIF_FETCH_REQUESTED:return a.RecordStates.LOADING;case t.mail.GIF_FETCH_SUCCEEDED:return a.RecordStates.LOADED;case t.mail.GIF_FETCH_FAILED:return a.RecordStates.ERROR;default:return r}},c=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.RecordStates.DOES_NOT_EXIST;switch(arguments[1].type){case t.mail.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return a.RecordStates.LOADED;case t.mail.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return a.RecordStates.LOADING;case t.mail.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return a.RecordStates.ERROR;default:return r}},n=function r(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[1];switch(s.type){case t.mail.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return s.categories.reduce(function(t,r){var c,n=a[r.searchQuery]||{},u=n.status;return e({},t,(c={},c[r.searchQuery]={status:o(u,s),category:r},c))},{});case t.mail.GIF_FETCH_FAILED:case t.mail.GIF_FETCH_REQUESTED:case t.mail.GIF_FETCH_SUCCEEDED:var c,n=s.query;return s.preloadItems?e({},a,(c={},c[n]=e({},a[n],{status:o(a[n].status,s)}),c)):a;default:return a}};exports.default=(0,r.combineReducers)({categories:n,categoriesStatus:c,categoryIds:s});var u=exports.selectors=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{isGifCategoryQuery:function e(r){return t.categories.hasOwnProperty(r)},getGifCategoryTopItemsStatus:function e(r){return t.categories[r].status},getGifCategoryTopItemsUrl:function e(r){return t.categories[r].category.topItemsUrl},getGifCategoriesList:function e(){return t.categoryIds.map(function(e){return t.categories[e].category})},isCategoryListLoaded:function e(){return t.categoriesStatus===a.RecordStates.LOADED}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/gif_items":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var t=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=require("../platform/react_action_constants"),e=function e(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case r.mail.GIF_FETCH_SUCCEEDED:var a=n.listData.gifItems;return t({},o,void 0===a?{}:a);default:return o}};exports.default=e;var o=exports.selectors=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getGifItems:function t(){return r}}};
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/helpers":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.sortFoldersByPath=exports.filterInvalidIdsBasedOnListFlags=exports.filterInvalidIdsBasedOnListFolderIds=void 0;var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},e=require("../../platform/utils/list"),r=require("../../platform/mail_constants"),o=function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(o,n){var i;if((0,e.getListContentTypeFromListId)(n.listId)!==r.ListContentTypes.MESSAGES)return o;var s=n.groupId,d=n.folder,a=n.destinationFolder,l=void 0===a?{}:a,f=n.flags,u=void 0===f?[]:f,c=n.isAffected,v=o[s]||{},p=v.originalFolderIds,g=void 0===p?[]:p,I=v.folderIds,h=void 0===I?[]:I,F=v.flags,L=void 0===F?[]:F,O=void 0;return O=c?l.id?[l.id]:[]:[d.id],t({},o,(i={},i[s]={flags:c?L:L.concat(u),originalFolderIds:g.concat(d.id),folderIds:O.length?h.concat(O):h},i))},{})},n=exports.filterInvalidIdsBasedOnListFolderIds=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=o(e);return Object.keys(n).filter(function(t){var e=n[t],o=e.originalFolderIds,i=void 0===o?[]:o,s=e.folderIds,d=void 0===s?[]:s;return!!i.some(function(t){return r.indexOf(t)!==-1})&&!d.some(function(t){return r.indexOf(t)!==-1})})},i=exports.filterInvalidIdsBasedOnListFlags=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=o(r);return Object.keys(s).filter(function(t){var r=s[t].flags,o=void 0===r?[]:r;return i.some(function(t){return(0,e.listIdContainsFlag)(n,t)})&&!o.some(function(t){return!t.read})})},s=exports.sortFoldersByPath=function t(e,r){var o=e.path.toLocaleLowerCase().localeCompare(r.path.toLocaleLowerCase());return o?o:e.path.localeCompare(r.path)||e.path.length-r.path.length};
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/list":"./platform/utils/list"}],"./reducers_selectors":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.selectors=void 0;var s=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t=require("redux"),r=require("reselect"),o=require("./documents"),n=e(o),c=require("./subject_snippet"),u=e(c),a=require("./folders"),i=e(a),l=require("./message_groups"),g=e(l),d=require("./card_groups"),m=e(d),f=require("./card_message_to_schemas"),S=e(f),p=require("./flights"),A=e(p),I=require("./coupons"),M=e(I),y=require("./attachments"),h=e(y),F=require("./message_to_attachments"),C=e(F),B=require("./message_bodies"),b=e(B),q=require("./router"),v=e(q),R=require("./online"),T=e(R),x=require("./unsubscribe_list"),_=e(x),E=require("./features"),D=e(E),j=require("./message_metadata"),L=e(j),w=require("./feature_cues.js"),G=e(w),O=require("./lists"),P=e(O),k=require("./streams"),U=e(k),N=require("./video_players"),Q=e(N),V=require("./address_book"),X=e(V),z=require("./gif_items.js"),H=e(z),J=require("./gif_categories.js"),K=e(J),W=require("./sports_teams.js"),Y=e(W),Z=require("./downloads"),$=e(Z),ee=require("./mailboxes"),se=e(ee),te=require("./payments"),re=e(te),oe=require("./ads"),ne=e(oe),ce=require("./emoji"),ue=e(ce),ae=require("./compose_sessions"),ie=e(ae),le=require("./search_suggestions"),ge=e(le),de=require("./calendar"),me=e(de),fe=require("../platform/utils/list"),Se=require("../platform/mail_constants"),pe=require("./environment"),Ae=e(pe),Ie=require("./compose_suggestions"),Me=e(Ie),ye=require("./launch_error"),he=e(ye),Fe=function e(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments[1]},Ce=(0,t.combineReducers)({action:Fe,launchError:he.default,composeSessions:ie.default,attachments:h.default,lists:P.default,streams:U.default,documents:n.default,subjectsAndSnippets:u.default,folders:i.default,mailboxes:se.default,ads:ne.default,messageBodies:b.default,messageGroups:g.default,cardGroups:m.default,cardMessageToSchemas:S.default,flights:A.default,coupons:M.default,router:v.default,unSubscribeList:_.default,messages:L.default,videoPlayers:Q.default,addressBook:X.default,messageToAttachments:C.default,features:D.default,featureCues:G.default,gifItems:H.default,gifCategories:K.default,sportsTeams:Y.default,downloads:$.default,online:T.default,payments:re.default,emoji:ue.default,searchSuggestions:ge.default,calendar:me.default,environment:Ae.default,composeSuggestions:Me.default});exports.default=Ce;var Be=exports.selectors=(0,r.createSelector)(function(e){return e},function(e){var r={getAction:function s(){return e.action},getOnlineSelectors:function s(){return(0,R.selectors)(e.online)},getListsSelectors:function s(){return(0,O.selectors)(e.lists)},getStreamsSelectors:function s(){return(0,k.selectors)(e.streams)},getFoldersSelectors:function s(){return(0,a.selectors)(e.folders)},getMessageGroupsSelectors:function s(){return(0,l.selectors)(e.messageGroups)},getCardGroupsSelectors:function s(){return(0,d.selectors)(e.cardGroups)},getCardMessageToSchemasSelectors:function s(){return(0,f.selectors)(e.cardMessageToSchemas)},getFlightsSelectors:function s(){return(0,p.selectors)(e.flights)},getCouponsSelectors:function s(){return(0,I.selectors)(e.coupons)},getComposeSessionsSelectors:function s(){return(0,ae.selectors)(e.composeSessions)},getAttachmentsSelectors:function s(){return(0,y.selectors)(e.attachments)},getMessagesSelectors:function s(){return(0,j.selectors)(e.messages)},getMessageBodiesSelectors:function s(){return(0,B.selectors)(e.messageBodies)},getSearchSuggestionSelectors:function s(){return(0,le.selectors)(e.searchSuggestions)},getDocumentSelectors:function s(){return(0,o.selectors)(e.documents)},getRouterSelectors:function s(){return(0,q.selectors)(e.router)},getAccountSelectors:(0,ee.selectors)(e.mailboxes).getAccountsSelectors,getUnSubscribeListSelectors:function s(){return(0,x.selectors)(e.unSubscribeList)},getVideoPlayerSelectors:function s(){return(0,N.selectors)(e.videoPlayers)},getContactSelectors:function s(){return(0,V.selectors)(e.addressBook)},getFeatureCueSelectors:function s(){return(0,w.selectors)(e.featureCues)},getSubjectAndSnippetSelectors:function s(){return(0,c.selectors)(e.subjectsAndSnippets)},getGifItemsSelectors:function s(){return(0,z.selectors)(e.gifItems)},getGifCategoriesSelectors:function s(){return(0,J.selectors)(e.gifCategories)},getSportsTeamsSelectors:function s(){return(0,W.selectors)(e.sportsTeams)},getDownloadsSelectors:function s(){return(0,Z.selectors)(e.downloads)},isComposeSaveDue:(0,ae.selectors)(e.composeSessions).isSaveDue,getMessageFolderId:(0,j.selectors)(e.messages).getFolderId,isDraftFolder:function e(s){return r.getFoldersSelectors().isDraftFolder(s)},isDraftMessage:function e(s){return(0,t.compose)(r.isDraftFolder,r.getMessageFolderId)(s)},getMessageFromAddress:(0,j.selectors)(e.messages).getFromAddresses,getMessageToAddress:(0,j.selectors)(e.messages).getToAddresses,getMessageCcAddress:(0,j.selectors)(e.messages).getCcAddresses,getMessageBccAddress:(0,j.selectors)(e.messages).getBccAddresses,getReplyToAddress:(0,j.selectors)(e.messages).getReplyToAddresses,getCaptcha:(0,j.selectors)(e.messages).getCaptcha,getMessageTimeStamp:function e(s){return r.getMessagesSelectors().getTimeStamp(s)},getAccountIdByFolderId:function s(t){return(0,a.selectors)(e.folders).getAccountIdByFolderId(t)},doesMessageBodyExist:function e(s){return r.getMessageBodiesSelectors().doesMessageBodyExist(s)},getMessageBody:function e(s){return r.getMessageBodiesSelectors().get(s)},getAccountSignaturebyAccountId:function s(t){return(0,ee.selectors)(e.mailboxes).getAccountsSelectors().getSignatureByAccountId(t)},getAccountSignaturebyFolderId:function e(s){return r.getAccountSignaturebyAccountId(r.getAccountIdByFolderId(s))},getSignatureByAccountEmail:function e(s){return r.getAccountSelectors().getSignatureByAccountEmail(s)},doesMessageIdExist:function e(s){return r.getMessagesSelectors().doesMessageIdExist(s)},getMessageCsid:function e(s){return r.getMessagesSelectors().getCsid(s)},getMessageIdsFromMessageGroupId:function e(s){return r.getMessageGroupsSelectors().getMessageIdsFromMessageGroupId(s)},getMessageGroupItems:function e(s){var t=r.getComposeSessionsSelectors(),o=t.findReplyForwardCsidsOfMessage;return r.getMessageIdsFromMessageGroupId(s).filter(function(e){return!r.isDraftMessage(e)}).reduce(function(e,s){return e.concat({messageId:s,csid:r.getMessageCsid(s)}).concat(o(s).map(function(e){return{csid:e,messageId:null}}))},[])},findReplyForwardCsidsOfMessage:function s(t){return(0,ae.selectors)(e.composeSessions).findReplyForwardCsidsOfMessage(t)},doesComposeSessionExist:function s(t){return(0,ae.selectors)(e.composeSessions).doesComposeSessionExist(t)},getComposeFieldToFocus:function s(t){return(0,ae.selectors)(e.composeSessions).getComposeFieldToFocus(t)},hasUnsavedComposeData:function s(t){return(0,ae.selectors)(e.composeSessions).hasUnsavedData(t)},getUnsavedComposeData:function s(t){return(0,ae.selectors)(e.composeSessions).getUnsavedData(t)},doComposeFromRouteQueryParams:function s(t){return(0,ae.selectors)(e.composeSessions).doComposeFromRouteQueryParams(t)},doComposeFromMailToLink:function s(t){return(0,ae.selectors)(e.composeSessions).doComposeFromMailToLink(t)},getComposeMailToLink:function s(t){return(0,ae.selectors)(e.composeSessions).getMailToLink(t)},getDraftMessageId:function s(t){return(0,ae.selectors)(e.composeSessions).getDraftMessageId(t)},getForwardCreativeId:function s(t){return(0,ae.selectors)(e.composeSessions).getForwardCreativeId(t)},getInForwardToMessageId:function s(t){return(0,ae.selectors)(e.composeSessions).getInForwardToMessageId(t)},isReplyMessage:function e(s){return r.getComposeSessionsSelectors().isReplyMessage(s)},isReplyAllMessage:function e(s){return r.getComposeSessionsSelectors().isReplyAllMessage(s)},isForwardMessage:function e(s){return r.getComposeSessionsSelectors().isForwardMessage(s)},getReplyingToMessageId:function s(t){return(0,ae.selectors)(e.composeSessions).getReplyingToMessageId(t)},isReplyOrReplyAll:function e(s){return r.isReplyMessage(s)||r.isReplyAllMessage(s)},getAttachmentsByMessageId:function e(s){return(r.getAttachmentIdsByMessageId(s)||[]).map(r.getAttachmentById)},hasNonInlineAttachmentsByMessageId:function e(s){return(r.getAttachmentIdsByMessageId(s)||[]).some(r.isNonInlineAttachmentById)},getSelectedMailboxId:(0,ee.selectors)(e.mailboxes).getSelectedMailboxId,getAdRotationId:function s(){return(0,oe.selectors)(e.ads).getAdRotationId()},shouldRotateAds:(0,oe.selectors)(e.ads).shouldRotateAds,getAdsSelectors:function s(){return(0,oe.selectors)(e.ads)},getCurrentListId:function s(){return(0,fe.getListIdFromRoute)((0,q.selectors)(e.router).getRoute())},getSearchSuggestions:(0,le.selectors)(e.searchSuggestions).getSuggestions,getComposeSuggestions:(0,Ie.selectors)(e.composeSuggestions).getSuggestions,getCurrentGroupId:function s(){return(0,q.selectors)(e.router).getRoute().params.groupId},getFolderIdsForActiveAccount:function s(t){var r=(0,ee.selectors)(e.mailboxes).getAccountsSelectors().getActiveAccountId();return(0,a.selectors)(e.folders).getFolderIdsFromFolderType(t,r)},getActiveAccountId:function s(){return(0,ee.selectors)(e.mailboxes).getAccountsSelectors().getActiveAccountId()},getAccountIdByAccountEmail:function s(t){return(0,ee.selectors)(e.mailboxes).getAccountsSelectors().getAccountIdByAccountEmail(t)},getEmailOfActiveAccount:function s(){var t=(0,ee.selectors)(e.mailboxes).getAccountsSelectors().getActiveAccountId();return(0,ee.selectors)(e.mailboxes).getAccountsSelectors().getAccountEmailByAccountId(t)},isFolderExpanded:function s(t){return(0,E.selectors)(e.features,r).getSetting(Se.Settings.EXPANDED_FOLDERS).indexOf(t)!==-1},getAttachmentById:function e(s){return r.getAttachmentsSelectors().getAttachmentById(s)},getAttachmentMessageReferenceByContentId:function e(s){return r.getAttachmentsSelectors().getMessageReferenceByContentId(s)},__getAttachmentByContentId:function e(s){return r.getAttachmentsSelectors().__getByContentId(s)},isInlineAttachmentById:function e(s){return r.getAttachmentsSelectors().isInlineAttachmentById(s)},isNonInlineAttachmentById:function e(s){return r.getAttachmentsSelectors().isNonInlineAttachmentById(s)},getAttachmentIdsByMessageId:(0,F.selectors)(e.messageToAttachments).byMessageId,getPaymentSelectors:function s(){return(0,te.selectors)(e.payments)},getAliasSuggestions:(0,ee.selectors)(e.mailboxes).getAliasSuggestions,getAliasSuggestionStatus:(0,ee.selectors)(e.mailboxes).getAliasSuggestionStatus,getAliasAccounts:(0,ee.selectors)(e.mailboxes).getAccountsSelectors().getAliasAccounts,isMyEmailAddress:(0,ee.selectors)(e.mailboxes).getAccountsSelectors().isMyEmailAddress,getMailboxesSelectors:function s(){return(0,ee.selectors)(e.mailboxes)},getEmojiSearchResults:(0,ce.selectors)(e.emoji).getEmojiSearchResults,getEmojiSearchStatus:(0,ce.selectors)(e.emoji).getEmojiSearchStatus,getDraftFolderIdByAccountId:function s(t){return(0,a.selectors)(e.folders).getFolderIdsFromFolderType(Se.FolderTypes.DRAFT,t)[0]},getSendFolderIdByAccountId:function s(t){return(0,a.selectors)(e.folders).getFolderIdsFromFolderType(Se.FolderTypes.SENT,t)[0]},getCalendarSelectors:function s(){return(0,de.selectors)(e.calendar)},getEnvironmentSelectors:function s(){return(0,pe.selectors)(e.environment)},getLaunchError:(0,ye.selectors)(e.launchError).getLaunchErrorType,getLaunchOverrideUrl:(0,ye.selectors)(e.launchError).getLaunchOverrideUrl};return s({},r,{getFeaturesSelectors:function s(){return(0,E.selectors)(e.features,r)},getComposeSessionsSelectors:function s(){return(0,ae.selectors)(e.composeSessions)}})});
},{"../platform/mail_constants":"./platform/mail_constants","../platform/utils/list":"./platform/utils/list","./address_book":"./reducers_selectors/address_book","./ads":"./reducers_selectors/ads","./attachments":"./reducers_selectors/attachments","./calendar":"./reducers_selectors/calendar","./card_groups":"./reducers_selectors/card_groups","./card_message_to_schemas":"./reducers_selectors/card_message_to_schemas","./compose_sessions":"./reducers_selectors/compose_sessions","./compose_suggestions":"./reducers_selectors/compose_suggestions","./coupons":"./reducers_selectors/coupons","./documents":"./reducers_selectors/documents","./downloads":"./reducers_selectors/downloads","./emoji":"./reducers_selectors/emoji","./environment":"./reducers_selectors/environment","./feature_cues.js":"./reducers_selectors/feature_cues","./features":"./reducers_selectors/features","./flights":"./reducers_selectors/flights","./folders":"./reducers_selectors/folders","./gif_categories.js":"./reducers_selectors/gif_categories","./gif_items.js":"./reducers_selectors/gif_items","./launch_error":"./reducers_selectors/launch_error","./lists":"./reducers_selectors/lists","./mailboxes":"./reducers_selectors/mailboxes","./message_bodies":"./reducers_selectors/message_bodies","./message_groups":"./reducers_selectors/message_groups","./message_metadata":"./reducers_selectors/message_metadata","./message_to_attachments":"./reducers_selectors/message_to_attachments","./online":"./reducers_selectors/online","./payments":"./reducers_selectors/payments","./router":"./reducers_selectors/router","./search_suggestions":"./reducers_selectors/search_suggestions","./sports_teams.js":"./reducers_selectors/sports_teams","./streams":"./reducers_selectors/streams","./subject_snippet":"./reducers_selectors/subject_snippet","./unsubscribe_list":"./reducers_selectors/unsubscribe_list","./video_players":"./reducers_selectors/video_players","redux":"./node_modules/redux/lib/index.js","reselect":"./node_modules/reselect/lib/index.js"}],"./reducers_selectors/launch_error":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var r=require("redux"),e=require("../platform/react_action_constants"),t=function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1],r=n.type,u=n.launchError;switch(r){case e.mail.INITIAL_STATE:return u||t;case e.mail.LAUNCH_FAILED:return"";default:return t}},n=function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1],u=n.type,o=n.launchOverrideUrl;switch(u){case e.mail.INITIAL_STATE:return o||t;default:return t}};exports.default=(0,r.combineReducers)({type:t,overrideUrl:n});var u=exports.selectors=function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getLaunchErrorType:function r(){return e.type},getLaunchOverrideUrl:function r(){return e.overrideUrl}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/lists/has_more_items":[function(require,module,exports){
"use strict";exports.__esModule=!0;var E=require("../../platform/react_action_constants"),a=function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments[1],_=s.listId;switch(s.type){case E.mail.INITIAL_STATE:case E.mail.V3_CHECK_MAIL_RECEIVED:case E.mail.CHANGE_FOLDER_SUCCEEDED:case E.mail.UNDO_MOVE_SUCCEEDED:case E.mail.MORE_MESSAGES_REQUEST_SUCCESS:case E.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case E.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case E.mail.SEARCH_LIST_ITEMS_RECEIVED:case E.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case E.mail.GIF_FETCH_SUCCEEDED:return"undefined"!=typeof s.listData.lists[_].hasMoreItems?s.listData.lists[_].hasMoreItems:e;default:return e}};exports.default=a,module.exports=exports.default;
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/lists":[function(require,module,exports){
"use strict";function E(E){return E&&E.__esModule?E:{default:E}}exports.__esModule=!0,exports.selectors=void 0;var e=Object.assign||function(E){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var S in t)Object.prototype.hasOwnProperty.call(t,S)&&(E[S]=t[S])}return E},t=require("redux"),S=require("../../platform/react_action_constants"),_=require("../../platform/utils/list"),s=require("./item_ids"),a=E(s),i=require("./next_items_url.js"),r=E(i),l=require("./offset.js"),R=E(l),c=require("./status.js"),n=E(c),A=require("./has_more_items.js"),u=E(A),D=(0,t.combineReducers)({itemIds:a.default,nextItemsUrl:r.default,offset:R.default,hasMoreItems:u.default,status:n.default}),M=function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments[1];switch(_.type){case S.mail.INITIAL_STATE:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.MORE_MESSAGES_REQUEST_SUCCESS:case S.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case S.mail.GIF_FETCH_SUCCEEDED:case S.mail.COUPONS_LIST_SUCCEEDED:case S.mail.TRAVEL_LIST_SUCCEEDED:return e({},t,Object.keys(_.listData.lists||[]).reduce(function(E,S){var s;return e({},E,(s={},s[S]=D(t[S],e({},_,{listId:S})),s))},{}));case S.mail.OPEN_PAGE_REQUESTED:case S.mail.ARCHIVE_FOLDER_REQUESTED:case S.mail.GIF_FETCH_REQUESTED:case S.mail.GIF_FETCH_FAILED:case S.mail.CLEAR_FOLDER_REQUESTED:var s,a=_.listId;return e({},t,(s={},s[a]=D(t[a],_),s));case S.mail.DELETE_DRAFT_REQUESTED:case S.mail.MARK_READ_FOLDER_REQUESTED:case S.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_ARCHIVE_REQUESTED:case S.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_DELETE_REQUESTED:case S.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case S.mail.MESSAGES_MARK_READ_REQUESTED:case S.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MARK_SPAM_REQUESTED:case S.mail.MESSAGES_MARK_STARRED_REQUESTED:case S.mail.MESSAGES_MARK_UNREAD_REQUESTED:case S.mail.MESSAGES_MARK_UNSTARRED_REQUESTED:case S.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_MOVE_REQUESTED:case S.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case S.mail.MESSAGES_RESTORE_REQUESTED:case S.mail.MOVE_ITEMS_REQUESTED:case S.mail.READ_CHANGE_REQUESTED:case S.mail.SEND_SUCCESS:case S.mail.V3_MESSAGE_SEND_SUCCEEDED:case S.mail.STAR_CHANGE_REQUESTED:var i=_.listsToUpdate,r=void 0===i?[]:i,l=_.itemsToUpdate,R=void 0===l?[]:l;return r.length&&R.length?e({},t,r.reduce(function(E,S){var s;return e({},E,(s={},s[S.listId]=D(t[S.listId],e({},_,{listToUpdate:S,itemsToUpdate:R})),s))},{})):t;default:return t}};exports.default=M;var T=exports.selectors=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{doesListExist:function E(t){return!!e[t]},getListIdsByContentType:function E(t){return Object.keys(e).filter(function(E){return(0,_.getListContentTypeFromListId)(E)===t})},getItemIdsSelectors:function E(t){return(0,s.selectors)(e[t].itemIds)},__getListIds__:function E(){return Object.keys(e)},getListNextItemsUrl:function E(t){return e[t].nextItemsUrl},getListOffset:function E(t){return e[t].offset},hasMoreItems:function E(t){return e[t].hasMoreItems},getListStatus:function E(t){return e[t].status}}};
},{"../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils/list":"./platform/utils/list","./has_more_items.js":"./reducers_selectors/lists/has_more_items","./item_ids":"./reducers_selectors/lists/item_ids","./next_items_url.js":"./reducers_selectors/lists/next_items_url","./offset.js":"./reducers_selectors/lists/offset","./status.js":"./reducers_selectors/lists/status","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/lists/item_ids":[function(require,module,exports){
"use strict";function E(E){return E&&E.__esModule?E:{default:E}}exports.__esModule=!0,exports.selectors=void 0;var e=require("../../platform/react_action_constants"),a=require("../helpers"),S=require("lodash/isEqual"),t=E(S),_=function E(e,a){return a.reduce(function(E,e){return E.indexOf(e)!==-1?E:[].concat(E,[e])},[].concat(e))},i=function E(e,a){var S=e.findIndex(function(E){return E===a[a.length-1]});return _(a,e.slice(S+1,e.length))},s=function E(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments[1],l=s.listId;switch(s.type){case e.mail.INITIAL_STATE:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.GIF_FETCH_SUCCEEDED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:var r=s.listData.lists[l].itemIds;return(0,t.default)(S,r)?S:_(S,r);case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:var n=s.listData.lists[l],R=n.itemIds,c=n.totalHits;return R.length>S.length?R:R.length<S.length&&R.length===c?R:(0,t.default)(S.slice(0,R.length),R)?S:i(S,R);case e.mail.READ_CHANGE_REQUESTED:case e.mail.MESSAGES_MARK_READ_REQUESTED:case e.mail.MARK_READ_FOLDER_REQUESTED:var A=s.listToUpdate,T=s.itemsToUpdate,M=s.isRead;if(!A)return S;var D=A.listId,d=(0,a.filterInvalidIdsBasedOnListFlags)(T,D,M?[]:["unread"]);return d.length?S.filter(function(E){return d.indexOf(E)===-1}):S;case e.mail.STAR_CHANGE_REQUESTED:case e.mail.MESSAGES_MARK_UNSTARRED_REQUESTED:var I=s.listToUpdate,u=s.itemsToUpdate,m=s.isStarred;if(!I)return S;var o=I.listId,U=(0,a.filterInvalidIdsBasedOnListFlags)(u,o,m?["flagged","starred"]:[]);return U.length?S.filter(function(E){return U.indexOf(E)===-1}):S;case e.mail.MESSAGES_DELETE_REQUESTED:case e.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_ARCHIVE_REQUESTED:case e.mail.MESSAGES_RESTORE_REQUESTED:case e.mail.MOVE_ITEMS_REQUESTED:case e.mail.MESSAGES_MOVE_REQUESTED:case e.mail.MESSAGES_MARK_SPAM_REQUESTED:case e.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case e.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.SEND_SUCCESS:case e.mail.DELETE_DRAFT_REQUESTED:var C=s.listToUpdate,f=s.itemsToUpdate;if(!C)return S;var O=C.folderIds,G=void 0===O?[]:O,Q=(0,a.filterInvalidIdsBasedOnListFolderIds)(f,G);return Q.length?S.filter(function(E){return Q.indexOf(E)===-1}):S;case e.mail.ARCHIVE_FOLDER_REQUESTED:case e.mail.CLEAR_FOLDER_REQUESTED:return[];default:return S}};exports.default=s;var l=exports.selectors=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{getItemIdByIndex:function E(a){return e[a]},getItemIds:function E(){return e}}};
},{"../../platform/react_action_constants":"./platform/react_action_constants","../helpers":"./reducers_selectors/helpers","lodash/isEqual":"./node_modules/lodash/isEqual.js"}],"./reducers_selectors/lists/next_items_url":[function(require,module,exports){
"use strict";exports.__esModule=!0;var E=require("../../platform/react_action_constants"),a=function a(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1],t=e.listId;switch(e.type){case E.mail.INITIAL_STATE:case E.mail.V3_CHECK_MAIL_RECEIVED:case E.mail.CHANGE_FOLDER_SUCCEEDED:case E.mail.UNDO_MOVE_SUCCEEDED:case E.mail.MORE_MESSAGES_REQUEST_SUCCESS:case E.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case E.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case E.mail.SEARCH_LIST_ITEMS_RECEIVED:case E.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case E.mail.GIF_FETCH_SUCCEEDED:return e.listData.lists[t].nextItemsUrl||"";default:return _}};exports.default=a,module.exports=exports.default;
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/lists/offset":[function(require,module,exports){
"use strict";exports.__esModule=!0;var t=require("../../platform/react_action_constants"),e=function e(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments[1],a=r.listId;switch(r.type){case t.mail.GIF_FETCH_SUCCEEDED:return r.listData.lists[a].offset||"";default:return s}};exports.default=e,module.exports=exports.default;
},{"../../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/lists/status":[function(require,module,exports){
"use strict";exports.__esModule=!0;var e=require("../../platform/react_action_constants"),E=require("../../platform/mail_constants"),a=function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.RecordStates.DOES_NOT_EXIST,r=arguments[1];switch(r.type){case e.mail.INITIAL_STATE:return r.launchError?E.RecordStates.ERROR:E.RecordStates.LOADED;case e.mail.GIF_FETCH_SUCCEEDED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:return E.RecordStates.LOADED;case e.mail.GIF_FETCH_REQUESTED:case e.mail.CHANGE_FOLDER_REQUESTED:case e.mail.SEARCH_LIST_ITEMS_REQUESTED:return E.RecordStates.LOADING;case e.mail.GIF_FETCH_FAILED:case e.mail.CHANGE_FOLDER_FAILED:case e.mail.SEARCH_LIST_ITEMS_FAILED:return E.RecordStates.ERROR;default:return t}};exports.default=a,module.exports=exports.default;
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/mailboxes":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.selectors=void 0;var t=require("redux"),a=require("../platform/react_action_constants"),s=require("./alias_suggestions"),n=e(s),r=require("lodash/omit"),u=e(r),i=require("../platform/mail_constants"),o=require("./accounts"),c=e(o),l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments[1];switch(s.type){case a.mail.INITIAL_STATE:return s.mailboxes[0].id}return t},E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[1];switch(s.type){case a.mail.SOCIAL_ACCOUNTS_STATUS_RECEIVED:return s.response||t;case a.mail.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:var n=s.key;return(0,u.default)(t||{},n);default:return t}},A=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{deaDomain:"",deaPrefix:""},s=arguments[1];switch(s.type){case a.mail.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:var n=s.features,r=void 0===n?{}:n,u=r[i.MailboxAttributes.DEA_BASE_NAME];return void 0!==u?u:t;case a.mail.INITIAL_STATE:var o=s.mailboxAttributes,c=void 0===o?{}:o,l=c.responses||{},E=l[i.MailboxAttributes.DEA_BASE_NAME];return void 0!==E?E:t;case a.mail.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:return{deaPrefix:s.baseName,deaDomain:s.domain};default:return t}},d=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments[1];switch(s.type){case a.mail.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:case a.mail.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:return[];case a.mail.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:var n=s.suggestions;return void 0===n?[]:n;default:return t}},S=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments[1];switch(s.type){case a.mail.ACCOUNT_ADD_SUCCEEDED:return s.updatedAccount.id;case a.mail.ACCOUNT_ADD_FINISHED:return null;default:return t}},_=(0,t.combineReducers)({id:l,accounts:c.default,aliasSuggestion:n.default,socialAccountsStatus:E,deaBaseName:A,baseNameSuggestions:d,recentlyAddedAccount:S});exports.default=_;var g=exports.selectors=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getSelectedMailboxId:function e(){return t.id},getAccountsSelectors:function e(){return(0,o.selectors)(t.accounts)},getAliasSuggestions:(0,s.selectors)(t.aliasSuggestion).getSuggestions,getAliasSuggestionStatus:(0,s.selectors)(t.aliasSuggestion).getStatus,getSocialAccountsStatus:function e(){return t.socialAccountsStatus},getDeaBaseName:function e(){return t.deaBaseName},getBaseNameSuggestions:function e(){return t.baseNameSuggestions},getRecentlyAddedAccount:function e(){return t.recentlyAddedAccount?t.accounts[t.recentlyAddedAccount]:null}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","./accounts":"./reducers_selectors/accounts","./alias_suggestions":"./reducers_selectors/alias_suggestions","lodash/omit":"./node_modules/lodash/omit.js","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/message_bodies":[function(require,module,exports){
"use strict";function E(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=arguments[1],e=S.type,_=S.messageId,a=S.v3MessageBodiesMap;switch(e){case D.mail.INITIAL_STATE:case D.mail.MESSAGE_BODIES_RECEIVED:case D.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case D.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case D.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case D.mail.MESSAGE_SAVE_SUCCEEDED:case D.mail.V3_MESSAGE_SAVE_SUCCEEDED:case D.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case D.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:return a[_].body||{};default:return E}}function S(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.RecordStates.DOES_NOT_EXIST;switch(arguments[1].type){case D.mail.INITIAL_STATE:case D.mail.MESSAGE_BODIES_RECEIVED:case D.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case D.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case D.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case D.mail.MESSAGE_SAVE_SUCCEEDED:case D.mail.V3_MESSAGE_SAVE_SUCCEEDED:case D.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case D.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:return c.RecordStates.LOADED;case D.mail.MESSAGE_BODIES_REQUESTED:case D.mail.MESSAGE_GROUP_OPENED:return c.RecordStates.LOADING;case D.mail.MESSAGE_BODIES_FAILED:return c.RecordStates.ERROR;default:return E}}function e(){var E=arguments.length>0&&void 0!==arguments[0]&&arguments[0],S=arguments[1];switch(S.type){case D.mail.INITIAL_STATE:case D.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case D.mail.MESSAGE_SAVE_SUCCEEDED:case D.mail.V3_MESSAGE_SAVE_SUCCEEDED:return!1;case D.mail.MESSAGE_BODIES_RECEIVED:case D.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case D.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case D.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case D.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case D.mail.MESSAGE_BODIES_REQUESTED:return!!S.secure;default:return E}}function _(){var E=arguments.length>0&&void 0!==arguments[0]&&arguments[0],S=arguments[1];switch(S.type){case D.mail.INITIAL_STATE:case D.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case D.mail.MESSAGE_SAVE_SUCCEEDED:case D.mail.V3_MESSAGE_SAVE_SUCCEEDED:return!0;case D.mail.MESSAGE_BODIES_RECEIVED:case D.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case D.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case D.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case D.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case D.mail.MESSAGE_BODIES_REQUESTED:return!!S.full;default:return E}}function a(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=arguments[1];switch(S.type){case D.mail.INITIAL_STATE:case D.mail.MESSAGE_BODIES_RECEIVED:case D.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case D.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case D.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case D.mail.MESSAGE_SAVE_SUCCEEDED:case D.mail.V3_MESSAGE_SAVE_SUCCEEDED:case D.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case D.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case D.mail.MESSAGE_GROUP_OPENED:case D.mail.MESSAGE_BODIES_REQUESTED:case D.mail.MESSAGE_BODIES_FAILED:var e=Object.keys(S.v3MessageBodiesMap||{});return e.length?s({},E,e.reduce(function(e,_){var a;return s({},e,(a={},a[_]=i(E[_],s({},S,{messageId:_})),a))},{})):E;default:return E}}exports.__esModule=!0,exports.selectors=void 0;var s=Object.assign||function(E){for(var S=1;S<arguments.length;S++){var e=arguments[S];for(var _ in e)Object.prototype.hasOwnProperty.call(e,_)&&(E[_]=e[_])}return E},t=require("redux"),D=require("../platform/react_action_constants"),c=require("../platform/mail_constants"),i=(0,t.combineReducers)({body:E,status:S,isSecure:e,hasFullBody:_}),r=exports.selectors=function E(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{get:function E(e){return S[e].body},getState:function E(e){return S[e]?S[e].status:c.RecordStates.DOES_NOT_EXIST},doesMessageBodyExist:function E(e){return!!S[e]&&[c.RecordStates.DOES_NOT_EXIST,c.RecordStates.ERROR].indexOf(S[e].status)===-1},hasFullBody:function E(e){return S[e]&&S[e].hasFullBody},isSecureMessage:function E(e){var _=S[e];if(!_)return!1;var a=_.body.htmlAnnotations,s=void 0===a?[]:a,t=_.isSecure;return _.hasFullBody?s.some(function(E){return"blocked"===E.type}):t}}};exports.default=a;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/message_groups":[function(require,module,exports){
"use strict";function E(E){return E&&E.__esModule?E:{default:E}}function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],_=e.type,s=e.listData,n=e.itemsToUpdate;switch(_){case t.mail.AUTO_CHECK_MAIL_RECEIVED:case t.mail.INITIAL_STATE:case t.mail.V3_CHECK_MAIL_RECEIVED:case t.mail.CHANGE_FOLDER_SUCCEEDED:case t.mail.UNDO_MOVE_SUCCEEDED:case t.mail.MORE_MESSAGES_REQUEST_SUCCESS:case t.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case t.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case t.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case t.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case t.mail.SEARCH_LIST_ITEMS_RECEIVED:var c=s.groupIdToMessageIdsMap;if(!c)return E;var u=Object.keys(c).filter(function(e){return!(0,r.default)(c[e],E[e])}).reduce(function(e,t){var r;return a({},e,(r={},r[t]=i(E[t],{type:_,messageGroup:c[t]}),r))},{});return Object.keys(u).length?a({},E,u):E;case t.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case t.mail.MESSAGE_SAVE_SUCCEEDED:case t.mail.V3_MESSAGE_SAVE_SUCCEEDED:var o=s.groupIdToMessageIdsMap;if(!o)return E;var l=Object.keys(o).filter(function(e){return!(E[e]||[]).some(function(E){return o[e].indexOf(E)!==-1})}).reduce(function(e,t){var r;return a({},e,(r={},r[t]=i(E[t],{type:_,messageGroup:o[t]}),r))},{});return Object.keys(l).length?a({},E,l):E;case t.mail.MESSAGES_DELETE_REQUESTED:case t.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:return n.length?n.reduce(function(E,e){var t,r=e.groupId,s=i(E[r],{type:_,itemToUpdate:e});return s.length?a({},E,(t={},t[r]=s,t)):(0,S.default)(E,[r])},a({},E)):E;default:return E}}exports.__esModule=!0,exports.selectors=void 0;var a=Object.assign||function(E){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(E[t]=a[t])}return E},t=require("../platform/react_action_constants"),_=require("lodash/isEqual"),r=E(_),s=require("lodash/omit"),S=E(s),i=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],_=a.type,s=a.messageGroup,E=void 0===s?[]:s,S=a.itemToUpdate,i=void 0===S?{}:S;switch(_){case t.mail.AUTO_CHECK_MAIL_RECEIVED:case t.mail.INITIAL_STATE:case t.mail.V3_CHECK_MAIL_RECEIVED:case t.mail.CHANGE_FOLDER_SUCCEEDED:case t.mail.UNDO_MOVE_SUCCEEDED:case t.mail.MORE_MESSAGES_REQUEST_SUCCESS:case t.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case t.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case t.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case t.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case t.mail.SEARCH_LIST_ITEMS_RECEIVED:return(0,r.default)(E,e)?e:E;case t.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case t.mail.MESSAGE_SAVE_SUCCEEDED:case t.mail.V3_MESSAGE_SAVE_SUCCEEDED:return e.some(function(e){return E.indexOf(e)!==-1})?e:e.concat(E);case t.mail.MESSAGES_DELETE_REQUESTED:case t.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:return!i.destinationFolder&&i.isAffected?e.filter(function(E){return E!==i.messageId}):e;default:return e}};exports.default=e;var n=exports.selectors=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{doesMessageGroupIdExist:function E(a){return!!e[a]},getMessageIdsFromMessageGroupId:function E(a){return e[a]},__getGroupIdContainingMessageId__:function E(a){return Object.keys(e).find(function(E){return e[E].indexOf(a)!==-1})}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","lodash/isEqual":"./node_modules/lodash/isEqual.js","lodash/omit":"./node_modules/lodash/omit.js"}],"./reducers_selectors/message_metadata":[function(require,module,exports){
"use strict";function E(E){return E&&E.__esModule?E:{default:E}}function _(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments[1],S=_.listData,C=_.type,s=_.itemsToUpdate,I=_.messageMetadataMap,c=void 0===I?{}:I,A=[e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED,e.mail.MESSAGE_SAVE_SUCCEEDED].indexOf(C)!==-1,l=C===e.mail.V3_CHECK_MAIL_RECEIVED;switch(C){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:if(!S.messages)return E;var m=Object.keys(S.messages).filter(function(_){return A||l?!(0,i.default)(E[_],S.messages[_]):!E[_]}).reduce(function(s,i){var I;return a({},s,(I={},I[i]=H(E[i],a({type:C,message:S.messages[i],draftFolderId:_.draftFolderId,date:_.date,replyTo:c[i]?c[i].headers.replyTo:[]},C===e.mail.V3_MESSAGE_SAVE_SUCCEEDED?{draftMessage:_.message}:{})),I))},{});return Object.keys(m).length?a({},E,m):E;case e.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case e.mail.MESSAGE_BODIES_RECEIVED:var R=Object.keys(c);if(!R.length)return E;var T=R.map(function(_){var a;return a={},a[_]=H(E[_],{type:C,replyTo:c[_].headers.replyTo}),a});return a({},E,Object.assign.apply({},T));case e.mail.READ_CHANGE_REQUESTED:case e.mail.STAR_CHANGE_REQUESTED:var t=s.filter(function(E){return E.isAffected}).reduce(function(S,e){var C;return a({},S,(C={},C[e.messageId]=H(E[e.messageId],a({},_,{itemToUpdate:e})),C))},{});return Object.keys(t).length?a({},E,t):E;case e.mail.MOVE_ITEMS_REQUESTED:var r=s.filter(function(E){return E.isAffected}),M=r.filter(function(E){return!E.destinationFolder}).map(function(E){return E.messageId}),n=r.reduce(function(_,S){var e;return a({},_,(e={},e[S.messageId]=H(E[S.messageId],{type:C,itemToUpdate:S}),e))},{});return Object.keys(n).length||M.length?(0,D.default)(a({},E,n),M):E;default:return E}}exports.__esModule=!0,exports.selectors=void 0;var a=Object.assign||function(E){for(var _=1;_<arguments.length;_++){var a=arguments[_];for(var S in a)Object.prototype.hasOwnProperty.call(a,S)&&(E[S]=a[S])}return E},S=require("redux"),e=require("../platform/react_action_constants"),C=require("../platform/mail_constants"),s=require("lodash/isEqual"),i=E(s),I=require("lodash/omit"),D=E(I),c=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:return C.id;default:return _}},A=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:return!_&&C.csid?C.csid||"":_;default:return _}},l=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:return C.conversationId?C.conversationId:_;default:return _}},m=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:return C.cardConversationId?C.cardConversationId:_;default:return _}},R=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:return C.decos?C.decos:_;default:return _}},T=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=arguments[1],C=S.type,s=S.message;switch(C){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return s.flags;case e.mail.MESSAGES_MARK_UNREAD_REQUESTED:return a({},_,{read:!1});case e.mail.MESSAGES_MARK_READ_REQUESTED:case e.mail.MARK_READ_FOLDER_REQUESTED:return a({},_,{read:!0});case e.mail.STAR_CHANGE_REQUESTED:return a({},_,{flagged:!S.isStarred});case e.mail.READ_CHANGE_REQUESTED:return a({},_,{read:!S.isRead});case e.mail.MESSAGES_MARK_STARRED_REQUESTED:return a({},_,{flagged:!0});case e.mail.MESSAGES_MARK_UNSTARRED_REQUESTED:return a({},_,{flagged:!1});default:return _}},t=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1],S=a.type,C=a.message,s=a.itemToUpdate;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return C.folder.id;case e.mail.MOVE_ITEMS_REQUESTED:case e.mail.MESSAGES_MOVE_REQUESTED:case e.mail.MESSAGES_ARCHIVE_REQUESTED:case e.mail.MESSAGES_RESTORE_REQUESTED:case e.mail.MESSAGES_DELETE_REQUESTED:case e.mail.MESSAGES_MARK_SPAM_REQUESTED:case e.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case e.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case e.mail.SEND_SUCCESS:case e.mail.V3_MESSAGE_SEND_SUCCEEDED:case e.mail.ARCHIVE_FOLDER_REQUESTED:case e.mail.CLEAR_FOLDER_REQUESTED:return s.destinationFolder?s.destinationFolder.id:_;default:return _}},r=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return C.classification?C.classification:_;default:return _}},M=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return(0,i.default)(_,C.verifiedDomains)?_:C.verifiedDomains||[];default:return _}},n=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],S=a.type,E=a.replyTo;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:case e.mail.MESSAGE_BODIES_RECEIVED:case e.mail.COUPONS_LIST_SUCCEEDED:return(0,i.default)(_,E)?_:E||_;default:return _}},U=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:return(0,i.default)(_,C.replyTo)?_:C.inReplyTo||{};default:return _}},V=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:return(0,i.default)(_,C.headers.from)?_:C.headers.from;default:return _}},O=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return(0,i.default)(_,C.headers.to)?_:C.headers.to;default:return _}},G=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return(0,i.default)(_,C.headers.cc)?_:C.headers.cc;default:return _}},d=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return(0,i.default)(_,C.headers.bcc)?_:C.headers.bcc;default:return _}},L=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1],S=a.type,C=a.message,s=a.draftMessage;switch(S){case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:return s.id===C.id&&s.captcha?s.captcha:_;default:return _}},u=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return C.headers.date?C.headers.date:_;default:return _}},o=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1],S=a.type,C=a.message;switch(S){case e.mail.INITIAL_STATE:case e.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case e.mail.SEARCH_LIST_ITEMS_RECEIVED:case e.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case e.mail.MORE_MESSAGES_REQUEST_SUCCESS:case e.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case e.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case e.mail.AUTO_CHECK_MAIL_RECEIVED:case e.mail.V3_CHECK_MAIL_RECEIVED:case e.mail.CHANGE_FOLDER_SUCCEEDED:case e.mail.UNDO_MOVE_SUCCEEDED:case e.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case e.mail.MESSAGE_SAVE_SUCCEEDED:case e.mail.V3_MESSAGE_SAVE_SUCCEEDED:case e.mail.COUPONS_LIST_SUCCEEDED:case e.mail.TRAVEL_LIST_SUCCEEDED:return C.headers.messageIdRfc822?C.headers.messageIdRfc822:_;default:return _}},f=(0,S.combineReducers)({replyTo:n,from:V,to:O,cc:G,bcc:d,date:u,messageIdRfc822:o}),H=(0,S.combineReducers)({messageId:c,csid:A,conversationId:l,cardConversationId:m,decos:R,flags:T,folderId:t,inReplyTo:U,classification:r,verifiedDomains:M,captcha:L,headers:f});exports.default=_;var g=exports.selectors=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{doesMessageIdExist:function E(a){return!!_[a]},getConversationId:function E(a){return _[a].conversationId},getCardConversationId:function E(a){return _[a].cardConversationId},getDecos:function E(a){return _[a].decos},isTagged:function E(a){return _[a].decos&&_[a].decos.some(function(E){return E&&E.id===C.MessageDecorators.TAG})},getFlags:function E(a){return _[a].flags},getFolderId:function E(a){return _[a].folderId},getCsid:function E(a){return _[a].csid},getTimeStamp:function E(a){return _[a].headers.date},getMessageId:function E(a){return _[a].messageId},isVerifiedDomain:function E(a){return!!_[a].verifiedDomains.length},getFromAddresses:function E(a){return _[a].headers.from},getToAddresses:function E(a){return _[a].headers.to},getCcAddresses:function E(a){return _[a].headers.cc},getBccAddresses:function E(a){return _[a].headers.bcc},getReplyToAddresses:function E(a){return _[a].headers.replyTo},getCaptcha:function E(a){return _[a].captcha},getParticipant:function E(a){return[a].filter(function(E){return _[E].headers.from.length>0&&(_[E].headers.from[0].email||_[E].headers.from[0].name)}).map(function(E){return{email:_[E].headers.from[0].email,name:_[E].headers.from[0].name,recent:!_[E].flags.read}})[0]},getRecipients:function E(a){return _[a].headers.to.filter(function(E){return E.email||E.name}).reduce(function(E,S){return E.concat({email:S.email,name:S.name,recent:!_[a].flags.read})},[])},__get__:function E(a){return _[a]}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","lodash/isEqual":"./node_modules/lodash/isEqual.js","lodash/omit":"./node_modules/lodash/omit.js","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/message_to_attachments":[function(require,module,exports){
"use strict";function E(E){return E&&E.__esModule?E:{default:E}}function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],_=e.type,s=e.listData;switch(_){case r.mail.INITIAL_STATE:case r.mail.V3_CHECK_MAIL_RECEIVED:case r.mail.AUTO_CHECK_MAIL_RECEIVED:case r.mail.CHANGE_FOLDER_SUCCEEDED:case r.mail.UNDO_MOVE_SUCCEEDED:case r.mail.MORE_MESSAGES_REQUEST_SUCCESS:case r.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.mail.SEARCH_LIST_ITEMS_RECEIVED:case r.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.mail.MESSAGE_SAVE_SUCCEEDED:case r.mail.V3_MESSAGE_SAVE_SUCCEEDED:var c=a(E,s);return Object.keys(c).length?t({},E,c):E;default:return E}}function a(E){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.messageIdToAttachmentIdsMap,t=void 0===a?{}:a;return Object.keys(t).reduce(function(e,a){var r=t[a];return(0,s.default)(r,E[a])||(e[a]=r),e},{})}exports.__esModule=!0,exports.selectors=void 0;var t=Object.assign||function(E){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(E[t]=a[t])}return E},r=require("../platform/react_action_constants"),_=require("lodash/isEqual"),s=E(_);exports.default=e;var c=exports.selectors=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{byMessageId:function E(a){return e[a]}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","lodash/isEqual":"./node_modules/lodash/isEqual.js"}],"./reducers_selectors/online":[function(require,module,exports){
"use strict";function e(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1];switch(t.type){case r.mail.ONLINE_STATUS_CHANGED:return t.online}return e}exports.__esModule=!0,exports.selectors=void 0;var r=require("../platform/react_action_constants"),t=require("redux"),n=(0,t.combineReducers)({online:e});exports.default=n;var o=exports.selectors=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{isOnline:function e(){return r.online}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/payments":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var t=require("../platform/react_action_constants"),e=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1];switch(a.type){case t.mail.PAYMENTS_FETCH_RECEIVED:case t.mail.PAYMENTS_FETCH_FAILED:var s=a.payload;return s.length?s:r;default:return r}};exports.default=e;var r=exports.selectors=function t(e){return{getPaymentDetails:function t(){return e}}};
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/router":[function(require,module,exports){
"use strict";function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n.mail.OPEN_PAGE_REQUESTED:case n.mail.NAVIGATE_SUCCESS:return t.route}return r}function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n.mail.OPEN_PAGE_REQUESTED:return t.hashParams||r}return r}function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n.mail.INITIAL_STATE:return t.mrdParams||r;case n.mail.OPEN_PAGE_REQUESTED:return{}}return r}function u(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n.mail.OPEN_PAGE_REQUESTED:return t.uiContext||r}return r}exports.__esModule=!0,exports.selectors=void 0;var n=require("../platform/react_action_constants"),a=require("redux"),o=(0,a.combineReducers)({route:r,hashParams:t,mrdParams:e,uiContext:u});exports.default=o;var s=exports.selectors=function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getRoute:function r(){return t.route},getRouteName:function r(){return t.route.name},getRouteUrl:function r(){return t.route.url},isMobileRoute:function r(){return t.route.url&&"/m/"===t.route.url.substr(0,3)},getRouteParams:function r(){return t.route.params},getHashParams:function r(){return t.hashParams},getUIContext:function r(){return t.uiContext},getQueryParams:function r(){return t.route.query},getMrdParams:function r(){return t.mrdParams}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/search_suggestions":[function(require,module,exports){
"use strict";function t(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1];switch(o.type){case n.mail.SUGGESTIONS_RECEIVED:return e({},r,(t={},t[o.query]=o.suggestions,t))}return r}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getSuggestions:function r(e){return t[e]}}}exports.__esModule=!0;var e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};exports.selectors=r;var n=require("../platform/react_action_constants");exports.default=t;
},{"../platform/react_action_constants":"./platform/react_action_constants"}],"./reducers_selectors/sports_teams":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var t=require("../platform/react_action_constants"),e=require("redux"),r=require("../platform/mail_constants"),a=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];switch(a.type){case t.mail.SPORTS_FETCH_SUCCEEDED:return a.payload?a.payload:r;case t.mail.SPORTS_FETCH_FAILED:return r;default:return r}},s=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.RecordStates.DOES_NOT_EXIST;switch(arguments[1].type){case t.mail.SPORTS_FETCH_SUCCEEDED:return r.RecordStates.LOADED;case t.mail.SPORTS_FETCH_REQUESTED:return r.RecordStates.LOADING;case t.mail.SPORTS_FETCH_FAILED:return r.RecordStates.ERROR;default:return a}};exports.default=(0,e.combineReducers)({teams:a,teamsStatus:s});var o=exports.selectors=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getTeamsList:function t(){return e.teams},isSportsLoaded:function t(){return e.teamsStatus===r.RecordStates.LOADED},isSportsLoading:function t(){return e.teamsStatus===r.RecordStates.LOADING}}};
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/streams/cursor":[function(require,module,exports){
"use strict";function E(E){return E&&E.__esModule?E:{default:E}}function e(E,e){var S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=E.index,t=void 0===a?-1:a;return e===_.CursorMovement.UP?t--:e===_.CursorMovement.DOWN?t++:(0,r.default)(!e,"Movement not supported yet"),t<0?t=0:t>=S.length&&(t=S.length-1),{index:t,streamItem:S[t]}}exports.__esModule=!0,exports.selectors=void 0;var S=Object.assign||function(E){for(var e=1;e<arguments.length;e++){var S=arguments[e];for(var a in S)Object.prototype.hasOwnProperty.call(S,a)&&(E[a]=S[a])}return E};exports.moveCursor=e;var a=require("../../platform/react_action_constants"),_=require("../../platform/mail_constants"),t=require("../../platform/invariant"),r=E(t),s=require("lodash/isEqual"),i=E(s),R=function E(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=t.type,s=t.cursorPayload,R=t.streamItems,n=void 0===R?[]:R;switch(r){case a.mail.STREAM_ITEM_TOGGLED:case a.mail.MESSAGES_FROM_MESSAGE_LIST_RANGE_SELECTED:case a.mail.OPEN_PAGE_REQUESTED:if(!s)return _;var m=s||{},A=m.streamItem,M=n.findIndex(function(E){return(0,i.default)(E,A)}),l={streamItem:A,index:M};return A&&M!==-1?(0,i.default)(_,l)?_:l:{};case a.mail.MESSAGES_FROM_MESSAGE_LIST_SELECT_CURSOR_MOVED:case a.mail.STREAM_CURSOR_MOVED:var c=s||{},o=c.movement,D=e(_,o,n);return(0,i.default)(_,D)?_:D;case a.mail.DELETE_DRAFT_REQUESTED:case a.mail.MARK_READ_FOLDER_REQUESTED:case a.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_ARCHIVE_REQUESTED:case a.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_DELETE_REQUESTED:case a.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case a.mail.MESSAGES_MARK_READ_REQUESTED:case a.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MARK_SPAM_REQUESTED:case a.mail.MESSAGES_MARK_STARRED_REQUESTED:case a.mail.MESSAGES_MARK_UNREAD_REQUESTED:case a.mail.MESSAGES_MARK_UNSTARRED_REQUESTED:case a.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_MOVE_REQUESTED:case a.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case a.mail.MESSAGES_RESTORE_REQUESTED:case a.mail.MOVE_ITEMS_REQUESTED:case a.mail.READ_CHANGE_REQUESTED:case a.mail.SEND_SUCCESS:case a.mail.V3_MESSAGE_SEND_SUCCEEDED:case a.mail.STAR_CHANGE_REQUESTED:var u=t.streamItems,T=void 0===u?[]:u;if(!T.length)return{};var G=T.findIndex(function(E){return(0,i.default)(E,_.streamItem)});return G!==-1?G===_.index?_:S({},_,{index:G}):T[_.index]?S({},_,{streamItem:T[_.index]}):S({},_,{streamItem:T[T.length-1],index:T.length-1});case a.mail.ARCHIVE_FOLDER_REQUESTED:case a.mail.CLEAR_FOLDER_REQUESTED:return{};case a.mail.MESSAGE_GROUP_OPENED:case a.mail.MESSAGE_CARD_EXPANSION_CHANGED:case a.mail.MESSAGE_CARD_FOCUSED:return S({},_,{streamItem:t.streamItem});default:return _}};exports.default=R;var n=exports.selectors=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getCursor:function E(){return e},getCursorItem:function E(){return e.streamItem}}};
},{"../../platform/invariant":"./platform/invariant","../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","lodash/isEqual":"./node_modules/lodash/isEqual.js"}],"./reducers_selectors/streams":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.selectors=void 0;var E=Object.assign||function(e){for(var E=1;E<arguments.length;E++){var t=arguments[E];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t=require("redux"),r=require("../../platform/react_action_constants"),S=require("../helpers"),s=require("./cursor"),i=e(s),a=require("./selected_items"),n=e(a),_=require("../../platform/mail_constants"),l=require("../../platform/utils/list"),c=function e(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var r;return E({},e,(r={},r[t.listId]=(e[t.listId]||[]).concat(t.id),r))},{})},o=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=c(E),S=Object.keys(r).reduce(function(e,E){var S=t(E)||[];return e[E]=S.length?r[E].filter(function(e){return S.indexOf(e)===-1}):r[E],e},{});return E.filter(function(e){var E=e.id;return(S[e.listId]||[]).indexOf(E)!==-1})},d=(0,t.combineReducers)({cursor:i.default,selectedItems:n.default}),m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[1];switch(s.type){case r.mail.OPEN_PAGE_REQUESTED:case r.mail.STREAM_ITEM_TOGGLED:case r.mail.MESSAGES_FROM_MESSAGE_LIST_RANGE_SELECTED:case r.mail.MESSAGES_FROM_MESSAGE_LIST_SELECT_CURSOR_MOVED:case r.mail.ALL_STREAM_ITEMS_SELECTED:case r.mail.STREAM_ITEMS_SELECTION_CLEARED:case r.mail.STREAM_CURSOR_MOVED:case r.mail.ARCHIVE_FOLDER_REQUESTED:case r.mail.CLEAR_FOLDER_REQUESTED:var i,a=s.streamId,n=s.streamItems,c=void 0===n?[]:n,m=c.filter(function(e){return(0,l.getListContentTypeFromListId)(e.listId)===_.ListContentTypes.MESSAGES});return a?E({},t,(i={},i[a]=d(t[a],E({},s,{streamItems:m.map(function(e){return{id:e.id,listId:e.listId}})})),i)):t;case r.mail.READ_CHANGE_REQUESTED:case r.mail.MESSAGES_MARK_READ_REQUESTED:case r.mail.MARK_READ_FOLDER_REQUESTED:var u,R=s.isRead,A=s.streamId,M=s.itemsToUpdate,T=void 0===M?[]:M,I=s.streamItems,D=void 0===I?[]:I;if(!T.length)return t;var f=D.filter(function(e){return(0,l.getListContentTypeFromListId)(e.listId)===_.ListContentTypes.MESSAGES});return E({},t,(u={},u[A]=d(t[A],E({},s,{streamItems:o(f,function(e){return(0,S.filterInvalidIdsBasedOnListFlags)(T,e,R?[]:["unread"])})})),u));case r.mail.STAR_CHANGE_REQUESTED:case r.mail.MESSAGES_MARK_UNSTARRED_REQUESTED:var G,O=s.isStarred,v=s.streamId,U=s.itemsToUpdate,L=void 0===U?[]:U,C=s.streamItems,p=void 0===C?[]:C;if(!L.length)return t;var Q=p.filter(function(e){return(0,l.getListContentTypeFromListId)(e.listId)===_.ListContentTypes.MESSAGES});return E({},t,(G={},G[v]=d(t[v],E({},s,{streamItems:o(Q,function(e){return(0,S.filterInvalidIdsBasedOnListFlags)(L,e,O?["flagged","starred"]:[])})})),G));case r.mail.DELETE_DRAFT_REQUESTED:case r.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_ARCHIVE_REQUESTED:case r.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_DELETE_REQUESTED:case r.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case r.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_MARK_SPAM_REQUESTED:case r.mail.MESSAGES_MARK_STARRED_REQUESTED:case r.mail.MESSAGES_MARK_UNREAD_REQUESTED:case r.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_MOVE_REQUESTED:case r.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_RESTORE_REQUESTED:case r.mail.MOVE_ITEMS_REQUESTED:case r.mail.SEND_SUCCESS:case r.mail.V3_MESSAGE_SEND_SUCCEEDED:var g,F=s.streamId,N=s.itemsToUpdate,V=void 0===N?[]:N,h=s.streamItems,y=void 0===h?[]:h,P=s.listsToUpdate,K=void 0===P?[]:P;if(!V.length)return t;var x=y.filter(function(e){return(0,l.getListContentTypeFromListId)(e.listId)===_.ListContentTypes.MESSAGES});return E({},t,(g={},g[F]=d(t[F],E({},s,{streamItems:o(x,function(e){var E=K.find(function(E){return E.listId===e})||{};return(0,S.filterInvalidIdsBasedOnListFolderIds)(V,E.folderIds)})})),g));case r.mail.MESSAGE_GROUP_OPENED:case r.mail.MESSAGE_CARD_EXPANSION_CHANGED:case r.mail.MESSAGE_CARD_FOCUSED:var q,H=s.streamId,W=s.streamItem;return E({},t,(q={},q[H]=d(t[H],E({},s,{streamItem:W})),q));default:return t}};exports.default=m;var u=exports.selectors=function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{doesStreamExist:function e(t){return!!E[t]},getSelectedItemsSelectors:function e(t){return(0,a.selectors)(E[t].selectedItems)},getCursorSelectors:function e(t){return(0,s.selectors)(E[t].cursor)}}};
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils/list":"./platform/utils/list","../helpers":"./reducers_selectors/helpers","./cursor":"./reducers_selectors/streams/cursor","./selected_items":"./reducers_selectors/streams/selected_items","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/streams/selected_items":[function(require,module,exports){
"use strict";function E(E){return E&&E.__esModule?E:{default:E}}function e(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],t=e.cursorPayload,a=void 0===t?{}:t,i=e.selectionPayload,_=void 0===i?{}:i,s=e.streamItems,u=void 0===s?[]:s,M=a.streamItem,d=void 0===M?{}:M,m=_.oldCursor;switch(e.type){case r.mail.ALL_STREAM_ITEMS_SELECTED:return l(E,u);case r.mail.STREAM_ITEM_TOGGLED:return d.id?o(E,d):E;case r.mail.MESSAGES_FROM_MESSAGE_LIST_RANGE_SELECTED:if(!d.id||!m)return E;var R=u.findIndex(function(E){return(0,n.default)(E,d)}),A=[m.index,R].sort(function(E,e){return E>e?1:0}),I=A[0],T=A[1];return l(E,u.slice(I,T+1));case r.mail.MESSAGES_FROM_MESSAGE_LIST_SELECT_CURSOR_MOVED:var v=(0,S.moveCursor)(m,a.movement,u);if(!E[v.streamItem.listId]||!E[v.streamItem.listId][v.streamItem.id]){var D=[v.streamItem];return m&&m.streamItem&&D.push(m.streamItem),l(E,D)}return l(c(E,[m.streamItem]),[v.streamItem]);case r.mail.STREAM_CURSOR_MOVED:case r.mail.STREAM_ITEMS_SELECTION_CLEARED:case r.mail.ARCHIVE_FOLDER_REQUESTED:case r.mail.CLEAR_FOLDER_REQUESTED:case r.mail.MESSAGES_ARCHIVE_REQUESTED:case r.mail.MESSAGES_RESTORE_REQUESTED:case r.mail.MESSAGES_DELETE_REQUESTED:case r.mail.MOVE_ITEMS_REQUESTED:case r.mail.MESSAGES_MOVE_REQUESTED:case r.mail.MESSAGES_MARK_SPAM_REQUESTED:case r.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:case r.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED:case r.mail.SEND_SUCCESS:case r.mail.V3_MESSAGE_SEND_SUCCEEDED:case r.mail.DELETE_DRAFT_REQUESTED:return Object.keys(E).length?{}:E;default:return E}}exports.__esModule=!0,exports.selectors=void 0;var t=Object.assign||function(E){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(E[r]=t[r])}return E},r=require("../../platform/react_action_constants"),S=require("./cursor"),a=require("lodash/omit"),i=E(a),_=require("lodash/isEqual"),n=E(_),s=Object.prototype.hasOwnProperty,l=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(function(E,e){var r,S,a=e.listId,i=e.id;return t({},E,(S={},S[a]=t({},E[a]||{},(r={},r[i]=!0,r)),S))},t({},e))},c=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(function(E,e){var r,S=e.listId,a=e.id;return t({},E,(r={},r[S]=(0,i.default)(E[S]||{},a),r))},t({},e))},o=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t.listId]&&e[t.listId][t.id]?c(e,[t]):l(e,[t])};exports.default=e;var u=exports.selectors=function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getSelectedItems:function E(){return Object.keys(e).reduce(function(E,t){return E.concat(Object.keys(e[t]).map(function(E){return{id:E,listId:t}}))},[])},isItemSelected:function E(t){return e[t.listId]&&e[t.listId][t.id]},hasSelectedItems:function E(){var t=void 0,r=void 0;for(r in e)if(s.call(e,r))for(t in e[r])if(s.call(e[r],t))return!0;return!1}}};
},{"../../platform/react_action_constants":"./platform/react_action_constants","./cursor":"./reducers_selectors/streams/cursor","lodash/isEqual":"./node_modules/lodash/isEqual.js","lodash/omit":"./node_modules/lodash/omit.js"}],"./reducers_selectors/subject_snippet":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=arguments[1];switch(E.type){case S.mail.INITIAL_STATE:case S.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.MORE_MESSAGES_REQUEST_SUCCESS:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case S.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case S.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case S.mail.MESSAGE_SAVE_SUCCEEDED:case S.mail.COUPONS_LIST_SUCCEEDED:case S.mail.V3_MESSAGE_SAVE_SUCCEEDED:var t=(0,r.getIn)(E,"listData.subjects",{}),s=a(e,t);return Object.keys(s).length?_({},e,s):e;default:return e}}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=arguments[1];switch(E.type){case S.mail.INITIAL_STATE:case S.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case S.mail.UNDO_MOVE_SUCCEEDED:case S.mail.V3_CHECK_MAIL_RECEIVED:case S.mail.AUTO_CHECK_MAIL_RECEIVED:case S.mail.CHANGE_FOLDER_SUCCEEDED:case S.mail.MORE_MESSAGES_REQUEST_SUCCESS:case S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case S.mail.SEARCH_LIST_ITEMS_RECEIVED:case S.mail.MAGIC_TRIAGE_ITEMS_RECEIVED:case S.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED:case S.mail.MESSAGE_AUTO_SAVE_SUCCEEDED:case S.mail.MESSAGE_SAVE_SUCCEEDED:case S.mail.COUPONS_LIST_SUCCEEDED:case S.mail.V3_MESSAGE_SAVE_SUCCEEDED:var t=(0,r.getIn)(E,"listData.snippets",{}),a=s(e,t);return Object.keys(a).length?_({},e,a):e;default:return e}}function a(e){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(E).reduce(function(t,a){var s=Object.keys(E[a])[0],S=(0,c.getMetadataCacheKey)(s);if(!e[a]||e[a][S]!==E[a][s]){var r,i=(0,C.removeMatchTermDelimiter)(E[a][s]);t[a]=_({},e[a],(r={},r[S]=E[a][s],r[c.DEFAULT_MESSAGES_METADATA_CACHEKEY]=i,r))}return t},{})}function s(e){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(E).reduce(function(t,a){var s=Object.keys(E[a])[0],S=(0,c.getMetadataCacheKey)(s);if(!e[a]||e[a][S]!==E[a][s]){var r;t[a]=_({},e[a],(r={},r[S]=E[a][s],r))}return t},{})}exports.__esModule=!0,exports.selectors=void 0;var _=Object.assign||function(e){for(var E=1;E<arguments.length;E++){var t=arguments[E];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},S=require("../platform/react_action_constants"),r=require("../platform/utils/object"),i=require("redux"),c=require("../platform/utils/list"),C=require("../platform/utils/message_group"),l=require("../platform/invariant"),n=e(l),u=(0,i.combineReducers)({subjects:E,snippets:t});exports.default=u;var I=exports.selectors=function e(E){return{getSubject:function e(t,a){var s=(0,c.getMetadataCacheKey)(a);return(0,n.default)(E.subjects,"You must pass a SubjectsAndSnippets state to the getSubject selector."),E.subjects[t][s]},getSnippet:function e(t,a){var s=(0,c.getMetadataCacheKey)(a);return(0,n.default)(E.snippets,"You must pass a SubjectsAndSnippets state to the getSnippet selector."),E.snippets[t][s]}}};
},{"../platform/invariant":"./platform/invariant","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/list":"./platform/utils/list","../platform/utils/message_group":"./platform/utils/message_group","../platform/utils/object":"./platform/utils/object","redux":"./node_modules/redux/lib/index.js"}],"./reducers_selectors/unsubscribe_list":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t=require("../platform/react_action_constants"),r=require("../platform/utils/object"),n=function n(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1],u=o.undoPayload,i=o.deleteItemCount,a=o.numListsPreviouslyCleaned,E=o.unSubscribeList,n=void 0===E?[]:E;switch(o.type){case t.mail.MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED:return e({},s,{unsubscribeItems:e({},n.reduce(function(t,r){var n;return e({},t,(n={},n[r.key]=r,n))},{})),undoPayload:u,deleteItemCount:i,numListsPreviouslyCleaned:a});case t.mail.MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED:case t.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_SUCCEEDED:if(!(0,r.isEmpty)(s))return{}}return s};exports.default=n;var s=exports.selectors=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getUnSubscribeList:function e(){return t},getUnSubscribeListItem:function e(r){return t[r]}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/object":"./platform/utils/object"}],"./reducers_selectors/video_players":[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.selectors=void 0;var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r=require("../platform/react_action_constants"),t=require("redux"),n=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1];switch(n.type){case r.mail.CHANNEL_CHANGED:case r.mail.CHANNEL_FETCH_RECEIVED:return n.channel}return t},a=function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(arguments[1].type){case r.mail.VIDEO_PLAYER_CLOSED:return!1;case r.mail.VIDEO_PLAYER_OPENED:return!0}return t},u=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];switch(a.type){case r.mail.CHANNELS_FETCH_RECEIVED:return a.payload;case r.mail.CHANNEL_FETCH_RECEIVED:var u,c=a.payload,i=a.channel;return e({},n,(u={},u[i]=c[i],u))}return n},c=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case r.mail.VIDEO_PLAYER_PAUSED:return!0;case r.mail.VIDEO_PLAYER_PLAYED:return!1}return t},i=(0,t.combineReducers)({currentChannel:n,showVideoPlayer:a,channelData:u,isPaused:c});exports.default=i;var o=exports.selectors=function e(r){return{getCurrentChannel:function e(){return r.currentChannel},getShowVideoPlayer:function e(){return r.showVideoPlayer},getChannelData:function e(){return r.channelData},getIsPaused:function e(){return r.isPaused}}};
},{"../platform/react_action_constants":"./platform/react_action_constants","redux":"./node_modules/redux/lib/index.js"}],399:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var s=require("../platform/react_action_constants"),o=require("fluxible/addons/BaseStore"),d=t(o),n=require("../platform/utils/object"),r=require("./pages"),_=t(r),R=require("./application"),E=t(R),A=require("../platform/mail_constants"),h=function(t){function s(i){e(this,s);var o=a(this,t.call(this,i));return o.adFeedbackStarted=!1,o.adFeedbackSubmitted=!1,o._adRotationId=0,o._hideRightPaneAds=!1,o.messageReadAdRotationTimeStamp=0,o._messageReadAdRotationActive=!1,o.messageReadAdRotationIdleInterval=o.getContext().config.messageReadAdRotationIdleInterval,o.ads=o.getContext().config.ads,Object.defineProperty(o,"TIME_TO_WAIT_SINCE_LAST_AD_CALL",{value:i.getContext().config.timeToWaitSinceLastAdCall}),o.isGeminiSponsoredMessageEnabled=i.getContext().config.geminiSponsoredMessage,o}return i(s,t),s.prototype._startAdFeedback=function t(){this.adFeedbackStarted=!0,this.adFeedbackSubmitted=!1,this.emitChange()},s.prototype._submitAdFeedback=function t(){this.adFeedbackSubmitted=!0,this.adFeedbackStarted=!1,this.emitChange()},s.prototype.getAdFeedbackStarted=function t(){return this.adFeedbackStarted},s.prototype.getAdFeedbackSubmitted=function t(){return this.adFeedbackSubmitted},s.prototype.getHideRightPaneAds=function t(){return this._hideRightPaneAds},s.prototype._startAdRotation=function t(){this.adFeedbackStarted&&!this.adFeedbackSubmitted?(this.adFeedbackStarted=!1,this._hideRightPaneAds=!1,this.emitChange()):!this.adFeedbackStarted&&this.adFeedbackSubmitted?(this.adFeedbackSubmitted=!1,this._adRotationId=Date.now(),this._hideRightPaneAds=!1,this.emitChange()):Date.now()-this._adRotationId>this.TIME_TO_WAIT_SINCE_LAST_AD_CALL&&(this._adRotationId=Date.now(),this._hideRightPaneAds=!1,this.emitChange())},s.prototype.getAdRotationId=function t(){return this._adRotationId},s.prototype._handleWinResized=function t(){var e=this;this.dispatcher.waitFor(E.default,function(){e._startAdRotation()})},s.prototype._appVisibilityChanged=function t(e){e.isVisible?(this._startAdRotation(),this._messageReadAdRotationActive&&this._startMessageReadAdRotationTimer()):(this.messageReadAdRotationTimeStamp=0,this.emitChange())},s.prototype._setSearchAds=function t(e){var a=(0,n.getIn)(e,"response.ADS.WITH_KEYWORD.items.0",null);a&&(this._searchAds[e.listId]=a,this.emitChange())},s.prototype._setHideRightPaneAds=function t(){this._hideRightPaneAds=!0,this.emitChange()},s.prototype._navigateStart=function t(){var e=this,a=A.RouteNames.MESSAGE_FROM_SEARCH_LIST,i=A.RouteNames.MESSAGE_FROM_FOLDER_LIST,s=A.RouteNames.SPONSORED_MESSAGE;this.dispatcher.waitFor(_.default,function(){var t=e.dispatcher.getStore(_.default),o=t.getActivePageRoute(),d=o.name;d!==s&&e._startAdRotation(),d===a||d===i?e._startMessageReadAdRotationTimer():e._stopMessageReadAdRotationTimer()})},s.prototype._messageReadAdRotations=function t(){this._startAdRotation(),this._startMessageReadAdRotationTimer()},s.prototype._startMessageReadAdRotationTimer=function t(){this.messageReadAdRotationTimeStamp=Date.now(),this._messageReadAdRotationActive=!0,this.emitChange()},s.prototype._stopMessageReadAdRotationTimer=function t(){this.messageReadAdRotationTimeStamp=0,this._messageReadAdRotationActive=!1,this.emitChange()},s.prototype._updateMessageReadAdRotationTimer=function t(e){var a=e.card;this._messageReadAdRotationActive&&a.composeData?this._stopMessageReadAdRotationTimer():this._messageReadAdRotationActive&&!this._isMessageReadIdle()||a.composeData||this._startMessageReadAdRotationTimer()},s.prototype._isMessageReadIdle=function t(){return Date.now()>this.messageReadAdRotationTimeStamp+this.messageReadAdRotationIdleInterval},s.prototype.getMessageReadAdRotationTimeStamp=function t(){return this.messageReadAdRotationTimeStamp},s.prototype.dehydrate=function t(){return{adData:this.adData}},s.prototype.rehydrate=function t(e){e.adData&&(this.adData=e.adData)},s}(d.default);h.storeName="AdsStore",h.handlers={},h.handlers[s.mail.AD_FEEDBACK_STARTED]="_startAdFeedback",h.handlers[s.mail.AD_FEEDBACK_CLOSED]="_startAdRotation",h.handlers[s.mail.AD_FEEDBACK_SUBMITTED]="_submitAdFeedback",h.handlers[s.mail.MESSAGE_CARD_FOCUSED]="_updateMessageReadAdRotationTimer",h.handlers[s.mail.HIDE_RIGHT_PANE_ADS]="_setHideRightPaneAds",h.handlers.NAVIGATE_START="_navigateStart",h.handlers[s.mail.V3_PREVIEW_MESSAGE_REQUESTED]="_startAdRotation",h.handlers[s.mail.PREVIEW_MESSAGE_REQUESTED]="_startAdRotation",h.handlers[s.mail.CHANGE_FOLDER_REQUESTED]="_startAdRotation",h.handlers[s.mail.ITEM_LIST_PAGE_SCROLLED]="_startAdRotation",h.handlers[s.mail.MESSAGES_MOVE_REQUESTED]="_startAdRotation",h.handlers[s.mail.MESSAGES_ARCHIVE_REQUESTED]="_startAdRotation",h.handlers[s.mail.MESSAGES_RESTORE_REQUESTED]="_startAdRotation",h.handlers[s.mail.MESSAGES_DELETE_REQUESTED]="_startAdRotation",h.handlers[s.mail.MESSAGES_MARK_SPAM_REQUESTED]="_startAdRotation",h.handlers[s.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED]="_startAdRotation",h.handlers[s.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED]="_messageReadAdRotations",h.handlers[s.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED]="_messageReadAdRotations",h.handlers[s.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED]="_messageReadAdRotations",h.handlers[s.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED]="_messageReadAdRotations",h.handlers[s.mail.MESSAGE_CARD_EXPANSION_CHANGED]="_messageReadAdRotations",h.handlers[s.mail.SEND]="_startAdRotation",h.handlers[s.mail.SEARCH_LIST_ITEMS_REQUESTED]="_startAdRotation",h.handlers[s.mail.MAGIC_TRIAGE_ITEMS_REQUESTED]="_startAdRotation",h.handlers[s.mail.MESSAGE_READ_AD_ROTATION_TIMER]="_startAdRotation",h.handlers[s.mail.WINDOW_RESIZED]="_handleWinResized",h.handlers[s.mail.APPLICATION_VISIBILITY_DID_CHANGE]="_appVisibilityChanged",exports.default=h,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/object":"./platform/utils/object","./application":"./stores/application","./pages":"./stores/pages","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/application":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var o,r=require("lodash/debounce"),s=e(r),a=require("fluxible/addons/BaseStore"),p=e(a),u=require("../../platform/react_action_constants"),h=require("../../platform/utils/generic"),l=require("../../platform/mail_constants"),f=864e5,c=15,d=function(e){function o(n){t(this,o);var r=i(this,e.call(this,n)),a=n.getContext();return r._initialized=!1,r.winDimensions={innerWidth:0,contentAndRightRailWidth:0,contentAndRightRailHeight:0},r.windowResized=!1,r.appVisible=!0,r.timezone=a.timezone&&a.timezone.name||"UTC",r._windowResizing=(0,s.default)(r._windowResizing,1e3),r.refresh=l.AppRefreshTypes.NO_REFRESH,r.autoOpenSettingsPopover=!1,r}return n(o,e),o.prototype._initialState=function e(){this._initialized=!0,this.emitChange()},o.prototype._windowResizing=function e(t){this.windowResized=!0,this.winDimensions=t,this.emitChange()},o.prototype._windowResized=function e(){this.windowResized=!1,this.emitChange()},o.prototype._appVisibilityChanged=function e(t){var i=t.isVisible,n=t.emergencyRefresh,o=t.appRefreshIdleInterval,r=t.heartbeatRefresh;if(this.appVisible=i,this.appVisible&&r){var s=(Date.now()-this.lastVisibleTimeStamp)/6e4,a=0;n&&s>o.emergencyRefresh&&(this.refresh=l.AppRefreshTypes.EMERGENCY_REFRESH),(0,h.isBrowser)()&&s>o.periodicRefresh&&(a=Math.round(performance.now())/f,this.refresh=a>=c?l.AppRefreshTypes.PERIODIC_REFRESH:this.refresh)}else this.lastVisibleTimeStamp=Date.now();this.emitChange()},o.prototype._updateTimezoneInformation=function e(t){var i=t.timezone;this._updateCurrentTimezone({timezone:i})&&this.emitChange()},o.prototype._updateCurrentTimezone=function e(t){var i=t.timezone;return!(!i||this.timezone===i||(this.timezone=i,0))},o.prototype._updateLocation=function e(t){var i=t.location,n=i.timezone.name;this._updateTimezoneInformation({timezone:n})},o.prototype._resolutionChange=function e(t){var i=t.resolutionType;this.resolutionType=i,this.emitChange()},o.prototype._cancelAppReload=function e(){this.refresh=l.AppRefreshTypes.NO_REFRESH,this.emitChange()},o.prototype._autoOpenSettingsPopover=function e(t){var i=t.status;this.autoOpenSettingsPopover=i,this.emitChange()},o.prototype.getAppRefreshType=function e(){return this.refresh},o.prototype.getDateFormattingOption=function e(){return{timezone:this.timezone}},o.prototype.getAutoOpenSettingsPopover=function e(){return this.autoOpenSettingsPopover},o.prototype.isWindowResizingDone=function e(){return this.windowResized},o.prototype.hasSuccessfullyInitialized=function e(){return this._initialized},o.prototype.isAppVisible=function e(){return this.appVisible},o.prototype.getWindowDimensions=function e(){return this.winDimensions},o.prototype.dehydrate=function e(){return{initialized:this._initialized}},o.prototype.rehydrate=function e(t){this._initialized=t.initialized},o}(p.default);exports.default=d,d.storeName="ApplicationStore",d.handlers=(o={},o[u.mail.INITIAL_STATE]="_initialState",o[u.mail.WINDOW_RESIZING]="_windowResizing",o[u.mail.WINDOW_RESIZED]="_windowResized",o[u.mail.APPLICATION_VISIBILITY_DID_CHANGE]="_appVisibilityChanged",o[u.mail.AUTO_CHECK_MAIL_RECEIVED]="_updateTimezoneInformation",o[u.mail.SETTINGS_LOCATION_CHANGE_SUCCEEDED]="_updateLocation",o[u.mail.CANCEL_APP_RELOAD]="_cancelAppReload",o[u.mail.RESOLUTION_CHANGE]="_resolutionChange",o[u.mail.SETTINGS_POPOVER_AUTOOPEN_CHANGED]="_autoOpenSettingsPopover",o),module.exports=exports.default;
},{"../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils/generic":"./platform/utils/generic","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js","lodash/debounce":"./node_modules/lodash/debounce.js"}],"./stores/checkmail":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var i,n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),l=require("fluxible/addons/BaseStore"),a=e(l),s=require("../platform/react_action_constants"),c=require("../platform/mail_constants"),_=require("../platform/utils/folder"),u=function(e){function i(r){t(this,i);var n=o(this,e.call(this,r));return n._folders={},n._lastCheckmailTimestamp=null,n._isBlocked=!1,n._forceCheckMail=!1,n._errorCount=0,n}return r(i,e),n(i,null,[{key:"storeName",get:function e(){return"CheckMailStore"}}]),i.prototype._init=function e(t){var o=this,r=t.folders,i=(0,_.flattenFolderTree)(r);Object.keys(i).forEach(function(e){var t=i[e];o._folders[e]={highestModSeq:t.highestModSeq}}),this.emitChange()},i.prototype._handleCheckMailRequested=function e(){this._lastCheckmailTimestamp=Date.now(),this.emitChange()},i.prototype._handleCheckMailCompleted=function e(t){var o=this,r=t.folders;if(this._lastCheckmailTimestamp=Date.now(),this._forceCheckMail=!1,this._errorCount=0,r){var i=(0,_.flattenFolderTree)(r);Object.keys(i).forEach(function(e){var t=i[e];o._folders[e]||(o._folders[e]={}),o._folders[e].highestModSeq=t.highestModSeq}),this.emitChange()}},i.prototype._handleOpenPageRequested=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.route,r=t.force,i=void 0!==r&&r;o.name!==c.RouteNames.NEW_DRAFT&&i&&(this._forceCheckMail=i)},i.prototype._handleCheckMailError=function e(){this._errorCount++},i.prototype.getMailErrorStatus=function e(){return this._errorCount},i.prototype._handlePotentialAsync=function e(t){t.async&&this._block()},i.prototype._handleAsyncRequest=function e(){this._block()},i.prototype._block=function e(){this._isBlocked=!0},i.prototype._unblock=function e(){this._isBlocked=!1,this._lastCheckmailTimestamp=null},i.prototype._appVisibilityChanged=function e(t){var o=t.isVisible;o&&(this._forceCheckMail=o)},i.prototype.shouldForceCheckMail=function e(){return this._forceCheckMail},i.prototype.getFolderHighestModSeq=function e(t){return(this._folders[t]||{}).highestModSeq},i.prototype.getStaleFolderIds=function e(t){var o=this,r=(0,_.flattenFolderTree)(t);return Object.keys(r).filter(function(e){var t=r[e],i=o.getFolderHighestModSeq(e);return i&&i!==t.highestModSeq})},i.prototype.getNewFolderIds=function e(t){var o=this,r=(0,_.flattenFolderTree)(t);return Object.keys(r).filter(function(e){return!o._folders[e]})},i.prototype.isAutoCheckMailAllowed=function e(t){var o=this._lastCheckmailTimestamp,r=void 0===o?0:o;return!this.isCheckMailBlocked()&&r<Date.now()-t},i.prototype.isCheckMailBlocked=function e(){return this._isBlocked},i.prototype.dehydrate=function e(){var t=this,o={folders:{}};return Object.keys(this._folders).forEach(function(e){o.folders[e]={highestModSeq:t._folders[e].highestModSeq}}),o},i.prototype.rehydrate=function e(t){this._folders=t.folders},i}(a.default);exports.default=u,u.handlers=(i={},i[s.mail.OPEN_PAGE_REQUESTED]="_handleOpenPageRequested",i[s.mail.AUTO_CHECK_MAIL_REQUESTED]="_handleCheckMailRequested",i[s.mail.AUTO_CHECK_MAIL_RECEIVED]="_handleCheckMailCompleted",i[s.mail.AUTO_CHECK_MAIL_FAILED]="_handleCheckMailError",i[s.mail.CHANGE_FOLDER_SUCCEEDED]="_handleCheckMailCompleted",i[s.mail.INITIAL_STATE]="_init",i[s.mail.MARK_READ_FOLDER_REQUESTED]="_handleAsyncRequest",i[s.mail.MARK_READ_FOLDER_SUCCEEDED]="_unblock",i[s.mail.MARK_READ_FOLDER_FAILED]="_unblock",i[s.mail.ARCHIVE_FOLDER_REQUESTED]="_handleAsyncRequest",i[s.mail.ARCHIVE_FOLDER_SUCCEEDED]="_unblock",i[s.mail.ARCHIVE_FOLDER_FAILED]="_unblock",i[s.mail.CLEAR_FOLDER_REQUESTED]="_handleAsyncRequest",i[s.mail.CLEAR_FOLDER_SUCCEEDED]="_unblock",i[s.mail.CLEAR_FOLDER_FAILED]="_unblock",i[s.mail.APPLICATION_VISIBILITY_DID_CHANGE]="_appVisibilityChanged",i[s.mail.MOVE_QUERY_REQUESTED]="_handlePotentialAsync",i[s.mail.MOVE_QUERY_SUCCEEDED]="_unblock",i[s.mail.MARK_QUERY_REQUESTED]="_handlePotentialAsync",i[s.mail.MARK_QUERY_SUCCEEDED]="_unblock",i),module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/folder":"./platform/utils/folder","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/document":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var n,i=require("fluxible/addons/BaseStore"),a=e(i),u=require("../platform/react_action_constants"),s=function(e){function n(r){return t(this,n),o(this,e.call(this,r))}return r(n,e),n.prototype._emit=function e(){this.emitChange()},n}(a.default);s.storeName="DocumentStore",s.handlers=(n={},n[u.mail.DOCUMENT_PAGE_FETCH_REQUESTED]="_emit",n[u.mail.DOCUMENT_PAGE_FETCH_SUCCEEDED]="_emit",n[u.mail.DOCUMENT_FETCH_FAILED]="_emit",n[u.mail.DOCUMENT_FETCH_SUCCEEDED]="_emit",n[u.mail.DOCUMENT_FETCH_REQUESTED]="_emit",n),exports.default=s,module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],400:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function t(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function o(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}exports.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=require("fluxible/addons/BaseStore"),i=e(u),f=require("../platform/utils/generic"),a=require("../platform/mail_error/constants"),l=function(e){function u(o){r(this,u);var n=t(this,e.call(this,o)),i=o.getContext();return n.partner=i.partner||"",n}return o(u,e),u.prototype.handleError=function e(r){if(r&&"object"===("undefined"==typeof r?"undefined":n(r))){var t=r.error||r.err||null;t&&(this._handleCrumbError(t),this._handleAuthError(t))}},u.prototype._handleCrumbError=function e(r){r.name===a.AUTHENTICATION_INVALID_CRUMB&&(0,f.isBrowser)()&&(0,f.refreshInbox)(this.partner)},u.prototype._handleAuthError=function e(r){r.name===a.AUTHENTICATION_INVALID_CREDENTIALS&&(0,f.isBrowser)()&&(0,f.refreshInbox)(this.partner)},u}(i.default);l.storeName="ErrorStore",l.handlers={default:"handleError"},exports.default=l,module.exports=exports.default;
},{"../platform/mail_error/constants":"./platform/mail_error/constants","../platform/utils/generic":"./platform/utils/generic","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/features":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a,u=require("fluxible/addons/BaseStore"),i=e(u),s=require("../../platform/react_action_constants"),o=require("../../platform/mail_constants"),_=require("../../platform/theming/themes.js"),h=require("../../platform/invariant"),f=e(h),l=require("../../platform/utils/object"),c=0,p=function(e){function a(n){t(this,a);var u=r(this,e.call(this,n)),i=n.getContext();u._nextFeatureTimestamp=Date.now(),u._activeFeatureCue=null,u._features=i.__initializeFeatures__||{},u._sequence=i.config.scout?i.sequences.find(function(e){return"mail"===e.sequence}).order:[],Object.keys(u._features).filter(function(e){return u._features[e].isFeatureCue}).forEach(function(e){return u._features[e].enabled=!1});var o=u._sequence.find(function(e){return u._features[e]&&u._features[e].action===s.mail.INITIAL_STATE});return o&&u._enableFeature(o),u}return n(a,e),a.prototype.initializeStore=function e(t){var r=t.mailboxAttributes,n=null;r&&(n=r.responses[o.MailboxAttributes.THEME]),this._currentTheme=n?n.value:"DEFAULT",this.emitChange()},a.prototype._canShowCue=function e(){return!this._activeFeatureCue&&Date.now()>=this._nextFeatureTimestamp},a.prototype._doesCueExist=function e(t){return!!this._features[t]&&!this._features[t].markedAsShown},a.prototype._enableFeature=function e(t){(0,f.default)(this._features[t]),this._features[t].enabled=!0,this._features[t].isFeatureCue&&(this._activeFeatureCue=t)},a.prototype._disableFeature=function e(t){(0,f.default)(this._features[t]),this._features[t].enabled=!1,this._features[t].isFeatureCue&&(this._activeFeatureCue=null)},a.prototype._handleCloseFeatureCue=function e(t,r){var n=t.name;this._disableFeature(n);var a=(0,l.getIn)(this._features,n+".nextFeatureCues."+r);a&&this._enableFeature(a),this.emitChange()},a.prototype._handleMarkAsShown=function e(t){var r=t.name;(0,f.default)(this._features[r]),this._features[r].markedAsShown=!0},a.prototype._handleAction=function e(t,r){var n=this,a=t.name,u=this._sequence.findIndex(function(e){return e in n._features&&n._features[e].action===r});if(u===-1||!this._canShowCue())return void(this._activeFeatureCue&&this.emitChange());var i=this._sequence[u];this._sequence.splice(u,1),this._enableFeature(i),this._nextFeatureTimestamp=Date.now()+c,this.emitChange()},a.prototype._handleThemeChange=function e(t){var r=t.value;this._currentTheme=r,this.emitChange()},a.prototype.dehydrate=function e(){return{features:this._features,theme:this._currentTheme}},a.prototype.rehydrate=function e(t){t.features&&(this._features=t.features),t.theme&&(this._currentTheme=t.theme)},a.prototype.isEnabled=function e(t){return this._features[t]&&this._features[t].enabled&&(!this._features[t].dependsOnDefaultTheme||this._currentTheme===_.Themes.DEFAULT)||!1},a.prototype.isPersistent=function e(t){return this._features[t]&&this._features[t].isPersistent||!1},a.prototype.getNextCueTimestamp=function e(){return this._nextFeatureTimestamp},a}(i.default);p.storeName="FeaturesStore",p.handlers=(a={},a[s.mail.FEATURE_CLOSED]="_handleCloseFeatureCue",a[s.mail.INITIAL_STATE]="initializeStore",a[s.mail.THEME_CHANGE_REQUESTED]="_handleThemeChange",a[s.mail.FEATURE_TRY_NOW_REQUESTED]="_handleCloseFeatureCue",a[s.mail.SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED]="_handleCloseFeatureCue",a[s.mail.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED]="_handleMarkAsShown",a[s.mail.FEATURE_CUE_NOTIFICATION_CLOSED]="_handleCloseFeatureCue",a.default="_handleAction",a),exports.default=p,module.exports=exports.default;
},{"../../platform/invariant":"./platform/invariant","../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/theming/themes.js":"./platform/theming/themes","../../platform/utils/object":"./platform/utils/object","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/i13n":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a,S=require("fluxible/addons/BaseStore"),r=e(S),o=require("../platform/mail_constants"),_=require("../platform/utils/folder"),E=require("../platform/utils/list"),T=require("./pages"),c=e(T),p={COMPOSE:"cmps",COMPOSE_REPLY:"cmpsThrd",MESSAGE_READ:"msgRd",MESSAGE_LIST:"msgLst",SETTINGS_FILTERS:"sttgs_fltr",SETTINGS_ACCOUNTS:"sttgs_accnt",SETTINGS_NOTIFICATIONS:"sttgs_not",SETTINGS_WRITING_EMAIL:"sttgs_write",SETTINGS_VIEWING_EMAIL:"sttgs_view",SETTINGS_AUTOMATIC_REPLY:"sttgs_rply",SETTINGS_PERSONALIZE_INBOX:"sttgs_per",SETTINGS_SECURITY_AND_PRIVACY:"sttgs_sec",SETTINGS_ENCRYPTION:"sttgs_crypt",SETTINGS_SOCIAL_ACCOUNTS:"sttgs_sclaccnt",SETTINGS_MAIL_PRO:"sttgs_mpro"},n=(a={},a[o.SettingsTab.PERSONALIZE_INBOX]=p.SETTINGS_PERSONALIZE_INBOX,a[o.SettingsTab.ACCOUNTS]=p.SETTINGS_ACCOUNTS,a[o.SettingsTab.NOTIFICATIONS]=p.SETTINGS_NOTIFICATIONS,a[o.SettingsTab.WRITING_EMAIL]=p.SETTINGS_WRITING_EMAIL,a[o.SettingsTab.VIEWING_EMAIL]=p.SETTINGS_VIEWING_EMAIL,a[o.SettingsTab.AUTOMATIC_REPLY]=p.SETTINGS_AUTOMATIC_REPLY,a[o.SettingsTab.FILTERS]=p.SETTINGS_FILTERS,a[o.SettingsTab.SECURITY_AND_PRIVACY]=p.SETTINGS_SECURITY_AND_PRIVACY,a[o.SettingsTab.ENCRYPTION]=p.SETTINGS_ENCRYPTION,a[o.SettingsTab.SOCIAL_ACCOUNTS]=p.SETTINGS_SOCIAL_ACCOUNTS,a[o.SettingsTab.MAIL_PRO]=p.SETTINGS_MAIL_PRO,a),I=function(e){function a(i){t(this,a);var S=s(this,e.call(this,i));return Object.defineProperty(S,"SPACEIDS",{value:i.getContext().config.spaceids}),S._spaceid=null,S._activeRoute=null,S._pageViewCount=0,S}return i(a,e),a.prototype.isSettingsRoute=function e(){return this._activeRoute&&this._activeRoute.name===o.RouteNames.SETTINGS},a.prototype.getCurrentSpaceId=function e(){return this._spaceid},a.prototype.getActiveViewContext=function e(){return this.isSettingsRoute()?this._activeViewType:this._activeViewType+"_"+(this._activeFolderType||_.I13N_FOLDER_TYPES.INBOX)},a.prototype.getPageViewCount=function e(){return this._pageViewCount},a.prototype._getSearchSpaceId=function e(t){var s=(0,E.getListIdFromRoute)(t),i=(0,E.getListContentTypeFromListId)(s),a=(0,E.isSmartViewSearch)(s),S=(0,E.isPeopleSearch)(s),r=void 0;if(t.name===o.RouteNames.MESSAGE_FROM_SEARCH_LIST)r=this.SPACEIDS.messageViewTabPane;else if(a)switch(i){case o.ListContentTypes.IMAGES:r=this.SPACEIDS.photosSmartviewSearch;break;case o.ListContentTypes.DOCUMENTS:r=this.SPACEIDS.documentsSmartviewSearch;break;default:r=this.SPACEIDS.messageSmartviewSearch}else r=S?this.SPACEIDS.searchPeople:this.SPACEIDS.searchKeyword;return r},a.prototype._fetchFolderTypeFromRoute=function e(t){var s=(0,E.getListIdFromRoute)(t),i=(0,E.getFolderIdFromListId)(s),a=this.dispatcher.getStore("MailStore"),S=a.getFolder(i);return S?(0,_.getPrimaryFolderType)(S):o.FolderTypes.INBOX},a.prototype._trackLaunchView=function e(t){switch(t.name){case o.RouteNames.SEARCH:this._spaceid=this._getSearchSpaceId(t),this._setSearchFolderType(t),this._setMessageListViewType();break;case o.RouteNames.MESSAGE_FROM_SEARCH_LIST:this._spaceid=this._getSearchSpaceId(t),this._setSearchFolderType(t),this._setMessageViewType();break;case o.RouteNames.NEW_DRAFT:this._spaceid=this.SPACEIDS.launchCompose,this._activeFolderType=_.I13N_FOLDER_TYPES.INBOX,this._activeViewType=p.COMPOSE;break;case o.RouteNames.FOLDER:this._spaceid=this.SPACEIDS.launchFolder,this._activeFolderType=_.I13N_FOLDER_TYPES[this._fetchFolderTypeFromRoute(t)]||_.I13N_FOLDER_TYPES.USER,this._setMessageListViewType();break;case o.RouteNames.MESSAGE_FROM_FOLDER_LIST:this._spaceid=this.SPACEIDS.launchMessage,this._activeFolderType=_.I13N_FOLDER_TYPES[this._fetchFolderTypeFromRoute(t)]||_.I13N_FOLDER_TYPES.USER,this._setMessageViewType();break;case o.RouteNames.SETTINGS:this._spaceid=this.SPACEIDS.launchFolder,this._trackSettingsView(t)}},a.prototype._trackFolderView=function e(t){var s,i=this._fetchFolderTypeFromRoute(t),a=(s={},s[o.FolderTypes.INBOX]=this.SPACEIDS.folderViewInbox,s[o.FolderTypes.DRAFT]=this.SPACEIDS.folderViewDrafts,s[o.FolderTypes.SENT]=this.SPACEIDS.folderViewSent,s[o.FolderTypes.ARCHIVE]=this.SPACEIDS.folderViewArchive,s[o.FolderTypes.TRASH]=this.SPACEIDS.folderViewTrash,s[o.FolderTypes.BULK]=this.SPACEIDS.folderViewSpam,s[o.FolderTypes.USER]=this.SPACEIDS.folderViewCustom,s);this._spaceid=a[i]||this.SPACEIDS.folderViewCustom,this._activeFolderType=_.I13N_FOLDER_TYPES[i]||_.I13N_FOLDER_TYPES.USER,this._setMessageListViewType()},a.prototype._trackComposeView=function e(){this._spaceid=this.SPACEIDS.composeNew,this._activeViewType=p.COMPOSE},a.prototype._trackSearchView=function e(t){this._spaceid=this._getSearchSpaceId(t),this._setSearchFolderType(t)},a.prototype._trackMessageView=function e(){this._spaceid=this.SPACEIDS.messageViewTabPane,this._setMessageViewType()},a.prototype._trackSettingsView=function e(t){this._activeViewType=n[t.params.settingsGroupId]||p.SETTINGS_PERSONALIZE_INBOX,this._activeFolderType=""},a.prototype._setSearchFolderType=function e(t){var s=(0,E.getListIdFromRoute)(t);(0,E.isPeopleSearch)(s)?this._activeFolderType=_.I13N_FOLDER_TYPES.SEARCH_PEOPLE:(0,E.getListFilterFromListId)(s)===o.ListFilters.MAGIC_TRIAGE?this._activeFolderType=_.I13N_FOLDER_TYPES.MAGIC_TRIAGE:(0,E.isSmartViewSearch)(s)?this._activeFolderType=_.I13N_FOLDER_TYPES.SEARCH_SMARTVIEW:this._activeFolderType=_.I13N_FOLDER_TYPES.SEARCH_KEYWORD},a.prototype._setMessageListViewType=function e(){this._activeViewType=p.MESSAGE_LIST},a.prototype._setMessageViewType=function e(){this._activeViewType=p.MESSAGE_READ},a.prototype._trackView=function e(){var t=this;this.dispatcher.waitFor("RouteStore",function(){var e=t.dispatcher.getStore("ApplicationStore"),s=t.dispatcher.getStore(c.default).getActivePageRoute();if(s){if(t._activeRoute=s,t._pageViewCount++,e.hasSuccessfullyInitialized())switch(s.name){case o.RouteNames.SEARCH:t._trackSearchView(s),t._setMessageListViewType();break;case o.RouteNames.MESSAGE_FROM_SEARCH_LIST:t._trackSearchView(s),t._setMessageViewType();break;case o.RouteNames.FOLDER:t._trackFolderView(s);break;case o.RouteNames.NEW_DRAFT:case o.RouteNames.EDIT_DRAFT:t._trackComposeView(s);break;case o.RouteNames.MESSAGE_FROM_FOLDER_LIST:t._trackMessageView(s);break;case o.RouteNames.SETTINGS:t._trackSettingsView(s)}else t._trackLaunchView(s);t.emitChange()}})},a.prototype._updateReplyView=function e(){this._activeViewType=p.COMPOSE_REPLY,this.emitChange()},a.prototype._updateMessageReadView=function e(){this._spaceid=this.SPACEIDS.messageViewReadingPane,this._activeViewType=p.MESSAGE_READ,this.emitChange()},a.prototype._updateMessageListView=function e(){this._activeViewType=p.MESSAGE_LIST,this.emitChange()},a.prototype.dehydrate=function e(){return{spaceid:this._spaceid,activeFolderType:this._activeFolderType,activeViewType:this._activeViewType,pageViewCount:this._pageViewCount}},a.prototype.rehydrate=function e(t){this._spaceid=t.spaceid,this._activeFolderType=t.activeFolderType,this._activeViewType=t.activeViewType,this._pageViewCount=t.pageViewCount},a}(r.default);I.storeName="I13NStore",I.handlers={},I.handlers.NAVIGATE_START="_trackView",I.handlers.ITEM_LIST_PAGE_SCROLLED="_trackView",I.handlers.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED="_updateReplyView",I.handlers.PREVIEW_MESSAGE_REQUESTED="_updateMessageReadView",I.handlers.MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED="_updateMessageReadView",I.handlers.V3_PREVIEW_MESSAGE_REQUESTED="_updateMessageReadView",I.handlers.V3_MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED="_updateMessageReadView",I.handlers.PREVIEW_MESSAGE_CLOSED="_updateMessageListView",exports.default=I,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/utils/folder":"./platform/utils/folder","../platform/utils/list":"./platform/utils/list","./pages":"./stores/pages","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/item_list_ui":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,r){if(e)return(0,M.heroListId)(t,r)}function i(e){var t=(0,M.decomposeListId)(e);return t.length>1?t[0]:void 0}function a(e){var t=(0,M.decomposeListId)(e);return t[t.length-1]}exports.__esModule=!0;var s,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=require("fluxible/addons/BaseStore"),l=e(d),_=require("./pages"),c=e(_),p=require("../platform/react_action_constants"),E=require("./mail"),S=e(E),h=require("../platform/mail_constants"),f=require("../platform/utils/message_group"),I=require("../platform/utils/item"),g=require("../platform/utils/action"),m=require("../platform/rapid_client/constants.js"),M=require("../platform/utils/list"),v=function(e){function s(n){t(this,s);var o=r(this,e.call(this,n));return o._states=Object.create(null),o}return n(s,e),u(s,null,[{key:"storeName",get:function e(){return"ItemListUIStore"}}]),s.prototype.getSelection=function e(t,r){var n=Object.assign({},this._getSelection(t,r)),o=this._getMessageGroupIds(t,r);return this._findInvalidGroupIds(o,n).forEach(function(e){return delete n[e]}),n},s.prototype.getCursor=function e(t,r){return this._getUIStateIndex(t,r).cursorIndex},s.prototype.getOpenedGroupId=function e(t,r){return this._getUIStateIndex(t,r).openedGroupId},s.prototype._getUIStateIndex=function e(t,r){var n=(0,M.composeListId)(r,t);return this._states[n]||this._resetIndex(t,r),this._states[n]},s.prototype._getSelection=function e(t,r){return this._getUIStateIndex(t,r).selection},s.prototype._resetIndex=function e(t,r){var n=(0,M.composeListId)(r,t);this._states[n]={selection:Object.create(null),cursorIndex:-1,openedGroupId:""}},s.prototype._resetSelection=function e(t,r){this._getUIStateIndex(t,r).selection=Object.create(null)},s.prototype._setCursor=function e(t,r,n){return this._getUIStateIndex(t,r).cursorIndex=n},s.prototype._updateSelection=function e(t,r,n,o,i){var a=this._getSelection(t,r);i.every(function(e){return Boolean(a[e])})?i.forEach(function(e){delete a[e]}):i.forEach(function(e){a[e]=!0});var s=i[i.length-1],u=n?o.indexOf(s):o.lastIndexOf(s);u!==-1&&this._setCursor(t,r,u),this._updateOpenedGroupId(t,r,"")},s.prototype._updateCursorMove=function e(t,r){var n=r.listId,o=r.cursorId,i=r.movement,a=r.unit,s=void 0===a?1:a,u=this.getCursor(n,o),d=void 0;switch(i){case h.CursorMovement.FIRST:d=0;break;case h.CursorMovement.LAST:d=t.length-1;break;case h.CursorMovement.UP:case h.CursorMovement.LEFT:d=u-s;break;case h.CursorMovement.DOWN:case h.CursorMovement.RIGHT:d=u+s}this._setCursor(n,o,Math.min(Math.max(d,0),t.length-1))},s.prototype._updateOpenedGroupId=function e(t,r,n){var o=this._getUIStateIndex(t,r);clearTimeout(this.updateGroupIdTimer),o.openedGroupId=n||""},s.prototype._replaceOpenedGroupId=function e(t){var r=t.message,n=t.previousGroupId,o=t.listId,i=t.cursorId,a=t.conversationsMode,s=a?r.conversationId:r.id,u=(0,M.composeListId)(i,o);this._states[u]&&n===this._states[u].openedGroupId&&(this._updateOpenedGroupId(o,i,s),this.emitChange())},s.prototype._clearOpenedGroupId=function e(t,r){var n=this._getUIStateIndex(t,r);clearTimeout(this.updateGroupIdTimer),n.openedGroupId=""},s.prototype._findInvalidGroupIds=function e(t,r){var n={};return t.forEach(function(e){return n[e]=!0}),Object.keys(r).filter(function(e){return!n[e]})},s.prototype._getMessageGroupIds=function e(t,r){var n=this.dispatcher.getStore(S.default);return[r,t].filter(function(e){return!!e}).reduce(function(e,t){return e.concat(n.getMessageGroupIdsForList(t))},[])},s.prototype._getItems=function e(t,r){var n=this.dispatcher.getStore(S.default);return[r,t].filter(function(e){return!!e}).reduce(function(e,t){return e.concat(n.getItemList(t,r))},[])},s.prototype._handleSelectionChange=function e(t){var r=this,n=t.listId,o=t.cursorId,i=t.isHero,a=t.messageGroupIds;this.dispatcher.waitFor([S.default],function(){var e=r._getMessageGroupIds(n,o);r._updateSelection(n,o,i,e,a),r.emitChange()})},s.prototype._handleItemDrag=function e(t){var r=this,n=t.listId,o=t.cursorId,i=t.isHero,a=t.messageGroupIds;this.dispatcher.waitFor([S.default],function(){var e=r._getMessageGroupIds(n,o),t=r._getSelection(n,o),s=[];t[a[0]]||s.push(a[0]),r._updateSelection(n,o,i,e,s),r.emitChange()})},s.prototype._handleSelectMove=function e(t){var r=this,n=t.listId,o=t.cursorId,i=t.isHero,a=t.movement;this.dispatcher.waitFor([S.default],function(){var e=r._getMessageGroupIds(n,o),t=r.getCursor(n,o),s=t+(h.CursorMovement.UP===a?-1:1),u=[e[t],e[s]].filter(Boolean),d=r._getSelection(n,o),l=u.length>0&&u.every(function(e){return Boolean(d[e])});r._updateSelection(n,o,i,e,u);var _=r._getSelection(n,o);l&&(_[u[u.length-1]]=!0),r.emitChange()})},s.prototype._handleSelectionByType=function e(t,r){var n=this,o=t.listId,i=t.cursorId;this.dispatcher.waitFor([S.default],function(){n._resetSelection(o,i);var e=n._getItems(o,i),t=n._getSelection(o,i);e.filter(r).forEach(function(e){return t[e.id]=!0}),Object.keys(t).length&&n._updateOpenedGroupId(o,i,""),n.emitChange()})},s.prototype._handleSelectAll=function e(t){this._handleSelectionByType(t,function(){return!0})},s.prototype._handleSelectNone=function e(t){this._handleSelectionByType(t,function(){return!1})},s.prototype._handleSelectRead=function e(t){this._handleSelectionByType(t,function(e){return(0,f.getFlags)(e).read})},s.prototype._handleSelectUnread=function e(t){this._handleSelectionByType(t,function(e){return!(0,f.getFlags)(e).read})},s.prototype._handleSelectStarred=function e(t){this._handleSelectionByType(t,function(e){return(0,f.getFlags)(e).flagged})},s.prototype._handleSelectUnstarred=function e(t){this._handleSelectionByType(t,function(e){return!(0,f.getFlags)(e).flagged})},s.prototype._handleSelectRange=function e(t){var r=this,n=t.listId,o=t.cursorId,i=t.isHero,a=t.targetGroupId;this.dispatcher.waitFor([S.default],function(){var e=r._getItems(n,o),t=r._getSelection(n,o),s=r.getCursor(n,o),u=void 0;if(u=i?e.findIndex(function(e){return a===e.id}):e.map(function(e){return e.id}).lastIndexOf(a),!(u<0)){if(s<0&&(s=u),r._setCursor(n,o,u),u<s){var d=s;s=u,u=d}e.slice(s,u+1).forEach(function(e){return t[e.id]=!0}),r._updateOpenedGroupId(n,o,""),r.emitChange()}})},s.prototype._handleCursorMove=function e(t){var r=this,n=t.listId,o=t.cursorId,i=t.movement,a=t.unit;clearTimeout(this.updateGroupIdTimer),this.dispatcher.waitFor([S.default],function(){var e=r._getMessageGroupIds(n,o);r._updateCursorMove(e,{listId:n,cursorId:o,movement:i,unit:a}),r._resetSelection(n,o),r._updateOpenedGroupId(n,o,e[r.getCursor(n,o)]),r.emitChange()})},s.prototype._handleSearchRouteDestructiveOp=function e(t){var r=this;this.dispatcher.waitFor(c.default,function(){var e=r.dispatcher.getStore(c.default).getActivePageRoute(),n=(0,M.getListIdFromRoute)(e);e.name===h.RouteNames.SEARCH&&(0,M.listIdHasMessageFlags)(n)&&(0,M.listIdContainsMessageFlags)(n,t)&&r._handleActiveListDestructiveOp()})},s.prototype._handleMarkAsRead=function e(){this._handleSearchRouteDestructiveOp({read:!1})},s.prototype._handleMarkAsUnstarred=function e(){this._handleSearchRouteDestructiveOp({flagged:!0})},s.prototype._handleActiveListDestructiveOp=function e(){this._handleDestructiveOp({forceOpenGroup:!0})},s.prototype._handleDestructiveOp=function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.forceOpenGroup,o=void 0!==n&&n,s={};Object.keys(this._states).forEach(function(e){var r=i(e),n=a(e),o=t._getMessageGroupIds(n,r);s[e]=o}),this.dispatcher.waitFor([S.default],function(){Object.keys(t._states).forEach(function(e){var r,n=i(e),u=a(e),d=t._getMessageGroupIds(u,n),l=s[e],_=l[t.getCursor(u,n)],c=d.findIndex(function(e){return e===_}),p=t._getSelection(u,n),E=Object.assign((r={},r[_]=!0,r),p);if(t._findInvalidGroupIds(d,E).forEach(function(e){delete p[e]}),c>=0||!d.length)t._setCursor(u,n,c);else if(t.getCursor(u,n)>=0){var S=t.getCursor(u,n),h={};d.slice(0,S).forEach(function(e){return h[e]=!0});var f=S-l.slice(0,S).filter(function(e){return!h[e]}).length;t._setCursor(u,n,Math.min(Math.max(f,0),d.length-1))}(o||t.getOpenedGroupId(u,n))&&t._updateOpenedGroupId(u,n,d[t.getCursor(u,n)])}),t.emitChange()})},s.prototype._handlePotentialTargetedDestruction=function e(t){var r=t.listId,n=t.cursorId,o=t.messageGroupIds;if(1===o.length){var i=this._getMessageGroupIds(r,n),a=o[0];this._resetSelection(r,n),this._setCursor(r,n,i.indexOf(a))}this._handleActiveListDestructiveOp()},s.prototype._handleGroupOpen=function e(t){var r=this,n=t.listId,o=t.cursorId,i=t.itemId,a=t.isHero;this.dispatcher.waitFor([S.default],function(){var e=r._getMessageGroupIds(n,o),t=(0,I.getGroupIdFromItemId)(i,n);t&&r._updateOpenedGroupId(n,o,t),r._resetSelection(n,o);var s=a?e.indexOf(i):e.lastIndexOf(i);r._setCursor(n,o,s),r.emitChange()})},s.prototype._handleGroupClose=function e(t){var r=t.listId,n=t.cursorId;this._resetSelection(r,n),this._clearOpenedGroupId(r,n),this.emitChange()},s.prototype._handleReset=function e(t){var r=t.listId,n=t.cursorId;this._resetIndex(r,n)},s.prototype._handleClosePageRequested=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.hero,n=this.dispatcher.getStore(c.default).getActivePageRoute(),i=(0,M.getListIdFromRoute)(n),a=o(r,n,i);n.name===h.RouteNames.SEARCH&&this._handleReset({listId:i,cursorId:a})},s.prototype._handleOpenPageRequested=function e(t){var r=t.route,n=t.currentRoute,i=t.hero;if(r.name!==h.RouteNames.NEW_DRAFT){var a=(0,M.getListIdFromRoute)(n),s=o(i,n,a),u=t.itemId||null,d=[m.MKEYS.OPEN_MSG,m.MKEYS.DOC_READ_MSG,m.MKEYS.PHOTO_READ_MSG],l=[m.MKEYS.PHOTO_OPEN,m.MKEYS.DOC_OPEN],_=(0,g.getUIContextFromAction)(t)||{};if(u&&l.indexOf(_.mKey)!==-1){var c=this._getMessageGroupIds(a,s);return this._setCursor(a,s,c.indexOf(u)),this.emitChange()}u&&d.indexOf(_.mKey)!==-1&&this._handleGroupOpen({listId:a,cursorId:s,itemId:u})}},s.prototype._handleMoreMessages=function e(t){var r=t.listId,n=t.cursorId,o=t.messageGroupList,i=void 0===o?[]:o,a=t.allItemsSelected,s=this._getSelection(r,n);a&&i.forEach(function(e){s[e.id]=!0})},s.prototype._handleMoreSearchMessages=function e(t){var r=t.listId,n=t.cursorId,o=t.listContentBlock,i=t.allItemsSelected;(0,M.getListContentTypeFromListId)(r)===h.ListContentTypes.MESSAGES&&this._handleMoreMessages({listId:r,cursorId:n,messageGroupList:o.items,allItemsSelected:i})},s}(l.default);exports.default=v,v.handlers=(s={},s[p.mail.V3_PREVIEW_MESSAGE_REQUESTED]="_handleGroupOpen",s[p.mail.PREVIEW_MESSAGE_REQUESTED]="_handleGroupOpen",s[p.mail.PREVIEW_MESSAGE_CLOSED]="_handleGroupClose",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_SELECTED]="_handleSelectionChange",s[p.mail.ITEMS_DRAG_STARTED]="_handleItemDrag",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_RANGE_SELECTED]="_handleSelectRange",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_ALL_SELECTED]="_handleSelectAll",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_NONE_SELECTED]="_handleSelectNone",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_READ_SELECTED]="_handleSelectRead",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_UNREAD_SELECTED]="_handleSelectUnread",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_STARRED_SELECTED]="_handleSelectStarred",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_UNSTARRED_SELECTED]="_handleSelectUnstarred",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_SELECTION_REPLACED]="_handleSelectionReplacement",s[p.mail.MESSAGE_SAVE_SUCCEEDED]="_replaceOpenedGroupId",s[p.mail.MESSAGE_AUTO_SAVE_SUCCEEDED]="_replaceOpenedGroupId",s[p.mail.V3_MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED]="_handleCursorMove",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED]="_handleCursorMove",s[p.mail.MESSAGES_FROM_MESSAGE_LIST_SELECT_CURSOR_MOVED]="_handleSelectMove",s[p.mail.MESSAGES_DELETE_REQUESTED]="_handlePotentialTargetedDestruction",s[p.mail.DELETE_DRAFT_REQUESTED]="_handleDestructiveOp",s[p.mail.SEND_SUCCESS]="_handleDestructiveOp",s[p.mail.MESSAGES_MOVE_REQUESTED]="_handleActiveListDestructiveOp",s[p.mail.MESSAGES_ARCHIVE_REQUESTED]="_handleActiveListDestructiveOp",s[p.mail.MESSAGES_RESTORE_REQUESTED]="_handleActiveListDestructiveOp",s[p.mail.MESSAGES_MARK_SPAM_REQUESTED]="_handleActiveListDestructiveOp",s[p.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED]="_handleActiveListDestructiveOp",s[p.mail.MESSAGES_MARK_READ_REQUESTED]="_handleMarkAsRead",s[p.mail.MESSAGES_MARK_UNSTARRED_REQUESTED]="_handleMarkAsUnstarred",s[p.mail.AUTO_CHECK_MAIL_RECEIVED]="_handleDestructiveOp",s[p.mail.CHANGE_FOLDER_SUCCEEDED]="_handleDestructiveOp",s[p.mail.SEARCH_LIST_ITEMS_RECEIVED]="_handleDestructiveOp",s[p.mail.MAGIC_TRIAGE_ITEMS_RECEIVED]="_handleDestructiveOp",s[p.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED]="_handleDestructiveOp",s[p.mail.ARCHIVE_FOLDER_REQUESTED]="_handleReset",s[p.mail.CLEAR_FOLDER_REQUESTED]="_handleReset",s[p.mail.CLOSE_PAGE_REQUESTED]="_handleClosePageRequested",s[p.mail.MORE_MESSAGES_REQUEST_SUCCESS]="_handleMoreMessages",s[p.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED]="_handleMoreSearchMessages",s[p.mail.OPEN_PAGE_REQUESTED]="_handleOpenPageRequested",s),module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/rapid_client/constants.js":"./platform/rapid_client/constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/action":"./platform/utils/action","../platform/utils/item":"./platform/utils/item","../platform/utils/list":"./platform/utils/list","../platform/utils/message_group":"./platform/utils/message_group","./mail":"./stores/mail","./pages":"./stores/pages","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],401:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r,o=require("../platform/react_action_constants"),s=require("../platform/mail_constants"),a=require("fluxible/addons/BaseStore"),c=e(a),f="+",u=",",y=/^((META|CTRL|ALT|SHIFT)[+ ])*[^+, ~!@#$%^&*()_+]+$/,d=function(e){function r(i){t(this,r);var o=n(this,e.call(this,i));return o._keyBindings={},o}return i(r,e),r.prototype.getKeyboardShortcuts=function e(){return this._keyBindings},r.prototype._getKeyParts=function e(t){return t.split(u).map(function(e){e=e.trim();var t=e.split(f);if(!y.test(e))throw new Error('"'+e+"\" contains unsanctioned character or modifier keys.\n                    Character must be consist of alphanumeric, '+', ' ', or ','.\n                    All modifier character has to be one of "+Object.keys(s.ModifierKeys)+".");return{char:t.slice(-1)[0].toUpperCase(),modifier:t.slice(0,-1).sort()}})},r.prototype._setKeyBinding=function e(t){var n=this,i=t.id,r=t.key,o=t.callback;this._getKeyParts(r).forEach(function(e){var t=e.char,r=e.modifier,s={id:i,key:t,callback:o,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1};n._keyBindings[t]||(n._keyBindings[t]=[]),r.forEach(function(e){s.key+=e,s[e.toLowerCase()+"Key"]=!0}),n._keyBindings[t].push(s),n._keyBindings[t].sort(function(e,t){if(e.key===t.key)throw new Error("\n                        Duplicate key binding found!\n                        "+JSON.stringify(e,null,2)+"\n                        vs.\n                        "+JSON.stringify(t,null,2)+"\n                    ");return e.key.length<t.key.length})})},r.prototype._removeKeyBinding=function e(t){var n=this,i=t.key;this._getKeyParts(i).forEach(function(e){var t=e.char,r=e.modifier,o=n._keyBindings[t];if(!o)throw new Error("No shortcut binding with "+i+" found.");if(!o.some(function(e,i){if(Object.keys(s.ModifierKeys).every(function(t){return e[t.toLowerCase()+"Key"]===r.indexOf(t)>-1}))return n._keyBindings[t].splice(i,1),!0}))throw new Error("No shortcut binding for "+i+" found.")})},r.prototype.keyDidUpdate=function e(t){var n=this,i=t.oldKeys,r=t.newKeys;i.forEach(function(e){return n._removeKeyBinding(e)}),r.forEach(function(e){return n._setKeyBinding(e)}),this.emitChange()},r.prototype.keyDidBind=function e(t){var n=this;t.keys.forEach(function(e){n._setKeyBinding(e)}),this.emitChange()},r.prototype.keyDidUnbind=function e(t){var n=this;t.keys.forEach(function(e){n._removeKeyBinding(e)}),this.emitChange()},r}(c.default);d.storeName="KeyboardShortcutStore",d.handlers=(r={},r[o.mail.KEY_DID_BIND]="keyDidBind",r[o.mail.KEY_DID_UPDATE]="keyDidUpdate",r[o.mail.KEY_DID_UNBIND]="keyDidUnbind",r),module.exports=d;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/mail/collections/accounts":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function n(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var c=require("../../../platform/mail_constants"),o=require("../../../platform/utils/object"),r=n(o),i=require("../../../platform/invariant"),u=t(i),s=4002,a=4003,A=1,p=function(){function t(){e(this,t),this._rootAccounts={},this._activeAccountId=null,this._alerts=[]}return t.prototype.initialize=function t(n){this.setAccounts(n)},t.prototype._reset=function t(){this._rootAccounts={}},t.prototype.get=function t(n){var e=this._rootAccounts[n];if(!e){var c=this.getPrimaryAccount(this._rootAccounts);e=r.values(c.secondaryAccounts).find(function(t){return t.id===n})}return e},t.prototype.getByEmail=function t(n){return this.getAllAccounts().find(function(t){return t.email===n})},t.prototype.setAccounts=function t(n){var e=this;this._reset();var c=[],o=[];n.forEach(function(t){t=Object.assign({},t),e._isRootAccount(t)?c.push(t):o.push(t)});var r=this._getPrimaryAccount(c);r.secondaryAccounts=o.map(function(t){return Object.assign({sendingName:r.sendingName,signature:r.signature,signatureActive:r.signatureActive},t)}),c.forEach(function(t){e._rootAccounts[t.id]=t})},t.prototype.setAccount=function t(n){var e=this.getAllAccounts(),o=r.values(e).find(function(t){return t.id===n.id});o&&(o.isSending!==n.isSending?r.values(e).filter(function(t){return t.type!==c.AccountTypes.IMAPIN}).find(function(t){return t.isSending}).isSending=!1:o.signature!==n.signature&&o.isPrimary?o.secondaryAccounts.map(function(t){return Object.assign(t,{signature:n.signature})}):o.signatureActive!==n.signatureActive&&o.isPrimary&&o.secondaryAccounts.map(function(t){return Object.assign(t,{signatureActive:n.signatureActive})}),Object.assign(o,n))},t.prototype.addAccount=function t(n){var e=this.getPrimaryAccount();this._isRootAccount(n)?this._rootAccounts[n.id]=n:e.secondaryAccounts.push(Object.assign({sendingName:e.sendingName,signature:e.signature,signatureActive:e.signatureActive},n))},t.prototype.deleteAccount=function t(n){var e=n.id,o=n.type,r=this.getPrimaryAccount(),i=r.secondaryAccounts.filter(function(t){return t.id!==e});o===c.AccountTypes.DEA?r.secondaryAccounts=i:this.setAccount(n),e===this.getActiveAccountId()&&this.setActiveAccountId(this.getPrimaryAccount().id)},t.prototype.getRootAccounts=function t(){return r.values(this._rootAccounts).sort(function(t,n){return n.isPrimary!==t.isPrimary?n.isPrimary-t.isPrimary:t.id-n.id})},t.prototype.getAllAccounts=function t(){var n=this.getPrimaryAccount();return[].concat(r.values(this._rootAccounts),n.secondaryAccounts).sort(function(t,n){return n.isPrimary!==t.isPrimary?n.isPrimary-t.isPrimary:t.id-n.id})},t.prototype.getImapInAccounts=function t(){return r.values(this._rootAccounts).filter(function(t){return t.type===c.AccountTypes.IMAPIN})},t.prototype._getPrimaryAccount=function t(n){for(var e=void 0,c=0;c<n.length;c++){var o=n[c];if(o.isPrimary){e=o;break}}return e},t.prototype.getPrimaryAccount=function t(){return this._getPrimaryAccount(r.values(this._rootAccounts))},t.prototype._isRootAccount=function t(n){return c.ROOT_ACCOUNT_TYPE.indexOf(n.type)>-1},t.prototype.setActiveAccountId=function t(n){(0,u.default)(n,"accountId is required"),this._activeAccountId=n},t.prototype.getActiveAccountId=function t(){return this._activeAccountId||this.getPrimaryAccount().id},t.prototype.getActiveAccount=function t(){return this._rootAccounts[this.getActiveAccountId()]},t.prototype.getDefaultSendingAccount=function t(){return this.getAllAccounts().find(function(t){var n=t.isSending,e=t.accountVerified;return!!n&&!!e})||this.getActiveAccount()},t.prototype.getImapInProvider=function t(){var n=this.getActiveAccount();if(n.type!==c.AccountTypes.IMAPIN)return null;switch(n.serverUri){case"imaps://gmail.com":return"google";case"imaps://outlook.com":return"outlook";case"imaps://aol.com":return"aol";default:return"yahoo_in"}},t.prototype.getMyAddresses=function t(){var n=this,e={};return r.values(this._rootAccounts).concat(this.getPrimaryAccount().secondaryAccounts).forEach(function(t){var c=t.email;t.accountVerified&&c===n.getActiveAccount().email&&(e[c]=!0)}),e},t.prototype.getAddressesForAccount=function t(n){var e=this.get(n),c={};return c[e.email]=!0,e.secondaryAccounts&&e.secondaryAccounts.forEach(function(t){c[t.email]=!0}),c},t.prototype.isImapInAccount=function t(n){return this.get(n)&&this.get(n).type===c.AccountTypes.IMAPIN},t.prototype.setAlerts=function t(n){this._alerts=n},t.prototype.getAlerts=function t(){return this._alerts},t.prototype.getAccountAlertByAccountId=function t(n){return this._alerts.find(function(t){return t.accountId===n})||{}},t.prototype.getExpiredAccounts=function t(){var n=this;return this.getAlerts().filter(function(t){return[s,a].indexOf(t.state)!==-1&&n.isImapInAccount(t.accountId)&&t.type===A}).map(function(t){return t.accountId})},t.prototype.dehydrate=function t(){return{accounts:this._rootAccounts,activeAccountId:this._activeAccountId,alerts:this._alerts}},t.prototype.rehydrate=function t(n){n&&(this._rootAccounts=n.accounts,this._activeAccountId=n.activeAccountId,this._alerts=n.alerts)},t}();exports.default=p,module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/object":"./platform/utils/object"}],"./stores/mail/collections/async_task":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function s(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var a,e=require("../../../platform/invariant"),E=t(e),i=require("../../../platform/react_action_constants"),u=require("../../../platform/mail_constants"),o=(a={},a[u.BulkTaskStatus.INIT]=0,a[u.BulkTaskStatus.PENDING]=1,a[u.BulkTaskStatus.ABORTING]=2,a[u.BulkTaskStatus.ABORTED]=3,a[u.BulkTaskStatus.ABORT_FAILED]=4,a[u.BulkTaskStatus.COMPLETED]=5,a[u.BulkTaskStatus.FAILED]=6,a),k=function(){function t(){s(this,t),this._task=null,this._taskPayload=null}return t.prototype.getTask=function t(){return this._task},t.prototype.getTaskActionPayload=function t(){return this._taskPayload},t.prototype.set=function t(s){var a=s.task;(0,E.default)(a.id,"`taskid` is a required field when setting a bulk task.");var e=o[this._task.status],i=this._task.progress,u=o[a.status],k=a.progress;u>e?this._task=a:i<=k&&(this._task=Object.assign({},this._task,{progress:a.progress}))},t.prototype.add=function t(s,a){(0,E.default)(s.async,"Async tasks can only be added to asyncTaskCollection"),(0,E.default)(!this._task||this._task.status===u.BulkTaskStatus.ABORTED||this._task.status===u.BulkTaskStatus.COMPLETED||this._task.status===u.BulkTaskStatus.FAILED,"Another task is already in progress"),this._task={status:u.BulkTaskStatus.INIT,progress:0};var e=s.successActionType,o=s.failureActionType,k=void 0;switch(a){case i.mail.MARK_READ_FOLDER_REQUESTED:k=u.BulkActionTypes.MARK_READ;break;case i.mail.ARCHIVE_FOLDER_REQUESTED:k=u.BulkActionTypes.ARCHIVE;break;case i.mail.CLEAR_FOLDER_REQUESTED:k=u.BulkActionTypes.DELETE;break;case i.mail.MESSAGES_DELETE_REQUESTED:k=u.BulkActionTypes.MESSAGES_DELETE;break;case i.mail.MESSAGES_MOVE_REQUESTED:k=u.BulkActionTypes.MESSAGES_MOVE;break;case i.mail.MESSAGES_ARCHIVE_REQUESTED:k=u.BulkActionTypes.MESSAGES_ARCHIVE;break;case i.mail.MESSAGES_RESTORE_REQUESTED:k=u.BulkActionTypes.MESSAGES_RESTORE;break;case i.mail.MESSAGES_MARK_SPAM_REQUESTED:k=u.BulkActionTypes.MESSAGES_MARK_SPAM;break;case i.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED:k=u.BulkActionTypes.MESSAGES_MARK_NOT_SPAM;break;case i.mail.MOVE_QUERY_REQUESTED:k=u.BulkActionTypes.MOVE_QUERY;break;case i.mail.MARK_QUERY_REQUESTED:k=u.BulkActionTypes.MARK_QUERY}this._taskPayload={successActionType:e,failureActionType:o,actionPayload:s,actionType:k}},t.prototype.failed=function t(){this._task=Object.assign({},this._task,{status:u.BulkTaskStatus.FAILED})},t.prototype.abort=function t(){this._task=Object.assign({},this._task,{status:u.BulkTaskStatus.ABORTING})},t.prototype.abortFailed=function t(){this._task=Object.assign({},this._task,{status:u.BulkTaskStatus.ABORT_FAILED})},t.prototype.abortSucceeded=function t(){this._task=Object.assign({},this._task,{status:u.BulkTaskStatus.COMPLETED})},t}();exports.default=k,module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],"./stores/mail/collections/attachment_metadata":[function(require,module,exports){
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).filter(function(t){return"boolean"==typeof e[t]||Boolean(e[t])}).forEach(function(s){return t[s]=e[s]}),t}exports.__esModule=!0;var s=require("../../../platform/mail_constants"),n=s.Attachments.Types,a=s.Attachments.SubTypes,o=function(){function s(){t(this,s),this.attachments={},this.messageIdToAttachmentIds={}}return s.prototype.add=function t(s,n){this.messageIdToAttachmentIds.hasOwnProperty(s)||(this.messageIdToAttachmentIds[s]=[]),this.attachments[n.id]||this.messageIdToAttachmentIds[s].push(n.id),this.attachments[n.id]=e(this.attachments[n.id],n)},s.prototype.remove=function t(e){delete this.attachments[e]},s.prototype.removeByMessageId=function t(e){var s=this;this.messageIdToAttachmentIds.hasOwnProperty(e)&&(this.messageIdToAttachmentIds[e].forEach(function(t){return s.remove(t)}),delete this.messageIdToAttachmentIds[e])},s.prototype.savePreviewerUiState=function t(s,n){this.attachments[s]=e(this.attachments[s],{previewerUiState:n})},s.prototype.exists=function t(e){return!!this.attachments[e]},s.prototype.get=function t(e){return this.attachments[e]},s.prototype.getAttachmentIdsByMessageId=function t(e){return this.messageIdToAttachmentIds.hasOwnProperty(e)?this.messageIdToAttachmentIds[e]:[]},s.prototype.getByMessageId=function t(e){var s=this,n=this.getAttachmentIdsByMessageId(e);return this._deduplicateAttachments(n.map(function(t){return s.get(t)}))},s.prototype._deduplicateAttachments=function t(e){return e.some(function(t){return t.subtype===a.ICS&&t.type===n.APPLICATION})?e.filter(function(t){return!(t.subtype===a.CALENDAR&&t.type===n.TEXT)}):e},s.prototype.getNextAttachmentIdForMessage=function t(e,s){return this._getNextPreviousAttachmentIdForMessage(e,s,1)},s.prototype.getPreviousAttachmentIdForMessage=function t(e,s){return this._getNextPreviousAttachmentIdForMessage(e,s,-1)},s.prototype._getNextPreviousAttachmentIdForMessage=function t(e,s,n){var a=this.getAttachmentIdsByMessageId(s),o=a.indexOf(e),r=a[o+n];return"undefined"==typeof r||o===-1?"":r},s.prototype.dehydrate=function t(){return{attachments:this.attachments,messageIdToAttachmentIds:this.messageIdToAttachmentIds}},s.prototype.rehydrate=function t(e){e&&(this.attachments=e.attachments,this.messageIdToAttachmentIds=e.messageIdToAttachmentIds)},s}();exports.default=o,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants"}],"./stores/mail/collections/compose":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=t.message,a=t.senderAddresses,s=t.composeMode,i={to:[],cc:[],bcc:[]},n=function t(e){return a[e.email]!==!0},r=function t(e){return a[e.email]===!0};return e.headers.replyTo&&e.headers.replyTo.length&&!e.headers.replyTo[0].name&&e.headers.from&&e.headers.from.length&&e.headers.replyTo[0].email===e.headers.from[0].email&&(e.headers.replyTo[0].name=e.headers.from[0].name),s===S.REPLY?i.to=e.headers.replyTo||e.headers.from||[]:s===S.REPLY_ALL&&(e.headers.replyTo&&e.headers.replyTo.length?i.to=o(e.headers.replyTo.concat(e.headers.to).filter(function(t){return n(t)||e.headers.replyTo.find(r)&&e.headers.to.find(r)})):i.to=o(e.headers.from.concat(e.headers.to).filter(function(t){return n(t)||e.headers.from.find(r)&&e.headers.to.find(r)})),i.cc=o(e.headers.cc).filter(n).filter(function(t){return!i.to.find(function(e){return e.email===t.email})})),i}function o(t){var e={},a=[];return t.forEach(function(t){e[t.email]||(e[t.email]=!0,a.push(t))}),a}function s(t){Object.keys(t).forEach(function(t){(0,u.default)(b.hasOwnProperty(t),"composeData contains unknown attribute: "+t)})}function i(t){var e=t.message,a=t.composeMode,o="",s="";switch(a){case S.REPLY:case S.REPLY_ALL:o="Re: ";break;case S.FORWARD:o="Fw: "}return e.headers.subject&&(s=(0,I.removeMatchTermDelimiter)(e.headers.subject),0!==e.headers.subject.indexOf(o)&&(s=o+s)),s}function n(t){var e=t.signature,a=t.signatureActive,o=t.message,s={content:r({signature:e,signatureActive:a})||""};if(o&&o.body.html&&o.headers.from){var i=o.headers.from[0],n=i.name,d=void 0===n?"":n,c=i.email;s.content+=E,s.date=o.date,s.quotedName=d,s.quotedAddress=c,s.quote=o.body.html}return s}function r(t){var e=t.signature,a=t.signatureActive,o="";return e&&a&&(o+=E+E,o+='<div class="signature">'+e+"</div>"),o}exports.__esModule=!0;var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t};exports.createBody=n;var c=require("../../../platform/invariant"),u=t(c),p=require("../../../platform/utils/object"),m=require("../../../platform/utils/attachments"),h=require("../../../platform/utils/message_quote_finder"),f=require("../../../platform/mail_constants"),l=require("lodash/without"),g=t(l),I=require("../../../platform/utils/message_group"),v=require("../../../platform/utils/xss_filters"),y=require("../../../platform/logger"),D=t(y),A=f.Draft.Status,S=f.Compose.Modes,T=f.Attachments.Dispositions,b=(0,p.mirrorKeys)(["accountId","captcha","csid","groupId","folderId","draftStatus","initialBcc","initialBody","initialCc","initialFrom","initialSubject","initialTo","initialStationeryTheme","initialStationeryCategory","lastSavedMessageId","lastSavedTime","spame","attachments","files","inReplyTo","htmlAnnotations","focusSubject","composeMode","originalFrom","originalTo","originalCc","originalAttachments","originalSubject","originalSentDate","attachFiles"]),E="<div><br/></div>",R=function(){function t(){e(this,t),this.rfcToComposeData={},this.messageIdToComposeData={},this.composeData={},this.states={},this.byGroupId={}}return t.prototype.create=function t(e){var o=e.composeMode,r=e.csid,c=e.account,p=e.senderAddresses,l=e.message,g=e.files,I=void 0===g?[]:g,y=e.groupId,D=void 0===y?null:y,b=e.initialSubject,E=e.initialBody,R=e.folderId;(0,u.default)(r,"csid is required @collections/compose#create"),(0,u.default)(c,"account is required when creating a composeData"),(0,u.default)(o===S.NEW||o===S.SPONSORED_FORWARD||l&&l.body,"message is required and has to be full (including body), if not a new draft"),(0,u.default)(c.id,"account id should be present"),(0,u.default)(R,"folder id should be present");var L=h.DEFAULT_QUOTE_CLASS+"_"+r,M=c.signature,O=c.signatureActive,C={accountId:c.id,folderId:R,csid:r,groupId:D,initialBcc:[],initialBody:{},initialCc:[],initialFrom:[],initialSubject:"",initialTo:[],attachments:[],files:{},inReplyTo:{},lastSavedMessageId:"",htmlAnnotations:[{divIds:[L]}],draftStatus:A.INIT,composeMode:o,originalFrom:[],originalTo:[],originalCc:[],originalAttachments:[],originalSubject:"",originalSentDate:"",focusSubject:!1,attachFiles:I};switch((0,u.default)("string"==typeof r,"csid has to be a string. csid: "+r),o){case S.NEW:if(Object.assign(C,{initialBody:E&&E.content?E:n({signature:M,signatureActive:O}),initialSubject:b||""}),l&&l.attachments){var _="",j=[];l.attachments.forEach(function(t){var e=t.dataId,a=void 0===e?(0,m.generateContentId)():e,o=t.contentId,s=void 0===o?(0,m.generateContentId)():o,i=t.downloadUrl,n=void 0===i?"":i,r=t.isExternal,c=t.disposition;if(t.dataId=a,t.contentId=s,t.state=f.AttachmentStates.LOADED,r)_+=/^https?:/i.test(n)?'<div><a href="'+(0,v.inDoubleQuotedAttr)(n)+'">'+(0,v.inHTMLData)(n)+"</a></div>":"<div>"+(0,v.inHTMLData)(n)+"</div>";else if(c===T.INLINE){var u=d({},t,{state:f.AttachmentStates.LOADING});j=j.concat((0,m.transformAttachments)(l,[u]))}else j=j.concat((0,m.transformAttachments)(l,[t]))}),C.initialBody.content=C.initialBody.content?_+C.initialBody.content:_,C.attachments=j}break;case S.REPLY:case S.REPLY_ALL:(0,u.default)(l.body,"at this point message body should be loaded");var N=a({message:l,senderAddresses:p,composeMode:o}),x=N.to,B=N.cc,G=N.bcc;this.setState(r,f.RecordStates.LOADED),C.initialTo=x,C.initialCc=B,C.initialBcc=G,C.initialSubject=i({message:l,composeMode:o}),C.initialBody=n({signature:M,signatureActive:O,message:l}),C.inReplyTo={id:l.id,messageIdRfc822:l.headers.messageIdRfc822},C.originalFrom=l.headers.from,C.originalTo=l.headers.to,C.originalCc=l.headers.cc,C.originalSubject=l.headers.subject,C.originalSentDate=l.headers.date,C.originalAttachments=(0,m.getNonInlineAttachments)(this._transformLoadedAttachments(l));break;case S.FORWARD:(0,u.default)(l.body,"at this point message body should be loaded"),this.setState(r,f.RecordStates.LOADED),C.initialSubject=i({message:l,composeMode:o}),C.initialBody=n({signature:M,signatureActive:O,message:l}),C.inReplyTo={id:l.id,messageIdRfc822:l.headers.messageIdRfc822},C.originalFrom=l.headers.from,C.originalTo=l.headers.to,C.originalCc=l.headers.cc,C.originalSubject=l.headers.subject,C.originalSentDate=l.headers.date,C.attachments=this._transformLoadedAttachments(l);break;case S.EDIT:(0,u.default)(l.body,"at this point message body should be loaded"),this.setState(r,f.RecordStates.LOADED),C.initialBcc=l.headers.bcc||[],C.initialBody.content=l.body.html,C.htmlAnnotations=l.body.htmlAnnotations,C.initialSubject=l.headers.subject||"",C.initialCc=l.headers.cc||[],C.initialFrom=l.headers.from||[],C.initialTo=l.headers.to||[],C.draftStatus=A.SAVED,C.lastSavedMessageId=l.id,C.inReplyTo=d({},l.inReplyTo,{id:l.id,messageIdRfc822:l.headers.inReplyTo}),C.attachments=this._transformLoadedAttachments(l);break;default:(0,u.default)(!1,"composeMode is invalid. composeMode: "+o)}s(C),this.setState(r,f.RecordStates.LOADED),this.composeData[r]=C,D&&(this.byGroupId[D]||(this.byGroupId[D]=[])).push(C),this._addToRfcToCsidMap(C.inReplyTo,r),C.lastSavedMessageId&&(this.messageIdToComposeData[C.lastSavedMessageId]=C)},t.prototype.hasUnsavedData=function t(){return(0,p.values)(this.composeData).some(function(t){var e=t.draftStatus;return e!==A.INIT&&e!==A.SAVED_PARTIAL&&e!==A.SAVED})},t.prototype.get=function t(e){return this.composeData[e]},t.prototype.getByMessageId=function t(e){return this.messageIdToComposeData[e]},t.prototype.getByGroupId=function t(e){return this.byGroupId[e]||[]},t.prototype.getByInReplyTo=function t(e){var a=this;return(this.rfcToComposeData[e]||[]).map(function(t){return a.composeData[t]})},t.prototype.getState=function t(e){return this.states[e]||f.RecordStates.DOES_NOT_EXIST},t.prototype.getDraftStatus=function t(e){return(0,u.default)("string"==typeof e,"csid has to be a string. csid: "+e),(0,u.default)(this.composeData[e],"Invalid csid"),this.composeData[e].draftStatus},t.prototype.setState=function t(e,a){if((0,u.default)(f.RecordStates.hasOwnProperty(a),"unknown state '"+a+"'.\n                  available states: "+JSON.stringify(f.RecordStates)),this.composeData[e]){var o=this.composeData[e].draftStatus;return void D.default.error("can't change state of existing "+o+" 'composeData' that has been LOADED.\n                  use #remove first. New state "+a)}this.states[e]=a},t.prototype.update=function t(e,a){s(a);var o=this.byGroupId,i=this.composeData[e];if(i){var n=i.draftStatus,r=a.draftStatus;if(n!==A.SENDING&&n!==A.SENT||r!==A.EDITED){var d=Object.assign({},i,a);(0,u.default)(i,"compose data for csid: '"+e+"' does not exist"),this.composeData[e]=d,this._addToRfcToCsidMap(d.inReplyTo,e),d.groupId&&(this._cleanByGroupIdMap(e,i.groupId),o[d.groupId]||(o[d.groupId]=[]),o[d.groupId].push(d)),i.lastSavedMessageId&&delete this.messageIdToComposeData[i.lastSavedMessageId],this.messageIdToComposeData[d.lastSavedMessageId]=d}}},t.prototype._addToRfcToCsidMap=function t(e,a){if(e){var o=e.messageIdRfc822;this.rfcToComposeData.hasOwnProperty(o)||(this.rfcToComposeData[o]=[]);var s=this.rfcToComposeData[o];s.indexOf(a)===-1&&s.push(a)}},t.prototype._removeFromRfcToCsidMap=function t(e,a){if(e){var o=this.rfcToComposeData[e.messageIdRfc822];if(o){var s=o.indexOf(a);s!==-1&&o.splice(s,1)}}},t.prototype._cleanByGroupIdMap=function t(e,a){if(a){var o=this.getByGroupId(a),s=o.findIndex(function(t){return t.csid===e});o.splice(s,1)}},t.prototype.focusSubject=function t(e){this.composeData[e].focusSubject=!0},t.prototype.unfocusSubject=function t(e){this.composeData[e].focusSubject=!1},t.prototype.removeGroupId=function t(e){var a=this.composeData[e];(0,u.default)(a,"compose data for csid: '"+e+"' does not exist"),this._cleanByGroupIdMap(e,a.groupId),this.composeData[e].groupId=null},t.prototype.updateComposeMode=function t(e){var o=e.csid,s=e.message,n=e.senderAddresses,r=e.composeMode,d=a({message:s,senderAddresses:n,composeMode:r}),c=d.to,u=d.cc,p=d.bcc;this.update(o,{composeMode:r,initialSubject:i({message:s,composeMode:r}),initialTo:c,initialCc:u,initialBcc:p})},t.prototype.addAttachments=function t(e,a,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this.get(e);(0,u.default)(i,"compose data for csid: '"+e+"' does not exist"),a.forEach(function(t,e){var a=o[e],n=void 0;(0,u.default)(a,"disposition for '"+t+"' is missing."),t instanceof Blob&&(n=Object.assign({},(0,m.extractAttachmentFromFile)(t,s[e]),{state:f.AttachmentStates.LOADING,disposition:a}),i.files[n.contentId]=t),i.attachments.push(n)})},t.prototype.removeAttachment=function t(e,a){var o=this.get(e);(0,u.default)(o,"compose data for csid: '"+e+"' does not exist #removeAttachment"),o.attachments=o.attachments.map(function(t){return t.contentId===a?(delete o.files[t.contentId],d({},t,{state:f.AttachmentStates.DELETED})):t})},t.prototype.removeNonloadedAttachments=function t(e){var a=this.get(e),o=[];(0,u.default)(a,"compose data for csid: '"+e+"' does not exist"),a.attachments.forEach(function(t){t.state!==f.AttachmentStates.LOADED?delete a.files[t.contentId]:o.push(t)}),a.attachments=o},t.prototype.removeInlineImage=function t(e){var a=e.csid,o=e.dataId,s=this.get(a);(0,u.default)(s,"compose data for csid: '"+a+"' does not exist");var i=s.attachments.find(function(t){return t.dataId===o});i&&(i.state=f.AttachmentStates.DELETING)},t.prototype.updateInlineAttachmentDisposition=function t(e,a,o,s){var i=this.get(e);(0,u.default)(i,"compose data for csid: '"+e+"' does not exist");var n=void 0;n=o?i.attachments.find(function(t){return t.dataId===a}):i.attachments.find(function(t){return t.partId===s}),n.disposition=T.ATTACHMENT,n.state=f.AttachmentStates.LOADED},t.prototype.updateRegularAttachmentDisposition=function t(e,a){var o=this.get(e);(0,u.default)(o,"compose data for csid: '"+e+"' does not exist");var s=o.attachments.find(function(t){return t.contentId===a});s.disposition=T.INLINE,s.state=f.AttachmentStates.LOADING},t.prototype.updateAttachments=function t(e){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=this.get(e);(0,u.default)(s,"compose data for csid: '"+e+"' does not exist : #updateAttachments"),o.forEach(function(t){if(t.disposition===T.ATTACHMENT){var e=s.attachments.findIndex(function(e){var a=e.contentId;return t.contentId===a});return void(e>-1&&a._updateAttachmentHelper(s,e,t))}t.dataIds.forEach(function(e){var o=s.attachments.findIndex(function(t){return t.dataId===e});return o===-1?void s.attachments.push(d({},t,{dataId:e,state:f.AttachmentStates.LOADED})):void a._updateAttachmentHelper(s,o,t)})})},t.prototype._updateAttachmentHelper=function t(e,a,o){var s=e.attachments[a];e.attachments[a]=d({},s,o,{disposition:s.disposition,state:s.state===f.AttachmentStates.LOADING?f.AttachmentStates.LOADED:s.state}),delete e.files[s.contentId]},t.prototype.setNotLoadedAttachmentAsError=function t(e){var a=this.get(e);(0,u.default)(a,"compose data for csid: '"+e+"' does not exist at #setNotLoadedAttachmentAsError"),a.attachments.forEach(function(t){t.state===f.AttachmentStates.LOADING&&(t.state=f.AttachmentStates.ERROR)})},t.prototype.updateAttachmentState=function t(e){var a=e.csid,o=e.state,s=e.dataId,i=this.get(a);(0,u.default)(i,"compose data for csid: '"+a+"' does not exist at #updateAttachmentState"),i.attachments.find(function(t){return t.dataId===s})&&(i.attachments=i.attachments.map(function(t){return t.dataId===s?d({},t,{state:o}):t}))},t.prototype.remove=function t(e){(0,u.default)(e);var a=this.composeData[e];a.lastSavedMessageId&&delete this.messageIdToComposeData[a.lastSavedMessageId],this._removeFromRfcToCsidMap(a.inReplyTo,e),delete this.states[e],delete this.composeData[e];var o=this.byGroupId[a.groupId];o&&(this.byGroupId[a.groupId]=(0,g.default)(o,a))},t.prototype.handleInlineImageRestored=function t(e){var a=e.csid,o=e.restoredImages,s=this.get(a);(0,u.default)(s,"compose data for csid: '"+a+"' does not exist : #handleInlineImageRestored"),o.forEach(function(t){var e=t.dataId,a=s.attachments.find(function(t){return t.dataId===e});a&&a.state===f.AttachmentStates.DELETED&&(a.state=f.AttachmentStates.LOADED)})},t.prototype._transformLoadedAttachments=function t(e){return(0,m.transformAttachments)(e,e.attachments).map(function(t){return d({},t,{state:f.AttachmentStates.LOADED})})},t.prototype.dehydrate=function t(){return{composeData:this.composeData,states:this.states}},t.prototype.rehydrate=function t(e){var a=this;this.composeData=e.composeData,this.states=e.states,this.rfcToComposeData={},this.messageIdToComposeData={},(0,p.values)(this.composeData).forEach(function(t){a._addToRfcToCsidMap(t.inReplyTo,t.csid),t.lastSavedMessageId&&(a.messageIdToComposeData[t.lastSavedMessageId]=t),t.groupId&&(a.byGroupId[t.groupId]||(a.byGroupId[t.groupId]=[]),a.byGroupId[t.groupId].push(t))})},t}();exports.default=R;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/logger":"./platform/logger","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/attachments":"./platform/utils/attachments","../../../platform/utils/message_group":"./platform/utils/message_group","../../../platform/utils/message_quote_finder":"./platform/utils/message_quote_finder","../../../platform/utils/object":"./platform/utils/object","../../../platform/utils/xss_filters":"./platform/utils/xss_filters","lodash/without":"./node_modules/lodash/without.js"}],"./stores/mail/collections/contact":[function(require,module,exports){
"use strict";function t(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var o=require("../../../platform/mail_constants"),e=require("../../../platform/react_action_constants"),i=function(){function i(){t(this,i),this._recordStates={},this._emailToXobniId={},this._contacts={}}return i.prototype.getContactByEmail=function t(o){var e=this._emailToXobniId[o];return this.getContact(e)},i.prototype.getContact=function t(o){return this._contacts[o]},i.prototype.getRecordState=function t(e){return this._recordStates[e]||o.RecordStates.DOES_NOT_EXIST},i.prototype.setRecordState=function t(o,e){this._recordStates[o]=e},i.prototype.saveContact=function t(i,r){var n=this,s=i.xobniId;this._contacts[s]&&this._contacts[s].relationshipHistory&&!i.relationshipHistory&&(i.relationshipHistory=this._contacts[s].relationshipHistory),this._contacts[s]=i,i.emails.forEach(function(t){r===e.mail.IMPORTANT_CONTACTS_FETCH_SUCCEEDED||n._emailToXobniId[t]||(n.setRecordState(t,o.RecordStates.LOADED),n._emailToXobniId[t]=s)})},i.prototype.dehydrate=function t(){return{recordStates:this._recordStates,contacts:this._contacts,emailToXobniId:this._emailToXobniId}},i.prototype.rehydrate=function t(o){o&&(this._recordStates=o.recordStates,this._contacts=o.contacts,this._emailToXobniId=o.emailToXobniId)},i}();exports.default=i,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],"./stores/mail/collections/folders":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=require("../../../platform/utils/folder"),o=require("../../../platform/invariant"),d=e(o),n=require("../../../platform/mail_constants"),l=require("../../../reducers_selectors"),s=require("lodash/cloneDeep"),i=e(s),u="1",a=function(){function e(r,o){t(this,e),this._folderTreeNodes=[],this._folderMap={},this._defaultId=null,this.useReduxState=r,this.reduxStore=o}return e.prototype.initialize=function e(t,o){this._defaultId=o,this._folderTreeNodes=this._buildFolderTree(t),this._folderMap=(0,r.flattenFolderTree)(this._folderTreeNodes)},e.prototype.reset=function e(t){this._folderTreeNodes=this._buildFolderTree(t),this._folderMap=(0,r.flattenFolderTree)(this._folderTreeNodes)},e.prototype._buildFolderTree=function e(t,r){var o=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=r||[];return t.forEach(function(e){var t={folder:Object.assign({},e.folder,{level:d}),children:[]};n.push(t),e.children.length>0&&o._buildFolderTree(e.children,t.children,d+1)}),n},e.prototype.get=function e(t){if(this.useReduxState){var r=(0,l.selectors)(this.reduxStore.getState()),o=r.getFoldersSelectors,d=o(),n=d.__get__;return(0,i.default)(n(t))}return this._folderMap[t]},e.prototype.getDefaultId=function e(){return this._defaultId},e.prototype.getFolderIdsByType=function e(t,r){var o=this;return this._getAllFolderIds().reduce(function(e,d){var n=o.get(d);return n.accountId===t&&n.types.indexOf(r)>-1&&e.push(n.id),e},[])},e.prototype.has=function e(t){return this.useReduxState?(0,(0,(0,l.selectors)(this.reduxStore.getState()).getFoldersSelectors)().doesFolderIdExist)(t):!!this._folderMap[t]},e.prototype.getTreeNodesForAccount=function e(t){var r=this._folderTreeNodes.filter(function(e){return e.folder.accountId===t});if(this.useReduxState){var o=(0,i.default)(r);return this.__getReduxTreeNodes__(o)}return r},e.prototype.__getReduxTreeNodes__=function e(t){var r=this;return t.forEach(function(e){var t=e.folder;e.folder=r.get(t.id),e.children=e.children.length?r.__getReduxTreeNodes__(e.children):[]}),t},e.prototype.getDefaultFolderForAccount=function e(t){return(this.getTreeNodesForAccount(t).find(function(e){return e.folder.types.indexOf(n.FolderTypes.INBOX)>-1})||{}).folder},e.prototype.add=function e(t){var o=t.name,n=t.accountId;u!==n&&(t.name=o.substring(o.indexOf("/")+1,o.length)),this._folderMap[t.id]=t;var l=this._buildFolderNameMap(this._folderMap,n),s=(0,r.getFolderPathParts)(t,l);(0,r.insertIntoFolderTree)(this._folderTreeNodes,t,s,0);var i=(0,r.getFolderById)(this._folderTreeNodes,t.id);(0,d.default)(null!==i,"newly created folder is missing"),this._folderMap[t.id]=i},e.prototype.update=function e(t,r){this._folderMap[t].name=r},e.prototype._buildFolderNameMap=function e(t,o){var d=this,n={};return Object.keys(t).forEach(function(e){var l=t[e];l.accountId===o&&(n[(0,r.buildFolderPath)(e,d.getTreeNodesForAccount(l.accountId))||l.name]=l)}),n},e.prototype.delete=function e(t){delete this._folderMap[t],this._deleteFolderFromTree(t,this._folderTreeNodes)},e.prototype._deleteFolderFromTree=function e(t,r){var o=-1;r.forEach(function(e,r){e.folder.id===t&&(o=r),o===-1&&e.children.length>0&&this._deleteFolderFromTree(t,e.children)},this),o!==-1&&r.splice(o,1)},e.prototype.addUnreadCount=function e(t,r){this._folderMap[t].unread+=r},e.prototype.subtractUnreadCount=function e(t,r){this._folderMap[t].unread-=r},e.prototype.addTotalCount=function e(t,r){this._folderMap[t].total+=r},e.prototype.subtractTotalCount=function e(t,r){this._folderMap[t].total-=r},e.prototype.getCustomFoldersUnreadCount=function e(){var t=this;return this._getAllFolderIds().reduce(function(e,r){var o=t.get(r);return o.isSystem||o.types.indexOf(n.FolderTypes.INVISIBLE)!==-1||(e+=t.getFolderUnreadCount(r)),e},0)},e.prototype.getUnreadCountForAccount=function e(t){var r=this,o=0;return this._getAllFolderIds().forEach(function(e){var d=r.get(e);d.accountId!==t||d.types[0]!==n.FolderTypes.INBOX&&d.types[0]!==n.FolderTypes.SENT&&(d.isSystem||d.types.indexOf(n.FolderTypes.INVISIBLE)!==-1)||(o+=r.getFolderUnreadCount(e))}),o},e.prototype._getAllFolderIds=function e(){return this.useReduxState?(0,(0,(0,l.selectors)(this.reduxStore.getState()).getFoldersSelectors)().__getFolderIds__)():Object.keys(this._folderMap)},e.prototype.getFolderUnreadCount=function e(t){return this.get(t).unread<0?0:this.get(t).unread},e.prototype.getFolderIdForAccount=function e(t,o){var d=this;switch(t){case n.FolderTypes.INVISIBLE:case n.FolderTypes.NOT_SEARCHABLE:case n.FolderTypes.EXTERNAL_ALL:throw new Error("Cannot get a folder id for a secondary folder type.");case n.FolderTypes.USER:throw new Error("Cannot get a folder id for account if there are multiple folders with the same type.")}var l=this._getAllFolderIds().find(function(e){var n=d.get(e);return n.accountId===o&&(0,r.getPrimaryFolderType)(n)===t});if(!l)throw new Error("The folder id for type: "+t+" and account "+o+" was not found.");return l},e.prototype.getFolderIdsByName=function e(t){var r=this;return this._getAllFolderIds().reduce(function(e,o){return r.get(o).name===t&&e.push(o),e},[])||[]},e.prototype.dehydrate=function e(){return{folderTreeNodes:this._folderTreeNodes,defaultId:this._defaultId}},e.prototype.rehydrate=function e(t){t&&(this._folderTreeNodes=t.folderTreeNodes,this._folderMap=(0,r.flattenFolderTree)(this._folderTreeNodes),this._defaultId=t.defaultId)},e}();module.exports=a;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/folder":"./platform/utils/folder","../../../reducers_selectors":"./reducers_selectors","lodash/cloneDeep":"./node_modules/lodash/cloneDeep.js"}],"./stores/mail/collections/item_list":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function s(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}var e=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},i=require("../../../platform/mail_constants"),r=require("../../../platform/invariant"),o=t(r),n=require("../../../reducers_selectors"),l=require("lodash/cloneDeep"),a=t(l),u=function(){function t(e,i){s(this,t),this._init(),this.useReduxState=e,this.reduxStore=i}return t.prototype._init=function t(){this.lists={}},t.prototype.isListStale=function t(s){(0,o.default)(s,"list id is required");var e=this.lists[s]||{},i=e.isStale;return!(void 0!==i&&!i)},t.prototype.markListStale=function t(s){return(0,o.default)(s,"list id is required"),this.lists[s].isStale=!0},t.prototype.getListIds=function t(){return this.useReduxState?(0,(0,(0,n.selectors)(this.reduxStore.getState()).getListsSelectors)().__getListIds__)():Object.keys(this.lists)},t.prototype.getListItems=function t(s){if(this.useReduxState){var e=(0,n.selectors)(this.reduxStore.getState()),i=e.getListsSelectors,r=i(),o=r.doesListExist,l=r.getItemIdsSelectors;if(!o(s))return null;var u=l(s),h=u.getItemIds;return(0,a.default)(h())}return this.lists.hasOwnProperty(s)?this.lists[s].items:null},t.prototype.getListItemCount=function t(s){return(this.getListItems(s)||[]).length},t.prototype.getListData=function t(s){return this.useReduxState?e({},this.lists[s],{items:this.getListItems(s)}):this.lists[s]},t.prototype.getNewListItems=function t(s){return this.lists.hasOwnProperty(s)?this.lists[s].newItems:[]},t.prototype.getTotalNewListItemCount=function t(s){return this.lists.hasOwnProperty(s)?this.lists[s].totalNewItemCount:0},t.prototype.clearNewListItems=function t(s){this.lists[s].newItems=[]},t.prototype.clearAllNewListItems=function t(){for(var s in this.lists)this.clearNewListItems(s),this.lists[s].totalNewItemCount=0},t.prototype.isItemInList=function t(s,e){return(0,o.default)(s,"list id is required"),(0,o.default)(this.lists[s],"Invalid list"),this.getListItems(s).indexOf(e)!==-1},t.prototype.hasMoreItems=function t(s){return(0,o.default)(s,"list id is required"),!!this.lists[s]&&this.lists[s].hasMoreItems},t.prototype.getNextItemsUrl=function t(s){return(0,o.default)(s,"list id is required"),this.lists[s]&&this.lists[s].nextItemsUrl},t.prototype.getLmv3Query=function t(s){(0,o.default)(s,"list id is required");var e=this.lists[s];return e&&e.lmv3Query?e.lmv3Query:null},t.prototype.getTotalHits=function t(s){(0,o.default)(s,"list id is required");var e=this.lists[s];return e&&e.totalHits?e.totalHits:null},t.prototype.getState=function t(s){return this.lists[s]?this.lists[s].state:i.RecordStates.DOES_NOT_EXIST},t.prototype.setLoading=function t(s){this._createNewCollectionIfNecessary(s),this.lists[s].state=i.RecordStates.LOADING},t.prototype.setRefreshing=function t(s){(0,o.default)(this.lists[s],"list is not valid"),this.lists[s].state=i.RecordStates.REFRESHING},t.prototype.setLoaded=function t(s){this.lists[s]&&(this.lists[s].state=i.RecordStates.LOADED)},t.prototype.setError=function t(s){this.lists[s].state=i.RecordStates.ERROR,this.lists[s].isStale=!0},t.prototype.setNewListItems=function t(s,e,i){this.lists[s].newItems=e,this.lists[s].totalNewItemCount=i},t.prototype.remove=function t(s,e){var i=Array.isArray(e)?e:[e];this.lists.hasOwnProperty(s)&&(this.lists[s].items=this.lists[s].items.filter(function(t){return i.indexOf(t)===-1}),this.lists[s].isStale=!0)},t.prototype.add=function t(s,r){var n=r.items,l=r.hasMoreItems,a=void 0!==l&&l,u=r.nextItemsUrl,h=void 0===u?"":u,c=r.totalHits,p=r.lmv3Query;(0,o.default)("boolean"==typeof a,"Expected hasMoreItems to be a boolean"),this._createNewCollectionIfNecessary(s);var d=Array.isArray(n)?n:[n],f=this.lists[s].items.concat(d);this.lists[s]=e({},this.lists[s],{items:f,newItems:[],totalNewItemCount:0,state:i.RecordStates.LOADED,hasMoreItems:a,nextItemsUrl:h,isStale:!1},c&&{totalHits:c},p&&{lmv3Query:p})},t.prototype.replace=function t(s,e){var i=this;Object.keys(this.lists).forEach(function(t){var r=i.lists[t].items.indexOf(s);r>-1&&(i.lists[t].items[r]=e)})},t.prototype.reset=function t(s){this._createNewCollectionIfNecessary(s),this.lists[s].items=[],this.lists[s].newItems=[],this.lists[s].totalNewItemCount=0,this.lists[s].state=i.RecordStates.DOES_NOT_EXIST,this.lists[s].hasMoreItems=void 0,this.lists[s].isStale=!0},t.prototype.merge=function t(s){var e=s.listId,i=s.newList,r=s.count,o=s.hasMoreItems,n=s.lastExistingIdPositionInExistingList;this._createNewCollectionIfNecessary(e);var l=this.lists[e].items;i.length<r?(this.reset(e),this.add(e,{items:i,hasMoreItems:o})):(this.lists[e].items=i.concat(l.slice(n+1,l.length)),this.lists[e].isStale=!1)},t.prototype.compareListWithNewList=function t(s,e){this._createNewCollectionIfNecessary(s);var i=this.lists[s].items,r=this.lists[s].newItems,o=this.lists[s].totalNewItemCount,n=-1,l=-1,a={};e.forEach(function(t){a[t]=!0}),i.forEach(function(t,s){a[t]&&(l=s,n===-1&&(n=s))});var u=l!==-1?e.indexOf(i[n]):e.length;return{lastExistingIdPositionInExistingList:l,totalNewItemCount:o+u,newItems:e.slice(0,u).concat(r)}},t.prototype._createNewCollectionIfNecessary=function t(s){this.lists.hasOwnProperty(s)||(this.lists[s]={items:[],newItems:[],totalNewItemCount:0,state:i.RecordStates.DOES_NOT_EXIST,hasMoreItems:!1,nextItemsUrl:null})},t.prototype.clear=function t(){this._init()},t.prototype.exists=function t(s){return this.useReduxState?(0,(0,(0,n.selectors)(this.reduxStore.getState()).getListsSelectors)().doesListExist)(s)&&(this.lists[s].state===i.RecordStates.LOADED||this.lists[s].state===i.RecordStates.REFRESHING):!!this.lists[s]&&(this.lists[s].state===i.RecordStates.LOADED||this.lists[s].state===i.RecordStates.REFRESHING)},t.prototype.dehydrate=function t(){return{lists:this.lists}},t.prototype.rehydrate=function t(s){s&&(this.lists=s.lists)},t}();module.exports=u;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../reducers_selectors":"./reducers_selectors","lodash/cloneDeep":"./node_modules/lodash/cloneDeep.js"}],"./stores/mail/collections/message_group":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function s(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var t=require("../../../platform/mail_constants"),o=require("../../../platform/invariant"),r=e(o),a=require("../../../reducers_selectors"),u=require("lodash/cloneDeep"),i=e(u),p=function(){function e(t,o){s(this,e),this.messageGroups={},this.messageIdsToGroup={},this.messageGroupStates={},this.useReduxState=t,this.reduxStore=o}return e.prototype.exists=function e(s){return this.useReduxState?(0,(0,(0,a.selectors)(this.reduxStore.getState()).getMessageGroupsSelectors)().doesMessageGroupIdExist)(s):!!this.messageGroups[s]},e.prototype.getMessageIds=function e(s){if(this.useReduxState){var t=(0,a.selectors)(this.reduxStore.getState()),o=t.getMessageGroupsSelectors,u=o(),p=u.getMessageIdsFromMessageGroupId;return(0,i.default)(p(s))}return(0,r.default)(this.messageGroups[s],"messageGroup not found in MessageGroupsCollection"),this.messageGroups[s].messageIds},e.prototype.getListIdToGroupIdMap=function e(s){return this.messageIdsToGroup[s]||{}},e.prototype.getGroupId=function e(s,t){return this.useReduxState?(0,(0,(0,a.selectors)(this.reduxStore.getState()).getMessageGroupsSelectors)().__getGroupIdContainingMessageId__)(t):this.messageIdsToGroup[t]?this.messageIdsToGroup[t][s]||null:null},e.prototype._updateMessageIdsToGroup=function e(s,t,o){var r=this;o.forEach(function(e){r.messageIdsToGroup[e]||(r.messageIdsToGroup[e]={}),r.messageIdsToGroup[e][s]=t})},e.prototype.add=function e(s,o,a){(0,r.default)(s,"listId is missing"),this.messageGroups[o]={id:o,messageIds:a},this._updateMessageIdsToGroup(s,o,a),this.messageGroupStates[o]=t.RecordStates.LOADED},e.prototype.addMessageToGroup=function e(s,t,o){var a=this.messageGroups[t];(0,r.default)(s,"listId is missing"),(0,r.default)(a,"can't add a message id to non-existing message group. groupId: "+t),a.messageIds=a.messageIds.concat(o.filter(function(e){return a.messageIds.indexOf(e)<0})),this._updateMessageIdsToGroup(s,t,o)},e.prototype.remove=function e(s){var t=this;(Array.isArray(s)?s:[s]).forEach(function(e){t.messageGroups[e].messageIds.some(function(e){return t.messageIdsToGroup[e]&&Object.keys(t.messageIdsToGroup[e]).length>0})||(delete t.messageGroups[e],delete t.messageGroupStates[e])})},e.prototype.removeMessageIdAndRemoveGroupIfItHasNoMessageIds=function e(s,t,o){var r=this.messageGroups[t];r&&(r.messageIds=r.messageIds.filter(function(e){return e!==o}),this.messageIdsToGroup[o]&&delete this.messageIdsToGroup[o][s],r.messageIds.length||this.remove(t))},e.prototype.getState=function e(s){return this.messageGroupStates[s]||t.RecordStates.DOES_NOT_EXIST},e.prototype.setLoading=function e(s){this.messageGroupStates[s]=t.RecordStates.LOADING},e.prototype.setState=function e(s,t){this.messageGroupStates[s]=t},e.prototype.dehydrate=function e(){return{messageGroups:this.messageGroups,messageIdsToGroup:this.messageIdsToGroup,messageGroupStates:this.messageGroupStates}},e.prototype.rehydrate=function e(s){this.messageGroups=s.messageGroups,this.messageIdsToGroup=s.messageIdsToGroup,this.messageGroupStates=s.messageGroupStates},e}();exports.default=p,module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../reducers_selectors":"./reducers_selectors","lodash/cloneDeep":"./node_modules/lodash/cloneDeep.js"}],"./stores/mail/collections/message_metadata":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function a(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},s=require("../../../platform/mail_constants"),r=require("../../../platform/invariant"),o=e(r),d=require("lodash/omit"),n=e(d),i=require("../../../reducers_selectors"),u=require("lodash/cloneDeep"),f=e(u),c=require("lodash/isEqual"),l=e(c),g=function(){function e(t,s){a(this,e),this.messagesMetadata={},this.useReduxState=t,this.reduxStore=s}return e.prototype.get=function e(a){if(this.useReduxState){var t=(0,i.selectors)(this.reduxStore.getState()),s=t.getMessagesSelectors,r=s(),d=r.__get__,n=this.messagesMetadata[a]?this.messagesMetadata[a].csid:"",u=n?(0,f.default)(d(n)):(0,f.default)(d(a));return u.id=u.messageId,u.folder={id:u.folderId},u}return(0,o.default)(this.messagesMetadata[a],"MessageMetadata should always be present "+a),this.messagesMetadata[a]},e.prototype.updateFolderId=function e(a,t){(0,o.default)(this.messagesMetadata[a],"MessageMetadata should always be present"),this.messagesMetadata[a].folder.id=t},e.prototype.updateRepliedFlag=function e(a,t){(0,o.default)(this.messagesMetadata[a],"MessageMetadata should always be present"),this.messagesMetadata[a].flags.answered=t},e.prototype.updateForwardedFlag=function e(a,t){(0,o.default)(this.messagesMetadata[a],"MessageMetadata should always be present"),this.messagesMetadata[a].flags.forwarded=t},e.prototype.add=function e(a,t){var s=this;(Array.isArray(t)?t:[t]).forEach(function(e){var a=e.id,t=e.attachments.length,r=Object.assign((0,n.default)(e,["snippet","attachments"]));r=Object.assign(r,{headers:(0,n.default)(e.headers,["subject"]),_actualAttachmentCount:t});var o=s.messagesMetadata[a];o?(Object.assign(o.headers,r.headers),o._actualAttachmentCount=r._actualAttachmentCount):s.messagesMetadata[a]=r})},e.prototype.setCsid=function e(a,s){var r=this.messagesMetadata[a];r&&!r.csid&&(this.messagesMetadata[a]=t({},r,{csid:s}))},e.prototype.sync=function e(a,t){var s=this;(Array.isArray(t)?t:[t]).forEach(function(e){var r=e.id;s.messagesMetadata[r]?(s.messagesMetadata[r].flags=e.flags,s.messagesMetadata[r].folder=e.folder):s.add(a,t)})},e.prototype.getState=function e(a){return this.messagesMetadata[a]?s.RecordStates.LOADED:s.RecordStates.DOES_NOT_EXIST},e.prototype.remove=function e(a){var t=this;(Array.isArray(a)?a:[a]).forEach(function(e){delete t.messagesMetadata[e]})},e.prototype.markStarred=function e(a){var t=this;a.forEach(function(e){return t.messagesMetadata[e].flags.flagged=!0})},e.prototype.markUnstarred=function e(a){var t=this;a.forEach(function(e){return t.messagesMetadata[e].flags.flagged=!1})},e.prototype.isUnread=function e(a){return!this.messagesMetadata[a].flags.read},e.prototype.isRead=function e(a){return this.messagesMetadata[a].flags.read},e.prototype.markRead=function e(a){var t=this;a.forEach(function(e){return t.messagesMetadata[e].flags=Object.assign({},t.messagesMetadata[e].flags,{read:!0})})},e.prototype.markUnread=function e(a){var t=this;a.forEach(function(e){return t.messagesMetadata[e].flags=Object.assign({},t.messagesMetadata[e].flags,{read:!1})})},e.prototype.isValidEnhancement=function e(a){var t=a.id,s=this.messagesMetadata[t];return!!(s&&s.folder.id===a.folder.id&&s.csid===a.csid&&s._actualAttachmentCount===a._actualAttachmentCount&&this.isReplyToMatched(a)&&(0,l.default)(s.flags,a.flags))},e.prototype.isReplyToMatched=function e(a){var t=a.id,s=a.headers.replyTo,r=this.messagesMetadata[t].headers.replyTo;return(r&&r[0]||{}).email===(s&&s[0]||{}).email},e.prototype.dehydrate=function e(){return{messagesMetadata:this.messagesMetadata}},e.prototype.rehydrate=function e(a){a&&(this.messagesMetadata=a.messagesMetadata)},e}();exports.default=g,module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../reducers_selectors":"./reducers_selectors","lodash/cloneDeep":"./node_modules/lodash/cloneDeep.js","lodash/isEqual":"./node_modules/lodash/isEqual.js","lodash/omit":"./node_modules/lodash/omit.js"}],"./stores/mail/collections/print_message":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var r=require("../../../platform/invariant"),e=t(r),i=function(){function t(){n(this,t),this.printItems=[]}return t.prototype.addPrintItem=function t(n){(0,e.default)(n.printId,"printId is required"),(0,e.default)(n.type,"print item type is required"),this.printItems.findIndex(function(t){return t.printId===n.printId})>-1||this.printItems.push(n)},t.prototype.removePrintItemById=function t(n){this.printItems=this.printItems.filter(function(t){return t.printId!==n})},t.prototype.getPrintItemById=function t(n){var r=this.printItems.filter(function(t){return t.printId===n});return r&&r[0]},t.prototype.getPrintItem=function t(){return this.printItems&&this.printItems[0]||void 0},t}();exports.default=i,module.exports=exports.default;
},{"../../../platform/invariant":"./platform/invariant"}],"./stores/mail/collections/subject_and_snippet":[function(require,module,exports){
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var e=require("../../../platform/utils/list"),s=require("../../../platform/utils"),i=require("../../../reducers_selectors"),p=function(){function p(e,s){t(this,p),this.subjects={},this.snippets={},this.useReduxState=e,this.reduxStore=s}return p.prototype.get=function t(e,s,p){if(this.useReduxState){var n=(0,i.selectors)(this.reduxStore.getState()),r=n.getSubjectAndSnippetSelectors,u=r(),o=u.getSubject,a=u.getSnippet,c=p||e;return{subject:o(c,s),snippet:a(c,s)}}return{subject:this._getSubject(e,s),snippet:this._getSnippet(e,s)}},p.prototype._getSubject=function t(i,p){var n=(0,e.getMetadataCacheKey)(p),r=this.subjects[i];if(r){var u=r[n];return u||(u=r[e.DEFAULT_MESSAGES_METADATA_CACHEKEY]),u||(u=s.object.values(r)[0]),u}},p.prototype._getSnippet=function t(i,p){var n=(0,e.getMetadataCacheKey)(p),r=this.snippets[i];if(r){var u=r[n];return u||(u=r[e.DEFAULT_MESSAGES_METADATA_CACHEKEY]),u||(u=s.object.values(r)[0]),u}},p.prototype.add=function t(e,s){var i=e.id,p=e.subject,n=e.snippet;"undefined"!=typeof p&&this._addSubject(i,s,p),"undefined"!=typeof n&&this._addSnippet(i,s,n)},p.prototype._addSubject=function t(s,i,p){var n=(0,e.getMetadataCacheKey)(i);this.subjects[s]||(this.subjects[s]={}),this.subjects[s][n]=p},p.prototype._addSnippet=function t(s,i,p){var n=(0,e.getMetadataCacheKey)(i);this.snippets[s]||(this.snippets[s]={}),this.snippets[s][n]=p},p.prototype.dehydrate=function t(){return{subjects:this.subjects,snippets:this.snippets}},p.prototype.rehydrate=function t(e){e&&(this.subjects=e.subjects,this.snippets=e.snippets)},p}();exports.default=p,module.exports=exports.default;
},{"../../../platform/utils":"./platform/utils","../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors"}],"./stores/mail/collections/suggested_words":[function(require,module,exports){
"use strict";function t(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var s=function(){function s(){t(this,s),this.suggestedWords={}}return s.prototype.add=function t(s){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=e[0];!this.suggestedWords[s]&&o&&(this.suggestedWords[s]=o.suggested)},s.prototype.get=function t(s){return this.suggestedWords[s]||[]},s}();exports.default=s,module.exports=exports.default;
},{}],"./stores/mail/handlers":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){var s={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i]);return s}function s(t){return function(){t.apply(this,arguments),this.emitChange()}}function i(t){this.doesListExist(t.listId)?x.call(this,t):a.call(this,t)}function o(t){this.doesListExist(t.listId)?W.call(this,t):w.call(this,t)}function a(t){var e=t.listId,s=t.messageGroupList,i=t.hasMoreItems,o=t.nextItemsUrl;s&&(this.itemListCollection.reset(e),n.call(this,{listId:e,messageGroupList:s,hasMoreItems:i,nextItemsUrl:o}))}function n(t){var e=t.listId,s=t.messageGroupList,i=t.hasMoreItems,o=t.nextItemsUrl,a=t.totalHits,n=t.lmv3Query;s&&(this.normalizeDataFromGroupList(e,s,i,o,a,n),this.itemListCollection.setLoaded(e))}function l(t){var e=t.listId,s=t.items;s&&(this.normalizeDataFromPeople(e,s),this.itemListCollection.setLoaded(e))}function c(t){var e=t.listId,s=t.attachmentsList,i=t.hasMoreItems,o=t.nextItemsUrl;this.normalizeDataFromAttachmentsList(e,s,i,o),this.itemListCollection.setLoaded(e)}function d(t){var e=this,s=t.listId,i=t.response,o=void 0===i?{}:i,a=t.folders;a&&this.folderCollection.reset(a),Object.keys(mt.ListContentTypes).forEach(function(t){Object.keys(mt.ListFilters).forEach(function(i){var a=ut.object.getIn(o,[t,i].join("."));if(a){var n=(0,Ct.recreateListId)(s,{listContentType:t,listFilter:i}),l=a.suggestedWords;l&&l.length&&e.suggestedWordsCollection.add(n,l),e.itemListCollection.reset(n),r.call(e,{listId:n,listContentBlock:a}),e.itemListCollection.setLoaded(n)}})})}function r(t){var e=t.listId,s=t.listContentBlock,i=void 0===s?{}:s,o=i.items,a=i.offset,d=i.nextItemsUrl,r=i.totalHits,E=i.lmv3Query,m=(0,Ct.getListContentTypeFromListId)(e);if(o)switch(m){case mt.ListContentTypes.PEOPLE:l.call(this,{listId:e,items:o});break;case mt.ListContentTypes.MESSAGES:n.call(this,ct({listId:e,messageGroupList:o,hasMoreItems:!!a,nextItemsUrl:d,totalHits:r},E&&{lmv3Query:E}));break;case mt.ListContentTypes.IMAGES:case mt.ListContentTypes.DOCUMENTS:c.call(this,{listId:e,attachmentsList:o,hasMoreItems:!!a,nextItemsUrl:d})}}function E(t){var e=t.files,s=t.csid,i=t.dispositions,o=t.newContentIds;this.composeCollection.addAttachments(s,e,i,o),V.call(this,{csid:s})}function m(t){var e=t.listId;this.getRecordState(e)===mt.RecordStates.DOES_NOT_EXIST&&this.itemListCollection.setLoading(e)}function u(t,e){t.async&&this.asyncTaskCollection.add(t,e),h.call(this,t)}function h(t){var e=this,s=t.messageIds,i=t.destinationFolderType,o=t.destinationFolderId;if((0,Et.default)(!(i&&o),"Both destinationFolderType and destinationFolderId should not be set"),(0,Et.default)(i||o,"One of destinationFolderType and destinationFolderId should be set"),o)f.call(this,s,o);else if(i){var a=this.getFolderIdMapFromFolderType(s,i);Object.keys(a).forEach(function(t){f.call(e,a[t],t)})}}function C(t,e){t.async&&this.asyncTaskCollection.add(t,e),I.call(this,t)}function I(t){var e=t.messageIds;h.call(this,{messageIds:e,destinationFolderType:mt.FolderTypes.ARCHIVE})}function S(t,e){var s=t.messageIds;t.async&&this.asyncTaskCollection.add(t,e),h.call(this,{messageIds:s,destinationFolderType:mt.FolderTypes.INBOX})}function f(t,e){var s=this;t.forEach(function(t){var i=s.messagesMetadataCollection.get(t),o=i.folder.id;g.call(s,t,o,e),e&&s.messagesMetadataCollection.updateFolderId(t,e)});var i=!e;p.call(this,t,i),i&&t.forEach(function(t){ft.removeMessageMetadata.call(s,t);var e=s.messageGroupsCollection.getListIdToGroupIdMap(t);Object.keys(e).forEach(function(i){var o=e[i];s.messageGroupsCollection.removeMessageIdAndRemoveGroupIfItHasNoMessageIds(i,o,t)})})}function A(t,e){t.async&&this.asyncTaskCollection.add(t,e),_.call(this,t)}function _(t){var e=t.messageIds;t.permanent?f.call(this,e):h.call(this,{destinationFolderType:mt.FolderTypes.TRASH,messageIds:e})}function g(t,e,s){this.folderCollection.subtractTotalCount(e,1),s&&this.folderCollection.addTotalCount(s,1),this.messagesMetadataCollection.isUnread(t)&&(this.folderCollection.subtractUnreadCount(e,1),s&&this.folderCollection.addUnreadCount(s,1))}function p(t,e){var s=this,i={};t.forEach(function(t){var e=s.messageGroupsCollection.getListIdToGroupIdMap(t),o=s.attachmentCollection.getAttachmentIdsByMessageId(t);Object.keys(e).forEach(function(t){return i[e[t]]=!0}),o.forEach(function(t){return i[t]=!0})});var o=this.itemListCollection.getListIds();o.forEach(function(o){Object.keys(i).filter(function(i){var a=void 0,n=void 0;switch((0,Ct.getListContentTypeFromListId)(o)){case mt.ListContentTypes.IMAGES:case mt.ListContentTypes.DOCUMENTS:return!(s.attachmentCollection.exists(i)&&!e&&(a=s.messagesMetadataCollection.get((0,It.getMessageIdFromAttachmentId)(i)),D.call(s,a,o)));case mt.ListContentTypes.MESSAGES:return!s.messageGroupsCollection.exists(i)||(n=s.getMessageGroupById(i),!T.call(s,n,o,t,e))}}).forEach(function(t){return s.itemListCollection.remove(o,t)})}),o.forEach(function(t){return s.itemListCollection.markListStale(t)})}function T(t,e,s,i){var o=this;return t.messages.some(function(t){return!(i&&s.indexOf(t.id)!==-1)&&D.call(o,t,e)})}function D(t,e){var s=this,i=!0,o=(0,Ct.getFolderIdNamesFromListId)(e),a=o.folderIds,n=void 0===a?[]:a,l=o.folderNames,c=void 0===l?[]:l;if(n.length>0)i=n.indexOf(t.folder.id)!==-1;else if(c.length>0){var d=c.reduce(function(t,e){return t.concat(s.folderCollection.getFolderIdsByName(e))},[]);i=d.indexOf(t.folder.id)!==-1}else i=!this.isTrashMessage(t.id)&&!this.isSpamMessage(t.id);return i&&(0,Ct.listIdHasMessageFlags)(e)&&(i=(0,Ct.listIdContainsMessageFlags)(e,t.flags)),i}function M(t){var e=this,s=t.messageIds;s.filter(function(t){return e.messagesMetadataCollection.isUnread(t)}).forEach(function(t){var s=e.messagesMetadataCollection.get(t);e.folderCollection.subtractUnreadCount(s.folder.id,1)}),this.messagesMetadataCollection.markRead(s),p.call(this,s)}function R(t){var e=this,s=t.messageIds;s.filter(function(t){return!e.messagesMetadataCollection.isUnread(t)}).forEach(function(t){var s=e.messagesMetadataCollection.get(t);e.folderCollection.addUnreadCount(s.folder.id,1)}),this.messagesMetadataCollection.markUnread(s),p.call(this,s)}function v(t){var e=t.messageIds;this.messagesMetadataCollection.markStarred(e),p.call(this,e)}function L(t){var e=t.messageIds;this.messagesMetadataCollection.markUnstarred(e),p.call(this,e)}function F(t){var e=this,s=[],i=this.itemListCollection.getListItems(t);return i&&(s=i.reduce(function(t,s){return t.concat(e.messageGroupsCollection.getMessageIds(s))},[])),s}function O(t,e){var s=t.listId,i=F.call(this,s);return t.async&&this.asyncTaskCollection.add(t,e),i.length?void M.call(this,{messageIds:i}):void P.call(this,s)}function G(t,e){var s=t.listId,i=t.permanent,o=F.call(this,s);return t.async&&this.asyncTaskCollection.add(t,e),o.length?void _.call(this,{messageIds:o,permanent:i}):void P.call(this,s)}function N(t,e){var s=this,i=t.listId,o=this.itemListCollection.getListItems(i),a=o.reduce(function(t,e){var i=s.messageGroupsCollection.getMessageIds(e);return t.concat(i)},[]);this.asyncTaskCollection.add(t,e),h.call(this,ct({},t,{messageIds:a}))}function U(t,e){var s=this,i=t.listId,o=t.flags,a=this.itemListCollection.getListItems(i),n=a.reduce(function(t,e){var i=s.messageGroupsCollection.getMessageIds(e);return t.concat(i)},[]);this.asyncTaskCollection.add(t,e),y.call(this,{messageIds:n,flags:o})}function y(t){var e=t.messageIds,s=t.flags;s.read&&M.call(this,{messageIds:e}),s.read===!1&&R.call(this,{messageIds:e}),s.flagged&&v.call(this,{messageIds:e}),s.flagged===!1&&L.call(this,{messageIds:e})}function P(t){var e=(0,Ct.getFolderIdFromListId)(t),s=this.folderCollection.getFolderUnreadCount(e);return this.folderCollection.subtractUnreadCount(e,s),s}function B(t,e){var s=t.listId,i=t.destinationFolderType,o=F.call(this,s);if(t.async&&this.asyncTaskCollection.add(t,e),!o.length){var a=P.call(this,s),n=this.getActiveAccountId(),l=this.getFolderIdForAccount(i,n);return void this.folderCollection.addUnreadCount(l,a)}I.call(this,{messageIds:o})}function b(t,e){var s=this;t.async&&this.asyncTaskCollection.add(t,e);var i=t.messageIds,o=t.destinationFolderType,a=this.getFolderIdMapFromFolderType(i,o);Object.keys(a).forEach(function(t){var i=a[t];e===dt.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED&&M.call(s,{messageIds:i}),f.call(s,i,t)})}function H(t,e){var s=this;t.async&&this.asyncTaskCollection.add(t,e);var i=t.messageIds,o=t.destinationFolderType,a=this.getFolderIdMapFromFolderType(i,o);Object.keys(a).forEach(function(t){var e=a[t];f.call(s,e,t)})}function V(t){var e=t.csid;this.composeCollection.update(e,{draftStatus:mt.Draft.Status.EDITED})}function Q(t){var e=t.csid,s=t.subject;this.composeCollection.update(e,{initialSubject:s}),V.call(this,{csid:e})}function k(t){var e=t.csid;this.composeCollection.unfocusSubject(e)}function j(t){var e=this;this.itemListCollection.getListIds().filter(function(e){var s=(0,Ct.getFolderIdFromListId)(e);return!s||t.indexOf(s)!==-1}).forEach(function(t){return e.itemListCollection.markListStale(t)})}function x(t){var e=this,s=t.listId,i=t.messageGroupList,o=t.hasMoreItems,a=t.folders,n=t.count,l=t.staleFolderIds,c=t.accountAlerts,d=t.conversationsMode;if(s&&(this.folderCollection.reset(a),this.itemListCollection.setLoaded(s),j.call(this,l),c&&c.length>0&&this.accountsCollection.setAlerts(c),i)){var r=i.map(function(t){return t.id});i.forEach(function(t){ft.syncMessageMetadata.call(e,s,t.messages,d),e.messageGroupsCollection.add(s,t.id,t.messages.map(function(t){return t.id}))}),this.dispatcher.waitFor(["ApplicationStore"],function(){var t=e.dispatcher.getStore("ApplicationStore").isAppVisible(),i=e.itemListCollection.compareListWithNewList(s,r),a=i.lastExistingIdPositionInExistingList,l=i.totalNewItemCount,c=i.newItems;e.itemListCollection.merge({listId:s,newList:r,count:n,hasMoreItems:o,lastExistingIdPositionInExistingList:a}),t||e.itemListCollection.setNewListItems(s,c,l),e.emitChange()})}}function W(t){var e=t.listId;this.itemListCollection.setLoaded(e)}function q(t){var e=t.listId,s=t.messageBodiesMap,i=t.messageMetadataMap;Object.keys(i).forEach(function(t){return i[t].id=t}),ft.addMessageMetadata.call(this,e,ut.object.values(i)),this._addMessageBodies(e,s)}function w(t){var e=t.listId;this.itemListCollection.getState(e)===mt.RecordStates.LOADING&&this.itemListCollection.setError(e)}function K(t){var s=t.route,i=t.currentRoute,o=t.attachments,a=t.files,n=void 0===a?[]:a,l=t.initialSubject,c=void 0===l?"":l,d=t.initialBody,r=void 0===d?"":d,E=e(t,["route","currentRoute","attachments","files","initialSubject","initialBody"]),m=s.query,u=void 0===m?{}:m,h=(0,At.getCsidFromRoute)(s);if(u.sponsoredForward){var C=this.dispatcher.getContext().store,I=C&&(0,_t.selectors)(C.getState()).getAdsSelectors(),S=I&&I.getPencilAdData(),f=I&&I.getNativeAdData();return ct({csid:h,composeMode:mt.Compose.Modes.SPONSORED_FORWARD,initialSubject:c||S.adHeadline,initialBody:r||{content:f.geminiSponsoredAsset}},E)}if(o&&o.length){var A=(0,It.getMessageIdFromAttachmentId)(o[0].id);return{csid:h,composeMode:mt.Compose.Modes.NEW,message:{id:A,attachments:o}}}return Object.assign({csid:h,files:n,initialSubject:c,initialBody:{content:r},composeMode:mt.Compose.Modes.NEW},E)}function Y(t){var e=t.csid,s=t.composeMode,i=t.message,o=t.files,a=void 0===o?[]:o,n=t.initialSubject,l=t.initialBody;(0,Et.default)(e,"csid is required @createComposeData"),(0,Et.default)([mt.Compose.Modes.NEW,mt.Compose.Modes.EDIT,mt.Compose.Modes.SPONSORED_FORWARD].indexOf(s)!==-1,"composeMode should be one of\n        "+JSON.stringify([mt.Compose.Modes.NEW,mt.Compose.Modes.EDIT,mt.Compose.Modes.SPONSORED_FORWARD])+".\n        was: "+s);var c=this.composeCollection.get(e);if(c)this.accountsCollection.setActiveAccountId(c.accountId);else{var d=this.accountsCollection.getActiveAccount(),r=this.accountsCollection.getAddressesForAccount(d.id),E=this.getFolderIdForAccount(mt.FolderTypes.DRAFT,d.id);this.composeCollection.create({csid:e,composeMode:s,account:d,senderAddresses:r,message:i,files:a,folderId:E,initialSubject:n,initialBody:l})}}function z(t){var e=t.csid,s=this.composeCollection.get(e),i=s.accountId,o=this.folderCollection.get(this.getFolderIdForAccount(mt.FolderTypes.DRAFT,i));this.folderCollection.subtractTotalCount(o.id,1),this.composeCollection.remove(e)}function X(t){var e=t.csid;this.composeCollection.update(e,{draftStatus:mt.Draft.Status.SAVING})}function J(t){var e=t.csid,s=t.message,i=t.isPartial,o=t.simpleBody,a=t.listId,n=t.conversationsMode,l=(new Date).getTime()/1e3,c=s.captcha,d=s.spame,r=s.headers,E=s.id,m=this.composeCollection.get(e),u=m.lastSavedMessageId,h=m.draftStatus,C=m.groupId,I=m.accountId,S=h,f=n?s.conversationId:s.id;if(h===mt.Draft.Status.SAVING&&(S=i?mt.Draft.Status.SAVED_PARTIAL:mt.Draft.Status.SAVED),this.messageGroupsCollection.exists(f)?this.messageGroupsCollection.addMessageToGroup(a,f,[s.id]):this.messageGroupsCollection.add(a,f,[s.id]),u)u&&u!==s.id&&this.messageGroupsCollection.removeMessageIdAndRemoveGroupIfItHasNoMessageIds(a,C,u);else{var A=this.folderCollection.get(this.getFolderIdForAccount(mt.FolderTypes.DRAFT,I));this.folderCollection.addTotalCount(A.id,1)}C&&C!==f&&this.itemListCollection.replace(C,f),this.composeCollection.update(e,{initialFrom:r.from,initialTo:r.to,initialCc:r.cc,initialBcc:r.bcc,initialSubject:r.subject,initialBody:{content:o.html},draftStatus:S,lastSavedTime:l,lastSavedMessageId:E,captcha:c,spame:d,groupId:f,htmlAnnotations:o.htmlAnnotations}),this.composeCollection.updateAttachments(e,s.attachments),ft.addMessageMetadata.call(this,a,s),this.emitChange()}function Z(t){var e=t.csid;this.composeCollection.get(e)&&(this.composeCollection.update(e,{draftStatus:mt.Draft.Status.SAVE_FAILED}),this.composeCollection.setNotLoadedAttachmentAsError(e))}function $(t){var e=t.message;this.folderCollection.addTotalCount(e.folder.id,1),this.emitChange()}function tt(t){var e=t.listId;this.itemListCollection.clearNewListItems(e),this.emitChange()}function et(t){var e=t.attachmentId,s=t.uiState;this.attachmentCollection.savePreviewerUiState(e,s)}function st(){this.itemListCollection.clearAllNewListItems()}function it(t){var e=this,s=t.undoMap;Object.keys(s).forEach(function(t){s[t].forEach(function(s){e.messagesMetadataCollection.updateFolderId(s,t)})})}function ot(t){var e=t.updatedAccount;this.accountsCollection.setAccount(e)}function at(t){var e=t.accounts,s=t.inboxFID;this.accountsCollection.setAccounts(e),j.call(this,s)}function nt(t){var e=t.updatedAccount;this.accountsCollection.deleteAccount(e)}exports.__esModule=!0;var lt,ct=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t};exports.normalizeComposeData=K;var dt=require("../../platform/react_action_constants"),rt=require("../../platform/invariant"),Et=t(rt),mt=require("../../platform/mail_constants"),ut=require("../../platform/utils"),ht=require("../../platform/utils/folder"),Ct=require("../../platform/utils/list"),It=require("../../platform/utils/message"),St=require("../../platform/utils/attachments"),ft=require("./helpers/message"),At=require("../../platform/utils/route"),_t=require("../../reducers_selectors");exports.default=(lt={},lt[dt.mail.INITIAL_STATE]=function(t){var e=this,s=t.listId,i=t.messageGroupList,o=t.hasMoreItems,a=t.messageGroups,n=t.message,l=t.messageBodiesMap,c=t.messageMetadataMap,d=t.folders,r=t.accounts,E=t.draftData,m=t.accountAlerts;if((0,Et.default)(r,"accounts are required"),this.accountsCollection.initialize(r),d){var u=(0,ht.getDefaultFolder)(r,d).id;this.folderCollection.initialize(d,u)}if(n&&((0,Et.default)(s,"List ID is required"),ft.addMessageMetadata.call(this,s,n)),i&&((0,Et.default)(s,"List ID is required"),(0,Et.default)("undefined"!=typeof o,"hasMoreItems is required"),this.normalizeDataFromGroupList(s,i,o),this.itemListCollection.setLoaded(s)),a&&((0,Et.default)(s,"List ID is required"),a.forEach(function(t){var i=t.id,o=t.messages;e.messageGroupsCollection.add(s,i,o.map(function(t){return t.id})),ft.addMessageMetadata.call(e,s,o)})),s){var h=(0,Ct.getFolderIdFromListId)(s);h&&this.accountsCollection.setActiveAccountId(this.getAccountIdForFolder(h))}if(l&&((0,Et.default)(s,"List ID is required"),this._addMessageBodies(s,l)),c&&((0,Et.default)(s,"List ID is required"),ft.addMessageMetadata.call(this,s,ut.object.values(c))),E){var C=mt.Compose.Modes.NEW,I=this.accountsCollection.getPrimaryAccount(),S=this.accountsCollection.getAddressesForAccount(I.id),f=E.csid,A=E.initialTo,_=void 0===A?"":A,g=E.initialCc,p=void 0===g?"":g,T=E.initialBcc,D=void 0===T?"":T,M=E.initialSubject,R=E.initialBody,v=E.initialStationeryCategory,L=E.initialStationeryTheme,F=this.getFolderIdForAccount(mt.FolderTypes.DRAFT,I.id);this.composeCollection.get(f)||this.composeCollection.create({csid:f,composeMode:C,initialSubject:M,initialBody:R,account:I,senderAddresses:S,folderId:F}),this.composeCollection.update(f,{initialTo:_,initialCc:p,initialBcc:D,initialStationeryCategory:v,initialStationeryTheme:L})}m&&m.length>0&&this.accountsCollection.setAlerts(m),this.emitChange()},lt[dt.mail.CHANGE_FOLDER_REQUESTED]=function(t){var e=t.listId,s=this.getRecordState(e);s===mt.RecordStates.DOES_NOT_EXIST||s===mt.RecordStates.ERROR?this.itemListCollection.setLoading(e):this.itemListCollection.isListStale(e)&&this.itemListCollection.setRefreshing(e);var i=(0,Ct.getFolderIdFromListId)(e);i&&this.accountsCollection.setActiveAccountId(this.getAccountIdForFolder(i)),this.emitChange()},lt[dt.mail.CREATE_FOLDER_SUCCEEDED]=s(function(t){var e=t.folder;this.folderCollection.add(e)}),lt[dt.mail.RENAME_FOLDER_SUCCEEDED]=s(function(t){var e=t.folderId,s=t.newFolderName;this.folderCollection.update(e,s)}),lt[dt.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED]=function(t){var e=t.messageGroupId,s=t.composeMode,i=t.csid,o=t.message,a=t.conversationsMode;(0,Et.default)(e,"messageGroupId is required"),(0,Et.default)(i,"csid is required @MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED"),(0,Et.default)(o,"message is required"),(0,Et.default)([mt.Compose.Modes.REPLY,mt.Compose.Modes.REPLY_ALL,mt.Compose.Modes.FORWARD].indexOf(s)!==-1,"composeMode should be one of REPLY, REPLY_ALL, FORWARD. was "+s);var n=this.folderCollection.get(o.folder.id).accountId,l=this.accountsCollection.get(n),c=this.getFolderIdForAccount(mt.FolderTypes.DRAFT,l.id);(0,Et.default)(l,"account should be present");var d=a?e:null,r=this.accountsCollection.getAddressesForAccount(l.id);this.composeCollection.get(i)?this.composeCollection.updateComposeMode({csid:i,composeMode:s,senderAddresses:r,message:o}):this.composeCollection.create({csid:i,composeMode:s,account:l,senderAddresses:r,message:o,groupId:d,folderId:c}),this.emitChange()},lt[dt.mail.OPEN_PAGE_REQUESTED]=s(function(t,e){t.route.name===mt.RouteNames.NEW_DRAFT&&Y.call(this,ct({},K.call(this,t)),e)}),lt[dt.mail.COMPOSE_OPENED]=s(Y),lt[dt.mail.UNSUBSCRIBE_NEW_COMPOSE]=s(Y),lt[dt.mail.DELETE_DRAFT_REQUESTED]=function t(e){var s=e.csid,i=e.messageId;i&&f.call(this,[i]),this.composeCollection.remove(s),this.emitChange()},lt[dt.mail.V3_MESSAGE_SEND_SUCCEEDED]=s(function(t){var e=t.csid;z.call(this,{csid:e})}),lt[dt.mail.SEND_SUCCESS]=s(function(t){var e=this,s=t.csid,i=this.composeCollection.get(s),o=i.groupId,a=i.lastSavedMessageId,n=i.accountId,l=this.getFolderIdForAccount(mt.FolderTypes.SENT,n),c=this.messagesMetadataCollection.get(a);if(this.messagesMetadataCollection.updateFolderId(a,l),c.inReplyTo){var d=c.inReplyTo,r=d.replied,E=void 0!==r&&r,m=d.forwarded,u=void 0!==m&&m,h=d.messageReference;h=void 0===h?{}:h;var C=h.id;E?this.messagesMetadataCollection.updateRepliedFlag(C,!0):u&&this.messagesMetadataCollection.updateForwardedFlag(C,!0)}o&&(p.call(this,[a]),this.messageGroupsCollection.exists(o)?this.messageGroupsCollection.addMessageToGroup((0,Ct.getListIdFromFolderId)(l),o,[a]):this.messageGroupsCollection.add((0,Ct.getListIdFromFolderId)(l),o,[a])),z.call(this,{csid:s}),this.itemListCollection.getListIds().forEach(function(t){return e.itemListCollection.markListStale(t)})}),lt[dt.mail.SEND_FAILURE]=s(function(t){var e=t.csid;this.composeCollection.update(e,{draftStatus:mt.Draft.Status.SEND_FAILED})}),lt[dt.mail.MESSAGE_SAVE_REQUESTED]=s(X),lt[dt.mail.MESSAGE_AUTO_SAVE_REQUESTED]=s(X),lt[dt.mail.MESSAGE_SAVE_SUCCEEDED]=J,lt[dt.mail.MESSAGE_AUTO_SAVE_SUCCEEDED]=J,lt[dt.mail.MESSAGE_SAVE_FAILED]=s(Z),lt[dt.mail.MESSAGE_AUTO_SAVE_FAILED]=s(Z),lt[dt.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED]=$,lt[dt.mail.MESSAGES_MARK_READ_REQUESTED]=s(M),lt[dt.mail.MESSAGES_MARK_UNREAD_REQUESTED]=s(R),lt[dt.mail.MESSAGE_GROUP_OPENED]=s(function(t){var e=t.messageGroupId;(0,Et.default)(e,"messageGroupId is required"),this.accountsCollection.setActiveAccountId(this.getAccountIdForMessageGroup(e))}),lt[dt.mail.MESSAGE_GROUP_WITH_BODIES_OPENED]=s(function(t){var e=t.messageGroupId;(0,Et.default)(e,"messageGroupId is required"),this.messageGroupsCollection.getState(e)!==mt.RecordStates.DOES_NOT_EXIST?this.accountsCollection.setActiveAccountId(this.getAccountIdForMessageGroup(e)):this.messageGroupsCollection.setLoading(e)}),lt[dt.mail.INLINE_FILE_ATTACHMENT_ADDED]=s(function(t){var e=t.csid,s=t.files,i=t.newContentIds,o=void 0;o=this.dispatcher.getContext().config.inlineAttachment?s.map(function(t){var e=t.type.split("/"),s=void 0;return s=e.length>1?(0,St.getAttachmentType)(e[0],e[1]):(0,St.getAttachmentType)(t.type,t.subtype),s===mt.Attachments.SimplifiedTypes.IMAGE?mt.Attachments.Dispositions.INLINE:mt.Attachments.Dispositions.ATTACHMENT}):s.map(function(){return mt.Attachments.Dispositions.ATTACHMENT}),E.call(this,{csid:e,files:s,dispositions:o,newContentIds:i})}),lt[dt.mail.INLINE_ATTACHMENT_RESTORED]=s(function(t){var e=t.csid,s=t.restoredImages;this.composeCollection.handleInlineImageRestored({csid:e,restoredImages:s}),V.call(this,{csid:e})}),lt[dt.mail.INLINE_FILE_ATTACHMENT_REMOVED]=s(function(t){var e=t.csid,s=t.contentId;this.composeCollection.removeAttachment(e,s),V.call(this,{csid:e})}),lt[dt.mail.REMOVE_INLINE_IMAGE]=s(function(t){var e=t.csid,s=t.dataId;this.composeCollection.removeInlineImage({csid:e,dataId:s}),V.call(this,{csid:e})}),lt[dt.mail.FILE_ATTACHMENT_ADDED]=s(function(t){var e=t.files,s=t.csid,i=t.newContentIds,o=e.map(function(){return mt.Attachments.Dispositions.ATTACHMENT});E.call(this,{csid:s,files:e,dispositions:o,newContentIds:i})}),lt[dt.mail.ATTACHMENT_REMOVED]=function(t){var e=t.csid,s=t.contentId;this.composeCollection.removeAttachment(e,s),V.call(this,{csid:e}),this.emitChange()},lt[dt.mail.REMOVE_NON_LOADED_ATTACHMENTS]=function(t){var e=t.csid;this.composeCollection.removeNonloadedAttachments(e)},lt[dt.mail.INLINE_ATTACHMENT_MOVED_TO_TRAY]=s(function(t){var e=t.csid,s=t.dataId,i=t.isNewCompose,o=t.pid;this.composeCollection.updateInlineAttachmentDisposition(e,s,i,o),V.call(this,{csid:e})}),lt[dt.mail.ATTACHMENT_MOVED_TO_INLINE]=s(function(t){var e=t.csid,s=t.contentId;this.composeCollection.updateRegularAttachmentDisposition(e,s),V.call(this,{csid:e})}),lt[dt.mail.SEND]=s(function(t){var e=t.csid;this.composeCollection.update(e,{draftStatus:mt.Draft.Status.SENDING})}),lt[dt.mail.CAPTCHA_BEGAN]=s(function(t){var e=t.csid;this.composeCollection.update(e,{draftStatus:mt.Draft.Status.CAPTCHAING})}),lt[dt.mail.DELETE_FOLDER_SUCCEEDED]=s(function(t){var e=t.folder;this.folderCollection.delete(e.id)}),lt[dt.mail.MESSAGES_MARK_STARRED_REQUESTED]=s(v),lt[dt.mail.MESSAGES_MARK_UNSTARRED_REQUESTED]=s(L),lt[dt.mail.MESSAGE_BODIES_REQUESTED]=s(function(t){var e=this;t.messageIds.forEach(function(t){e.isDraftMessage(t)&&e.composeCollection.setState(e.getCsidByMessageId(t),mt.RecordStates.LOADING)})}),lt[dt.mail.MESSAGE_GROUP_WITH_BODIES_RECEIVED]=s(function(t){var e=t.messageGroup,s=t.messageBodiesMap,i=t.listId;this.messageGroupsCollection.add(i,e.id,e.messages.map(function(t){return t.id})),ft.addMessageMetadata.call(this,i,e.messages),this._addMessageBodies(i,s),this.accountsCollection.setActiveAccountId(this.getAccountIdForMessageGroup(e.id))}),lt[dt.mail.MESSAGE_GROUP_WITH_BODIES_FAILED]=s(function(t){var e=t.messageGroupId;this.messageGroupsCollection.setState(e,mt.RecordStates.ERROR)}),lt[dt.mail.MESSAGE_BODIES_FAILED]=s(function(t){var e=this;t.messageIds.forEach(function(t){e.isDraftMessage(t)&&e.composeCollection.setState(e.getCsidByMessageId(t),mt.RecordStates.ERROR)})}),lt[dt.mail.MESSAGE_BODIES_RECEIVED]=s(q),lt[dt.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED]=s(q),lt[dt.mail.UNDO_MOVE_REQUESTED]=s(it),lt[dt.mail.UNDO_MOVE_SUCCEEDED]=s(x),lt[dt.mail.AUTO_CHECK_MAIL_RECEIVED]=s(x),lt[dt.mail.AUTO_CHECK_MAIL_FAILED]=s(W),lt[dt.mail.UPDATE_EDIT_DRAFT_STATE]=s(V),lt[dt.mail.DRAFT_SUBJECT_UPDATED]=s(Q),lt[dt.mail.SUBJECT_FOCUSED]=s(k),lt[dt.mail.CHANGE_FOLDER_SUCCEEDED]=s(i),lt[dt.mail.CHANGE_FOLDER_FAILED]=s(o),lt[dt.mail.SEARCH_LIST_ITEMS_REQUESTED]=s(m),lt[dt.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED]=s(d),lt[dt.mail.SEARCH_LIST_ITEMS_RECEIVED]=s(d),lt[dt.mail.SEARCH_LIST_ITEMS_FAILED]=s(w),lt[dt.mail.MAGIC_TRIAGE_ITEMS_REQUESTED]=s(m),lt[dt.mail.MAGIC_TRIAGE_ITEMS_RECEIVED]=s(d),lt[dt.mail.MAGIC_TRIAGE_ITEMS_FAILED]=s(w),lt[dt.mail.MORE_MESSAGES_REQUEST_SUCCESS]=s(n),lt[dt.mail.MORE_SEARCH_LIST_ITEMS_RECEIVED]=s(r),lt[dt.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED]=s(A),lt[dt.mail.MESSAGES_DELETE_REQUESTED]=s(A),lt[dt.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_REQUESTED]=s(u),lt[dt.mail.MESSAGES_MOVE_REQUESTED]=s(u),lt[dt.mail.MESSAGES_ARCHIVE_REQUESTED]=s(C),lt[dt.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED]=s(C),lt[dt.mail.MESSAGES_RESTORE_REQUESTED]=s(S),lt[dt.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED]=s(S),lt[dt.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED]=s(b),lt[dt.mail.MESSAGES_MARK_SPAM_REQUESTED]=s(b),lt[dt.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED]=s(H),lt[dt.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED]=s(H),lt[dt.mail.CONTACT_DETAIL_FETCH_REQUESTED]=s(function(t){var e=t.email;this.contactCollection.setRecordState(e,mt.RecordStates.LOADING)}),lt[dt.mail.CONTACT_DETAIL_FETCH_SUCCEEDED]=s(function(t){this.contactCollection.saveContact(t)}),lt[dt.mail.IMPORTANT_CONTACTS_FETCH_SUCCEEDED]=s(function(t){var e=this,s=t.contacts,i=t.actionType;s.forEach(function(t){e.contactCollection.getContactByEmail(t.id)||e.contactCollection.saveContact(t,i)})}),lt[dt.mail.CONTACT_DETAIL_FETCH_FAILED]=s(function(t){var e=t.email;this.contactCollection.setRecordState(e,mt.RecordStates.ERROR)}),lt[dt.mail.MARK_READ_FOLDER_REQUESTED]=s(O),lt[dt.mail.ARCHIVE_FOLDER_REQUESTED]=s(B),lt[dt.mail.CLEAR_FOLDER_REQUESTED]=s(G),lt[dt.mail.MOVE_QUERY_REQUESTED]=s(N),lt[dt.mail.MARK_QUERY_REQUESTED]=s(U),lt[dt.mail.BROWSER_NOTIFICATIONS_DISPLAYED]=s(tt),lt[dt.mail.APPLICATION_VISIBILITY_DID_CHANGE]=s(st),lt[dt.mail.ATTACHMENT_PREVIEW_STATE_SAVE_REQUESTED]=s(et),lt[dt.mail.BULK_PROGRESS_RECEIVED]=s(function(t){this.asyncTaskCollection.set(t)}),lt[dt.mail.BULK_PROGRESS_FAILED]=s(function(t){this.asyncTaskCollection.failed(t)}),lt[dt.mail.BULK_CANCEL_REQUESTED]=s(function(t){this.asyncTaskCollection.abort(t)}),lt[dt.mail.BULK_CANCEL_FAILED]=s(function(t){this.asyncTaskCollection.abortFailed(t)}),lt[dt.mail.BULK_CANCEL_SUCCEEDED]=s(function(t){this.asyncTaskCollection.abortSucceeded(t)}),lt[dt.mail.SIGNATURE_TEXT_CHANGE_SUCCEEDED]=s(ot),lt[dt.mail.SIGNATURE_STATUS_CHANGE_REQUESTED]=s(ot),lt[dt.mail.DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED]=s(ot),lt[dt.mail.ACCOUNT_DETAILS_CHANGE_REQUESTED]=s(ot),lt[dt.mail.ACCOUNT_ADD_SUCCEEDED]=s(at),lt[dt.mail.ACCOUNT_DELETE_REQUESTED]=s(nt),lt[dt.mail.MESSAGE_PRINT_REQUESTED]=function(t){var e=t.messageGroupId,s=t.mId,i=t.listId;(0,Et.default)(e,"messageGroupId is required");var o=s?e+"-"+s:e,a=e,n=this.getMessageGroupState(a),l=this.hasMessageGroup(a);if(n!==mt.RecordStates.ERROR&&n!==mt.RecordStates.DOES_NOT_EXIST&&l){var c=this.getContextualMessageGroupById(a,i),d=c.messages,r=d.find(function(t){return t.id&&t.id===s})||d.slice(-1)[0],E={printId:o,type:mt.PrintTypes.MESSAGE,printTitle:r.headers.subject,groupId:e,mId:s};this.printCollection.addPrintItem(E),this.emitChange()}},lt[dt.mail.MESSAGE_PRINT_SUCCEEDED]=function(t){var e=t.printId;(0,Et.default)(e,"printId is required"),this.printCollection.removePrintItemById(e),this.emitChange()},lt[dt.mail.MESSAGE_PRINT_CANCELED]=function(t){var e=t.printId;(0,Et.default)(e,"printId is required"),this.printCollection.removePrintItemById(e),this.emitChange()},lt[dt.mail.ACCOUNT_REAUTH_SUCCEEDED]=function(t){var e=t.accountAlerts;this.accountsCollection.setAlerts(e),this.emitChange()},lt[dt.mail.INLINE_IMAGE_LOAD_FAILED]=function(t){this.composeCollection.updateAttachmentState(ct({},t,{state:mt.AttachmentStates.ERROR})),this.emitChange()},lt[dt.mail.INLINE_IMAGE_LOADED]=function(t){var e=t.attachmentData,s=t.csid;this.composeCollection.updateAttachmentState({csid:s,dataId:e.dataId,state:mt.AttachmentStates.LOADED}),this.emitChange()},lt);
},{"../../platform/invariant":"./platform/invariant","../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils":"./platform/utils","../../platform/utils/attachments":"./platform/utils/attachments","../../platform/utils/folder":"./platform/utils/folder","../../platform/utils/list":"./platform/utils/list","../../platform/utils/message":"./platform/utils/message","../../platform/utils/route":"./platform/utils/route","../../reducers_selectors":"./reducers_selectors","./helpers/message":"./stores/mail/helpers/message"}],"./stores/mail/helpers/message":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){var a=this;(0,d.default)(t,"You must use a listId to add message metadata."),(0,d.default)(e,"You pass metadata to add it.");var s=this.dispatcher.getContext(),o=s.store,i=Array.isArray(e)?e:[e];(0,n.isBrowser)()&&!o&&(o=window.context.store);var r=o?o.getState():{},c=(0,l.selectors)(r),u=c.getMessageCsid,p=c.doesMessageIdExist;i.forEach(function(e){o&&!e.csid&&p(e.id)&&(e.csid=u(e.id)),e.attachments.forEach(function(t){a.attachmentCollection.add(e.id,t)}),a.subjectAndSnippetCollection.add({id:e.id,subject:e.headers.subject,snippet:e.snippet},t)}),this.messagesMetadataCollection.add(t,i)}function a(t,e,a){var s=this;(0,d.default)(t,"You must use a listId to add message metadata."),(0,d.default)(e,"You pass metadata to add it.");var o=Array.isArray(e)?e:[e];o.forEach(function(e){var o=e.attachments,i=e.id,d=e.headers,n=e.snippet,r=e.csid,l=e.conversationId;if(o.forEach(function(t){s.attachmentCollection.add(i,t)}),s.subjectAndSnippetCollection.add({id:i,subject:d.subject,snippet:n},t),r&&s.composeCollection.get(r)){var u=s.composeCollection.get(r),p=u.lastSavedMessageId,m=u.draftStatus,f=a?l:i,g=p!==i?c.Draft.Status.EDITED:m;s.composeCollection.update(r,{groupId:f,lastSavedMessageId:i,draftStatus:g})}}),this.messagesMetadataCollection.sync(t,o)}function s(t){this.messagesMetadataCollection.remove(t),this.attachmentCollection.removeByMessageId(t)}function o(t,e){var a=this.messagesMetadataCollection.get(t);(0,d.default)(a,"metadata for "+t+" was not found within the messagesMetadataCollection.");var s=e?(0,r.getListContentTypeFromListId)(e):c.ListContentTypes.MESSAGES,o=this.attachmentCollection.getByMessageId(t).filter(function(t){return!(s===c.ListContentTypes.MESSAGES&&t.isExternal)}),i=this.subjectAndSnippetCollection.get(t,e,a.csid),n=i.subject,l=i.snippet;return a.headers=Object.assign({},a.headers,{subject:n}),a=Object.assign({},a,{attachments:o,snippet:l})}exports.__esModule=!0,exports.addMessageMetadata=e,exports.syncMessageMetadata=a,exports.removeMessageMetadata=s,exports.getMessageMetadata=o;var i=require("../../../platform/invariant"),d=t(i),n=require("../../../platform/utils/generic"),r=require("../../../platform/utils/list"),c=require("../../../platform/mail_constants"),l=require("../../../reducers_selectors");
},{"../../../platform/invariant":"./platform/invariant","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/generic":"./platform/utils/generic","../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors"}],"./stores/mail":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e){var o=N.getMessageMetadata.call(this,t,e);return Object.assign({},o,{folder:this.folderCollection.get(o.folder.id)})}function s(t,e){var o=new Q.default({max:e});return function(e,n){var r=[e,n].join("/"),s=o.get(r);return void 0!==s&&this.messagesMetadataCollection.isValidEnhancement(s)?s:(s=t(e,n),o.set(r,s),s)}}exports.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},a=require("fluxible/addons/BaseStore"),c=t(a),u=require("./collections/accounts"),l=t(u),d=require("./collections/compose"),p=t(d),g=require("./collections/folders"),h=t(g),f=require("./collections/item_list"),m=t(f),y=require("./collections/message_group"),I=t(y),C=require("./collections/message_metadata"),M=t(C),A=require("./collections/attachment_metadata"),F=t(A),L=require("./collections/subject_and_snippet"),v=t(L),D=require("./collections/suggested_words"),G=t(D),x=require("./collections/async_task"),S=t(x),T=require("./collections/contact"),B=t(T),w=require("./collections/print_message"),E=t(w),b=require("../../platform/invariant"),P=t(b),O=require("../../platform/utils/generic"),_=require("../../platform/utils/folder"),q=require("../../platform/utils/list"),R=require("../../platform/utils/message"),j=require("./handlers"),k=t(j),N=require("./helpers/message"),U=require("../../platform/mail_constants"),H=require("../../platform/utils/object"),z=require("lru-cache"),Q=t(z),W=function(t){function a(n){e(this,a);var i=o(this,t.call(this,n));i.useReduxState=(0,O.isBrowser)()&&n.getContext().config.useReduxState;var c=(0,O.isBrowser)()&&i.useReduxState&&window.context.store;return i.accountsCollection=new l.default,i.composeCollection=new p.default,i.folderCollection=new h.default(i.useReduxState,c),i.itemListCollection=new m.default(i.useReduxState,c),i.messageGroupsCollection=new I.default(i.useReduxState,c),i.messagesMetadataCollection=new M.default(i.useReduxState,c),i.attachmentCollection=new F.default,i.subjectAndSnippetCollection=new v.default(i.useReduxState,c),i.contactCollection=new B.default,i.printCollection=new E.default,i.suggestedWordsCollection=new G.default,i.asyncTaskCollection=new S.default,(0,O.isBrowser)()?i.getEnhancedMessageMetaDataById=s(r.bind(i),2e3):i.getEnhancedMessageMetaDataById=r,i}return n(a,t),a.prototype.isFolder=function t(e){return!!this.getFolder(e)},a.prototype.normalizeDataFromGroupList=function t(e,o,n,r,s,a){var c=this;this.itemListCollection.add(e,i({items:o.map(function(t){return t.id}),hasMoreItems:n,nextItemsUrl:r},s&&{totalHits:s},a&&{lmv3Query:a})),o.forEach(function(t){N.addMessageMetadata.call(c,e,t.messages),c.messageGroupsCollection.add(e,t.id,t.messages.map(function(t){return t.id}))})},a.prototype.normalizeDataFromPeople=function t(e){var o=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n.map(function(t){return t.contactDetails});r.forEach(function(t){o.contactCollection.saveContact(t)}),this.itemListCollection.add(e,{items:r.map(function(t){return t.xobniId})})},a.prototype.normalizeDataFromAttachmentsList=function t(e,o,n,r){var s=this;this.itemListCollection.add(e,{items:o.map(function(t){return t.attachment.id}),hasMoreItems:n,nextItemsUrl:r}),o.forEach(function(t){var o=t.attachment,n=t.message;s.attachmentCollection.add(n.id,o),s.subjectAndSnippetCollection.add(n,e)})},a.prototype._addMessageBodies=function t(e,o){var n=this;Object.keys(o).forEach(function(t){if(n.isDraftMessage(t)){var r=N.getMessageMetadata.call(n,t),s=r.csid,i=o[t],a=Object.assign({},r,{body:i}),c=n.getAccountIdForFolder(a.folder.id),u=n.accountsCollection.get(c),l=n.accountsCollection.getAddressesForAccount(c),d=U.Compose.Modes.EDIT,p=void 0;p=n.useReduxState?n.messageGroupsCollection.getGroupId(e,t,s):n.messageGroupsCollection.getGroupId(e,t),n.composeCollection.create({csid:s,composeMode:d,account:u,senderAddresses:l,message:a,groupId:p,folderId:a.folder.id})}})},a.prototype.isListStale=function t(e){return this.itemListCollection.isListStale(e)},a.prototype.doesListExist=function t(e){return this.itemListCollection.exists(e)},a.prototype.getItemListIdsForList=function t(e){return this.itemListCollection.getListItems(e)||[]},a.prototype.getMessageGroupIdsForList=function t(e){return this.getItemListIdsForList(e)},a.prototype.getSuggestedWordsForList=function t(e){return this.suggestedWordsCollection.get(e)},a.prototype.getAttachmentListItem=function t(e,o){var n=this.attachmentCollection.get(e),r=(0,R.getMessageIdFromAttachmentId)(e),s="";return this.useReduxState&&(s=this.messagesMetadataCollection.get(r).csid),{partialMessage:this.subjectAndSnippetCollection.get(r,o,s),attachment:n}},a.prototype.getItem=function t(e,o){switch((0,q.getListContentTypeFromListId)(o)){case U.ListContentTypes.DOCUMENTS:case U.ListContentTypes.IMAGES:return this.getAttachmentListItem(e,o);case U.ListContentTypes.PEOPLE:return this.getContact(e,o);case U.ListContentTypes.MESSAGES:default:return this.getContextualMessageGroupById(e,o)}},a.prototype.getItemList=function t(e){var o=this;return this.getItemListIdsForList(e).map(function(t){return o.getItem(t,e)})},a.prototype.getItemListState=function t(e){return this.itemListCollection.getState(e)},a.prototype.getNextItemsUrl=function t(e){return this.itemListCollection.getNextItemsUrl(e)},a.prototype.getLmv3Query=function t(e){return this.itemListCollection.getLmv3Query(e)},a.prototype.getTotalHits=function t(e){return this.itemListCollection.getTotalHits(e)},a.prototype.getItemListData=function t(e){return this.itemListCollection.getListData(e)},a.prototype.getFolder=function t(e){return this.folderCollection.get(e)},a.prototype.hasFolder=function t(e){return this.folderCollection.has(e)},a.prototype.getDefaultFolderId=function t(){return this.folderCollection.getDefaultId()},a.prototype.getRootAccounts=function t(){return this.accountsCollection.getRootAccounts()},a.prototype.getAllAccounts=function t(){return this.accountsCollection.getAllAccounts()},a.prototype.getAccountById=function t(e){return this.accountsCollection.get(e)},a.prototype.getAccountByEmail=function t(e){return this.accountsCollection.getByEmail(e)},a.prototype.getPrimaryAccount=function t(){return this.accountsCollection.getPrimaryAccount()},a.prototype.getImapInAccounts=function t(){return this.accountsCollection.getImapInAccounts()},a.prototype.getAccountIdForFolder=function t(e){var o=this.getFolder(e);return(0,P.default)(o,"folder with id "+e+" was not found in the collection"),o.accountId},a.prototype.getAccountIdForMessage=function t(e){return this.getAccountIdForFolder(this.getFolderIdForMessage(e))},a.prototype.getAccountIdForMessageGroup=function t(e){var o=this.messageGroupsCollection.getMessageIds(e);return this.getAccountIdForMessage(o[0])},a.prototype.getMyAddresses=function t(){return this.accountsCollection.getMyAddresses()},a.prototype.getFolderTypeForMessage=function t(e){var o=this.getFolderIdForMessage(e),n=this.folderCollection.get(o);return(0,_.getPrimaryFolderType)(n)},a.prototype.getFolderIdForMessage=function t(e){return this.messagesMetadataCollection.get(e).folder.id},a.prototype.isDraftMessage=function t(e){return this.getFolderTypeForMessage(e)===U.FolderTypes.DRAFT},a.prototype.isTrashMessage=function t(e){return this.getFolderTypeForMessage(e)===U.FolderTypes.TRASH},a.prototype.isSpamMessage=function t(e){return this.getFolderTypeForMessage(e)===U.FolderTypes.BULK},a.prototype.getFolderIdForAccount=function t(e,o){return this.folderCollection.getFolderIdForAccount(e,o)},a.prototype.getDefaultFolderForAccount=function t(e){return this.folderCollection.getDefaultFolderForAccount(e)},a.prototype.getAllFoldersForAccount=function t(e){return this.folderCollection.getTreeNodesForAccount(e)},a.prototype.getAllFoldersForAllAccounts=function t(){var e=this;return this.getRootAccounts().reduce(function(t,o){return t.concat(e.getAllFoldersForAccount(o.id))},[])},a.prototype.getCustomFoldersUnreadCount=function t(){return this.folderCollection.getCustomFoldersUnreadCount()},a.prototype.getUnreadCountForAccount=function t(e){return this.folderCollection.getUnreadCountForAccount(e)},a.prototype.getFolderUnreadCount=function t(e){return this.folderCollection.getFolderUnreadCount(e)},a.prototype.getMessageGroupById=function t(e){var o=this;return this.hasMessageGroup(e)?{id:e,messages:this.messageGroupsCollection.getMessageIds(e).map(function(t){return o.getMessageById(t)})}:null},a.prototype.getOriginalMessageGroupSender=function t(e){var o=this;if(!this.hasMessageGroup(e))return null;var n=this.messageGroupsCollection.getMessageIds(e),r=n.map(function(t){return o.getMessageById(t)}),s=(0,H.getIn)(r,"0.headers.from.0");return s?s:null},a.prototype.getContextualMessageGroupById=function t(e,o){var n=this;return{id:e,messages:this.messageGroupsCollection.getMessageIds(e).map(function(t){return n.getContextualMessageById(t,o)})}},a.prototype.getCurrentItemIndex=function t(e,o){return this.getItemListIdsForList(o).findIndex(function(t){return t===e})},a.prototype.getNextOrPreviousGroupId=function t(e,o){var n=this.getCurrentItemIndex(e,o),r=this.getItemListIdsForList(o);return r[n+1]||r[n-1]||null},a.prototype.getPreviousOrNextGroupId=function t(e,o){var n=this.getCurrentItemIndex(e,o),r=this.getItemListIdsForList(o);return r[n-1]||r[n+1]||null},a.prototype.getNextGroupId=function t(e,o){var n=this.getCurrentItemIndex(e,o);return this.getItemListIdsForList(o)[n+1]||null},a.prototype.getPreviousGroupId=function t(e,o){var n=this.getCurrentItemIndex(e,o);return this.getItemListIdsForList(o)[n-1]||null},a.prototype.getListIdToGroupIdMap=function t(e){return this.messageGroupsCollection.getListIdToGroupIdMap(e)},a.prototype.getMessageGroupIdByMessageId=function t(e,o){if(this.useReduxState){var n=this.messagesMetadataCollection.get(o).csid;return this.messageGroupsCollection.getGroupId(e,o,n)}return this.messageGroupsCollection.getGroupId(e,o)},a.prototype.getMessageGroupIdByAttachmentId=function t(e,o,n){var r=(0,R.getMessageIdFromAttachmentId)(o);if(!n)return r;var s=this.getAttachmentListItem(o,e);return this.getMessageGroupIdByMessageId(e,r)||(0,H.getIn)(s,"attachment.conversationId","")},a.prototype.hasMessageGroup=function t(e){return this.messageGroupsCollection.exists(e)},a.prototype.getLastNonDraftMessageByGroupId=function t(e){var o=this,n=this.messageGroupsCollection.getMessageIds(e),r=n.filter(function(t){return!o.isDraftMessage(t)}).pop();return r?this.getMessageById(r):null},a.prototype.getMessageById=function t(e){return this.getEnhancedMessageMetaDataById(e,void 0)},a.prototype.getContextualMessageById=function t(e,o){return this.getEnhancedMessageMetaDataById(e,o)},a.prototype.hasMoreItems=function t(e){return(0,P.default)(e,"Folder ID is required"),this.itemListCollection.hasMoreItems(e)},a.prototype.isItemInList=function t(e,o){return this.itemListCollection.isItemInList(e,o)},a.prototype.getRecordState=function t(e){return this.itemListCollection.getState(e)},a.prototype.getMessageMetaRecordState=function t(e){return this.messagesMetadataCollection.getState(e)},a.prototype.getMessageGroupState=function t(e){return this.messageGroupsCollection.getState(e)},a.prototype.getComposeData=function t(e){return this.composeCollection.get(e)},a.prototype.hasUnsavedData=function t(){return this.composeCollection.hasUnsavedData()},a.prototype.getComposeDataByGroupId=function t(e){return this.composeCollection.getByGroupId(e)},a.prototype.getComposeDataMatchingInReplyTo=function t(e){return this.composeCollection.getByInReplyTo(e)},a.prototype.getCsidByMessageId=function t(e){var o=this.messagesMetadataCollection.get(e);if(o)return o.csid},a.prototype.getComposeDataState=function t(e){return this.composeCollection.getState(e)},a.prototype.getDraftStatus=function t(e){return this.composeCollection.getDraftStatus(e)},a.prototype.getActiveAccountId=function t(){return this.accountsCollection.getActiveAccountId()},a.prototype.getActiveAccount=function t(){return this.accountsCollection.getActiveAccount()},a.prototype.getDefaultSendingAccount=function t(){return this.accountsCollection.getDefaultSendingAccount()},a.prototype.getImapInProvider=function t(){return this.accountsCollection.getImapInProvider()},a.prototype.getFolderIdFromFolderType=function t(e,o){var n=this.getAccountIdForMessage(e);return this.getFolderIdForAccount(o,n)},a.prototype.getFolderIdMapFromFolderType=function t(e,o){var n=this,r={};return e.forEach(function(t){var e=n.getFolderIdFromFolderType(t,o);r.hasOwnProperty(e)||(r[e]=[]),r[e].push(t)}),r},a.prototype.getAttachment=function t(e){return this.attachmentCollection.get(e)},a.prototype._getAttachmentIdOnDirection=function t(e,o,n){for(var r=this.getItemList(o),s=r.findIndex(function(t){return t.attachment.id===e}),i=s+n,a=null;i>=0&&i<r.length;){if(!r[i].attachment.isExternal){a=r[i].attachment;break}i+=n}return a?a.id:null},a.prototype.getNextAttachmentIdForItemList=function t(e,o){return this._getAttachmentIdOnDirection(e,o,1)},a.prototype.getPreviousAttachmentIdForItemList=function t(e,o){return this._getAttachmentIdOnDirection(e,o,-1)},a.prototype.getNextAttachmentIdForMessage=function t(e,o){return this.attachmentCollection.getNextAttachmentIdForMessage(e,o)},a.prototype.getPreviousAttachmentIdForMessage=function t(e,o){return this.attachmentCollection.getPreviousAttachmentIdForMessage(e,o)},a.prototype._getAttachmentIdsByMessageGroupId=function t(e){var o=this,n=this.messageGroupsCollection.getMessageIds(e),r=[];return n.forEach(function(t){r=r.concat(o.attachmentCollection.getAttachmentIdsByMessageId(t))}),r},a.prototype.getNextAttachmentIdForMessageGroup=function t(e,o){var n=this._getAttachmentIdsByMessageGroupId(o),r=n.indexOf(e),s=r+1;return r<0||s>=n.length?"":n[s]},a.prototype.getPreviousAttachmentIdForMessageGroup=function t(e,o){var n=this._getAttachmentIdsByMessageGroupId(o),r=n.indexOf(e),s=r-1;return r<0||s<0?"":n[s]},a.prototype.getContactByEmail=function t(e){return this.contactCollection.getContactByEmail(e)},a.prototype.getContact=function t(e){return this.contactCollection.getContact(e)},a.prototype.getContactRecordState=function t(e){return this.contactCollection.getRecordState(e)},a.prototype.getNewListItems=function t(e){return this.itemListCollection.getNewListItems(e)},a.prototype.getTotalNewListItemCount=function t(e){return this.itemListCollection.getTotalNewListItemCount(e)},a.prototype.groupMessagesByFolder=function t(e){var o=this,n={};return e.forEach(function(t){var e=o.messagesMetadataCollection.get(t),r=e.folder.id;n.hasOwnProperty(r)||(n[r]=[]),n[r].push(t)}),n},a.prototype.getAsyncTask=function t(){return this.asyncTaskCollection.getTask()},a.prototype.isAsyncTaskPending=function t(){var e=this.getAsyncTask();return e&&[U.BulkTaskStatus.COMPLETED,U.BulkTaskStatus.ABORTED,U.BulkTaskStatus.FAILED].indexOf(e.status)===-1||!1},a.prototype.getAsyncTaskPayload=function t(){return this.asyncTaskCollection.getTaskActionPayload()},a.prototype.getPrintItem=function t(){return this.printCollection.getPrintItem()},a.prototype.getPrintItemById=function t(e){return this.printCollection.getPrintItemById(e)},a.prototype.getExpiredAccounts=function t(){return this.accountsCollection.getExpiredAccounts()},a.prototype.getAccountAlertByAccountId=function t(e){return this.accountsCollection.getAccountAlertByAccountId(e)},a.prototype.getFolderIdsByType=function t(e,o){return this.folderCollection.getFolderIdsByType(e,o)},a.prototype.dehydrate=function t(){return{accountsCollectionData:this.accountsCollection.dehydrate(),composeCollectionData:this.composeCollection.dehydrate(),folderCollectionData:this.folderCollection.dehydrate(),itemListCollectionData:this.itemListCollection.dehydrate(),messageGroupsCollectionData:this.messageGroupsCollection.dehydrate(),messagesMetadataCollectionData:this.messagesMetadataCollection.dehydrate(),attachmentCollectionData:this.attachmentCollection.dehydrate(),subjectAndSnippetCollectionData:this.subjectAndSnippetCollection.dehydrate()}},a.prototype.rehydrate=function t(e){this.accountsCollection.rehydrate(e.accountsCollectionData),this.composeCollection.rehydrate(e.composeCollectionData),this.folderCollection.rehydrate(e.folderCollectionData),this.itemListCollection.rehydrate(e.itemListCollectionData),this.messageGroupsCollection.rehydrate(e.messageGroupsCollectionData),this.messagesMetadataCollection.rehydrate(e.messagesMetadataCollectionData),this.attachmentCollection.rehydrate(e.attachmentCollectionData),this.subjectAndSnippetCollection.rehydrate(e.subjectAndSnippetCollectionData)},a}(c.default);W.storeName="MailStore",W.handlers={},Object.assign(W.handlers,k.default),exports.default=W,module.exports=exports.default;
},{"../../platform/invariant":"./platform/invariant","../../platform/mail_constants":"./platform/mail_constants","../../platform/utils/folder":"./platform/utils/folder","../../platform/utils/generic":"./platform/utils/generic","../../platform/utils/list":"./platform/utils/list","../../platform/utils/message":"./platform/utils/message","../../platform/utils/object":"./platform/utils/object","./collections/accounts":"./stores/mail/collections/accounts","./collections/async_task":"./stores/mail/collections/async_task","./collections/attachment_metadata":"./stores/mail/collections/attachment_metadata","./collections/compose":"./stores/mail/collections/compose","./collections/contact":"./stores/mail/collections/contact","./collections/folders":"./stores/mail/collections/folders","./collections/item_list":"./stores/mail/collections/item_list","./collections/message_group":"./stores/mail/collections/message_group","./collections/message_metadata":"./stores/mail/collections/message_metadata","./collections/print_message":"./stores/mail/collections/print_message","./collections/subject_and_snippet":"./stores/mail/collections/subject_and_snippet","./collections/suggested_words":"./stores/mail/collections/suggested_words","./handlers":"./stores/mail/handlers","./helpers/message":"./stores/mail/helpers/message","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js","lru-cache":"./node_modules/lru-cache/index.js"}],402:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){var t=e.messageGroup,a=e.cards,n=e.prevExpansionStates,r=void 0===n?{}:n,s=e.expandMessageIds,o=void 0===s?[]:s,i=Object.assign({},r);return(0,I.getIdsOfMessagesToExpand)(t,o).forEach(function(e){i[e]=C.CARD_EXPANSION_STATES.EXPANDED}),a.forEach(function(e){var t=e.cardId;e.composeData&&(i[t]=C.CARD_EXPANSION_STATES.EXPANDED)}),a.forEach(function(e,t,a){var n=e.message,r=e.cardId;if(i[r]!==C.CARD_EXPANSION_STATES.EXPANDED&&n)if(0===t||t===a.length-2)i[r]=C.CARD_EXPANSION_STATES.COLLAPSED;else{var s=a[t+1];s&&i[s.cardId]===C.CARD_EXPANSION_STATES.EXPANDED?i[r]=C.CARD_EXPANSION_STATES.COLLAPSED:i[r]=C.CARD_EXPANSION_STATES.STACKED}}),i}function s(e,t){return t?""+e+O+t:""}function o(e){return e.name===C.RouteNames.MESSAGE_FROM_FOLDER_LIST||e.name===C.RouteNames.MESSAGE_FROM_SEARCH_LIST?s((0,_.getListIdFromRoute)(e),e.params.groupId):null}function i(e){return e.split(O)[1]}function u(e){return e.split(O)[0]}exports.__esModule=!0,exports.MESSAGE_GROUP_UI_ID_DELIMITER=void 0;var p;exports._getExpansionForCards=r;var l=require("fluxible/addons/BaseStore"),c=e(l),d=require("./mail"),E=e(d),f=require("./pages"),h=e(f),S=require("lru-cache"),g=e(S),_=require("../platform/utils/list"),A=require("../platform/utils/cards"),C=require("../platform/mail_constants"),I=require("../platform/utils/message_group"),m=require("../platform/invariant"),x=e(m),v=require("../platform/react_action_constants"),O=exports.MESSAGE_GROUP_UI_ID_DELIMITER="$$",D=function(e){function p(n){t(this,p);var r=a(this,e.call(this,n));return r.expansionStates=new g.default({max:50}),r}return n(p,e),p.prototype.handleExpansionStateChange=function e(t){var a=t.listId,n=t.messageGroupId,r=t.cardIds,o=t.newState,i=s(a,n);(0,x.default)(this.expansionStates.get(i),"Expansion states not present for listId and groupId: ("+a+", "+n+")");var u=Object.assign({},this.expansionStates.get(i));r.forEach(function(e){return u[e]=o}),this.expansionStates.set(i,u),this.emitChange()},p.prototype.handleCloseAll=function e(t){t.closeAllTabs&&this.expansionStates.reset()},p.prototype.handleTotalExpansionChange=function e(t){var a=this,n=t.listId,r=t.messageGroupId,o=t.newState;this.dispatcher.waitFor(E.default,function(){var e=s(n,r),t=a.dispatcher.getStore(E.default),i=t.getContextualMessageGroupById(r,n),u=a.getCards(i),p=Object.create(null);u.forEach(function(e){p[e.cardId]=o}),a.expansionStates.set(e,p),a.emitChange()})},p.prototype.handleClosePage=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.route;a=a||this.dispatcher.getStore(h.default).getActivePageRoute();var n=o(a);n&&(this.expansionStates.del(n),this.emitChange())},p.prototype._handleGroupChangeForExpansionStates=function e(t){var a=this,n=Object.create(null);this.expansionStates.forEach(function(e,s){var o=i(s),p=u(s);if(!t.hasMessageGroup(o))return void(n[s]=null);var l=t.getContextualMessageGroupById(o,p),c=a.getCards(l);c.some(function(t){return!e.hasOwnProperty(t.cardId)})&&(n[s]=r({messageGroup:l,cards:c,prevExpansionStates:e}))});var s=Object.keys(n);return s.forEach(function(e){null===n[e]?a.expansionStates.del(e):a.expansionStates.set(e,n[e])}),Boolean(s.length)},p.prototype.handleMessageGroupChange=function e(){var t=this;this.dispatcher.waitFor(E.default,function(){var e=t.dispatcher.getStore(E.default);t._handleGroupChangeForExpansionStates(e)&&t.emitChange()})},p.prototype.getCardExpansionStates=function e(t,a,n){var o=s(t,a),i=this.expansionStates.get(o)||Object.create(null),u=this.dispatcher.getStore(E.default);if(!u.hasMessageGroup(a))return i;var p=u.getContextualMessageGroupById(a,t),l=this.getCards(p);return l.some(function(e){return!i[e.cardId]})?(i=r({messageGroup:p,cards:l,prevExpansionStates:i,expandMessageIds:n?[n]:[]}),this.expansionStates.set(o,i),i):i},p.prototype.getCards=function e(t){var a=this.dispatcher.getStore(E.default);return(0,A.makeCards)(t.messages,a.getComposeDataByGroupId(t.id))},p}(c.default);D.storeName="MessageGroupUIStore",D.handlers=(p={},p[v.mail.AUTO_CHECK_MAIL_RECEIVED]="handleMessageGroupChange",p[v.mail.MESSAGE_CARD_EXPANSION_CHANGED]="handleExpansionStateChange",p[v.mail.OPEN_PAGE_REQUESTED]="handleCloseAll",p[v.mail.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED]="handleTotalExpansionChange",p[v.mail.CLOSE_PAGE_REQUESTED]="handleClosePage",p),exports.default=D;
},{"../platform/invariant":"./platform/invariant","../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","../platform/utils/cards":381,"../platform/utils/list":"./platform/utils/list","../platform/utils/message_group":"./platform/utils/message_group","./mail":"./stores/mail","./pages":"./stores/pages","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js","lru-cache":"./node_modules/lru-cache/index.js"}],403:[function(require,module,exports){
"use strict";function E(E,t,a){var S=E.task;S.status!==i.BulkTaskStatus.ABORTED&&S.status!==i.BulkTaskStatus.COMPLETED&&S.status!==i.BulkTaskStatus.FAILED||a({type:i.NotificationTypes.ADVISORY,messageId:i.NotificationIds.BULK_PROGRESS,requireInteraction:!1,sticky:!1,modal:!0,data:E})}function t(E,t,a){E.async&&a({type:i.NotificationTypes.ADVISORY,messageId:i.NotificationIds.BULK_PROGRESS,requireInteraction:!0,sticky:!0,modal:!0})}exports.__esModule=!0;var a,S=require("../../../platform/react_action_constants"),i=require("../../../platform/mail_constants");exports.default=(a={},a[S.mail.BULK_PROGRESS_RECEIVED]=E,a[S.mail.MARK_READ_FOLDER_REQUESTED]=t,a[S.mail.ARCHIVE_FOLDER_REQUESTED]=t,a[S.mail.CLEAR_FOLDER_REQUESTED]=t,a[S.mail.MESSAGES_DELETE_REQUESTED]=t,a[S.mail.MESSAGES_MOVE_REQUESTED]=t,a[S.mail.MESSAGES_ARCHIVE_REQUESTED]=t,a[S.mail.MESSAGES_RESTORE_REQUESTED]=t,a[S.mail.MESSAGES_MARK_SPAM_REQUESTED]=t,a[S.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED]=t,a[S.mail.MOVE_QUERY_REQUESTED]=t,a[S.mail.MARK_QUERY_REQUESTED]=t,a),module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],404:[function(require,module,exports){
"use strict";function i(i){return i&&i.__esModule?i:{default:i}}function t(i,t,E){var a,e;switch(t){case S.mail.COMPOSE_NO_ADDRESS_DETECTED:a=n.NotificationIds.COMPOSE_NO_ADDRESS_DETECTED;break;case S.mail.COMPOSE_ADDRESSING_FAILED:a=n.NotificationIds.COMPOSE_ADDRESSING_FAILED,e={invalidAddresses:i.invalids};break;case S.mail.COMPOSE_RECIPIENT_LIMIT_EXCEEDED:a=n.NotificationIds.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}E({type:n.NotificationTypes.WARNING,messageId:a,data:e})}function E(i,t){return function E(a,e,o){o({type:i,messageId:t,data:a})}}function a(i,t,E){E({type:n.NotificationTypes.WARNING,messageId:n.NotificationIds.INLINE_IMAGE_LOAD_FAILURE,data:i})}function e(i,t,E){E({type:n.NotificationTypes.NORMAL,requireInteraction:!0,messageId:n.NotificationIds.COMPOSE_SEND})}function o(i,t,E){E({type:n.NotificationTypes.WARNING,messageId:n.NotificationIds.SAVE_DRAFT_FAILURE,priority:n.NotificationPriorities.MEDIUM})}function _(i,t,E){E({data:i,requireInteraction:!0,type:n.NotificationTypes.WARNING,messageId:n.NotificationIds.COMPOSE_REPLY_OR_FORWARD_FAILED})}function I(i,t,E){var a=i.messageId,e=i.currentRoute,o=i.conversationsMode,_=this;this.dispatcher.waitFor([A.default,O.default],function(){var i=_.dispatcher.getStore(O.default),t=_.dispatcher.getStore(A.default),I=t.getMessageById(a),N=o?I.conversationId:I.id,s=t.getFolderIdForAccount(n.FolderTypes.SENT,t.getActiveAccountId()),S={fid:e.params.fid||s,groupId:N};E({type:n.NotificationTypes.NORMAL,messageId:n.NotificationIds.COMPOSE_SEND_SUCCEEDED,data:{nextUrl:i.getURL({name:n.RouteNames.MESSAGE_FROM_FOLDER_LIST,params:S,query:e.query})}})})}function N(i,t,E){E({data:i,type:n.NotificationTypes.WARNING,messageId:n.NotificationIds.COMPOSE_MESSAGE_ALREADY_SENT})}exports.__esModule=!0;var s,S=require("../../../platform/react_action_constants"),n=require("../../../platform/mail_constants"),D=require("../../mail"),A=i(D),c=require("../../pages"),O=i(c);exports.default=(s={},s[S.mail.COMPOSE_NO_ADDRESS_DETECTED]=t,s[S.mail.COMPOSE_ADDRESSING_FAILED]=t,s[S.mail.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]=t,s[S.mail.SEND]=e,s[S.mail.SEND_SUCCESS]=I,s[S.mail.COMPOSE_INVALID_MESSAGE_OPENED]=N,s[S.mail.SEND_FAILURE]=E(n.NotificationTypes.WARNING,n.NotificationIds.COMPOSE_SEND_FAILED),s[S.mail.INLINE_IMAGE_LOAD_FAILED]=a,s[S.mail.MESSAGE_SAVE_FAILED]=o,s[S.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED]=_,s[S.mail.SPONSORED_SAVE_TO_INBOX_FAILED]=E(n.NotificationTypes.WARNING,n.NotificationIds.SAVE_TO_INBOX_FAILURE),s[S.mail.SPONSORED_SAVE_TO_INBOX_SUCCEEDED]=E(n.NotificationTypes.NORMAL,n.NotificationIds.SAVE_TO_INBOX_SUCCESS),s[S.mail.DELETE_DRAFT_SUCCEEDED]=E(n.NotificationTypes.NORMAL,n.NotificationIds.DELETE_DRAFT_SUCCESS),s[S.mail.DELETE_DRAFT_FAILED]=E(n.NotificationTypes.WARNING,n.NotificationIds.DELETE_DRAFT_FAILURE),s[S.mail.GEMINI_SPONSORED_ASSET_FAILED]=E(n.NotificationTypes.WARNING,n.NotificationIds.GEMINI_SPONSORED_ASSET_FAILED),s),module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants","../../mail":"./stores/mail","../../pages":"./stores/pages"}],405:[function(require,module,exports){
"use strict";function t(t,e,a){a({type:o.NotificationTypes.WARNING,messageId:o.NotificationIds.DOWNLOAD_FAILED,data:t})}function e(t,e,a){a({type:o.NotificationTypes.WARNING,messageId:o.NotificationIds.ATTACHMENT_PREVIEW_FAILED,data:t})}exports.__esModule=!0;var a,i=require("../../../platform/react_action_constants"),o=require("../../../platform/mail_constants");exports.default=(a={},a[i.mail.DOWNLOAD_FAILED]=t,a[i.mail.ATTACHMENT_PREVIEW_FAILED]=e,a),module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],406:[function(require,module,exports){
"use strict";function t(t,e,a){a({type:o.NotificationTypes.WARNING,messageId:o.NotificationIds.EXCEPTION_OCCURRED,modal:!0,data:t})}exports.__esModule=!0;var e,a=require("../../../platform/react_action_constants"),o=require("../../../platform/mail_constants");exports.default=(e={},e[a.mail.EXCEPTION_OCCURRED]=t,e),module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],407:[function(require,module,exports){
"use strict";function e(e,t,o){"themesCueV2"===e.name&&o({type:s.NotificationTypes.NORMAL,messageId:s.NotificationIds.THEMES_CUE_V2_CLOSED})}exports.__esModule=!0;var t,o=require("../../../platform/react_action_constants"),s=require("../../../platform/mail_constants");exports.default=(t={},t[o.mail.FEATURE_CLOSED]=e,t),module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],408:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function i(t,i){return function E(o,e,a){a({type:t,messageId:i,data:{folderName:(0,A.getLocalisedFolderName)(o.formatMessage,(0,A.getPrimaryFolderType)(o.folder))||o.folder.name}})}}function E(t,i,E){E({type:D.NotificationTypes.NORMAL,messageId:D.NotificationIds.RENAME_FOLDER_SUCCEEDED,data:t})}function o(t,i,E){E({type:D.NotificationTypes.WARNING,messageId:D.NotificationIds.RENAME_FOLDER_FAILED,data:t})}function e(t,i,E){var o=t.accountId,e=t.autoOpenReauth,a=t.provider;E({type:D.NotificationTypes.WARNING,messageId:D.NotificationIds.MAILBOX_NOT_SYNCING,data:{accountId:o,autoOpenReauth:e,provider:a}})}function a(t,i,E){var o=this,e=t.listId,a=t.launchError;return a?E({type:D.NotificationTypes.ADVISORY,icon:I.Kinds.ATTENTION,messageId:a===D.LaunchError.FOLDER_ACCESS_FAILED?D.NotificationIds.FOLDER_ACCESS_FAILED:D.NotificationIds.MESSAGE_ACCESS_FAILED,data:t}):void this.dispatcher.waitFor([r.default],function(){if(e){var t=o.dispatcher.getStore(r.default),i=(0,N.getFolderIdFromListId)(e);if(i){var a=t.getAccountIdForFolder(i),s=(0,R.getAccountProvider)(t.getAccountById(a)),n=t.getDefaultFolderForAccount(a),_=n.id,A=t.getExpiredAccounts(),I=o.dispatcher.getContext().store,d=(0,c.selectors)(I.getState()),L=d.getFeaturesSelectors,f=L();_===i&&A.find(function(t){return t===a})&&E({type:D.NotificationTypes.WARNING,messageId:D.NotificationIds.MAILBOX_NOT_SYNCING,data:{accountId:a,autoOpenReauth:f.isEnabled("autoOpenReauth"),provider:s}})}}})}exports.__esModule=!0;var s,n=require("../../mail"),r=t(n),_=require("../../../platform/react_action_constants"),D=require("../../../platform/mail_constants"),N=require("../../../platform/utils/list"),c=require("../../../reducers_selectors"),R=require("../../../platform/utils/account"),A=require("../../../platform/utils/folder"),I=require("../../../atoms/constants/fuji_icon");exports.default=(s={},s[_.mail.RENAME_FOLDER_SUCCEEDED]=E,s[_.mail.RENAME_FOLDER_FAILED]=o,s[_.mail.CREATE_FOLDER_SUCCEEDED]=i(D.NotificationTypes.NORMAL,D.NotificationIds.CREATE_FOLDER_SUCCEEDED),s[_.mail.CREATE_FOLDER_FAILED]=i(D.NotificationTypes.WARNING,D.NotificationIds.CREATE_FOLDER_FAILED),s[_.mail.DELETE_FOLDER_SUCCEEDED]=i(D.NotificationTypes.NORMAL,D.NotificationIds.DELETE_FOLDER_SUCCEEDED),s[_.mail.DELETE_FOLDER_FAILED]=i(D.NotificationTypes.WARNING,D.NotificationIds.DELETE_FOLDER_FAILED),s[_.mail.MARK_READ_FOLDER_SUCCEEDED]=i(D.NotificationTypes.NORMAL,D.NotificationIds.MARK_READ_FOLDER_SUCCEEDED),s[_.mail.MARK_READ_FOLDER_FAILED]=i(D.NotificationTypes.WARNING,D.NotificationIds.MARK_READ_FOLDER_FAILED),s[_.mail.ARCHIVE_FOLDER_SUCCEEDED]=i(D.NotificationTypes.NORMAL,D.NotificationIds.ARCHIVE_FOLDER_SUCCEEDED),s[_.mail.ARCHIVE_FOLDER_FAILED]=i(D.NotificationTypes.WARNING,D.NotificationIds.ARCHIVE_FOLDER_FAILED),s[_.mail.CLEAR_FOLDER_SUCCEEDED]=i(D.NotificationTypes.NORMAL,D.NotificationIds.CLEAR_FOLDER_SUCCEEDED),s[_.mail.CLEAR_FOLDER_FAILED]=i(D.NotificationTypes.WARNING,D.NotificationIds.CLEAR_FOLDER_FAILED),s[_.mail.MAILBOX_NOT_SYNCING]=e,s[_.mail.INITIAL_STATE]=a,s[_.mail.DELETE_NON_EMPTY_FOLDER_REQUESTED]=i(D.NotificationTypes.WARNING,D.NotificationIds.DELETE_NON_EMPTY_FOLDER_REQUESTED),s),module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants","../../../platform/utils/account":"./platform/utils/account","../../../platform/utils/folder":"./platform/utils/folder","../../../platform/utils/list":"./platform/utils/list","../../../reducers_selectors":"./reducers_selectors","../../mail":"./stores/mail"}],409:[function(require,module,exports){
"use strict";function E(E,S){return function i(_,A,M){M({type:E,messageId:S,data:_})}}exports.__esModule=!0;var S,i=require("../../../platform/react_action_constants"),_=require("../../../platform/mail_constants");exports.default=(S={},S[i.mail.MESSAGES_MARK_SPAM_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.MESSAGES_MARK_SPAM_SUCCEEDED),S[i.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.MESSAGES_MARK_SPAM_SUCCEEDED),S[i.mail.MESSAGES_MARK_SPAM_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.MESSAGES_MARK_SPAM_FAILED),S[i.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.MESSAGES_MARK_SPAM_FAILED),S[i.mail.MESSAGES_MARK_NOT_SPAM_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.MESSAGES_MARK_NOT_SPAM_SUCCEEDED),S[i.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.MESSAGES_MARK_NOT_SPAM_SUCCEEDED),S[i.mail.MESSAGES_MARK_NOT_SPAM_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.MESSAGES_MARK_NOT_SPAM_FAILED),S[i.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.MESSAGES_MARK_NOT_SPAM_FAILED),S[i.mail.MESSAGES_MOVE_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.MESSAGES_MOVE_SUCCEEDED),S[i.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.MESSAGES_MOVE_SUCCEEDED),S[i.mail.MESSAGES_MOVE_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.MESSAGES_MOVE_FAILED),S[i.mail.MESSAGES_MOVE_FROM_MESSAGE_VIEW_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.MESSAGES_MOVE_FAILED),S[i.mail.MESSAGES_ARCHIVE_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.ARCHIVE_MESSAGES_SUCCESS),S[i.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.ARCHIVE_MESSAGES_SUCCESS),S[i.mail.MESSAGES_ARCHIVE_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.ARCHIVE_MESSAGES_FAILURE),S[i.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.ARCHIVE_MESSAGES_FAILURE),S[i.mail.MESSAGES_RESTORE_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.RESTORE_INBOX_MESSAGES_SUCCESS),S[i.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.RESTORE_INBOX_MESSAGES_SUCCESS),S[i.mail.MESSAGES_RESTORE_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.RESTORE_INBOX_MESSAGES_FAILURE),S[i.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.RESTORE_INBOX_MESSAGES_FAILURE),S[i.mail.MESSAGES_DELETE_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.DELETE_MESSAGES_SUCCESS),S[i.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.DELETE_MESSAGES_SUCCESS),S[i.mail.MESSAGES_DELETE_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.DELETE_MESSAGES_FAILURE),S[i.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.DELETE_MESSAGES_FAILURE),S[i.mail.UNDO_MOVE_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.UNDO_MOVE_SUCCESS),S[i.mail.MOVE_QUERY_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.MOVE_QUERY_SUCCEEDED),S[i.mail.MARK_QUERY_SUCCEEDED]=E(_.NotificationTypes.NORMAL,_.NotificationIds.MARK_QUERY_SUCCEEDED),S[i.mail.UNDO_MOVE_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.UNDO_MOVE_FAILURE),S[i.mail.MORE_SEARCH_LIST_ITEMS_FAILED]=E(_.NotificationTypes.WARNING,_.NotificationIds.MORE_SEARCH_LIST_ITEMS_FAILED),S),module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],410:[function(require,module,exports){
"use strict";function t(t,i,e){if(t.online===!1)e({icon:s.Kinds.NO_INTERNET,type:o.NotificationTypes.WARNING,messageId:o.NotificationIds.OFFLINE,data:t,sticky:!0,requireInteraction:!0,priority:o.NotificationPriorities.HIGH});else{var r=this.get();r&&r.messageId===o.NotificationIds.OFFLINE&&this.remove()}}exports.__esModule=!0;var i,e=require("../../../platform/react_action_constants"),o=require("../../../platform/mail_constants"),s=require("../../../atoms/constants/fuji_icon");exports.default=(i={},i[e.mail.ONLINE_STATUS_CHANGED]=t,i),module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],411:[function(require,module,exports){
"use strict";function E(E,i,t){t({type:I.NotificationTypes.NORMAL,messageId:I.NotificationIds.SETTINGS_SAVE_FILTERS_SUCCEEDED})}function i(E,i,t){t({type:I.NotificationTypes.NORMAL,messageId:I.NotificationIds.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED})}function t(E,i,t){t({type:I.NotificationTypes.NORMAL,messageId:I.NotificationIds.RESEND_CONFIRM_EMAIL_SUCCEEDED})}function e(E,i,t){t({type:I.NotificationTypes,messageId:I.NotificationIds.RESEND_CONFIRM_EMAIL_FAILED})}function o(E,i,t){t({type:I.NotificationTypes.NORMAL,messageId:I.NotificationIds.REAUTH_ACCOUNT_SUCCEEDED})}function a(E,i,t){t({type:I.NotificationTypes.WARNING,messageId:I.NotificationIds.REAUTH_ACCOUNT_FAILED,data:{error:E.error,email:E.email,provider:E.provider}})}function s(E,i,t){var e=E.mailboxAttributes;if(e)return e.success?void 0:t({type:I.NotificationTypes.ADVISORY,icon:S.Kinds.ATTENTION,messageId:I.NotificationIds.USER_PREFERENCES_FAILED_TO_LOAD,data:E})}exports.__esModule=!0;var N,_=require("../../../platform/react_action_constants"),I=require("../../../platform/mail_constants"),S=require("../../../atoms/constants/fuji_icon"),n=function E(i,t,e){var o=i.name,a=void 0;switch(o){case I.Settings.VACATION_PREFERENCES:a=I.NotificationIds.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED;break;case I.Settings.MESSAGE_FILTERS:a=I.NotificationIds.SETTINGS_SAVE_FILTERS_SUCCEEDED}a&&e({type:I.NotificationTypes.NORMAL,messageId:a})};exports.default=(N={},N[_.mail.SETTINGS_SAVE_FILTERS_SUCCEEDED]=E,N[_.mail.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED]=i,N[_.mail.CONFIRM_EMAIL_RESEND_SUCCEEDED]=t,N[_.mail.CONFIRM_EMAIL_RESEND_FAILED]=e,N[_.mail.ACCOUNT_REAUTH_SUCCEEDED]=o,N[_.mail.ACCOUNT_REAUTH_FAILED]=a,N[_.mail.INITIAL_STATE]=s,N[_.mail.SETTINGS_CHANGE_SUCCEEDED]=n,N),module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],412:[function(require,module,exports){
"use strict";function t(t,e,E){E({icon:o.Kinds.CLOCK,type:s.NotificationTypes.ADVISORY,messageId:s.NotificationIds.TIMEZONE_CHANGE_REQUESTED,data:t,sticky:!0,requireInteraction:!0,modal:!0})}function e(){var t=this.get();t&&t.messageId===s.NotificationIds.TIMEZONE_CHANGE_REQUESTED&&this.remove()}function E(t){var E=t.route;E.name===s.RouteNames.SETTINGS&&E.params&&E.params.settingsGroupId===s.SettingsTab.VIEWING_EMAIL&&e.call(this)}exports.__esModule=!0;var a,i=require("../../../platform/react_action_constants"),s=require("../../../platform/mail_constants"),o=require("../../../atoms/constants/fuji_icon");exports.default=(a={},a[i.mail.TIMEZONE_CHANGE_DETECTED]=t,a[i.mail.OPEN_PAGE_REQUESTED]=E,a[i.mail.PREFERRED_TIMEZONE_CHANGE_REJECTED]=e,a),module.exports=exports.default;
},{"../../../atoms/constants/fuji_icon":"./atoms/constants/fuji_icon","../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],413:[function(require,module,exports){
"use strict";function t(t,i,o){o({type:a.NotificationTypes.NORMAL,messageId:a.NotificationIds.UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED,priority:2})}function i(t,i,o){o({type:a.NotificationTypes.NORMAL,messageId:a.NotificationIds.UNSUBSCRIBE_SINGLE_LIST_CLEANED,priority:2})}function o(t,i,o){o({type:a.NotificationTypes.NORMAL,messageId:a.NotificationIds.UNSUBSCRIBE_DIALOG_CLOSED,priority:2})}exports.__esModule=!0;var e,s=require("../../../platform/react_action_constants"),a=require("../../../platform/mail_constants");exports.default=(e={},e[s.mail.UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED]=t,e[s.mail.UNSUBSCRIBE_SINGLE_LIST_CLEANED]=i,e[s.mail.UNSUBSCRIBE_DIALOG_CLOSED]=o,e),module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/react_action_constants":"./platform/react_action_constants"}],414:[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var i=require("fluxible/addons/BaseStore"),o=e(i),a=require("../../platform/invariant"),s=e(a),u=require("./handlers/compose"),l=e(u),f=require("./handlers/exception"),c=e(f),d=require("./handlers/message"),h=e(d),p=require("./handlers/feature_cue"),_=e(p),m=require("./handlers/folder"),y=e(m),q=require("./handlers/timezone"),b=e(q),H=require("./handlers/offline"),T=e(H),w=require("./handlers/download"),g=e(w),O=require("./handlers/async"),v=e(O),x=require("../../platform/react_action_constants"),E=require("./handlers/settings"),C=e(E),I=require("./handlers/unsubscribe"),L=e(I),N=require("../../platform/mail_constants"),j={},S=function(e){function i(n){t(this,i);var o=r(this,e.call(this,n));return o._notification=null,o._timeout=null,o._defaultTTL=Number(n.getContext().config.notificationTTL),o}return n(i,e),i.prototype.get=function e(){return this._notification},i.prototype.remove=function e(){this._notification&&(this._notification=null,clearTimeout(this._timeout),this.emitChange())},i.prototype.set=function e(t){var r=this;if((0,s.default)(t.messageId,"`messageId` is a required field when setting a notification."),t.priority||(t.priority=N.NotificationPriorities.LOW),this._notification){if(t.priority<this._notification.priority)return;clearTimeout(this._timeout)}this._notification=t,this._defaultTTL>=0&&!t.requireInteraction&&(this._timeout=setTimeout(function(){return r.remove()},this._defaultTTL)),this.emitChange()},i.prototype._callHandler=function e(t,r){var n=this,i=j[r];if(!i)throw new Error("Handler for `"+r+"` is not a function");i.forEach(function(e){if("function"!=typeof e)throw new Error("Handler for `"+r+"` is not a function");e.call(n,t,r,n.set.bind(n))})},i.prototype.dehydrate=function e(){return{notification:this._notification}},i.prototype.rehydrate=function e(t){t&&t.notification&&this.set(t.notification)},i}(o.default);S.storeName="NotificationStore",S.handlers={},S.setHandlers=function(e){Object.keys(e).forEach(function(t){j[t]?j[t].push(e[t]):j[t]=[e[t]],S.handlers[t]="_callHandler"})},S.setHandlers(l.default),S.setHandlers(c.default),S.setHandlers(y.default),S.setHandlers(b.default),S.setHandlers(h.default),S.setHandlers(v.default),S.setHandlers(C.default),S.setHandlers(T.default),S.setHandlers(L.default),S.setHandlers(g.default),S.setHandlers(_.default),S.handlers[x.mail.NOTIFICATION_CLOSED]="remove",exports.default=S,module.exports=exports.default;
},{"../../platform/invariant":"./platform/invariant","../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","./handlers/async":403,"./handlers/compose":404,"./handlers/download":405,"./handlers/exception":406,"./handlers/feature_cue":407,"./handlers/folder":408,"./handlers/message":409,"./handlers/offline":410,"./handlers/settings":411,"./handlers/timezone":412,"./handlers/unsubscribe":413,"fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/pages/collections/multi_task":[function(require,module,exports){
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var e,i,o=require("../../../platform/utils/route"),a=require("../../../platform/mail_constants"),s=require("../../../platform/utils/list"),u=(e={},e[a.RouteNames.SEARCH]=!0,e),r=(i={},i[a.RouteNames.SETTINGS]=!0,i),n=function(){function e(i){t(this,e),this._defaultRoute=i,this._pageRoutes=[i],this._activeIdx=0,this._nextPage=null}return e.prototype.addInitialPageRoute=function t(e){this.addPage(this.createNextPage(e))},e.prototype.replaceInitialPageRoute=function t(e){this._pageRoutes.length=1,this._activeIdx=0,this.addInitialPageRoute(e)},e.prototype.addPage=function t(e){var i=e.route,o=e.replacePage;if(i.name===this._defaultRoute.name)this._pageRoutes[0]=i,this._activeIdx=0;else{var u=this._findRouteIndex(i);if(u>-1)this._activeIdx=u;else{if(r[i.name]){var n=this._findRouteIndexByName(i.name);if(n>-1)return this._pageRoutes[n]=i,void(this._activeIdx=n)}else{if(o)return void(this._pageRoutes[this._activeIdx]=i);if(i.name===a.RouteNames.SEARCH&&this._getActivePage().route.name===i.name){var h=(0,s.getListIdFromRoute)(i);if((0,s.getReferrerFromListId)(h)!==a.ListReferrer.SMARTVIEW)return void(this._pageRoutes[this._activeIdx]=i)}}this._pageRoutes[this._pageRoutes.length]=i,this._activeIdx=this._pageRoutes.length-1}}},e.prototype._findRouteIndex=function t(e){return this._pageRoutes.findIndex(function(t){return(0,o.routesEqual)(t,e)})},e.prototype._findRouteIndexByName=function t(e){return this._pageRoutes.findIndex(function(t){return t.name===e})},e.prototype.setActivePage=function t(e,i){e?this.addPage(e):this.addPage(this.createNextPage(i))},e.prototype.closeActivePage=function t(){return this._removeFromList(this._activeIdx)},e.prototype.createNextPage=function t(e,i){return{route:e,replacePage:i}},e.prototype.validatePages=function t(e){for(var i=null,o=this._pageRoutes.length-1;o>=0;o--)e(this._pageRoutes[o])||(i=this._removeFromList(o)||i);return i},e.prototype.closePage=function t(e){return this._removeFromList(this._findRouteIndex(e.route))},e.prototype.closeAllPages=function t(){this._pageRoutes.length=1,this.setActivePage(null,this._pageRoutes[0])},e.prototype._getActivePage=function t(){return{route:this._pageRoutes[this._activeIdx]}},e.prototype._findSearchRoute=function t(e,i){return this._findRouteIndex({name:a.RouteNames.SEARCH,params:{query:e},query:i})},e.prototype._removeFromListHelper=function t(e){if(0===e)return void this._pageRoutes.splice(e,1,this._defaultRoute);var i=this._pageRoutes[e],o=-1;this._activeIdx===e&&i.name===a.RouteNames.MESSAGE_FROM_SEARCH_LIST&&(o=this._findSearchRoute(i.params.query,i.query))!==-1&&(this._activeIdx=o),this._activeIdx===e?this._activeIdx=0:this._activeIdx<e||(this._activeIdx-=1),this._pageRoutes.splice(e,1)},e.prototype._removeFromList=function t(e){if(e<0)return null;var i=this._pageRoutes[this._activeIdx];return this._removeFromListHelper(e),(0,o.routesEqual)(i,this._pageRoutes[this._activeIdx])?null:this._getActivePage()},e.prototype.getDefaultRoute=function t(){return this._defaultRoute},e.prototype.pushPageToFront=function t(e){var i=e.route,o=this._findRouteIndex(i);this._removeFromList(o),u[i.name]&&i.name!==this._defaultRoute.name?(this._pageRoutes[this._pageRoutes.length]=i,this._activeIdx=this._pageRoutes.length-1):this.addPage(e)},e.prototype.getPageRoutes=function t(){return this._pageRoutes.slice(0)},e.prototype.rehydrate=function t(e){this._pageRoutes=e.pageRoutes,this._defaultRoute=e.defaultRoute,this._activeIdx=e.activeIdx},e.prototype.dehydrate=function t(){return{activeIdx:this._activeIdx,defaultRoute:this._defaultRoute,pageRoutes:this._pageRoutes}},e}();exports.default=n,module.exports=exports.default;
},{"../../../platform/mail_constants":"./platform/mail_constants","../../../platform/utils/list":"./platform/utils/list","../../../platform/utils/route":"./platform/utils/route"}],"./stores/pages/collections/single_task":[function(require,module,exports){
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var e="OPEN_PAGE_ACTION",a="CLOSE_PAGE_ACTION",i="REPLACE_PAGE_ACTION",o=function(){function o(e){t(this,o),this._defaultRoute=e,this._pageRoutes=[],this._activeIdx=-1}return o.prototype.getDefaultRoute=function t(){return this._defaultRoute},o.prototype.closeActivePage=function t(){if(this._activeIdx<1)return{route:this._defaultRoute,metadata:{idx:0,type:a}};var e=this._activeIdx-1;return{route:this._pageRoutes[e],metadata:{idx:e,type:a}}},o.prototype.createNextPage=function t(a){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{route:a,metadata:{idx:this._activeIdx+(o?0:1),type:o?i:e}}},o.prototype.addInitialPageRoute=function t(a){this.addPage({route:a,metadata:{idx:0,type:e}})},o.prototype.replaceInitialPageRoute=function t(e){this.addPage({route:e,metadata:{idx:0,type:i}})},o.prototype.addPage=function t(a){var o=a.route,u=a.metadata,s=u.type,d=u.idx;s===e?(this._activeIdx<this._pageRoutes.length-1&&this._pageRoutes.splice(this._activeIdx+1),this._pageRoutes.push(o)):s===i&&(a.metadata.type=e,this._pageRoutes.splice(this._activeIdx,1,o)),this._activeIdx=d},o.prototype.validatePages=function t(e){return e(this._pageRoutes[this._activeIdx])?null:this.closeActivePage()},o.prototype.setActivePage=function t(e){e?this._activeIdx=e.metadata.idx:this._activeIdx=0},o.prototype.getPageRoutes=function t(){return this._pageRoutes.slice()},o.prototype.dehydrate=function t(){return{pageRoutes:this._pageRoutes,activeIdx:this._activeIdx,defaultRoute:this._defaultRoute}},o.prototype.rehydrate=function t(e){this._pageRoutes=e.pageRoutes,this._activeIdx=e.activeIdx,this._defaultRoute=e.defaultRoute},o}();exports.default=o,module.exports=exports.default;
},{}],"./stores/pages":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=require("fluxible/addons/BaseStore"),u=e(s),l=require("fluxible-router"),d=require("../../platform/mail_constants"),g=require("../../platform/utils/route"),_=require("../../platform/react_action_constants"),c=require("../../platform/utils/list"),S=require("../../platform/invariant"),p=e(S),E=require("./collections/single_task"),R=e(E),f=require("./collections/multi_task"),h=e(f),m=require("../mail"),T=e(m),C=require("../user_preferences"),A=e(C),D=require("../application"),O=e(D),P=require("../../platform/logger"),v=e(P),L=require("../../platform/utils/generic"),N=require("../../reducers_selectors"),I=require("lodash/cloneDeep"),y=e(I),F=function(e){function a(o){t(this,a);var i=r(this,e.call(this,o));return i._nextPage=null,i._multiTaskPagesCollection=new h.default(d.MAIL_DEFAULT_ROUTE),i._singleTaskPagesCollection=new R.default(d.MAIL_DEFAULT_ROUTE),i._folderRouteSortOrder=d.SortOrder.DATE_DESC,i._routeStore=i.dispatcher.getStore(l.RouteStore),i._userPreferenceStore=i.dispatcher.getStore(A.default),i.loadingState=d.LoadingState.IDLE,i}return o(a,e),a.prototype._initialize=function e(t){var r=this,o=t.launchOverrideUrl,a=t.launchError,i=Object.assign({},this._routeStore.getCurrentRoute());if(o){if(this.launchOverrideUrl=o,a!==d.LaunchError.FOLDER_ACCESS_FAILED)return;i.url=o,i.params.fid=this.dispatcher.getStore(T.default).getDefaultFolderId()}if(i.name===d.RouteNames.NEW_DRAFT)return void(this.launchOverrideUrl=i.url);var n=(0,c.getSortOrderFromListId)((0,c.getListIdFromRoute)(i));i.name!==d.RouteNames.FOLDER&&i.name!==d.RouteNames.MESSAGE_FROM_FOLDER_LIST||!n||(this._folderRouteSortOrder=n),i.name===d.RouteNames.BASE&&this.dispatcher.waitFor(T.default,function(){r.launchOverrideUrl=r.getURL({name:d.RouteNames.FOLDER,params:{fid:r.dispatcher.getStore(T.default).getDefaultFolderId()},query:i.query})})},a.prototype._pageAdded=function e(t){var r=this,o=t.url,a=t.type,i=t.page;this.dispatcher.waitFor([l.RouteStore],function(){if(r._setNextPage(null),"pageload"===a)r._pagesCollection.replaceInitialPageRoute(r._routeStore.getRoute(o));else if("popstate"===a)r._pagesCollection.setActivePage(i,r._routeStore.getRoute(o));else if(r.dispatcher.getStore(O.default).hasSuccessfullyInitialized())r._pagesCollection.addPage(i);else{var e=r._routeStore.getRoute(o);r._multiTaskPagesCollection.addInitialPageRoute(e),r._singleTaskPagesCollection.addInitialPageRoute(e)}r.emitChange()})},a.prototype._openPageRequested=function e(t){var r=t.route,o=t.force,a=void 0!==o&&o,i=t.replacePage,n=t.reorderPage,s=void 0!==n&&n,u=t.closeAllTabs,l=void 0!==u&&u,g=t.refresh,_=void 0!==g&&g;if(s?((0,p.default)(this.isMultiTaskMode,"Cannot change page order in single task mode"),this._pagesCollection.pushPageToFront({route:r})):l&&this._pagesCollection.closeAllPages(),r.name===d.RouteNames.FOLDER){var S=(0,c.getListIdFromRoute)(r);r={name:d.RouteNames.FOLDER,params:{fid:(0,c.serializeListIdForFolderRoute)((0,c.recreateListId)(S,{sortOrder:this._folderRouteSortOrder}))},query:r.query}}this._setNextPage(this._pagesCollection.createNextPage(r,i),a),_?this.loadingState=d.LoadingState.START:this.loadingState=d.LoadingState.IDLE,this.emitChange()},a.prototype._changeMultiTaskMode=function e(t){var r=t.name,o=t.value;if(r===d.Settings.MAIL_TABS&&o){var a=this._routeStore.getCurrentRoute();this._pagesCollection.addPage({route:this._buildSettingsRoute()}),this._pagesCollection.addPage({route:a}),this.emitChange()}},a.prototype._buildSettingsRoute=function e(){var t=(0,y.default)(this._routeStore.getRoutes().settings),r="0";return t.name=d.RouteNames.SETTINGS,t.params={settingsGroupId:r},t.url="/d/settings/0",t},a.prototype.getNextPage=function e(){return this._nextPage},a.prototype.getDefaultRoute=function e(){return this._pagesCollection.getDefaultRoute()},a.prototype._getNextRouteFromCurrentRoute=function e(){var t=this._routeStore.getCurrentRoute(),r=this.dispatcher.getStore(T.default).getDefaultFolderId();if(2===this.getPageRoutes().length&&(t.name===d.RouteNames.MESSAGE_FROM_FOLDER_LIST||t.name===d.RouteNames.MESSAGE_FROM_SEARCH_LIST))return this._pagesCollection.closeActivePage(),{route:{name:d.RouteNames.FOLDER,params:{fid:r}}}},a.prototype.getNextPageOnClose=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.route,o=void 0;if(this.isMultiTaskMode&&r)o=this._getNextRouteFromCurrentRoute()||this._pagesCollection.closePage({route:r});else{if(!this.isMultiTaskMode&&r)throw new Error("Cannot close specific page in single task mode");o=this._pagesCollection.closeActivePage()}return r&&!o&&this.emitChange(),o},a.prototype._setNextPage=function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return void(this._nextPage=null);var o=this._addQueryParams(t);if(r||!(0,g.routesEqual)(this._routeStore.getCurrentRoute(),o.route)){if(this._nextPage){if((0,g.routesEqual)(this._nextPage.route,o.route))return;if(!this._routeStore._currentNavigate.isComplete)return void v.default.error("page_store/_setNextPage",{error:'Cannot open a new page before the previous "page open" operation was handled',action:"_nextpage"});throw new Error('Cannot open a new page before the previous "page open" operation was handled')}this._nextPage=o}},a.prototype._addQueryParams=function e(t){var r=this._routeStore.getCurrentRoute();if(r.query){var o=(0,g.filterQueryParams)(r);t.route.query=i({},o,t.route.query)}return t},a.prototype._sortOrderChangeRequested=function e(t){var r=t.sortOrder,o=this._routeStore.getCurrentRoute();o.name!==d.RouteNames.FOLDER&&o.name!==d.RouteNames.MESSAGE_FROM_FOLDER_LIST||!r||(this._folderRouteSortOrder=r)},a.prototype.getSortOrderForFolderRoute=function e(){return this._folderRouteSortOrder},a.prototype.getActivePageRoute=function e(){var t=this._routeStore.getCurrentRoute();return t.name===d.RouteNames.BASE?{name:d.RouteNames.FOLDER,params:{fid:this.dispatcher.getStore(T.default).getDefaultFolderId()},query:t.query}:t},a.prototype._openNewDraftRequested=function e(t){var r=t.csid;this._openPageRequested({route:{name:d.RouteNames.NEW_DRAFT,params:{csid:r}}})},a.prototype._openDraftRequested=function e(t){var r=this,o=t.csid;!t.conversationsMode&&this.dispatcher.waitFor([T.default],function(){r._openPageRequested({route:{name:d.RouteNames.NEW_DRAFT,params:{csid:o}}})})},a.prototype.getURL=function e(t){var r=t.name,o=t.params,a=t.query;return this._routeStore.makePath(r,o,a)},a.prototype._validatePages=function e(){var t=this,r=[].concat(Array.prototype.slice.call(arguments)).pop();this.loadingState===d.LoadingState.START&&(this.loadingState=d.LoadingState.FINISH),this.dispatcher.waitFor([T.default],function(){t._setNextPage(t._pagesCollection.validatePages(function(e){return t._isValidRoute(e,r)})),t.emitChange()})},a.prototype._replaceCurrentPageAndValidate=function e(t){var r=t.csid,o=this._pagesCollection,a=o._pageRoutes,i=o._defaultRoute,n=a.findIndex(function(e){var t=e.params;return t&&t.csid===r}),s=a[n-1],u=s&&s.url||this.getURL(i);window&&window.history&&window.history.replaceState(null,null,u),this._validatePages()},a.prototype._isValidRoute=function e(t,r){var o=this.dispatcher.getStore(T.default),a=(0,c.getListIdFromRoute)(t),i=(0,c.getFolderIdFromListId)(a),n=t.params,s=void 0===n?{}:n,u=s.csid,l=s.attachmentId,g=s.groupId,_="page_store/invalid_route",S=this._routeStore.getCurrentRoute();if(i&&!o.getFolder(decodeURIComponent(i)))return v.default.info(_,{reason:"FOLDER_NOT_PRESENT",action:r,routeURL:this.getURL(t)}),!1;if(t.name===d.RouteNames.EDIT_DRAFT||u){var p=decodeURIComponent(u);if(g){var E=decodeURIComponent(g);if(o.getMessageMetaRecordState(E)===d.RecordStates.DOES_NOT_EXIST)return v.default.info(_,{action:r,reason:"MESSAGE_ID_DOES_NOT_MATCH_DRAFT",routeURL:this.getURL(t)}),!1;p=o.getCsidByMessageId(E)}if(o.getComposeDataState(p)===d.RecordStates.ERROR)return!0;if(o.getComposeDataState(p)===d.RecordStates.DOES_NOT_EXIST||o.getComposeData(p)&&o.getDraftStatus(p)===d.Draft.Status.SENT)return v.default.info(_,{action:r,reason:"MESSAGE_NOT_PRESENT_FOR_DRAFT",routeURL:this.getURL(t)}),!1}else if(g){if(o.getMessageGroupState(g)===d.RecordStates.DOES_NOT_EXIST)return v.default.info(_,{action:r,reason:"GROUP_DOES_NOT_EXIST",routeURL:this.getURL(t)}),!1;var R=(0,c.getSortOrderFromListId)(a);if(R!==d.SortOrder.UNREAD&&R!==d.SortOrder.STARRED&&R!==d.SortOrder.SUBJECT&&t.name!==d.RouteNames.MESSAGE_FROM_SEARCH_LIST&&t.name!==d.RouteNames.ATTACHMENT&&(o.getRecordState(a)===d.RecordStates.LOADED||o.getRecordState(a)===d.RecordStates.REFRESHING)&&!o.isItemInList(a,g))return v.default.info(_,{action:r,reason:"GROUP_NOT_PRESENT_IN_LIST",routeURL:this.getURL(t)}),!1;if(t.name===d.RouteNames.ATTACHMENT){if("1"===t.query.fullscreen&&S.name!==d.RouteNames.ATTACHMENT)return!1;var f=o._getAttachmentIdsByMessageGroupId(g);if(f.indexOf(l)===-1)return!1}}return!0},a.prototype._resetRefreshSignal=function e(){this.loadingState=d.LoadingState.IDLE,this.emitChange()},a.prototype._loadingFailed=function e(){this.loadingState===d.LoadingState.START&&(this.loadingState=d.LoadingState.FINISH,this.emitChange())},a.prototype.getPageRoutes=function e(){var t=this;return this._pagesCollection.getPageRoutes().filter(function(e){return t._isValidRoute(e)})},a.prototype.dehydrate=function e(){return{launchOverrideUrl:this.launchOverrideUrl,pagesCollection:this._pagesCollection.dehydrate()}},a.prototype.rehydrate=function e(t){this._pagesCollection.rehydrate(t.pagesCollection)},n(a,[{key:"isMultiTaskMode",get:function e(){if((0,L.isBrowser)()&&window.context&&window.context.store){var t=window.context.store;return(0,(0,N.selectors)(t.getState()).getFeaturesSelectors)().isEnabled(d.Settings.MAIL_TABS)}return this._userPreferenceStore.getMultiTaskModeSetting()}},{key:"_pagesCollection",get:function e(){return this.isMultiTaskMode?this._multiTaskPagesCollection:this._singleTaskPagesCollection}},{key:"getLoadingState",get:function e(){return this.loadingState}}]),a}(u.default);F.storeName="PageStore",F.handlers=(a={},a[_.mail.SETTINGS_CHANGE_REQUESTED]="_changeMultiTaskMode",a[_.mail.OPEN_PAGE_REQUESTED]="_openPageRequested",a[_.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED]="_openDraftRequested",a[_.mail.LIST_SORT_ORDER_CHANGE_REQUESTED]="_sortOrderChangeRequested",a[_.mail.DELETE_DRAFT_REQUESTED]="_validatePages",a[_.mail.MESSAGES_DELETE_REQUESTED]="_validatePages",a[_.mail.MESSAGES_MOVE_REQUESTED]="_validatePages",a[_.mail.MESSAGES_MARK_SPAM_REQUESTED]="_validatePages",a[_.mail.MESSAGES_MARK_NOT_SPAM_REQUESTED]="_validatePages",a[_.mail.MESSAGES_ARCHIVE_REQUESTED]="_validatePages",a[_.mail.MESSAGES_RESTORE_REQUESTED]="_validatePages",a[_.mail.DELETE_FOLDER_SUCCEEDED]="_validatePages",a[_.mail.DELETE_DRAFT_REQUESTED]="_validatePages",a[_.mail.AUTO_CHECK_MAIL_RECEIVED]="_validatePages",a[_.mail.CHANGE_FOLDER_SUCCEEDED]="_validatePages",a[_.mail.SEND_SUCCESS]="_replaceCurrentPageAndValidate",a[_.mail.V3_MESSAGE_SEND_SUCCEEDED]="_replaceCurrentPageAndValidate",a[_.mail.INITIAL_STATE]="_initialize",a[_.mail.ONLINE_STATUE_CHANGED]="_loadingFailed",a[_.mail.APPLICATION_VISIBILITY_DID_CHANGE]="_resetRefreshSignal",a.NAVIGATE_START="_pageAdded",a),exports.default=F,module.exports=exports.default;
},{"../../platform/invariant":"./platform/invariant","../../platform/logger":"./platform/logger","../../platform/mail_constants":"./platform/mail_constants","../../platform/react_action_constants":"./platform/react_action_constants","../../platform/utils/generic":"./platform/utils/generic","../../platform/utils/list":"./platform/utils/list","../../platform/utils/route":"./platform/utils/route","../../reducers_selectors":"./reducers_selectors","../application":"./stores/application","../mail":"./stores/mail","../user_preferences":"./stores/user_preferences","./collections/multi_task":"./stores/pages/collections/multi_task","./collections/single_task":"./stores/pages/collections/single_task","fluxible-router":"./node_modules/fluxible-router/index.js","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js","lodash/cloneDeep":"./node_modules/lodash/cloneDeep.js"}],415:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var _,S=require("../platform/react_action_constants"),a=require("fluxible/addons/BaseStore"),i=t(a),s=function(t){function _(r){e(this,_);var S=E(this,t.call(this,r));return S.payload={},S.action="",S.startTimer=0,S}return r(_,t),_.prototype.getData=function t(){return{action:this.action,payload:this.payload,startTimer:this.startTimer}},_.prototype._handleEndTimes=function t(e,E){this.payload=e,this.action=E,this.emitChange()},_.prototype._setStartTimer=function t(e,E){var r=e.perfHeader,_=void 0===r?{}:r;this.action=E,this.payload=e,this.startTimer=_.requestStart?_.requestStart:Date.now()},_.prototype._resetStartTimer=function t(e,E){this.action=E,this.payload=e,this.startTimer=0},_}(i.default);s.storeName="RumStore",s.handlers=(_={},_[S.mail.OPEN_PAGE_REQUESTED]="_setStartTimer",_[S.mail.SEND]="_setStartTimer",_[S.mail.PREVIEW_MESSAGE_REQUESTED]="_setStartTimer",_[S.mail.MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED]="_setStartTimer",_[S.mail.V3_PREVIEW_MESSAGE_REQUESTED]="_setStartTimer",_[S.mail.V3_MESSAGES_FROM_MESSAGE_LIST_CURSOR_MOVED]="_setStartTimer",_[S.mail.MESSAGE_BODIES_OPEN_GROUP_RECEIVED]="_handleEndTimes",_[S.mail.MESSAGE_BODIES_RECEIVED]="_handleEndTimes",_[S.mail.COMPOSE_OPENED]="_handleEndTimes",_[S.mail.SEND_SUCCESS]="_handleEndTimes",_[S.mail.CLOSE_PAGE_REQUESTED]="_resetStartTimer",_[S.mail.AUTO_CHECK_MAIL_REQUESTED]="_resetStartTimer",_[S.mail.MESSAGES_DELETE_FROM_MESSAGE_VIEW_REQUESTED]="_resetStartTimer",_[S.mail.APPLICATION_VISIBILITY_DID_CHANGE]="_resetStartTimer",_[S.mail.MESSAGE_LIST_TOOLBAR_MENU_SHOWN]="_resetStartTimer",_[S.mail.MESSAGES_ARCHIVE_FROM_MESSAGE_VIEW_REQUESTED]="_resetStartTimer",_[S.mail.MESSAGES_RESTORE_FROM_MESSAGE_VIEW_REQUESTED]="_resetStartTimer",_[S.mail.MESSAGES_MARK_NOT_SPAM_FROM_MESSAGE_VIEW_REQUESTED]="_resetStartTimer",_[S.mail.MESSAGES_MARK_SPAM_FROM_MESSAGE_VIEW_REQUESTED]="_resetStartTimer",_[S.mail.MESSAGE_CARD_EXPANSION_CHANGED]="_resetStartTimer",_[S.mail.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED]="_resetStartTimer",_[S.mail.WINDOW_RESIZED]="_resetStartTimer",_[S.mail.SETTINGS_MENU_REQUESTED]="_resetStartTimer",_[S.mail.ITEM_LIST_PAGE_SCROLLED]="_resetStartTimer",_[S.mail.MESSAGES_DELETE_REQUESTED]="_resetStartTimer",_[S.mail.PREVIEW_MESSAGE_CLOSED]="_resetStartTimer",_[S.mail.SEARCH_LIST_ITEMS_RECEIVED]="_resetStartTimer",_[S.mail.MORE_SEARCH_LIST_ITEMS_REQUESTED]="_resetStartTimer",_[S.mail.SEARCH_LIST_ITEMS_BLOCK_RECEIVED]="_handleEndTimes",_.NAVIGATE_SUCCESS="_handleEndTimes",_),exports.default=s,module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/suggestions":[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var r,s=require("../platform/react_action_constants"),i=require("fluxible/addons/BaseStore"),a=t(i),u=function(t){function r(n){e(this,r);var s=o(this,t.call(this,n));return s.suggestions={},s.importantContacts=[],s}return n(r,t),r.prototype.setSuggestions=function t(e){var o=e.query,n=e.suggestions;this.suggestions[o]=n,this.emitChange()},r.prototype.getSuggestions=function t(){return this.suggestions},r.prototype.setImportantContacts=function t(e){var o=e.contacts;this.importantContacts=o,this.emitChange()},r.prototype.getImportantContacts=function t(){return this.importantContacts},r}(a.default);u.storeName="SuggestionStore",u.handlers=(r={},r[s.mail.SUGGESTIONS_RECEIVED]="setSuggestions",r[s.mail.IMPORTANT_CONTACTS_FETCH_SUCCEEDED]="setImportantContacts",r),exports.default=u,module.exports=exports.default;
},{"../platform/react_action_constants":"./platform/react_action_constants","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./stores/user_preferences":[function(require,module,exports){
"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var r,n=require("../platform/react_action_constants"),o=require("../platform/mail_constants"),E=require("fluxible/addons/BaseStore"),a=e(E),_=Object.keys(o.MailboxAttributes).reduce(function(e,t){return["PREVIEW_PANE","THEME","THEME_MODE","MAIL_TABS","EXPANDED_FOLDERS","SHOW_CUSTOM_FOLDERS","HIDE_AD","SNIPPETS","MSG_LIST_DENSITY","DESKTOP_NOTIFICATION","LINK_ENHANCER","VACATION_PREFERENCES","MESSAGE_FILTERS","MAILBOX_SIZE","COMPOSE_FONT_FAMILY","COMPOSE_FONT_SIZE","STATIONERY_DEFAULT_THEME","ACTION_AFTER_MSG_MOVE","BLOCK_IMAGES","DELIVERY_BLOCKED_SENDERS","DEA_BASE_NAME","UNSUBSCRIBE_NOTIFICATION","UNSUBSCRIBE_TIMESTAMP","NUM_UNSUBSCRIBED_ITEMS","RECENTLY_USED_EMOJIS"].indexOf(t)>-1&&(e[t]=o.MailboxAttributes[t]),e},{}),S=_.PREVIEW_PANE,u=_.THEME,c=_.THEME_MODE,l=_.MAIL_TABS,A=_.EXPANDED_FOLDERS,T=_.SHOW_CUSTOM_FOLDERS,m=_.HIDE_AD,I=_.SNIPPETS,p=_.MSG_LIST_DENSITY,f=_.DESKTOP_NOTIFICATION,h=_.LINK_ENHANCER,N=_.VACATION_PREFERENCES,M=_.MESSAGE_FILTERS,D=_.MAILBOX_SIZE,O=_.COMPOSE_FONT_FAMILY,C=_.COMPOSE_FONT_SIZE,g=_.STATIONERY_DEFAULT_THEME,d=_.ACTION_AFTER_MSG_MOVE,b=_.BLOCK_IMAGES,R=_.DELIVERY_BLOCKED_SENDERS,F=_.DEA_BASE_NAME,L=_.UNSUBSCRIBE_NOTIFICATION,y=_.UNSUBSCRIBE_TIMESTAMP,U=_.NUM_UNSUBSCRIBED_ITEMS,v=_.RECENTLY_USED_EMOJIS,P=function(e){function r(s){var n;t(this,r);var E=i(this,e.call(this,s)),a=E.dispatcher.getContext().config,_=a.multiTask,P=a.messageListDensity,B=a.previewpane,x=a.theme,w=a.themeMode,G=a.conversations,H=a.browserNotifications,k=a.linkEnhancer;return E._preferences={name:{first:"",last:""}},E._mailboxes=[],E._sortOrder=o.SortOrder.DATE_DESC,E._conversations=G,E._userMetaData={},E._userSettings=(n={},n[M]=[],n[A]=[],n[N]={},n[D]=0,n[I]=!0,n[S]=B,n[u]=x,n[c]=w,n[l]=_,n[p]=P,n[f]=H,n[h]=k,n[O]="Helvetica Neue",n[C]="3",n[T]=!0,n[m]=!1,n[g]="",n[d]=o.ActionAfterMessageMove.GO_BACK_TO_FOLDER,n[b]=o.ShowImageSettings.NEVER,n[R]=[],n[F]={},n[L]=!0,n[y]=0,n[U]=0,n[v]=[],n),E._socialAccountStatus={},E._baseNameSuggestions=[],E._newAccount=null,E._accountSyncFailed=!1,E}return s(r,e),r.prototype.initializeStore=function e(t){var i=t.mailboxes,s=t.mailboxAttributes,r=t.userPreferences,n=t.userMetaData,o=this.getContext().config,E=o.previewpane,a=o.multiTask,_=o.linkEnhancer;i&&(this._mailboxes=i),r&&(this._preferences=r),n&&(this._userMetaData=n),s&&s.responses?this.setMailboxAttributes(s.responses):(this._userSettings[l]=a,this._userSettings[S]=parseInt(E,10),this._userSettings[h]=_),this.emitChange()},r.prototype.setMailboxAttributes=function e(t){var i=this;Object.keys(_).forEach(function(e){var s=_[e];if(void 0!==t[s]){var r=i._getQueryStringOverrideForSetting(s);void 0!==r?i._userSettings[s]=r:(i._userSettings[s]=i._getValueForSetting(e,t),s===f&&(i._userSettings[s]=!!i._userSettings[s]))}}),this.emitChange()},r.prototype._getQueryStringOverrideForSetting=function e(t){var i,s=this.getContext().queryStringOverrides,r=s.previewpane,n=s.multiTask,o=s.messageListDensity,E=s.linkEnhancer;return(i={},i[S]=r,i[l]=n,i[p]=o,i[h]=E,i)[t]},r.prototype._getValueForSetting=function e(t,i){var s=_[t],r=i[s];return Object.keys(o.MailboxWebAttributes).indexOf(t)>-1?r=r.value:s===M?r=r.filters:s===R&&(r=r.senders),r},r.prototype.getAll=function e(){return{mailboxes:this._mailboxes,preferences:this._preferences}},r.prototype.getMailboxes=function e(){return this._mailboxes.filter(function(e){return e.isSelected})},r.prototype.getPreferences=function e(){return this._preferences},r.prototype.getSortOrder=function e(){return this._sortOrder},r.prototype.setSocialAccountStatus=function e(t){t&&(this._socialAccountStatus=t,this.emitChange())},r.prototype.getShowImageSetting=function e(){return this._userSettings[b]},r.prototype.setShowImageSetting=function e(t){var i=t.value;this._userSettings[b]=i,this.emitChange()},r.prototype.getBrowserNotificationSetting=function e(){return this._userSettings[f]},r.prototype.setBrowserNotificationSetting=function e(t){var i=t.value;this._userSettings[f]=!!i,this.emitChange()},r.prototype.getMultiTaskModeSetting=function e(){return this._userSettings[l]},r.prototype.setMultiTaskModeSetting=function e(t){var i=t.value;this._userSettings[l]=i,this.emitChange()},r.prototype.setShowCustomFoldersSetting=function e(t){var i=t.value;this._userSettings[T]=i,this.emitChange()},r.prototype.getMailboxSize=function e(){return this._userSettings[D]},r.prototype.getConversationSetting=function e(){return this._conversations},r.prototype.dehydrate=function e(){var t=this._userSettings;return{mailboxes:this._mailboxes,multiTaskMode:t[l],preferences:this._preferences,previewPane:t[S],theme:t[u],themeMode:t[c],snippets:t[I],messageListDensity:t[p],mailboxSize:t[D],filters:t[M],expandedFolders:t[A],showCustomFolders:t[T],hideAd:t[m],vacationPreferences:t[N],stationeryDefaultTheme:t[g],browserNotifications:t[f],linkEnhancer:t[h],composeFontFamily:t[O],composeFontSize:t[C],actionAfterMsgMove:t[d],userMetaData:this._userMetaData,socialAccountStatus:this._socialAccountStatus,blockImages:t[b],blockedSenders:t[R],showUnsubscribeNotification:t[L],unsubscribeTimestamp:t[y],numUnsubscribedItems:t[U],recentlyUsedEmojis:t[v]}},r.prototype.rehydrate=function e(t){var i;this._mailboxes=t.mailboxes,this._preferences=t.preferences,this._userMetaData=t.userMetaData,this._socialAccountStatus=t.socialAccountStatus,this._userSettings=(i={},i[l]=t.multiTaskMode,i[S]=t.previewPane,i[u]=t.theme,i[c]=t.themeMode,i[p]=t.messageListDensity,i[I]=t.snippets,i[D]=t.mailboxSize,i[M]=t.filters,i[A]=t.expandedFolders,i[T]=t.showCustomFolders,i[m]=t.hideAd,i[N]=t.vacationPreferences,i[f]=t.browserNotifications,i[h]=t.linkEnhancer,i[O]=t.composeFontFamily,i[C]=t.composeFontSize,i[g]=t.stationeryDefaultTheme,i[d]=t.actionAfterMsgMove,i[b]=t.blockImages,i[R]=t.blockedSenders,i[L]=t.showUnsubscribeNotification,i[y]=t.unsubscribeTimestamp,i[U]=t.numUnsubscribedItems,i[v]=t.recentlyUsedEmojis,i)},r.prototype._emit=function e(){this.emitChange()},r}(a.default);P.storeName="UserPreferencesStore",P.handlers=(r={},r[n.mail.INITIAL_STATE]="initializeStore",r[n.mail.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED]="setMailboxAttributes",r[n.mail.MULTI_TASKING_PREF_CHANGE_REQUESTED]="setMultiTaskModeSetting",r[n.mail.EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED]="setExpandedFoldersSetting",r[n.mail.SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED]="setShowCustomFoldersSetting",r[n.mail.SNIPPETS_PREF_CHANGE_REQUESTED]="setSnippetsSetting",r[n.mail.BROWSER_NOTIFICATIONS_PREF_CHANGE_REQUESTED]="setBrowserNotificationSetting",r[n.mail.LINK_ENHANCER_CHANGE_REQUESTED]="setLinkEnhancerSetting",r[n.mail.SETTINGS_CHANGE_REQUESTED]="_emit",r[n.mail.SETTINGS_CHANGE_SUCCEEDED]="_emit",r[n.mail.SETTINGS_CHANGE_FAILED]="_emit",r[n.mail.ALIAS_EMAIL_CREATE_REQUESTED]="_emit",r[n.mail.ALIAS_EMAIL_CREATE_SUCCEEDED]="_emit",r[n.mail.ALIAS_EMAIL_CREATE_FAILED]="_emit",r[n.mail.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED]="_emit",r[n.mail.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED]="_emit",r[n.mail.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED]="_emit",r[n.mail.ACCOUNT_ADD_SUCCEEDED]="_emit",r[n.mail.ACCOUNT_ADD_FINISHED]="_emit",r[n.mail.ACCOUNT_ADD_FAILED]="_emit",r),exports.default=P,module.exports=exports.default;
},{"../platform/mail_constants":"./platform/mail_constants","../platform/react_action_constants":"./platform/react_action_constants","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],416:[function(require,module,exports){
"use strict";function t(t){return t&&t.__esModule?t:{default:t}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=require("../platform/react_action_constants"),r=require("fluxible/addons/BaseStore"),i=t(r),a=function(t){function s(n){e(this,s);var r=o(this,t.call(this,n));return r.isXobnified=!1,r.currentToken=null,r.suggestions={},r.preloadedContacts={},r}return n(s,t),s.prototype.setIsXobnified=function t(e){var o=e.isXobnified;this.isXobnified=o,this.emitChange()},s.prototype.getIsXobnified=function t(){return this.isXobnified},s.prototype.setSuggestions=function t(e){if(e.token===this.currentToken){var o=e.data,n=e.csid;this.suggestions[n]=o.contacts,this.emitChange()}},s.prototype.clearSuggestionsForGroup=function t(e){var o=e.csid;this.suggestions[o]=[],this.emitChange()},s.prototype.setPreloadedContacts=function t(e){var o=e.contacts;this.preloadedContacts=o},s.prototype.setToken=function t(e){this.currentToken=e.token},s.prototype.getSuggestions=function t(){return this.suggestions},s}(i.default);a.storeName="XobniStore",a.handlers={},a.handlers[s.mail.IMPORTANT_CONTACTS_PRELOADED]="setPreloadedContacts",a.handlers[s.mail.CONTACT_ADDED]="clearSuggestionsForGroup",a.handlers[s.mail.CLEARED_SUGGESTIONS]="clearSuggestionsForGroup",a.handlers[s.mail.XOBNIFIED_RESPONDED]="setIsXobnified",a.handlers[s.mail.SEARCH_CONTACT_SUCCEEDED]="setSuggestions",a.handlers[s.mail.SEARCH_CONTACT_BEGAN]="setToken",module.exports=a;
},{"../platform/react_action_constants":"./platform/react_action_constants","fluxible/addons/BaseStore":"./node_modules/fluxible/addons/BaseStore.js"}],"./types":[function(require,module,exports){
"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r.default=e,r}exports.__esModule=!0,exports.EmojiType=exports.LinkEnhancerDomainStylesType=exports.LinkEnhancerClientType=exports.PlayerConfigType=exports.TweetType=exports.StringType=exports.LocationType=exports.CredstoreClientType=exports.YQLClientType=exports.ToolbarActionsType=exports.BulkTask=exports.BrowserNotificationType=exports.AttachmentErrorType=exports.NotificationDescriptor=exports.XobniContact=exports.LocaleShape=exports.LoaderType=exports.VacationResponseType=exports.DomainSpecificResponseType=exports.FilterType=exports.FilterCriterionType=exports.FilterActionType=exports.FilterFolderActionTypes=exports.DocumentType=exports.DocumentPageType=exports.DarlaAdCallResultType=exports.DarlaAdResultType=exports.AdType=exports.SubscriptionType=exports.SubscriptionStatusType=exports.SubscriptionPlanType=exports.NativeAdType=exports.PencilAdType=exports.PeopleSuggestionType=exports.SpaceIdType=exports.AccountType=exports.SenderType=exports.ImageType=exports.MessageGroupType=exports.MessageType=exports.HeadersType=exports.PageType=exports.RouteType=exports.BodyType=exports.HtmlAnnotationType=exports.GroupedFoldersType=exports.FolderType2=exports.SuggestionsByHeaderType=exports.AccountsType=exports.FolderNodeListType=exports.FolderNodeType=exports.FolderType=exports.FlagsType2=exports.AttachmentType=exports.ContactType=exports.UserType=exports.AddressType=exports.TimezoneType=exports.arrayOf=exports.oneOf=exports.shape=exports.any=exports.object=exports.array=exports.bool=exports.number=exports.string=void 0;var r=require("react"),s=require("../platform/mail_constants"),i=e(s),t=require("../platform/utils/object"),o=r.PropTypes.string,p=r.PropTypes.number,a=r.PropTypes.bool,d=r.PropTypes.array,n=r.PropTypes.object,u=r.PropTypes.any,y=r.PropTypes.shape,l=r.PropTypes.oneOf,c=r.PropTypes.oneOfType,T=r.PropTypes.arrayOf,x=r.PropTypes.func;exports.string=o,exports.number=p,exports.bool=a,exports.array=d,exports.object=n,exports.any=u,exports.shape=y,exports.oneOf=l,exports.arrayOf=T;var R=exports.TimezoneType=y({name:o.isRequired,lastObservedTimezone:y({client:o,server:o}),location:y({city:o,state:o,country:o}),geoLocation:y({city:o,state:o,country:o}),longName:o,formattedOffset:o,currentOffset:p}),q=exports.AddressType=y({name:o,email:o}),m=exports.UserType=y({first:o.isRequired,last:o.isRequired}),g=exports.ContactType=y({id:o,name:o,email:o,iataCode:o}),f=exports.AttachmentType=y({virus:o,filename:o,size:p,partId:o,mimeType:o,type:l((0,t.values)(i.Attachments.Types)),messageReference:y({mid:o,pid:o}),disposition:o,downloadUrl:o,thumbnailUrl:o,contentId:o,dataId:o}),A=exports.FlagsType2=y({isSpam:a,isRead:a,isFlagged:a}),P=exports.FolderType=y({id:o.isRequired,name:o.isRequired,isSystem:a.isRequired,types:T(o).isRequired}),b=exports.FolderNodeType=y({folder:P.isRequired,children:T(n).isRequired}),h=exports.FolderNodeListType=T(b),S=exports.AccountsType=y({default:d.isRequired}),v=exports.SuggestionsByHeaderType=y({to:d,cc:d,bcc:d}),F=exports.FolderType2=y({id:o.isRequired,accountId:o.isRequired,name:o.isRequired,isSystem:a,types:T(o).isRequired,total:p,unread:p}),D=exports.GroupedFoldersType=y({systemFolders:d.isRequired,customFolders:d.isRequired}),I=exports.HtmlAnnotationType=y({divIds:T(o).isRequired,classId:o}),C=exports.BodyType=y({html:o,text:o,htmlAnnotations:T(I),attachments:T(f),bidi:T(o)}),k=exports.RouteType=y({name:o.isRequired,params:n,query:n}),L=exports.PageType=y({route:k.isRequired,metadata:n}),O=exports.HeadersType=y({subject:o,cc:T(q).isRequired,bcc:T(q).isRequired,to:T(q).isRequired,from:T(q).isRequired,date:p.isRequired}),N=exports.MessageType=y({id:o.isRequired,folder:F.isRequired,flags:y({flagged:a,read:a}).isRequired,headers:O.isRequired,snippet:o.isRequired,attachments:T(f).isRequired,body:C,verifiedDomains:r.PropTypes.array.isRequired,composeProps:r.PropTypes.object}),B=exports.MessageGroupType=y({id:o.isRequired,messages:T(N).isRequired}),j=exports.ImageType=y({url:o,width:p,height:p}),w=exports.SenderType=y({name:o,email:o.isRequired,recent:a.isRequired}),M=exports.AccountType=y({id:o.isRequired,isPrimary:a.isRequired,email:o.isRequired,accountVerified:a.isRequired,sendingName:o,status:l((0,t.values)(i.AccountStatus)).isRequired,type:l((0,t.values)(i.AccountTypes)).isRequired,serverUri:o,signature:o,signatureActive:a,secondaryAccounts:d,replyToAddress:o}),E=exports.SpaceIdType=c([p,o]),U=exports.PeopleSuggestionType=y({type:r.PropTypes.oneOf((0,t.values)(i.SuggestionType)),serviceId:r.PropTypes.string,name:r.PropTypes.string,emailIds:r.PropTypes.arrayOf(r.PropTypes.string)}),_=exports.PencilAdType=y({adHeadline:o.isRequired,adSummary:o.isRequired,adImg:o.isRequired,adSource:o.isRequired,clickUrl:o.isRequired,type:o.isRequired,creativeId:o,beacon:o,impressionTrackingUrls:d}),H=exports.NativeAdType=y({contentType:o.isRequired,url:o.isRequired,usageType:o.isRequired}),z=exports.SubscriptionPlanType=y({billingCountry:o,currency:o,frequency:o,isDefault:a,nextBillingDate:o,startDate:o,planId:o,fullPrice:n,pricePostTax:p}),G=exports.SubscriptionStatusType=y({nextBillingDate:o.isRequired,orderExternalId:o,piId:o,planId:o,startDate:o,status:o.isRequired,unitPrice:p}),V=exports.SubscriptionType=y({subscriptionPlan:z,subscriptionStatus:G}),Q=exports.AdType=y({creativeId:o.isRequired,pencilAd:_,nativeAd:H}),X=exports.DarlaAdResultType=y({position:o.isRequired,bookId:p.isRequired}),Y=exports.DarlaAdCallResultType=y({spaceId:o.isRequired,positions:T(X).isRequired}),J=exports.DocumentPageType=y({content:n,state:l((0,t.values)(i.RecordStates))}),K=exports.DocumentType=y({pages:J.isRequired,numPages:p.isRequired,height:p.isRequired,width:p.isRequired,exceptions:n.isRequired,sheets:n.isRequired}),W=exports.FilterFolderActionTypes=y({folderActionValueBean:y({folder:y({name:o.isRequired})}).isRequired}),Z=exports.FilterActionType=y({type:l((0,t.values)(i.FilterActionTypes)),value:W}),$=exports.FilterCriterionType=y({field:l((0,t.values)(i.FilterFieldTypes)),operator:l((0,t.values)(i.FilterOperatorTypes)),matchCase:a,value:o.isRequired}),ee=exports.FilterType=y({index:p.isRequired,name:o.isRequired,matchType:l((0,t.values)(i.FilterMatchTypes)),actions:T(Z).isRequired,criterions:T($).isRequired}),re=exports.DomainSpecificResponseType=y({domains:T(o).isRequired,domainMessageBody:o.isRequired}),se=exports.VacationResponseType=y({enabled:a.isRequired,startDate:p,endDate:p,messageBody:o,domainSpecificResponse:re}),ie=exports.LoaderType=y({loadModule:x.isRequired}),te=exports.LocaleShape=y({firstDay:p,name:o,utcName:o}),oe=exports.XobniContact=y({id:o.isRequired,xobniId:o,categories:d,emails:T(o).isRequired,name:o,phone:o,position:o,company:o,flickr:o,facebook:o,twitter:o,linkedIn:o}),pe=exports.NotificationDescriptor=y({requireInteraction:a,sticky:a,modal:a,icon:o,type:l((0,t.values)(i.NotificationTypes))}),ae=exports.AttachmentErrorType=y({code:p,isRetryable:a}),de=exports.BrowserNotificationType=y({title:o.isRequired,options:y({body:o.isRequired,icon:o.isRequired,lang:o.isRequired,tag:o.isRequired,timestamp:p.isRequired}).isRequired,onClick:x}),ne=exports.BulkTask=y({id:o,status:l((0,t.values)(i.BulkTaskStatus)).isRequired,progress:p.isRequired,expires:p}),ue=exports.ToolbarActionsType=y({spam:a,ham:a,move:a,archive:a,restore:a,delete:a,permDelete:a,raf:a}),ye=exports.YQLClientType=y({request:x}),le=exports.CredstoreClientType=y({getAuthorizationURL:x}),ce=exports.LocationType=y({city:o,state:o,country:o,timezone:y({name:o.isRequired,longName:o,currentOffset:o,offsetPositive:a}).isRequired}),Te=exports.StringType=y({id:o,defaultMessage:o,description:o}),xe=exports.TweetType=y({id:p.isRequired,name:o.isRequired,text:o.isRequired,imgUrl:o.isRequired,handle:o.isRequired,creationTime:r.PropTypes.instanceOf(Date).isRequired}),Re=exports.PlayerConfigType=y({playlist:n.isRequired}),qe=exports.LinkEnhancerClientType=y({get:x}),me=exports.LinkEnhancerDomainStylesType=y({domainLogo:o.isRequired,domainColor:o.isRequired}),ge=exports.EmojiType=y({unicode:o.isRequired,unicode_alt:o.isRequired,code_decimal:o.isRequired,name:o.isRequired,shortname:o.isRequired,category:o.isRequired,emoji_order:o.isRequired,aliases:d.isRequired,aliases_ascii:d.isRequired,keywords:d.isRequired});
},{"../platform/mail_constants":"./platform/mail_constants","../platform/utils/object":"./platform/utils/object","react":"./node_modules/react/react.js"}],"./vendor/through/browser":[function(require,module,exports){
function e(e,u,n){function r(){for(;s.length&&!d.paused;){var e=s.shift();if(null===e)return d.emit("end");d.emit("data",e)}}function i(){d.writable=!1,u.call(d),!d.readable&&d.autoDestroy&&d.destroy()}e=e||function(e){this.queue(e)},u=u||function(){this.queue(null)};var a=!1,o=!1,s=[],l=!1,d=new t;return d.readable=d.writable=!0,d.paused=!1,d.autoDestroy=!(n&&n.autoDestroy===!1),d.write=function(t){return e.call(this,t),!d.paused},d.queue=d.push=function(e){return l?d:(null===e&&(l=!0),s.push(e),r(),d)},d.on("end",function(){d.readable=!1,!d.writable&&d.autoDestroy&&setTimeout(function(){d.destroy()})}),d.end=function(e){if(!a)return a=!0,arguments.length&&d.write(e),i(),d},d.destroy=function(){if(!o)return o=!0,a=!0,s.length=0,d.writable=d.readable=!1,d.emit("close"),d},d.pause=function(){if(!d.paused)return d.paused=!0,d},d.resume=function(){return d.paused&&(d.paused=!1,d.emit("resume")),r(),d.paused||d.emit("drain"),d},d}var t=require("./stream");exports=module.exports=e,e.through=e;
},{"./stream":"./vendor/through/stream"}],"./vendor/through/stream":[function(require,module,exports){
function o(){e.call(this)}var e=require("jvent");o.prototype=new e,module.exports=o,o.Stream=o,o.prototype.pipe=function(o,e){function n(e){o.writable&&!1===o.write(e)&&a.pause&&a.pause()}function r(){a.readable&&a.resume&&a.resume()}function t(){d||(d=!0,o.end())}function f(){d||(d=!0,"function"==typeof o.destroy&&o.destroy())}function i(o){s();var e=this.listeners("error");if(!e||!e.length)throw o}function s(){a.off("data",n),o.off("drain",r),a.off("end",t),a.off("close",f),a.off("error",i),o.off("error",i),a.off("end",s),a.off("close",s),o.off("end",s),o.off("close",s)}var a=this;a.on("data",n),o.on("drain",r),o._isStdio||e&&e.end===!1||(a.on("end",t),a.on("close",f));var d=!1;return a.on("error",i),o.on("error",i),a.on("end",s),a.on("close",s),o.on("end",s),o.on("close",s),o.emit("pipe",a),o};
},{"jvent":"./node_modules/jvent/index.js"}]},{},[76]);
